---
title: 【upload-lab靶场】文件上传
comments: true
categories:
  - 靶场练习
  - 其他靶场
tags:
  - upload-lab靶场
  - 文件上传
abbrlink: c42c29bc
date: 2025-05-13 17:42:47
description:
top:
---

OK，打这个靶场的目的首先是学习学习，其次是看看我目前的能力。那些简单的，几下就过的就直接省略写了，后边能学到东西的再详细写一下。

## Pass-01

很简单，把php文件后缀改成jpg，在burpsuite再改回来就可以了。

## Pass-02

跟上题一样

## Pass-03

- 后端黑名单机制，别改回php，改成php5。
- 另外随机化了文件名称，访问的时候注意。
- 难度上升的还挺快，后端php代码不执行，~~上传配置文件~~
- 后端自动添加随机化前缀，上传配置文件是不行的。

这一关怎么回事，后边的都比这个容易，网上的跟我遇到的也不一样。先留着看看了。

## Pass-04

这个是修改.htaccess文件

## Pass-05

额..上传后缀jpg的php文件，访问直接执行php代码了。删了.htaccess文件重来。
jpg上传成功，php上传失败，随便后缀上传成功，因此后端黑名单防护。
大小写绕过成功
用于我docker镜像的系统是Linux所以不会执行，网上很多windows系统是直接执行的。

## Pass-06

道理一样，jpg上传成功，php上传失败，随便后缀上传成功，因此后端黑名单防护。做了一些尝试，最后`1.php .`上传成功。Linux无法访问

## Pass-07

唉又是黑名单。上传`1.php.`直接上传了。Linux不执行

## Pass-08

又是黑名单。`::$DATA`绕过，因为是linux依然不执行。

## Pass-09

哎呀又是黑名单。`1.php. .`成功绕过，但是生成`1.php.`，Linux不执行

## Pass-10

又是。黑名单删除，上传`1.pphphp`成功绕过，可执行

## Pass-11

终于不是黑名单了。随机化文件名，只能传符合要求的后缀。网上说是%00截断。但是这里的php版本已经更新了？

![image-20250514140155533](【upload-lab靶场】文件上传/image-20250514140155533.png)

php版本要小于5.3.4，5.3.4及以上已经修复该问题；并且magic_quotes_gpc需要为OFF状

![image-20250519105248225](【upload-lab靶场】文件上传/image-20250519105248225.png)



## Pass-12

这关跟上提的差别就是把GET方法传的save_path改成了用POST方法传。要把%00截断符改成十六进制截断符。









